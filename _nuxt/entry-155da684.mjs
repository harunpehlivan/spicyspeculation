function So(p,c){const i=Object.create(null),d=p.split(",");for(let t=0;t<d.length;t++)i[d[t]]=!0;return c?t=>!!i[t.toLowerCase()]:t=>!!i[t]}const Wd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hd=So(Wd);function J0(p){return!!p||p===""}function Fr(p){if(dt(p)){const c={};for(let i=0;i<p.length;i++){const d=p[i],t=Gt(d)?Zd(d):Fr(d);if(t)for(const e in t)c[e]=t[e]}return c}else{if(Gt(p))return p;if(Bt(p))return p}}const $d=/;(?![^(]*\))/g,Kd=/:(.+)/;function Zd(p){const c={};return p.split($d).forEach(i=>{if(i){const d=i.split(Kd);d.length>1&&(c[d[0].trim()]=d[1].trim())}}),c}function Ir(p){let c="";if(Gt(p))c=p;else if(dt(p))for(let i=0;i<p.length;i++){const d=Ir(p[i]);d&&(c+=d+" ")}else if(Bt(p))for(const i in p)p[i]&&(c+=i+" ");return c.trim()}function Jd(p){if(!p)return null;let{class:c,style:i}=p;return c&&!Gt(c)&&(p.class=Ir(c)),i&&(p.style=Fr(i)),p}function jd(p,c){if(p.length!==c.length)return!1;let i=!0;for(let d=0;i&&d<p.length;d++)i=Dr(p[d],c[d]);return i}function Dr(p,c){if(p===c)return!0;let i=pl(p),d=pl(c);if(i||d)return i&&d?p.getTime()===c.getTime():!1;if(i=Qn(p),d=Qn(c),i||d)return p===c;if(i=dt(p),d=dt(c),i||d)return i&&d?jd(p,c):!1;if(i=Bt(p),d=Bt(c),i||d){if(!i||!d)return!1;const t=Object.keys(p).length,e=Object.keys(c).length;if(t!==e)return!1;for(const l in p){const s=p.hasOwnProperty(l),r=c.hasOwnProperty(l);if(s&&!r||!s&&r||!Dr(p[l],c[l]))return!1}}return String(p)===String(c)}function Qd(p,c){return p.findIndex(i=>Dr(i,c))}const Di=p=>Gt(p)?p:p==null?"":dt(p)||Bt(p)&&(p.toString===k0||!pt(p.toString))?JSON.stringify(p,j0,2):String(p),j0=(p,c)=>c&&c.__v_isRef?j0(p,c.value):ji(c)?{[`Map(${c.size})`]:[...c.entries()].reduce((i,[d,t])=>(i[`${d} =>`]=t,i),{})}:wr(c)?{[`Set(${c.size})`]:[...c.values()]}:Bt(c)&&!dt(c)&&!q0(c)?String(c):c,Pt={},Ji=[],Le=()=>{},kd=()=>!1,qd=/^on[^a-z]/,vs=p=>qd.test(p),Eo=p=>p.startsWith("onUpdate:"),Qt=Object.assign,Co=(p,c)=>{const i=p.indexOf(c);i>-1&&p.splice(i,1)},_d=Object.prototype.hasOwnProperty,Tt=(p,c)=>_d.call(p,c),dt=Array.isArray,ji=p=>ps(p)==="[object Map]",wr=p=>ps(p)==="[object Set]",pl=p=>ps(p)==="[object Date]",pt=p=>typeof p=="function",Gt=p=>typeof p=="string",Qn=p=>typeof p=="symbol",Bt=p=>p!==null&&typeof p=="object",Q0=p=>Bt(p)&&pt(p.then)&&pt(p.catch),k0=Object.prototype.toString,ps=p=>k0.call(p),tc=p=>ps(p).slice(8,-1),q0=p=>ps(p)==="[object Object]",Ao=p=>Gt(p)&&p!=="NaN"&&p[0]!=="-"&&""+parseInt(p,10)===p,Bn=So(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Br=p=>{const c=Object.create(null);return i=>c[i]||(c[i]=p(i))},ec=/-(\w)/g,Ue=Br(p=>p.replace(ec,(c,i)=>i?i.toUpperCase():"")),ic=/\B([A-Z])/g,un=Br(p=>p.replace(ic,"-$1").toLowerCase()),br=Br(p=>p.charAt(0).toUpperCase()+p.slice(1)),sa=Br(p=>p?`on${br(p)}`:""),kn=(p,c)=>!Object.is(p,c),Qi=(p,c)=>{for(let i=0;i<p.length;i++)p[i](c)},ar=(p,c,i)=>{Object.defineProperty(p,c,{configurable:!0,enumerable:!1,value:i})},nn=p=>{const c=parseFloat(p);return isNaN(c)?p:c};let gl;const nc=()=>gl||(gl=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Fe;class sc{constructor(c=!1){this.active=!0,this.effects=[],this.cleanups=[],!c&&Fe&&(this.parent=Fe,this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}run(c){if(this.active){const i=Fe;try{return Fe=this,c()}finally{Fe=i}}}on(){Fe=this}off(){Fe=this.parent}stop(c){if(this.active){let i,d;for(i=0,d=this.effects.length;i<d;i++)this.effects[i].stop();for(i=0,d=this.cleanups.length;i<d;i++)this.cleanups[i]();if(this.scopes)for(i=0,d=this.scopes.length;i<d;i++)this.scopes[i].stop(!0);if(this.parent&&!c){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function rc(p,c=Fe){c&&c.active&&c.effects.push(p)}const Po=p=>{const c=new Set(p);return c.w=0,c.n=0,c},_0=p=>(p.w&vi)>0,tu=p=>(p.n&vi)>0,ac=({deps:p})=>{if(p.length)for(let c=0;c<p.length;c++)p[c].w|=vi},oc=p=>{const{deps:c}=p;if(c.length){let i=0;for(let d=0;d<c.length;d++){const t=c[d];_0(t)&&!tu(t)?t.delete(p):c[i++]=t,t.w&=~vi,t.n&=~vi}c.length=i}},ba=new WeakMap;let Rn=0,vi=1;const Na=30;let Me;const wi=Symbol(""),Ga=Symbol("");class Mo{constructor(c,i=null,d){this.fn=c,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,rc(this,d)}run(){if(!this.active)return this.fn();let c=Me,i=fi;for(;c;){if(c===this)return;c=c.parent}try{return this.parent=Me,Me=this,fi=!0,vi=1<<++Rn,Rn<=Na?ac(this):ml(this),this.fn()}finally{Rn<=Na&&oc(this),vi=1<<--Rn,Me=this.parent,fi=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Me===this?this.deferStop=!0:this.active&&(ml(this),this.onStop&&this.onStop(),this.active=!1)}}function ml(p){const{deps:c}=p;if(c.length){for(let i=0;i<c.length;i++)c[i].delete(p);c.length=0}}let fi=!0;const eu=[];function fn(){eu.push(fi),fi=!1}function dn(){const p=eu.pop();fi=p===void 0?!0:p}function he(p,c,i){if(fi&&Me){let d=ba.get(p);d||ba.set(p,d=new Map);let t=d.get(i);t||d.set(i,t=Po()),iu(t)}}function iu(p,c){let i=!1;Rn<=Na?tu(p)||(p.n|=vi,i=!_0(p)):i=!p.has(Me),i&&(p.add(Me),Me.deps.push(p))}function Ze(p,c,i,d,t,e){const l=ba.get(p);if(!l)return;let s=[];if(c==="clear")s=[...l.values()];else if(i==="length"&&dt(p))l.forEach((r,a)=>{(a==="length"||a>=d)&&s.push(r)});else switch(i!==void 0&&s.push(l.get(i)),c){case"add":dt(p)?Ao(i)&&s.push(l.get("length")):(s.push(l.get(wi)),ji(p)&&s.push(l.get(Ga)));break;case"delete":dt(p)||(s.push(l.get(wi)),ji(p)&&s.push(l.get(Ga)));break;case"set":ji(p)&&s.push(l.get(wi));break}if(s.length===1)s[0]&&za(s[0]);else{const r=[];for(const a of s)a&&r.push(...a);za(Po(r))}}function za(p,c){const i=dt(p)?p:[...p];for(const d of i)d.computed&&xl(d);for(const d of i)d.computed||xl(d)}function xl(p,c){(p!==Me||p.allowRecurse)&&(p.scheduler?p.scheduler():p.run())}const lc=So("__proto__,__v_isRef,__isVue"),nu=new Set(Object.getOwnPropertyNames(Symbol).filter(p=>p!=="arguments"&&p!=="caller").map(p=>Symbol[p]).filter(Qn)),hc=Ro(),uc=Ro(!1,!0),fc=Ro(!0),yl=dc();function dc(){const p={};return["includes","indexOf","lastIndexOf"].forEach(c=>{p[c]=function(...i){const d=Et(this);for(let e=0,l=this.length;e<l;e++)he(d,"get",e+"");const t=d[c](...i);return t===-1||t===!1?d[c](...i.map(Et)):t}}),["push","pop","shift","unshift","splice"].forEach(c=>{p[c]=function(...i){fn();const d=Et(this)[c].apply(this,i);return dn(),d}}),p}function Ro(p=!1,c=!1){return function(d,t,e){if(t==="__v_isReactive")return!p;if(t==="__v_isReadonly")return p;if(t==="__v_isShallow")return c;if(t==="__v_raw"&&e===(p?c?Lc:lu:c?ou:au).get(d))return d;const l=dt(d);if(!p&&l&&Tt(yl,t))return Reflect.get(yl,t,e);const s=Reflect.get(d,t,e);return(Qn(t)?nu.has(t):lc(t))||(p||he(d,"get",t),c)?s:Yt(s)?l&&Ao(t)?s:s.value:Bt(s)?p?hu(s):Ne(s):s}}const cc=su(),vc=su(!0);function su(p=!1){return function(i,d,t,e){let l=i[d];if(qn(l)&&Yt(l)&&!Yt(t))return!1;if(!p&&!qn(t)&&(Ua(t)||(t=Et(t),l=Et(l)),!dt(i)&&Yt(l)&&!Yt(t)))return l.value=t,!0;const s=dt(i)&&Ao(d)?Number(d)<i.length:Tt(i,d),r=Reflect.set(i,d,t,e);return i===Et(e)&&(s?kn(t,l)&&Ze(i,"set",d,t):Ze(i,"add",d,t)),r}}function pc(p,c){const i=Tt(p,c);p[c];const d=Reflect.deleteProperty(p,c);return d&&i&&Ze(p,"delete",c,void 0),d}function gc(p,c){const i=Reflect.has(p,c);return(!Qn(c)||!nu.has(c))&&he(p,"has",c),i}function mc(p){return he(p,"iterate",dt(p)?"length":wi),Reflect.ownKeys(p)}const ru={get:hc,set:cc,deleteProperty:pc,has:gc,ownKeys:mc},xc={get:fc,set(p,c){return!0},deleteProperty(p,c){return!0}},yc=Qt({},ru,{get:uc,set:vc}),Lo=p=>p,Nr=p=>Reflect.getPrototypeOf(p);function Ds(p,c,i=!1,d=!1){p=p.__v_raw;const t=Et(p),e=Et(c);i||(c!==e&&he(t,"get",c),he(t,"get",e));const{has:l}=Nr(t),s=d?Lo:i?Do:_n;if(l.call(t,c))return s(p.get(c));if(l.call(t,e))return s(p.get(e));p!==t&&p.get(c)}function ws(p,c=!1){const i=this.__v_raw,d=Et(i),t=Et(p);return c||(p!==t&&he(d,"has",p),he(d,"has",t)),p===t?i.has(p):i.has(p)||i.has(t)}function Bs(p,c=!1){return p=p.__v_raw,!c&&he(Et(p),"iterate",wi),Reflect.get(p,"size",p)}function Tl(p){p=Et(p);const c=Et(this);return Nr(c).has.call(c,p)||(c.add(p),Ze(c,"add",p,p)),this}function Sl(p,c){c=Et(c);const i=Et(this),{has:d,get:t}=Nr(i);let e=d.call(i,p);e||(p=Et(p),e=d.call(i,p));const l=t.call(i,p);return i.set(p,c),e?kn(c,l)&&Ze(i,"set",p,c):Ze(i,"add",p,c),this}function El(p){const c=Et(this),{has:i,get:d}=Nr(c);let t=i.call(c,p);t||(p=Et(p),t=i.call(c,p)),d&&d.call(c,p);const e=c.delete(p);return t&&Ze(c,"delete",p,void 0),e}function Cl(){const p=Et(this),c=p.size!==0,i=p.clear();return c&&Ze(p,"clear",void 0,void 0),i}function bs(p,c){return function(d,t){const e=this,l=e.__v_raw,s=Et(l),r=c?Lo:p?Do:_n;return!p&&he(s,"iterate",wi),l.forEach((a,o)=>d.call(t,r(a),r(o),e))}}function Ns(p,c,i){return function(...d){const t=this.__v_raw,e=Et(t),l=ji(e),s=p==="entries"||p===Symbol.iterator&&l,r=p==="keys"&&l,a=t[p](...d),o=i?Lo:c?Do:_n;return!c&&he(e,"iterate",r?Ga:wi),{next(){const{value:n,done:u}=a.next();return u?{value:n,done:u}:{value:s?[o(n[0]),o(n[1])]:o(n),done:u}},[Symbol.iterator](){return this}}}}function qe(p){return function(...c){return p==="delete"?!1:this}}function Tc(){const p={get(e){return Ds(this,e)},get size(){return Bs(this)},has:ws,add:Tl,set:Sl,delete:El,clear:Cl,forEach:bs(!1,!1)},c={get(e){return Ds(this,e,!1,!0)},get size(){return Bs(this)},has:ws,add:Tl,set:Sl,delete:El,clear:Cl,forEach:bs(!1,!0)},i={get(e){return Ds(this,e,!0)},get size(){return Bs(this,!0)},has(e){return ws.call(this,e,!0)},add:qe("add"),set:qe("set"),delete:qe("delete"),clear:qe("clear"),forEach:bs(!0,!1)},d={get(e){return Ds(this,e,!0,!0)},get size(){return Bs(this,!0)},has(e){return ws.call(this,e,!0)},add:qe("add"),set:qe("set"),delete:qe("delete"),clear:qe("clear"),forEach:bs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(e=>{p[e]=Ns(e,!1,!1),i[e]=Ns(e,!0,!1),c[e]=Ns(e,!1,!0),d[e]=Ns(e,!0,!0)}),[p,i,c,d]}const[Sc,Ec,Cc,Ac]=Tc();function Oo(p,c){const i=c?p?Ac:Cc:p?Ec:Sc;return(d,t,e)=>t==="__v_isReactive"?!p:t==="__v_isReadonly"?p:t==="__v_raw"?d:Reflect.get(Tt(i,t)&&t in d?i:d,t,e)}const Pc={get:Oo(!1,!1)},Mc={get:Oo(!1,!0)},Rc={get:Oo(!0,!1)},au=new WeakMap,ou=new WeakMap,lu=new WeakMap,Lc=new WeakMap;function Oc(p){switch(p){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fc(p){return p.__v_skip||!Object.isExtensible(p)?0:Oc(tc(p))}function Ne(p){return qn(p)?p:Fo(p,!1,ru,Pc,au)}function Ic(p){return Fo(p,!1,yc,Mc,ou)}function hu(p){return Fo(p,!0,xc,Rc,lu)}function Fo(p,c,i,d,t){if(!Bt(p)||p.__v_raw&&!(c&&p.__v_isReactive))return p;const e=t.get(p);if(e)return e;const l=Fc(p);if(l===0)return p;const s=new Proxy(p,l===2?d:i);return t.set(p,s),s}function ki(p){return qn(p)?ki(p.__v_raw):!!(p&&p.__v_isReactive)}function qn(p){return!!(p&&p.__v_isReadonly)}function Ua(p){return!!(p&&p.__v_isShallow)}function uu(p){return ki(p)||qn(p)}function Et(p){const c=p&&p.__v_raw;return c?Et(c):p}function Io(p){return ar(p,"__v_skip",!0),p}const _n=p=>Bt(p)?Ne(p):p,Do=p=>Bt(p)?hu(p):p;function fu(p){fi&&Me&&(p=Et(p),iu(p.dep||(p.dep=Po())))}function du(p,c){p=Et(p),p.dep&&za(p.dep)}function Yt(p){return!!(p&&p.__v_isRef===!0)}function Va(p){return cu(p,!1)}function Ya(p){return cu(p,!0)}function cu(p,c){return Yt(p)?p:new Dc(p,c)}class Dc{constructor(c,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?c:Et(c),this._value=i?c:_n(c)}get value(){return fu(this),this._value}set value(c){c=this.__v_isShallow?c:Et(c),kn(c,this._rawValue)&&(this._rawValue=c,this._value=this.__v_isShallow?c:_n(c),du(this))}}function bn(p){return Yt(p)?p.value:p}const wc={get:(p,c,i)=>bn(Reflect.get(p,c,i)),set:(p,c,i,d)=>{const t=p[c];return Yt(t)&&!Yt(i)?(t.value=i,!0):Reflect.set(p,c,i,d)}};function vu(p){return ki(p)?p:new Proxy(p,wc)}class Bc{constructor(c,i,d){this._object=c,this._key=i,this._defaultValue=d,this.__v_isRef=!0}get value(){const c=this._object[this._key];return c===void 0?this._defaultValue:c}set value(c){this._object[this._key]=c}}function bc(p,c,i){const d=p[c];return Yt(d)?d:new Bc(p,c,i)}class Nc{constructor(c,i,d,t){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Mo(c,()=>{this._dirty||(this._dirty=!0,du(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!t,this.__v_isReadonly=d}get value(){const c=Et(this);return fu(c),(c._dirty||!c._cacheable)&&(c._dirty=!1,c._value=c.effect.run()),c._value}set value(c){this._setter(c)}}function Gc(p,c,i=!1){let d,t;const e=pt(p);return e?(d=p,t=Le):(d=p.get,t=p.set),new Nc(d,t,e||!t,i)}function di(p,c,i,d){let t;try{t=d?p(...d):p()}catch(e){gs(e,c,i)}return t}function Ee(p,c,i,d){if(pt(p)){const e=di(p,c,i,d);return e&&Q0(e)&&e.catch(l=>{gs(l,c,i)}),e}const t=[];for(let e=0;e<p.length;e++)t.push(Ee(p[e],c,i,d));return t}function gs(p,c,i,d=!0){const t=c?c.vnode:null;if(c){let e=c.parent;const l=c.proxy,s=i;for(;e;){const a=e.ec;if(a){for(let o=0;o<a.length;o++)if(a[o](p,l,s)===!1)return}e=e.parent}const r=c.appContext.config.errorHandler;if(r){di(r,null,10,[p,l,s]);return}}zc(p,i,t,d)}function zc(p,c,i,d=!0){console.error(p)}let or=!1,Xa=!1;const le=[];let We=0;const Nn=[];let Ln=null,Hi=0;const Gn=[];let ri=null,$i=0;const pu=Promise.resolve();let wo=null,Wa=null;function Bo(p){const c=wo||pu;return p?c.then(this?p.bind(this):p):c}function Uc(p){let c=We+1,i=le.length;for(;c<i;){const d=c+i>>>1;ts(le[d])<p?c=d+1:i=d}return c}function gu(p){(!le.length||!le.includes(p,or&&p.allowRecurse?We+1:We))&&p!==Wa&&(p.id==null?le.push(p):le.splice(Uc(p.id),0,p),mu())}function mu(){!or&&!Xa&&(Xa=!0,wo=pu.then(Tu))}function Vc(p){const c=le.indexOf(p);c>We&&le.splice(c,1)}function xu(p,c,i,d){dt(p)?i.push(...p):(!c||!c.includes(p,p.allowRecurse?d+1:d))&&i.push(p),mu()}function Yc(p){xu(p,Ln,Nn,Hi)}function yu(p){xu(p,ri,Gn,$i)}function Gr(p,c=null){if(Nn.length){for(Wa=c,Ln=[...new Set(Nn)],Nn.length=0,Hi=0;Hi<Ln.length;Hi++)Ln[Hi]();Ln=null,Hi=0,Wa=null,Gr(p,c)}}function lr(p){if(Gr(),Gn.length){const c=[...new Set(Gn)];if(Gn.length=0,ri){ri.push(...c);return}for(ri=c,ri.sort((i,d)=>ts(i)-ts(d)),$i=0;$i<ri.length;$i++)ri[$i]();ri=null,$i=0}}const ts=p=>p.id==null?1/0:p.id;function Tu(p){Xa=!1,or=!0,Gr(p),le.sort((i,d)=>ts(i)-ts(d));const c=Le;try{for(We=0;We<le.length;We++){const i=le[We];i&&i.active!==!1&&di(i,null,14)}}finally{We=0,le.length=0,lr(),or=!1,wo=null,(le.length||Nn.length||Gn.length)&&Tu(p)}}function Xc(p,c,...i){if(p.isUnmounted)return;const d=p.vnode.props||Pt;let t=i;const e=c.startsWith("update:"),l=e&&c.slice(7);if(l&&l in d){const o=`${l==="modelValue"?"model":l}Modifiers`,{number:n,trim:u}=d[o]||Pt;u&&(t=i.map(h=>h.trim())),n&&(t=i.map(nn))}let s,r=d[s=sa(c)]||d[s=sa(Ue(c))];!r&&e&&(r=d[s=sa(un(c))]),r&&Ee(r,p,6,t);const a=d[s+"Once"];if(a){if(!p.emitted)p.emitted={};else if(p.emitted[s])return;p.emitted[s]=!0,Ee(a,p,6,t)}}function Su(p,c,i=!1){const d=c.emitsCache,t=d.get(p);if(t!==void 0)return t;const e=p.emits;let l={},s=!1;if(!pt(p)){const r=a=>{const o=Su(a,c,!0);o&&(s=!0,Qt(l,o))};!i&&c.mixins.length&&c.mixins.forEach(r),p.extends&&r(p.extends),p.mixins&&p.mixins.forEach(r)}return!e&&!s?(d.set(p,null),null):(dt(e)?e.forEach(r=>l[r]=null):Qt(l,e),d.set(p,l),l)}function zr(p,c){return!p||!vs(c)?!1:(c=c.slice(2).replace(/Once$/,""),Tt(p,c[0].toLowerCase()+c.slice(1))||Tt(p,un(c))||Tt(p,c))}let ye=null,Ur=null;function hr(p){const c=ye;return ye=p,Ur=p&&p.type.__scopeId||null,c}function bo(p){Ur=p}function No(){Ur=null}function Go(p,c=ye,i){if(!c||p._n)return p;const d=(...t)=>{d._d&&Nl(-1);const e=hr(c),l=p(...t);return hr(e),d._d&&Nl(1),l};return d._n=!0,d._c=!0,d._d=!0,d}function ra(p){const{type:c,vnode:i,proxy:d,withProxy:t,props:e,propsOptions:[l],slots:s,attrs:r,emit:a,render:o,renderCache:n,data:u,setupState:h,ctx:f,inheritAttrs:v}=p;let m,g;const x=hr(p);try{if(i.shapeFlag&4){const T=t||d;m=me(o.call(T,T,n,e,h,u,f)),g=r}else{const T=c;m=me(T.length>1?T(e,{attrs:r,slots:s,emit:a}):T(e,null)),g=c.props?r:Hc(r)}}catch(T){Vn.length=0,gs(T,p,1),m=Xt(re)}let y=m;if(g&&v!==!1){const T=Object.keys(g),{shapeFlag:S}=y;T.length&&S&7&&(l&&T.some(Eo)&&(g=$c(g,l)),y=Je(y,g))}return i.dirs&&(y=Je(y),y.dirs=y.dirs?y.dirs.concat(i.dirs):i.dirs),i.transition&&(y.transition=i.transition),m=y,hr(x),m}function Wc(p){let c;for(let i=0;i<p.length;i++){const d=p[i];if(ns(d)){if(d.type!==re||d.children==="v-if"){if(c)return;c=d}}else return}return c}const Hc=p=>{let c;for(const i in p)(i==="class"||i==="style"||vs(i))&&((c||(c={}))[i]=p[i]);return c},$c=(p,c)=>{const i={};for(const d in p)(!Eo(d)||!(d.slice(9)in c))&&(i[d]=p[d]);return i};function Kc(p,c,i){const{props:d,children:t,component:e}=p,{props:l,children:s,patchFlag:r}=c,a=e.emitsOptions;if(c.dirs||c.transition)return!0;if(i&&r>=0){if(r&1024)return!0;if(r&16)return d?Al(d,l,a):!!l;if(r&8){const o=c.dynamicProps;for(let n=0;n<o.length;n++){const u=o[n];if(l[u]!==d[u]&&!zr(a,u))return!0}}}else return(t||s)&&(!s||!s.$stable)?!0:d===l?!1:d?l?Al(d,l,a):!0:!!l;return!1}function Al(p,c,i){const d=Object.keys(c);if(d.length!==Object.keys(p).length)return!0;for(let t=0;t<d.length;t++){const e=d[t];if(c[e]!==p[e]&&!zr(i,e))return!0}return!1}function zo({vnode:p,parent:c},i){for(;c&&c.subTree===p;)(p=c.vnode).el=i,c=c.parent}const Eu=p=>p.__isSuspense,Zc={name:"Suspense",__isSuspense:!0,process(p,c,i,d,t,e,l,s,r,a){p==null?Jc(c,i,d,t,e,l,s,r,a):jc(p,c,i,d,t,l,s,r,a)},hydrate:Qc,create:Uo,normalize:kc},Cu=Zc;function es(p,c){const i=p.props&&p.props[c];pt(i)&&i()}function Jc(p,c,i,d,t,e,l,s,r){const{p:a,o:{createElement:o}}=r,n=o("div"),u=p.suspense=Uo(p,t,d,c,n,i,e,l,s,r);a(null,u.pendingBranch=p.ssContent,n,null,d,u,e,l),u.deps>0?(es(p,"onPending"),es(p,"onFallback"),a(null,p.ssFallback,c,i,d,null,e,l),qi(u,p.ssFallback)):u.resolve()}function jc(p,c,i,d,t,e,l,s,{p:r,um:a,o:{createElement:o}}){const n=c.suspense=p.suspense;n.vnode=c,c.el=p.el;const u=c.ssContent,h=c.ssFallback,{activeBranch:f,pendingBranch:v,isInFallback:m,isHydrating:g}=n;if(v)n.pendingBranch=u,Be(u,v)?(r(v,u,n.hiddenContainer,null,t,n,e,l,s),n.deps<=0?n.resolve():m&&(r(f,h,i,d,t,null,e,l,s),qi(n,h))):(n.pendingId++,g?(n.isHydrating=!1,n.activeBranch=v):a(v,t,n),n.deps=0,n.effects.length=0,n.hiddenContainer=o("div"),m?(r(null,u,n.hiddenContainer,null,t,n,e,l,s),n.deps<=0?n.resolve():(r(f,h,i,d,t,null,e,l,s),qi(n,h))):f&&Be(u,f)?(r(f,u,i,d,t,n,e,l,s),n.resolve(!0)):(r(null,u,n.hiddenContainer,null,t,n,e,l,s),n.deps<=0&&n.resolve()));else if(f&&Be(u,f))r(f,u,i,d,t,n,e,l,s),qi(n,u);else if(es(c,"onPending"),n.pendingBranch=u,n.pendingId++,r(null,u,n.hiddenContainer,null,t,n,e,l,s),n.deps<=0)n.resolve();else{const{timeout:x,pendingId:y}=n;x>0?setTimeout(()=>{n.pendingId===y&&n.fallback(h)},x):x===0&&n.fallback(h)}}function Uo(p,c,i,d,t,e,l,s,r,a,o=!1){const{p:n,m:u,um:h,n:f,o:{parentNode:v,remove:m}}=a,g=nn(p.props&&p.props.timeout),x={vnode:p,parent:c,parentComponent:i,isSVG:l,container:d,hiddenContainer:t,anchor:e,deps:0,pendingId:0,timeout:typeof g=="number"?g:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:o,isUnmounted:!1,effects:[],resolve(y=!1){const{vnode:T,activeBranch:S,pendingBranch:E,pendingId:C,effects:A,parentComponent:P,container:R}=x;if(x.isHydrating)x.isHydrating=!1;else if(!y){const O=S&&E.transition&&E.transition.mode==="out-in";O&&(S.transition.afterLeave=()=>{C===x.pendingId&&u(E,R,I,0)});let{anchor:I}=x;S&&(I=f(S),h(S,P,x,!0)),O||u(E,R,I,0)}qi(x,E),x.pendingBranch=null,x.isInFallback=!1;let M=x.parent,L=!1;for(;M;){if(M.pendingBranch){M.effects.push(...A),L=!0;break}M=M.parent}L||yu(A),x.effects=[],es(T,"onResolve")},fallback(y){if(!x.pendingBranch)return;const{vnode:T,activeBranch:S,parentComponent:E,container:C,isSVG:A}=x;es(T,"onFallback");const P=f(S),R=()=>{!x.isInFallback||(n(null,y,C,P,E,null,A,s,r),qi(x,y))},M=y.transition&&y.transition.mode==="out-in";M&&(S.transition.afterLeave=R),x.isInFallback=!0,h(S,E,null,!0),M||R()},move(y,T,S){x.activeBranch&&u(x.activeBranch,y,T,S),x.container=y},next(){return x.activeBranch&&f(x.activeBranch)},registerDep(y,T){const S=!!x.pendingBranch;S&&x.deps++;const E=y.vnode.el;y.asyncDep.catch(C=>{gs(C,y,0)}).then(C=>{if(y.isUnmounted||x.isUnmounted||x.pendingId!==y.suspenseId)return;y.asyncResolved=!0;const{vnode:A}=y;Qa(y,C,!1),E&&(A.el=E);const P=!E&&y.subTree.el;T(y,A,v(E||y.subTree.el),E?null:f(y.subTree),x,l,r),P&&m(P),zo(y,A.el),S&&--x.deps===0&&x.resolve()})},unmount(y,T){x.isUnmounted=!0,x.activeBranch&&h(x.activeBranch,i,y,T),x.pendingBranch&&h(x.pendingBranch,i,y,T)}};return x}function Qc(p,c,i,d,t,e,l,s,r){const a=c.suspense=Uo(c,d,i,p.parentNode,document.createElement("div"),null,t,e,l,s,!0),o=r(p,a.pendingBranch=c.ssContent,i,a,e,l);return a.deps===0&&a.resolve(),o}function kc(p){const{shapeFlag:c,children:i}=p,d=c&32;p.ssContent=Pl(d?i.default:i),p.ssFallback=d?Pl(i.fallback):Xt(re)}function Pl(p){let c;if(pt(p)){const i=sn&&p._c;i&&(p._d=!1,Ge()),p=p(),i&&(p._d=!0,c=Te,Wu())}return dt(p)&&(p=Wc(p)),p=me(p),c&&!p.dynamicChildren&&(p.dynamicChildren=c.filter(i=>i!==p)),p}function Au(p,c){c&&c.pendingBranch?dt(p)?c.effects.push(...p):c.effects.push(p):yu(p)}function qi(p,c){p.activeBranch=c;const{vnode:i,parentComponent:d}=p,t=i.el=c.el;d&&d.subTree===i&&(d.vnode.el=t,zo(d,t))}function zn(p,c){if(Ut){let i=Ut.provides;const d=Ut.parent&&Ut.parent.provides;d===i&&(i=Ut.provides=Object.create(d)),i[p]=c}}function Ke(p,c,i=!1){const d=Ut||ye;if(d){const t=d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides;if(t&&p in t)return t[p];if(arguments.length>1)return i&&pt(c)?c.call(d.proxy):c}}function Ml(p,c){return Vo(p,null,c)}const Rl={};function Un(p,c,i){return Vo(p,c,i)}function Vo(p,c,{immediate:i,deep:d,flush:t,onTrack:e,onTrigger:l}=Pt){const s=Ut;let r,a=!1,o=!1;if(Yt(p)?(r=()=>p.value,a=Ua(p)):ki(p)?(r=()=>p,d=!0):dt(p)?(o=!0,a=p.some(g=>ki(g)||Ua(g)),r=()=>p.map(g=>{if(Yt(g))return g.value;if(ki(g))return Ii(g);if(pt(g))return di(g,s,2)})):pt(p)?c?r=()=>di(p,s,2):r=()=>{if(!(s&&s.isUnmounted))return n&&n(),Ee(p,s,3,[u])}:r=Le,c&&d){const g=r;r=()=>Ii(g())}let n,u=g=>{n=m.onStop=()=>{di(g,s,4)}};if(ss)return u=Le,c?i&&Ee(c,s,3,[r(),o?[]:void 0,u]):r(),Le;let h=o?[]:Rl;const f=()=>{if(!!m.active)if(c){const g=m.run();(d||a||(o?g.some((x,y)=>kn(x,h[y])):kn(g,h)))&&(n&&n(),Ee(c,s,3,[g,h===Rl?void 0:h,u]),h=g)}else m.run()};f.allowRecurse=!!c;let v;t==="sync"?v=f:t==="post"?v=()=>$t(f,s&&s.suspense):v=()=>Yc(f);const m=new Mo(r,v);return c?i?f():h=m.run():t==="post"?$t(m.run.bind(m),s&&s.suspense):m.run(),()=>{m.stop(),s&&s.scope&&Co(s.scope.effects,m)}}function qc(p,c,i){const d=this.proxy,t=Gt(p)?p.includes(".")?Pu(d,p):()=>d[p]:p.bind(d,d);let e;pt(c)?e=c:(e=c.handler,i=c);const l=Ut;rn(this);const s=Vo(t,e.bind(d),i);return l?rn(l):Bi(),s}function Pu(p,c){const i=c.split(".");return()=>{let d=p;for(let t=0;t<i.length&&d;t++)d=d[i[t]];return d}}function Ii(p,c){if(!Bt(p)||p.__v_skip||(c=c||new Set,c.has(p)))return p;if(c.add(p),Yt(p))Ii(p.value,c);else if(dt(p))for(let i=0;i<p.length;i++)Ii(p[i],c);else if(wr(p)||ji(p))p.forEach(i=>{Ii(i,c)});else if(q0(p))for(const i in p)Ii(p[i],c);return p}function _c(){const p={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xr(()=>{p.isMounted=!0}),Wr(()=>{p.isUnmounting=!0}),p}const ve=[Function,Array],tv={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ve,onEnter:ve,onAfterEnter:ve,onEnterCancelled:ve,onBeforeLeave:ve,onLeave:ve,onAfterLeave:ve,onLeaveCancelled:ve,onBeforeAppear:ve,onAppear:ve,onAfterAppear:ve,onAppearCancelled:ve},setup(p,{slots:c}){const i=ms(),d=_c();let t;return()=>{const e=c.default&&Lu(c.default(),!0);if(!e||!e.length)return;let l=e[0];if(e.length>1){for(const v of e)if(v.type!==re){l=v;break}}const s=Et(p),{mode:r}=s;if(d.isLeaving)return aa(l);const a=Ll(l);if(!a)return aa(l);const o=Ha(a,s,d,i);ur(a,o);const n=i.subTree,u=n&&Ll(n);let h=!1;const{getTransitionKey:f}=a.type;if(f){const v=f();t===void 0?t=v:v!==t&&(t=v,h=!0)}if(u&&u.type!==re&&(!Be(a,u)||h)){const v=Ha(u,s,d,i);if(ur(u,v),r==="out-in")return d.isLeaving=!0,v.afterLeave=()=>{d.isLeaving=!1,i.update()},aa(l);r==="in-out"&&a.type!==re&&(v.delayLeave=(m,g,x)=>{const y=Ru(d,u);y[String(u.key)]=u,m._leaveCb=()=>{g(),m._leaveCb=void 0,delete o.delayedLeave},o.delayedLeave=x})}return l}}},Mu=tv;function Ru(p,c){const{leavingVNodes:i}=p;let d=i.get(c.type);return d||(d=Object.create(null),i.set(c.type,d)),d}function Ha(p,c,i,d){const{appear:t,mode:e,persisted:l=!1,onBeforeEnter:s,onEnter:r,onAfterEnter:a,onEnterCancelled:o,onBeforeLeave:n,onLeave:u,onAfterLeave:h,onLeaveCancelled:f,onBeforeAppear:v,onAppear:m,onAfterAppear:g,onAppearCancelled:x}=c,y=String(p.key),T=Ru(i,p),S=(A,P)=>{A&&Ee(A,d,9,P)},E=(A,P)=>{const R=P[1];S(A,P),dt(A)?A.every(M=>M.length<=1)&&R():A.length<=1&&R()},C={mode:e,persisted:l,beforeEnter(A){let P=s;if(!i.isMounted)if(t)P=v||s;else return;A._leaveCb&&A._leaveCb(!0);const R=T[y];R&&Be(p,R)&&R.el._leaveCb&&R.el._leaveCb(),S(P,[A])},enter(A){let P=r,R=a,M=o;if(!i.isMounted)if(t)P=m||r,R=g||a,M=x||o;else return;let L=!1;const O=A._enterCb=I=>{L||(L=!0,I?S(M,[A]):S(R,[A]),C.delayedLeave&&C.delayedLeave(),A._enterCb=void 0)};P?E(P,[A,O]):O()},leave(A,P){const R=String(p.key);if(A._enterCb&&A._enterCb(!0),i.isUnmounting)return P();S(n,[A]);let M=!1;const L=A._leaveCb=O=>{M||(M=!0,P(),O?S(f,[A]):S(h,[A]),A._leaveCb=void 0,T[R]===p&&delete T[R])};T[R]=p,u?E(u,[A,L]):L()},clone(A){return Ha(A,c,i,d)}};return C}function aa(p){if(Vr(p))return p=Je(p),p.children=null,p}function Ll(p){return Vr(p)?p.children?p.children[0]:void 0:p}function ur(p,c){p.shapeFlag&6&&p.component?ur(p.component.subTree,c):p.shapeFlag&128?(p.ssContent.transition=c.clone(p.ssContent),p.ssFallback.transition=c.clone(p.ssFallback)):p.transition=c}function Lu(p,c=!1,i){let d=[],t=0;for(let e=0;e<p.length;e++){let l=p[e];const s=i==null?l.key:String(i)+String(l.key!=null?l.key:e);l.type===oe?(l.patchFlag&128&&t++,d=d.concat(Lu(l.children,c,s))):(c||l.type!==re)&&d.push(s!=null?Je(l,{key:s}):l)}if(t>1)for(let e=0;e<d.length;e++)d[e].patchFlag=-2;return d}function ue(p){return pt(p)?{setup:p,name:p.name}:p}const _i=p=>!!p.type.__asyncLoader,Vr=p=>p.type.__isKeepAlive,ev={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(p,{slots:c}){const i=ms(),d=i.ctx;if(!d.renderer)return()=>{const x=c.default&&c.default();return x&&x.length===1?x[0]:x};const t=new Map,e=new Set;let l=null;const s=i.suspense,{renderer:{p:r,m:a,um:o,o:{createElement:n}}}=d,u=n("div");d.activate=(x,y,T,S,E)=>{const C=x.component;a(x,y,T,0,s),r(C.vnode,x,y,T,C,s,S,x.slotScopeIds,E),$t(()=>{C.isDeactivated=!1,C.a&&Qi(C.a);const A=x.props&&x.props.onVnodeMounted;A&&ie(A,C.parent,x)},s)},d.deactivate=x=>{const y=x.component;a(x,u,null,1,s),$t(()=>{y.da&&Qi(y.da);const T=x.props&&x.props.onVnodeUnmounted;T&&ie(T,y.parent,x),y.isDeactivated=!0},s)};function h(x){oa(x),o(x,i,s,!0)}function f(x){t.forEach((y,T)=>{const S=ka(y.type);S&&(!x||!x(S))&&v(T)})}function v(x){const y=t.get(x);!l||y.type!==l.type?h(y):l&&oa(l),t.delete(x),e.delete(x)}Un(()=>[p.include,p.exclude],([x,y])=>{x&&f(T=>On(x,T)),y&&f(T=>!On(y,T))},{flush:"post",deep:!0});let m=null;const g=()=>{m!=null&&t.set(m,la(i.subTree))};return Xr(g),Fu(g),Wr(()=>{t.forEach(x=>{const{subTree:y,suspense:T}=i,S=la(y);if(x.type===S.type){oa(S);const E=S.component.da;E&&$t(E,T);return}h(x)})}),()=>{if(m=null,!c.default)return null;const x=c.default(),y=x[0];if(x.length>1)return l=null,x;if(!ns(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return l=null,y;let T=la(y);const S=T.type,E=ka(_i(T)?T.type.__asyncResolved||{}:S),{include:C,exclude:A,max:P}=p;if(C&&(!E||!On(C,E))||A&&E&&On(A,E))return l=T,y;const R=T.key==null?S:T.key,M=t.get(R);return T.el&&(T=Je(T),y.shapeFlag&128&&(y.ssContent=T)),m=R,M?(T.el=M.el,T.component=M.component,T.transition&&ur(T,T.transition),T.shapeFlag|=512,e.delete(R),e.add(R)):(e.add(R),P&&e.size>parseInt(P,10)&&v(e.values().next().value)),T.shapeFlag|=256,l=T,Eu(y.type)?y:T}}},iv=ev;function On(p,c){return dt(p)?p.some(i=>On(i,c)):Gt(p)?p.split(",").includes(c):p.test?p.test(c):!1}function nv(p,c){Ou(p,"a",c)}function sv(p,c){Ou(p,"da",c)}function Ou(p,c,i=Ut){const d=p.__wdc||(p.__wdc=()=>{let t=i;for(;t;){if(t.isDeactivated)return;t=t.parent}return p()});if(Yr(c,d,i),i){let t=i.parent;for(;t&&t.parent;)Vr(t.parent.vnode)&&rv(d,c,i,t),t=t.parent}}function rv(p,c,i,d){const t=Yr(c,p,d,!0);Iu(()=>{Co(d[c],t)},i)}function oa(p){let c=p.shapeFlag;c&256&&(c-=256),c&512&&(c-=512),p.shapeFlag=c}function la(p){return p.shapeFlag&128?p.ssContent:p}function Yr(p,c,i=Ut,d=!1){if(i){const t=i[p]||(i[p]=[]),e=c.__weh||(c.__weh=(...l)=>{if(i.isUnmounted)return;fn(),rn(i);const s=Ee(c,i,p,l);return Bi(),dn(),s});return d?t.unshift(e):t.push(e),e}}const Qe=p=>(c,i=Ut)=>(!ss||p==="sp")&&Yr(p,c,i),av=Qe("bm"),Xr=Qe("m"),ov=Qe("bu"),Fu=Qe("u"),Wr=Qe("bum"),Iu=Qe("um"),lv=Qe("sp"),hv=Qe("rtg"),uv=Qe("rtc");function $a(p,c=Ut){Yr("ec",p,c)}function tS(p,c){const i=ye;if(i===null)return p;const d=Kr(i)||i.proxy,t=p.dirs||(p.dirs=[]);for(let e=0;e<c.length;e++){let[l,s,r,a=Pt]=c[e];pt(l)&&(l={mounted:l,updated:l}),l.deep&&Ii(s),t.push({dir:l,instance:d,value:s,oldValue:void 0,arg:r,modifiers:a})}return p}function we(p,c,i,d){const t=p.dirs,e=c&&c.dirs;for(let l=0;l<t.length;l++){const s=t[l];e&&(s.oldValue=e[l].value);let r=s.dir[d];r&&(fn(),Ee(r,i,8,[p.el,s,p,c]),dn())}}const Du="components";function Yo(p,c){return dv(Du,p,!0,c)||p}const fv=Symbol();function dv(p,c,i=!0,d=!1){const t=ye||Ut;if(t){const e=t.type;if(p===Du){const s=ka(e,!1);if(s&&(s===c||s===Ue(c)||s===br(Ue(c))))return e}const l=Ol(t[p]||e[p],c)||Ol(t.appContext[p],c);return!l&&d?e:l}}function Ol(p,c){return p&&(p[c]||p[Ue(c)]||p[br(Ue(c))])}function eS(p,c,i,d){let t;const e=i&&i[d];if(dt(p)||Gt(p)){t=new Array(p.length);for(let l=0,s=p.length;l<s;l++)t[l]=c(p[l],l,void 0,e&&e[l])}else if(typeof p=="number"){t=new Array(p);for(let l=0;l<p;l++)t[l]=c(l+1,l,void 0,e&&e[l])}else if(Bt(p))if(p[Symbol.iterator])t=Array.from(p,(l,s)=>c(l,s,void 0,e&&e[s]));else{const l=Object.keys(p);t=new Array(l.length);for(let s=0,r=l.length;s<r;s++){const a=l[s];t[s]=c(p[a],a,s,e&&e[s])}}else t=[];return i&&(i[d]=t),t}const Ka=p=>p?Zu(p)?Kr(p)||p.proxy:Ka(p.parent):null,fr=Qt(Object.create(null),{$:p=>p,$el:p=>p.vnode.el,$data:p=>p.data,$props:p=>p.props,$attrs:p=>p.attrs,$slots:p=>p.slots,$refs:p=>p.refs,$parent:p=>Ka(p.parent),$root:p=>Ka(p.root),$emit:p=>p.emit,$options:p=>Bu(p),$forceUpdate:p=>p.f||(p.f=()=>gu(p.update)),$nextTick:p=>p.n||(p.n=Bo.bind(p.proxy)),$watch:p=>qc.bind(p)}),cv={get({_:p},c){const{ctx:i,setupState:d,data:t,props:e,accessCache:l,type:s,appContext:r}=p;let a;if(c[0]!=="$"){const h=l[c];if(h!==void 0)switch(h){case 1:return d[c];case 2:return t[c];case 4:return i[c];case 3:return e[c]}else{if(d!==Pt&&Tt(d,c))return l[c]=1,d[c];if(t!==Pt&&Tt(t,c))return l[c]=2,t[c];if((a=p.propsOptions[0])&&Tt(a,c))return l[c]=3,e[c];if(i!==Pt&&Tt(i,c))return l[c]=4,i[c];Za&&(l[c]=0)}}const o=fr[c];let n,u;if(o)return c==="$attrs"&&he(p,"get",c),o(p);if((n=s.__cssModules)&&(n=n[c]))return n;if(i!==Pt&&Tt(i,c))return l[c]=4,i[c];if(u=r.config.globalProperties,Tt(u,c))return u[c]},set({_:p},c,i){const{data:d,setupState:t,ctx:e}=p;return t!==Pt&&Tt(t,c)?(t[c]=i,!0):d!==Pt&&Tt(d,c)?(d[c]=i,!0):Tt(p.props,c)||c[0]==="$"&&c.slice(1)in p?!1:(e[c]=i,!0)},has({_:{data:p,setupState:c,accessCache:i,ctx:d,appContext:t,propsOptions:e}},l){let s;return!!i[l]||p!==Pt&&Tt(p,l)||c!==Pt&&Tt(c,l)||(s=e[0])&&Tt(s,l)||Tt(d,l)||Tt(fr,l)||Tt(t.config.globalProperties,l)},defineProperty(p,c,i){return i.get!=null?p._.accessCache[c]=0:Tt(i,"value")&&this.set(p,c,i.value,null),Reflect.defineProperty(p,c,i)}};let Za=!0;function vv(p){const c=Bu(p),i=p.proxy,d=p.ctx;Za=!1,c.beforeCreate&&Fl(c.beforeCreate,p,"bc");const{data:t,computed:e,methods:l,watch:s,provide:r,inject:a,created:o,beforeMount:n,mounted:u,beforeUpdate:h,updated:f,activated:v,deactivated:m,beforeDestroy:g,beforeUnmount:x,destroyed:y,unmounted:T,render:S,renderTracked:E,renderTriggered:C,errorCaptured:A,serverPrefetch:P,expose:R,inheritAttrs:M,components:L,directives:O,filters:I}=c;if(a&&pv(a,d,null,p.appContext.config.unwrapInjectedRef),l)for(const V in l){const X=l[V];pt(X)&&(d[V]=X.bind(i))}if(t){const V=t.call(i,i);Bt(V)&&(p.data=Ne(V))}if(Za=!0,e)for(const V in e){const X=e[V],W=pt(X)?X.bind(i,i):pt(X.get)?X.get.bind(i,i):Le,D=!pt(X)&&pt(X.set)?X.set.bind(i):Le,F=Kt({get:W,set:D});Object.defineProperty(d,V,{enumerable:!0,configurable:!0,get:()=>F.value,set:B=>F.value=B})}if(s)for(const V in s)wu(s[V],d,i,V);if(r){const V=pt(r)?r.call(i):r;Reflect.ownKeys(V).forEach(X=>{zn(X,V[X])})}o&&Fl(o,p,"c");function G(V,X){dt(X)?X.forEach(W=>V(W.bind(i))):X&&V(X.bind(i))}if(G(av,n),G(Xr,u),G(ov,h),G(Fu,f),G(nv,v),G(sv,m),G($a,A),G(uv,E),G(hv,C),G(Wr,x),G(Iu,T),G(lv,P),dt(R))if(R.length){const V=p.exposed||(p.exposed={});R.forEach(X=>{Object.defineProperty(V,X,{get:()=>i[X],set:W=>i[X]=W})})}else p.exposed||(p.exposed={});S&&p.render===Le&&(p.render=S),M!=null&&(p.inheritAttrs=M),L&&(p.components=L),O&&(p.directives=O)}function pv(p,c,i=Le,d=!1){dt(p)&&(p=Ja(p));for(const t in p){const e=p[t];let l;Bt(e)?"default"in e?l=Ke(e.from||t,e.default,!0):l=Ke(e.from||t):l=Ke(e),Yt(l)&&d?Object.defineProperty(c,t,{enumerable:!0,configurable:!0,get:()=>l.value,set:s=>l.value=s}):c[t]=l}}function Fl(p,c,i){Ee(dt(p)?p.map(d=>d.bind(c.proxy)):p.bind(c.proxy),c,i)}function wu(p,c,i,d){const t=d.includes(".")?Pu(i,d):()=>i[d];if(Gt(p)){const e=c[p];pt(e)&&Un(t,e)}else if(pt(p))Un(t,p.bind(i));else if(Bt(p))if(dt(p))p.forEach(e=>wu(e,c,i,d));else{const e=pt(p.handler)?p.handler.bind(i):c[p.handler];pt(e)&&Un(t,e,p)}}function Bu(p){const c=p.type,{mixins:i,extends:d}=c,{mixins:t,optionsCache:e,config:{optionMergeStrategies:l}}=p.appContext,s=e.get(c);let r;return s?r=s:!t.length&&!i&&!d?r=c:(r={},t.length&&t.forEach(a=>dr(r,a,l,!0)),dr(r,c,l)),e.set(c,r),r}function dr(p,c,i,d=!1){const{mixins:t,extends:e}=c;e&&dr(p,e,i,!0),t&&t.forEach(l=>dr(p,l,i,!0));for(const l in c)if(!(d&&l==="expose")){const s=gv[l]||i&&i[l];p[l]=s?s(p[l],c[l]):c[l]}return p}const gv={data:Il,props:Pi,emits:Pi,methods:Pi,computed:Pi,beforeCreate:ee,created:ee,beforeMount:ee,mounted:ee,beforeUpdate:ee,updated:ee,beforeDestroy:ee,beforeUnmount:ee,destroyed:ee,unmounted:ee,activated:ee,deactivated:ee,errorCaptured:ee,serverPrefetch:ee,components:Pi,directives:Pi,watch:xv,provide:Il,inject:mv};function Il(p,c){return c?p?function(){return Qt(pt(p)?p.call(this,this):p,pt(c)?c.call(this,this):c)}:c:p}function mv(p,c){return Pi(Ja(p),Ja(c))}function Ja(p){if(dt(p)){const c={};for(let i=0;i<p.length;i++)c[p[i]]=p[i];return c}return p}function ee(p,c){return p?[...new Set([].concat(p,c))]:c}function Pi(p,c){return p?Qt(Qt(Object.create(null),p),c):c}function xv(p,c){if(!p)return c;if(!c)return p;const i=Qt(Object.create(null),p);for(const d in c)i[d]=ee(p[d],c[d]);return i}function yv(p,c,i,d=!1){const t={},e={};ar(e,$r,1),p.propsDefaults=Object.create(null),bu(p,c,t,e);for(const l in p.propsOptions[0])l in t||(t[l]=void 0);i?p.props=d?t:Ic(t):p.type.props?p.props=t:p.props=e,p.attrs=e}function Tv(p,c,i,d){const{props:t,attrs:e,vnode:{patchFlag:l}}=p,s=Et(t),[r]=p.propsOptions;let a=!1;if((d||l>0)&&!(l&16)){if(l&8){const o=p.vnode.dynamicProps;for(let n=0;n<o.length;n++){let u=o[n];if(zr(p.emitsOptions,u))continue;const h=c[u];if(r)if(Tt(e,u))h!==e[u]&&(e[u]=h,a=!0);else{const f=Ue(u);t[f]=ja(r,s,f,h,p,!1)}else h!==e[u]&&(e[u]=h,a=!0)}}}else{bu(p,c,t,e)&&(a=!0);let o;for(const n in s)(!c||!Tt(c,n)&&((o=un(n))===n||!Tt(c,o)))&&(r?i&&(i[n]!==void 0||i[o]!==void 0)&&(t[n]=ja(r,s,n,void 0,p,!0)):delete t[n]);if(e!==s)for(const n in e)(!c||!Tt(c,n)&&!0)&&(delete e[n],a=!0)}a&&Ze(p,"set","$attrs")}function bu(p,c,i,d){const[t,e]=p.propsOptions;let l=!1,s;if(c)for(let r in c){if(Bn(r))continue;const a=c[r];let o;t&&Tt(t,o=Ue(r))?!e||!e.includes(o)?i[o]=a:(s||(s={}))[o]=a:zr(p.emitsOptions,r)||(!(r in d)||a!==d[r])&&(d[r]=a,l=!0)}if(e){const r=Et(i),a=s||Pt;for(let o=0;o<e.length;o++){const n=e[o];i[n]=ja(t,r,n,a[n],p,!Tt(a,n))}}return l}function ja(p,c,i,d,t,e){const l=p[i];if(l!=null){const s=Tt(l,"default");if(s&&d===void 0){const r=l.default;if(l.type!==Function&&pt(r)){const{propsDefaults:a}=t;i in a?d=a[i]:(rn(t),d=a[i]=r.call(null,c),Bi())}else d=r}l[0]&&(e&&!s?d=!1:l[1]&&(d===""||d===un(i))&&(d=!0))}return d}function Nu(p,c,i=!1){const d=c.propsCache,t=d.get(p);if(t)return t;const e=p.props,l={},s=[];let r=!1;if(!pt(p)){const o=n=>{r=!0;const[u,h]=Nu(n,c,!0);Qt(l,u),h&&s.push(...h)};!i&&c.mixins.length&&c.mixins.forEach(o),p.extends&&o(p.extends),p.mixins&&p.mixins.forEach(o)}if(!e&&!r)return d.set(p,Ji),Ji;if(dt(e))for(let o=0;o<e.length;o++){const n=Ue(e[o]);Dl(n)&&(l[n]=Pt)}else if(e)for(const o in e){const n=Ue(o);if(Dl(n)){const u=e[o],h=l[n]=dt(u)||pt(u)?{type:u}:u;if(h){const f=bl(Boolean,h.type),v=bl(String,h.type);h[0]=f>-1,h[1]=v<0||f<v,(f>-1||Tt(h,"default"))&&s.push(n)}}}const a=[l,s];return d.set(p,a),a}function Dl(p){return p[0]!=="$"}function wl(p){const c=p&&p.toString().match(/^\s*function (\w+)/);return c?c[1]:p===null?"null":""}function Bl(p,c){return wl(p)===wl(c)}function bl(p,c){return dt(c)?c.findIndex(i=>Bl(i,p)):pt(c)&&Bl(c,p)?0:-1}const Gu=p=>p[0]==="_"||p==="$stable",Xo=p=>dt(p)?p.map(me):[me(p)],Sv=(p,c,i)=>{if(c._n)return c;const d=Go((...t)=>Xo(c(...t)),i);return d._c=!1,d},zu=(p,c,i)=>{const d=p._ctx;for(const t in p){if(Gu(t))continue;const e=p[t];if(pt(e))c[t]=Sv(t,e,d);else if(e!=null){const l=Xo(e);c[t]=()=>l}}},Uu=(p,c)=>{const i=Xo(c);p.slots.default=()=>i},Ev=(p,c)=>{if(p.vnode.shapeFlag&32){const i=c._;i?(p.slots=Et(c),ar(c,"_",i)):zu(c,p.slots={})}else p.slots={},c&&Uu(p,c);ar(p.slots,$r,1)},Cv=(p,c,i)=>{const{vnode:d,slots:t}=p;let e=!0,l=Pt;if(d.shapeFlag&32){const s=c._;s?i&&s===1?e=!1:(Qt(t,c),!i&&s===1&&delete t._):(e=!c.$stable,zu(c,t)),l=c}else c&&(Uu(p,c),l={default:1});if(e)for(const s in t)!Gu(s)&&!(s in l)&&delete t[s]};function Vu(){return{app:null,config:{isNativeTag:kd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Av=0;function Pv(p,c){return function(d,t=null){pt(d)||(d=Object.assign({},d)),t!=null&&!Bt(t)&&(t=null);const e=Vu(),l=new Set;let s=!1;const r=e.app={_uid:Av++,_component:d,_props:t,_container:null,_context:e,_instance:null,version:Yv,get config(){return e.config},set config(a){},use(a,...o){return l.has(a)||(a&&pt(a.install)?(l.add(a),a.install(r,...o)):pt(a)&&(l.add(a),a(r,...o))),r},mixin(a){return e.mixins.includes(a)||e.mixins.push(a),r},component(a,o){return o?(e.components[a]=o,r):e.components[a]},directive(a,o){return o?(e.directives[a]=o,r):e.directives[a]},mount(a,o,n){if(!s){const u=Xt(d,t);return u.appContext=e,o&&c?c(u,a):p(u,a,n),s=!0,r._container=a,a.__vue_app__=r,Kr(u.component)||u.component.proxy}},unmount(){s&&(p(null,r._container),delete r._container.__vue_app__)},provide(a,o){return e.provides[a]=o,r}};return r}}function cr(p,c,i,d,t=!1){if(dt(p)){p.forEach((u,h)=>cr(u,c&&(dt(c)?c[h]:c),i,d,t));return}if(_i(d)&&!t)return;const e=d.shapeFlag&4?Kr(d.component)||d.component.proxy:d.el,l=t?null:e,{i:s,r}=p,a=c&&c.r,o=s.refs===Pt?s.refs={}:s.refs,n=s.setupState;if(a!=null&&a!==r&&(Gt(a)?(o[a]=null,Tt(n,a)&&(n[a]=null)):Yt(a)&&(a.value=null)),pt(r))di(r,s,12,[l,o]);else{const u=Gt(r),h=Yt(r);if(u||h){const f=()=>{if(p.f){const v=u?o[r]:r.value;t?dt(v)&&Co(v,e):dt(v)?v.includes(e)||v.push(e):u?(o[r]=[e],Tt(n,r)&&(n[r]=o[r])):(r.value=[e],p.k&&(o[p.k]=r.value))}else u?(o[r]=l,Tt(n,r)&&(n[r]=l)):h&&(r.value=l,p.k&&(o[p.k]=l))};l?(f.id=-1,$t(f,i)):f()}}}let _e=!1;const Gs=p=>/svg/.test(p.namespaceURI)&&p.tagName!=="foreignObject",zs=p=>p.nodeType===8;function Mv(p){const{mt:c,p:i,o:{patchProp:d,createText:t,nextSibling:e,parentNode:l,remove:s,insert:r,createComment:a}}=p,o=(g,x)=>{if(!x.hasChildNodes()){i(null,g,x),lr(),x._vnode=g;return}_e=!1,n(x.firstChild,g,null,null,null),lr(),x._vnode=g,_e&&console.error("Hydration completed but contains mismatches.")},n=(g,x,y,T,S,E=!1)=>{const C=zs(g)&&g.data==="[",A=()=>v(g,x,y,T,S,C),{type:P,ref:R,shapeFlag:M,patchFlag:L}=x,O=g.nodeType;x.el=g,L===-2&&(E=!1,x.dynamicChildren=null);let I=null;switch(P){case is:O!==3?x.children===""?(r(x.el=t(""),l(g),g),I=g):I=A():(g.data!==x.children&&(_e=!0,g.data=x.children),I=e(g));break;case re:O!==8||C?I=A():I=e(g);break;case ir:if(O!==1&&O!==3)I=A();else{I=g;const w=!x.children.length;for(let G=0;G<x.staticCount;G++)w&&(x.children+=I.nodeType===1?I.outerHTML:I.data),G===x.staticCount-1&&(x.anchor=I),I=e(I);return I}break;case oe:C?I=f(g,x,y,T,S,E):I=A();break;default:if(M&1)O!==1||x.type.toLowerCase()!==g.tagName.toLowerCase()?I=A():I=u(g,x,y,T,S,E);else if(M&6){x.slotScopeIds=S;const w=l(g);if(c(x,w,null,y,T,Gs(w),E),I=C?m(g):e(g),I&&zs(I)&&I.data==="teleport end"&&(I=e(I)),_i(x)){let G;C?(G=Xt(oe),G.anchor=I?I.previousSibling:w.lastChild):G=g.nodeType===3?Wo(""):Xt("div"),G.el=g,x.component.subTree=G}}else M&64?O!==8?I=A():I=x.type.hydrate(g,x,y,T,S,E,p,h):M&128&&(I=x.type.hydrate(g,x,y,T,Gs(l(g)),S,E,p,n))}return R!=null&&cr(R,null,T,x),I},u=(g,x,y,T,S,E)=>{E=E||!!x.dynamicChildren;const{type:C,props:A,patchFlag:P,shapeFlag:R,dirs:M}=x,L=C==="input"&&M||C==="option";if(L||P!==-1){if(M&&we(x,null,y,"created"),A)if(L||!E||P&48)for(const I in A)(L&&I.endsWith("value")||vs(I)&&!Bn(I))&&d(g,I,null,A[I],!1,void 0,y);else A.onClick&&d(g,"onClick",null,A.onClick,!1,void 0,y);let O;if((O=A&&A.onVnodeBeforeMount)&&ie(O,y,x),M&&we(x,null,y,"beforeMount"),((O=A&&A.onVnodeMounted)||M)&&Au(()=>{O&&ie(O,y,x),M&&we(x,null,y,"mounted")},T),R&16&&!(A&&(A.innerHTML||A.textContent))){let I=h(g.firstChild,x,g,y,T,S,E);for(;I;){_e=!0;const w=I;I=I.nextSibling,s(w)}}else R&8&&g.textContent!==x.children&&(_e=!0,g.textContent=x.children)}return g.nextSibling},h=(g,x,y,T,S,E,C)=>{C=C||!!x.dynamicChildren;const A=x.children,P=A.length;for(let R=0;R<P;R++){const M=C?A[R]:A[R]=me(A[R]);if(g)g=n(g,M,T,S,E,C);else{if(M.type===is&&!M.children)continue;_e=!0,i(null,M,y,null,T,S,Gs(y),E)}}return g},f=(g,x,y,T,S,E)=>{const{slotScopeIds:C}=x;C&&(S=S?S.concat(C):C);const A=l(g),P=h(e(g),x,A,y,T,S,E);return P&&zs(P)&&P.data==="]"?e(x.anchor=P):(_e=!0,r(x.anchor=a("]"),A,P),P)},v=(g,x,y,T,S,E)=>{if(_e=!0,x.el=null,E){const P=m(g);for(;;){const R=e(g);if(R&&R!==P)s(R);else break}}const C=e(g),A=l(g);return s(g),i(null,x,A,C,y,T,Gs(A),S),C},m=g=>{let x=0;for(;g;)if(g=e(g),g&&zs(g)&&(g.data==="["&&x++,g.data==="]")){if(x===0)return e(g);x--}return g};return[o,n]}const $t=Au;function Rv(p){return Yu(p)}function Lv(p){return Yu(p,Mv)}function Yu(p,c){const i=nc();i.__VUE__=!0;const{insert:d,remove:t,patchProp:e,createElement:l,createText:s,createComment:r,setText:a,setElementText:o,parentNode:n,nextSibling:u,setScopeId:h=Le,cloneNode:f,insertStaticContent:v}=p,m=(H,$,J,et=null,_=null,it=null,Q=!1,st=null,nt=!!$.dynamicChildren)=>{if(H===$)return;H&&!Be(H,$)&&(et=K(H),b(H,_,it,!0),H=null),$.patchFlag===-2&&(nt=!1,$.dynamicChildren=null);const{type:tt,ref:ut,shapeFlag:ot}=$;switch(tt){case is:g(H,$,J,et);break;case re:x(H,$,J,et);break;case ir:H==null&&y($,J,et,Q);break;case oe:O(H,$,J,et,_,it,Q,st,nt);break;default:ot&1?E(H,$,J,et,_,it,Q,st,nt):ot&6?I(H,$,J,et,_,it,Q,st,nt):(ot&64||ot&128)&&tt.process(H,$,J,et,_,it,Q,st,nt,j)}ut!=null&&_&&cr(ut,H&&H.ref,it,$||H,!$)},g=(H,$,J,et)=>{if(H==null)d($.el=s($.children),J,et);else{const _=$.el=H.el;$.children!==H.children&&a(_,$.children)}},x=(H,$,J,et)=>{H==null?d($.el=r($.children||""),J,et):$.el=H.el},y=(H,$,J,et)=>{[H.el,H.anchor]=v(H.children,$,J,et,H.el,H.anchor)},T=({el:H,anchor:$},J,et)=>{let _;for(;H&&H!==$;)_=u(H),d(H,J,et),H=_;d($,J,et)},S=({el:H,anchor:$})=>{let J;for(;H&&H!==$;)J=u(H),t(H),H=J;t($)},E=(H,$,J,et,_,it,Q,st,nt)=>{Q=Q||$.type==="svg",H==null?C($,J,et,_,it,Q,st,nt):R(H,$,_,it,Q,st,nt)},C=(H,$,J,et,_,it,Q,st)=>{let nt,tt;const{type:ut,props:ot,shapeFlag:at,transition:ht,patchFlag:ft,dirs:vt}=H;if(H.el&&f!==void 0&&ft===-1)nt=H.el=f(H.el);else{if(nt=H.el=l(H.type,it,ot&&ot.is,ot),at&8?o(nt,H.children):at&16&&P(H.children,nt,null,et,_,it&&ut!=="foreignObject",Q,st),vt&&we(H,null,et,"created"),ot){for(const mt in ot)mt!=="value"&&!Bn(mt)&&e(nt,mt,null,ot[mt],it,H.children,et,_,Y);"value"in ot&&e(nt,"value",null,ot.value),(tt=ot.onVnodeBeforeMount)&&ie(tt,et,H)}A(nt,H,H.scopeId,Q,et)}vt&&we(H,null,et,"beforeMount");const ct=(!_||_&&!_.pendingBranch)&&ht&&!ht.persisted;ct&&ht.beforeEnter(nt),d(nt,$,J),((tt=ot&&ot.onVnodeMounted)||ct||vt)&&$t(()=>{tt&&ie(tt,et,H),ct&&ht.enter(nt),vt&&we(H,null,et,"mounted")},_)},A=(H,$,J,et,_)=>{if(J&&h(H,J),et)for(let it=0;it<et.length;it++)h(H,et[it]);if(_){let it=_.subTree;if($===it){const Q=_.vnode;A(H,Q,Q.scopeId,Q.slotScopeIds,_.parent)}}},P=(H,$,J,et,_,it,Q,st,nt=0)=>{for(let tt=nt;tt<H.length;tt++){const ut=H[tt]=st?oi(H[tt]):me(H[tt]);m(null,ut,$,J,et,_,it,Q,st)}},R=(H,$,J,et,_,it,Q)=>{const st=$.el=H.el;let{patchFlag:nt,dynamicChildren:tt,dirs:ut}=$;nt|=H.patchFlag&16;const ot=H.props||Pt,at=$.props||Pt;let ht;J&&Ti(J,!1),(ht=at.onVnodeBeforeUpdate)&&ie(ht,J,$,H),ut&&we($,H,J,"beforeUpdate"),J&&Ti(J,!0);const ft=_&&$.type!=="foreignObject";if(tt?M(H.dynamicChildren,tt,st,J,et,ft,it):Q||W(H,$,st,null,J,et,ft,it,!1),nt>0){if(nt&16)L(st,$,ot,at,J,et,_);else if(nt&2&&ot.class!==at.class&&e(st,"class",null,at.class,_),nt&4&&e(st,"style",ot.style,at.style,_),nt&8){const vt=$.dynamicProps;for(let ct=0;ct<vt.length;ct++){const mt=vt[ct],bt=ot[mt],kt=at[mt];(kt!==bt||mt==="value")&&e(st,mt,bt,kt,_,H.children,J,et,Y)}}nt&1&&H.children!==$.children&&o(st,$.children)}else!Q&&tt==null&&L(st,$,ot,at,J,et,_);((ht=at.onVnodeUpdated)||ut)&&$t(()=>{ht&&ie(ht,J,$,H),ut&&we($,H,J,"updated")},et)},M=(H,$,J,et,_,it,Q)=>{for(let st=0;st<$.length;st++){const nt=H[st],tt=$[st],ut=nt.el&&(nt.type===oe||!Be(nt,tt)||nt.shapeFlag&70)?n(nt.el):J;m(nt,tt,ut,null,et,_,it,Q,!0)}},L=(H,$,J,et,_,it,Q)=>{if(J!==et){for(const st in et){if(Bn(st))continue;const nt=et[st],tt=J[st];nt!==tt&&st!=="value"&&e(H,st,tt,nt,Q,$.children,_,it,Y)}if(J!==Pt)for(const st in J)!Bn(st)&&!(st in et)&&e(H,st,J[st],null,Q,$.children,_,it,Y);"value"in et&&e(H,"value",J.value,et.value)}},O=(H,$,J,et,_,it,Q,st,nt)=>{const tt=$.el=H?H.el:s(""),ut=$.anchor=H?H.anchor:s("");let{patchFlag:ot,dynamicChildren:at,slotScopeIds:ht}=$;ht&&(st=st?st.concat(ht):ht),H==null?(d(tt,J,et),d(ut,J,et),P($.children,J,ut,_,it,Q,st,nt)):ot>0&&ot&64&&at&&H.dynamicChildren?(M(H.dynamicChildren,at,J,_,it,Q,st),($.key!=null||_&&$===_.subTree)&&Xu(H,$,!0)):W(H,$,J,ut,_,it,Q,st,nt)},I=(H,$,J,et,_,it,Q,st,nt)=>{$.slotScopeIds=st,H==null?$.shapeFlag&512?_.ctx.activate($,J,et,Q,nt):w($,J,et,_,it,Q,nt):G(H,$,nt)},w=(H,$,J,et,_,it,Q)=>{const st=H.component=bv(H,et,_);if(Vr(H)&&(st.ctx.renderer=j),Nv(st),st.asyncDep){if(_&&_.registerDep(st,V),!H.el){const nt=st.subTree=Xt(re);x(null,nt,$,J)}return}V(st,H,$,J,_,it,Q)},G=(H,$,J)=>{const et=$.component=H.component;if(Kc(H,$,J))if(et.asyncDep&&!et.asyncResolved){X(et,$,J);return}else et.next=$,Vc(et.update),et.update();else $.el=H.el,et.vnode=$},V=(H,$,J,et,_,it,Q)=>{const st=()=>{if(H.isMounted){let{next:ut,bu:ot,u:at,parent:ht,vnode:ft}=H,vt=ut,ct;Ti(H,!1),ut?(ut.el=ft.el,X(H,ut,Q)):ut=ft,ot&&Qi(ot),(ct=ut.props&&ut.props.onVnodeBeforeUpdate)&&ie(ct,ht,ut,ft),Ti(H,!0);const mt=ra(H),bt=H.subTree;H.subTree=mt,m(bt,mt,n(bt.el),K(bt),H,_,it),ut.el=mt.el,vt===null&&zo(H,mt.el),at&&$t(at,_),(ct=ut.props&&ut.props.onVnodeUpdated)&&$t(()=>ie(ct,ht,ut,ft),_)}else{let ut;const{el:ot,props:at}=$,{bm:ht,m:ft,parent:vt}=H,ct=_i($);if(Ti(H,!1),ht&&Qi(ht),!ct&&(ut=at&&at.onVnodeBeforeMount)&&ie(ut,vt,$),Ti(H,!0),ot&&k){const mt=()=>{H.subTree=ra(H),k(ot,H.subTree,H,_,null)};ct?$.type.__asyncLoader().then(()=>!H.isUnmounted&&mt()):mt()}else{const mt=H.subTree=ra(H);m(null,mt,J,et,H,_,it),$.el=mt.el}if(ft&&$t(ft,_),!ct&&(ut=at&&at.onVnodeMounted)){const mt=$;$t(()=>ie(ut,vt,mt),_)}($.shapeFlag&256||vt&&_i(vt.vnode)&&vt.vnode.shapeFlag&256)&&H.a&&$t(H.a,_),H.isMounted=!0,$=J=et=null}},nt=H.effect=new Mo(st,()=>gu(tt),H.scope),tt=H.update=()=>nt.run();tt.id=H.uid,Ti(H,!0),tt()},X=(H,$,J)=>{$.component=H;const et=H.vnode.props;H.vnode=$,H.next=null,Tv(H,$.props,et,J),Cv(H,$.children,J),fn(),Gr(void 0,H.update),dn()},W=(H,$,J,et,_,it,Q,st,nt=!1)=>{const tt=H&&H.children,ut=H?H.shapeFlag:0,ot=$.children,{patchFlag:at,shapeFlag:ht}=$;if(at>0){if(at&128){F(tt,ot,J,et,_,it,Q,st,nt);return}else if(at&256){D(tt,ot,J,et,_,it,Q,st,nt);return}}ht&8?(ut&16&&Y(tt,_,it),ot!==tt&&o(J,ot)):ut&16?ht&16?F(tt,ot,J,et,_,it,Q,st,nt):Y(tt,_,it,!0):(ut&8&&o(J,""),ht&16&&P(ot,J,et,_,it,Q,st,nt))},D=(H,$,J,et,_,it,Q,st,nt)=>{H=H||Ji,$=$||Ji;const tt=H.length,ut=$.length,ot=Math.min(tt,ut);let at;for(at=0;at<ot;at++){const ht=$[at]=nt?oi($[at]):me($[at]);m(H[at],ht,J,null,_,it,Q,st,nt)}tt>ut?Y(H,_,it,!0,!1,ot):P($,J,et,_,it,Q,st,nt,ot)},F=(H,$,J,et,_,it,Q,st,nt)=>{let tt=0;const ut=$.length;let ot=H.length-1,at=ut-1;for(;tt<=ot&&tt<=at;){const ht=H[tt],ft=$[tt]=nt?oi($[tt]):me($[tt]);if(Be(ht,ft))m(ht,ft,J,null,_,it,Q,st,nt);else break;tt++}for(;tt<=ot&&tt<=at;){const ht=H[ot],ft=$[at]=nt?oi($[at]):me($[at]);if(Be(ht,ft))m(ht,ft,J,null,_,it,Q,st,nt);else break;ot--,at--}if(tt>ot){if(tt<=at){const ht=at+1,ft=ht<ut?$[ht].el:et;for(;tt<=at;)m(null,$[tt]=nt?oi($[tt]):me($[tt]),J,ft,_,it,Q,st,nt),tt++}}else if(tt>at)for(;tt<=ot;)b(H[tt],_,it,!0),tt++;else{const ht=tt,ft=tt,vt=new Map;for(tt=ft;tt<=at;tt++){const Dt=$[tt]=nt?oi($[tt]):me($[tt]);Dt.key!=null&&vt.set(Dt.key,tt)}let ct,mt=0;const bt=at-ft+1;let kt=!1,fe=0;const te=new Array(bt);for(tt=0;tt<bt;tt++)te[tt]=0;for(tt=ht;tt<=ot;tt++){const Dt=H[tt];if(mt>=bt){b(Dt,_,it,!0);continue}let ce;if(Dt.key!=null)ce=vt.get(Dt.key);else for(ct=ft;ct<=at;ct++)if(te[ct-ft]===0&&Be(Dt,$[ct])){ce=ct;break}ce===void 0?b(Dt,_,it,!0):(te[ce-ft]=tt+1,ce>=fe?fe=ce:kt=!0,m(Dt,$[ce],J,null,_,it,Q,st,nt),mt++)}const de=kt?Ov(te):Ji;for(ct=de.length-1,tt=bt-1;tt>=0;tt--){const Dt=ft+tt,ce=$[Dt],vl=Dt+1<ut?$[Dt+1].el:et;te[tt]===0?m(null,ce,J,vl,_,it,Q,st,nt):kt&&(ct<0||tt!==de[ct]?B(ce,J,vl,2):ct--)}}},B=(H,$,J,et,_=null)=>{const{el:it,type:Q,transition:st,children:nt,shapeFlag:tt}=H;if(tt&6){B(H.component.subTree,$,J,et);return}if(tt&128){H.suspense.move($,J,et);return}if(tt&64){Q.move(H,$,J,j);return}if(Q===oe){d(it,$,J);for(let ot=0;ot<nt.length;ot++)B(nt[ot],$,J,et);d(H.anchor,$,J);return}if(Q===ir){T(H,$,J);return}if(et!==2&&tt&1&&st)if(et===0)st.beforeEnter(it),d(it,$,J),$t(()=>st.enter(it),_);else{const{leave:ot,delayLeave:at,afterLeave:ht}=st,ft=()=>d(it,$,J),vt=()=>{ot(it,()=>{ft(),ht&&ht()})};at?at(it,ft,vt):vt()}else d(it,$,J)},b=(H,$,J,et=!1,_=!1)=>{const{type:it,props:Q,ref:st,children:nt,dynamicChildren:tt,shapeFlag:ut,patchFlag:ot,dirs:at}=H;if(st!=null&&cr(st,null,J,H,!0),ut&256){$.ctx.deactivate(H);return}const ht=ut&1&&at,ft=!_i(H);let vt;if(ft&&(vt=Q&&Q.onVnodeBeforeUnmount)&&ie(vt,$,H),ut&6)U(H.component,J,et);else{if(ut&128){H.suspense.unmount(J,et);return}ht&&we(H,null,$,"beforeUnmount"),ut&64?H.type.remove(H,$,J,_,j,et):tt&&(it!==oe||ot>0&&ot&64)?Y(tt,$,J,!1,!0):(it===oe&&ot&384||!_&&ut&16)&&Y(nt,$,J),et&&z(H)}(ft&&(vt=Q&&Q.onVnodeUnmounted)||ht)&&$t(()=>{vt&&ie(vt,$,H),ht&&we(H,null,$,"unmounted")},J)},z=H=>{const{type:$,el:J,anchor:et,transition:_}=H;if($===oe){N(J,et);return}if($===ir){S(H);return}const it=()=>{t(J),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(H.shapeFlag&1&&_&&!_.persisted){const{leave:Q,delayLeave:st}=_,nt=()=>Q(J,it);st?st(H.el,it,nt):nt()}else it()},N=(H,$)=>{let J;for(;H!==$;)J=u(H),t(H),H=J;t($)},U=(H,$,J)=>{const{bum:et,scope:_,update:it,subTree:Q,um:st}=H;et&&Qi(et),_.stop(),it&&(it.active=!1,b(Q,H,$,J)),st&&$t(st,$),$t(()=>{H.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},Y=(H,$,J,et=!1,_=!1,it=0)=>{for(let Q=it;Q<H.length;Q++)b(H[Q],$,J,et,_)},K=H=>H.shapeFlag&6?K(H.component.subTree):H.shapeFlag&128?H.suspense.next():u(H.anchor||H.el),Z=(H,$,J)=>{H==null?$._vnode&&b($._vnode,null,null,!0):m($._vnode||null,H,$,null,null,null,J),lr(),$._vnode=H},j={p:m,um:b,m:B,r:z,mt:w,mc:P,pc:W,pbc:M,n:K,o:p};let q,k;return c&&([q,k]=c(j)),{render:Z,hydrate:q,createApp:Pv(Z,q)}}function Ti({effect:p,update:c},i){p.allowRecurse=c.allowRecurse=i}function Xu(p,c,i=!1){const d=p.children,t=c.children;if(dt(d)&&dt(t))for(let e=0;e<d.length;e++){const l=d[e];let s=t[e];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=t[e]=oi(t[e]),s.el=l.el),i||Xu(l,s))}}function Ov(p){const c=p.slice(),i=[0];let d,t,e,l,s;const r=p.length;for(d=0;d<r;d++){const a=p[d];if(a!==0){if(t=i[i.length-1],p[t]<a){c[d]=t,i.push(d);continue}for(e=0,l=i.length-1;e<l;)s=e+l>>1,p[i[s]]<a?e=s+1:l=s;a<p[i[e]]&&(e>0&&(c[d]=i[e-1]),i[e]=d)}}for(e=i.length,l=i[e-1];e-- >0;)i[e]=l,l=c[l];return i}const Fv=p=>p.__isTeleport,oe=Symbol(void 0),is=Symbol(void 0),re=Symbol(void 0),ir=Symbol(void 0),Vn=[];let Te=null;function Ge(p=!1){Vn.push(Te=p?null:[])}function Wu(){Vn.pop(),Te=Vn[Vn.length-1]||null}let sn=1;function Nl(p){sn+=p}function Hu(p){return p.dynamicChildren=sn>0?Te||Ji:null,Wu(),sn>0&&Te&&Te.push(p),p}function Hr(p,c,i,d,t,e){return Hu(Zt(p,c,i,d,t,e,!0))}function Yn(p,c,i,d,t){return Hu(Xt(p,c,i,d,t,!0))}function ns(p){return p?p.__v_isVNode===!0:!1}function Be(p,c){return p.type===c.type&&p.key===c.key}const $r="__vInternal",$u=({key:p})=>p!=null?p:null,nr=({ref:p,ref_key:c,ref_for:i})=>p!=null?Gt(p)||Yt(p)||pt(p)?{i:ye,r:p,k:c,f:!!i}:p:null;function Zt(p,c=null,i=null,d=0,t=null,e=p===oe?0:1,l=!1,s=!1){const r={__v_isVNode:!0,__v_skip:!0,type:p,props:c,key:c&&$u(c),ref:c&&nr(c),scopeId:Ur,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:e,patchFlag:d,dynamicProps:t,dynamicChildren:null,appContext:null};return s?(Ho(r,i),e&128&&p.normalize(r)):i&&(r.shapeFlag|=Gt(i)?8:16),sn>0&&!l&&Te&&(r.patchFlag>0||e&6)&&r.patchFlag!==32&&Te.push(r),r}const Xt=Iv;function Iv(p,c=null,i=null,d=0,t=null,e=!1){if((!p||p===fv)&&(p=re),ns(p)){const s=Je(p,c,!0);return i&&Ho(s,i),sn>0&&!e&&Te&&(s.shapeFlag&6?Te[Te.indexOf(p)]=s:Te.push(s)),s.patchFlag|=-2,s}if(Vv(p)&&(p=p.__vccOpts),c){c=Ku(c);let{class:s,style:r}=c;s&&!Gt(s)&&(c.class=Ir(s)),Bt(r)&&(uu(r)&&!dt(r)&&(r=Qt({},r)),c.style=Fr(r))}const l=Gt(p)?1:Eu(p)?128:Fv(p)?64:Bt(p)?4:pt(p)?2:0;return Zt(p,c,i,d,t,l,e,!0)}function Ku(p){return p?uu(p)||$r in p?Qt({},p):p:null}function Je(p,c,i=!1){const{props:d,ref:t,patchFlag:e,children:l}=p,s=c?Dv(d||{},c):d;return{__v_isVNode:!0,__v_skip:!0,type:p.type,props:s,key:s&&$u(s),ref:c&&c.ref?i&&t?dt(t)?t.concat(nr(c)):[t,nr(c)]:nr(c):t,scopeId:p.scopeId,slotScopeIds:p.slotScopeIds,children:l,target:p.target,targetAnchor:p.targetAnchor,staticCount:p.staticCount,shapeFlag:p.shapeFlag,patchFlag:c&&p.type!==oe?e===-1?16:e|16:e,dynamicProps:p.dynamicProps,dynamicChildren:p.dynamicChildren,appContext:p.appContext,dirs:p.dirs,transition:p.transition,component:p.component,suspense:p.suspense,ssContent:p.ssContent&&Je(p.ssContent),ssFallback:p.ssFallback&&Je(p.ssFallback),el:p.el,anchor:p.anchor}}function Wo(p=" ",c=0){return Xt(is,null,p,c)}function iS(p="",c=!1){return c?(Ge(),Yn(re,null,p)):Xt(re,null,p)}function me(p){return p==null||typeof p=="boolean"?Xt(re):dt(p)?Xt(oe,null,p.slice()):typeof p=="object"?oi(p):Xt(is,null,String(p))}function oi(p){return p.el===null||p.memo?p:Je(p)}function Ho(p,c){let i=0;const{shapeFlag:d}=p;if(c==null)c=null;else if(dt(c))i=16;else if(typeof c=="object")if(d&65){const t=c.default;t&&(t._c&&(t._d=!1),Ho(p,t()),t._c&&(t._d=!0));return}else{i=32;const t=c._;!t&&!($r in c)?c._ctx=ye:t===3&&ye&&(ye.slots._===1?c._=1:(c._=2,p.patchFlag|=1024))}else pt(c)?(c={default:c,_ctx:ye},i=32):(c=String(c),d&64?(i=16,c=[Wo(c)]):i=8);p.children=c,p.shapeFlag|=i}function Dv(...p){const c={};for(let i=0;i<p.length;i++){const d=p[i];for(const t in d)if(t==="class")c.class!==d.class&&(c.class=Ir([c.class,d.class]));else if(t==="style")c.style=Fr([c.style,d.style]);else if(vs(t)){const e=c[t],l=d[t];l&&e!==l&&!(dt(e)&&e.includes(l))&&(c[t]=e?[].concat(e,l):l)}else t!==""&&(c[t]=d[t])}return c}function ie(p,c,i,d=null){Ee(p,c,7,[i,d])}const wv=Vu();let Bv=0;function bv(p,c,i){const d=p.type,t=(c?c.appContext:p.appContext)||wv,e={uid:Bv++,vnode:p,type:d,parent:c,appContext:t,root:null,next:null,subTree:null,effect:null,update:null,scope:new sc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:c?c.provides:Object.create(t.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nu(d,t),emitsOptions:Su(d,t),emit:null,emitted:null,propsDefaults:Pt,inheritAttrs:d.inheritAttrs,ctx:Pt,data:Pt,props:Pt,attrs:Pt,slots:Pt,refs:Pt,setupState:Pt,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return e.ctx={_:e},e.root=c?c.root:e,e.emit=Xc.bind(null,e),p.ce&&p.ce(e),e}let Ut=null;const ms=()=>Ut||ye,rn=p=>{Ut=p,p.scope.on()},Bi=()=>{Ut&&Ut.scope.off(),Ut=null};function Zu(p){return p.vnode.shapeFlag&4}let ss=!1;function Nv(p,c=!1){ss=c;const{props:i,children:d}=p.vnode,t=Zu(p);yv(p,i,t,c),Ev(p,d);const e=t?Gv(p,c):void 0;return ss=!1,e}function Gv(p,c){const i=p.type;p.accessCache=Object.create(null),p.proxy=Io(new Proxy(p.ctx,cv));const{setup:d}=i;if(d){const t=p.setupContext=d.length>1?Uv(p):null;rn(p),fn();const e=di(d,p,0,[p.props,t]);if(dn(),Bi(),Q0(e)){if(e.then(Bi,Bi),c)return e.then(l=>{Qa(p,l,c)}).catch(l=>{gs(l,p,0)});p.asyncDep=e}else Qa(p,e,c)}else Ju(p,c)}function Qa(p,c,i){pt(c)?p.type.__ssrInlineRender?p.ssrRender=c:p.render=c:Bt(c)&&(p.setupState=vu(c)),Ju(p,i)}let Gl;function Ju(p,c,i){const d=p.type;if(!p.render){if(!c&&Gl&&!d.render){const t=d.template;if(t){const{isCustomElement:e,compilerOptions:l}=p.appContext.config,{delimiters:s,compilerOptions:r}=d,a=Qt(Qt({isCustomElement:e,delimiters:s},l),r);d.render=Gl(t,a)}}p.render=d.render||Le}rn(p),fn(),vv(p),dn(),Bi()}function zv(p){return new Proxy(p.attrs,{get(c,i){return he(p,"get","$attrs"),c[i]}})}function Uv(p){const c=d=>{p.exposed=d||{}};let i;return{get attrs(){return i||(i=zv(p))},slots:p.slots,emit:p.emit,expose:c}}function Kr(p){if(p.exposed)return p.exposeProxy||(p.exposeProxy=new Proxy(vu(Io(p.exposed)),{get(c,i){if(i in c)return c[i];if(i in fr)return fr[i](p)}}))}function ka(p,c=!0){return pt(p)?p.displayName||p.name:p.name||c&&p.__name}function Vv(p){return pt(p)&&"__vccOpts"in p}const Kt=(p,c)=>Gc(p,c,ss);function Se(p,c,i){const d=arguments.length;return d===2?Bt(c)&&!dt(c)?ns(c)?Xt(p,null,[c]):Xt(p,c):Xt(p,null,c):(d>3?i=Array.prototype.slice.call(arguments,2):d===3&&ns(i)&&(i=[i]),Xt(p,c,i))}const Yv="3.2.37",Xv="http://www.w3.org/2000/svg",Li=typeof document!="undefined"?document:null,zl=Li&&Li.createElement("template"),Wv={insert:(p,c,i)=>{c.insertBefore(p,i||null)},remove:p=>{const c=p.parentNode;c&&c.removeChild(p)},createElement:(p,c,i,d)=>{const t=c?Li.createElementNS(Xv,p):Li.createElement(p,i?{is:i}:void 0);return p==="select"&&d&&d.multiple!=null&&t.setAttribute("multiple",d.multiple),t},createText:p=>Li.createTextNode(p),createComment:p=>Li.createComment(p),setText:(p,c)=>{p.nodeValue=c},setElementText:(p,c)=>{p.textContent=c},parentNode:p=>p.parentNode,nextSibling:p=>p.nextSibling,querySelector:p=>Li.querySelector(p),setScopeId(p,c){p.setAttribute(c,"")},cloneNode(p){const c=p.cloneNode(!0);return"_value"in p&&(c._value=p._value),c},insertStaticContent(p,c,i,d,t,e){const l=i?i.previousSibling:c.lastChild;if(t&&(t===e||t.nextSibling))for(;c.insertBefore(t.cloneNode(!0),i),!(t===e||!(t=t.nextSibling)););else{zl.innerHTML=d?`<svg>${p}</svg>`:p;const s=zl.content;if(d){const r=s.firstChild;for(;r.firstChild;)s.appendChild(r.firstChild);s.removeChild(r)}c.insertBefore(s,i)}return[l?l.nextSibling:c.firstChild,i?i.previousSibling:c.lastChild]}};function Hv(p,c,i){const d=p._vtc;d&&(c=(c?[c,...d]:[...d]).join(" ")),c==null?p.removeAttribute("class"):i?p.setAttribute("class",c):p.className=c}function $v(p,c,i){const d=p.style,t=Gt(i);if(i&&!t){for(const e in i)qa(d,e,i[e]);if(c&&!Gt(c))for(const e in c)i[e]==null&&qa(d,e,"")}else{const e=d.display;t?c!==i&&(d.cssText=i):c&&p.removeAttribute("style"),"_vod"in p&&(d.display=e)}}const Ul=/\s*!important$/;function qa(p,c,i){if(dt(i))i.forEach(d=>qa(p,c,d));else if(i==null&&(i=""),c.startsWith("--"))p.setProperty(c,i);else{const d=Kv(p,c);Ul.test(i)?p.setProperty(un(d),i.replace(Ul,""),"important"):p[d]=i}}const Vl=["Webkit","Moz","ms"],ha={};function Kv(p,c){const i=ha[c];if(i)return i;let d=Ue(c);if(d!=="filter"&&d in p)return ha[c]=d;d=br(d);for(let t=0;t<Vl.length;t++){const e=Vl[t]+d;if(e in p)return ha[c]=e}return c}const Yl="http://www.w3.org/1999/xlink";function Zv(p,c,i,d,t){if(d&&c.startsWith("xlink:"))i==null?p.removeAttributeNS(Yl,c.slice(6,c.length)):p.setAttributeNS(Yl,c,i);else{const e=Hd(c);i==null||e&&!J0(i)?p.removeAttribute(c):p.setAttribute(c,e?"":i)}}function Jv(p,c,i,d,t,e,l){if(c==="innerHTML"||c==="textContent"){d&&l(d,t,e),p[c]=i==null?"":i;return}if(c==="value"&&p.tagName!=="PROGRESS"&&!p.tagName.includes("-")){p._value=i;const r=i==null?"":i;(p.value!==r||p.tagName==="OPTION")&&(p.value=r),i==null&&p.removeAttribute(c);return}let s=!1;if(i===""||i==null){const r=typeof p[c];r==="boolean"?i=J0(i):i==null&&r==="string"?(i="",s=!0):r==="number"&&(i=0,s=!0)}try{p[c]=i}catch{}s&&p.removeAttribute(c)}const[ju,jv]=(()=>{let p=Date.now,c=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(p=performance.now.bind(performance));const i=navigator.userAgent.match(/firefox\/(\d+)/i);c=!!(i&&Number(i[1])<=53)}return[p,c]})();let _a=0;const Qv=Promise.resolve(),kv=()=>{_a=0},qv=()=>_a||(Qv.then(kv),_a=ju());function Oi(p,c,i,d){p.addEventListener(c,i,d)}function _v(p,c,i,d){p.removeEventListener(c,i,d)}function tp(p,c,i,d,t=null){const e=p._vei||(p._vei={}),l=e[c];if(d&&l)l.value=d;else{const[s,r]=ep(c);if(d){const a=e[c]=ip(d,t);Oi(p,s,a,r)}else l&&(_v(p,s,l,r),e[c]=void 0)}}const Xl=/(?:Once|Passive|Capture)$/;function ep(p){let c;if(Xl.test(p)){c={};let i;for(;i=p.match(Xl);)p=p.slice(0,p.length-i[0].length),c[i[0].toLowerCase()]=!0}return[un(p.slice(2)),c]}function ip(p,c){const i=d=>{const t=d.timeStamp||ju();(jv||t>=i.attached-1)&&Ee(np(d,i.value),c,5,[d])};return i.value=p,i.attached=qv(),i}function np(p,c){if(dt(c)){const i=p.stopImmediatePropagation;return p.stopImmediatePropagation=()=>{i.call(p),p._stopped=!0},c.map(d=>t=>!t._stopped&&d&&d(t))}else return c}const Wl=/^on[a-z]/,sp=(p,c,i,d,t=!1,e,l,s,r)=>{c==="class"?Hv(p,d,t):c==="style"?$v(p,i,d):vs(c)?Eo(c)||tp(p,c,i,d,l):(c[0]==="."?(c=c.slice(1),!0):c[0]==="^"?(c=c.slice(1),!1):rp(p,c,d,t))?Jv(p,c,d,e,l,s,r):(c==="true-value"?p._trueValue=d:c==="false-value"&&(p._falseValue=d),Zv(p,c,d,t))};function rp(p,c,i,d){return d?!!(c==="innerHTML"||c==="textContent"||c in p&&Wl.test(c)&&pt(i)):c==="spellcheck"||c==="draggable"||c==="translate"||c==="form"||c==="list"&&p.tagName==="INPUT"||c==="type"&&p.tagName==="TEXTAREA"||Wl.test(c)&&Gt(i)?!1:c in p}const ti="transition",xn="animation",$o=(p,{slots:c})=>Se(Mu,ap(p),c);$o.displayName="Transition";const Qu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};$o.props=Qt({},Mu.props,Qu);const Si=(p,c=[])=>{dt(p)?p.forEach(i=>i(...c)):p&&p(...c)},Hl=p=>p?dt(p)?p.some(c=>c.length>1):p.length>1:!1;function ap(p){const c={};for(const L in p)L in Qu||(c[L]=p[L]);if(p.css===!1)return c;const{name:i="v",type:d,duration:t,enterFromClass:e=`${i}-enter-from`,enterActiveClass:l=`${i}-enter-active`,enterToClass:s=`${i}-enter-to`,appearFromClass:r=e,appearActiveClass:a=l,appearToClass:o=s,leaveFromClass:n=`${i}-leave-from`,leaveActiveClass:u=`${i}-leave-active`,leaveToClass:h=`${i}-leave-to`}=p,f=op(t),v=f&&f[0],m=f&&f[1],{onBeforeEnter:g,onEnter:x,onEnterCancelled:y,onLeave:T,onLeaveCancelled:S,onBeforeAppear:E=g,onAppear:C=x,onAppearCancelled:A=y}=c,P=(L,O,I)=>{Ei(L,O?o:s),Ei(L,O?a:l),I&&I()},R=(L,O)=>{L._isLeaving=!1,Ei(L,n),Ei(L,h),Ei(L,u),O&&O()},M=L=>(O,I)=>{const w=L?C:x,G=()=>P(O,L,I);Si(w,[O,G]),$l(()=>{Ei(O,L?r:e),ei(O,L?o:s),Hl(w)||Kl(O,d,v,G)})};return Qt(c,{onBeforeEnter(L){Si(g,[L]),ei(L,e),ei(L,l)},onBeforeAppear(L){Si(E,[L]),ei(L,r),ei(L,a)},onEnter:M(!1),onAppear:M(!0),onLeave(L,O){L._isLeaving=!0;const I=()=>R(L,O);ei(L,n),up(),ei(L,u),$l(()=>{!L._isLeaving||(Ei(L,n),ei(L,h),Hl(T)||Kl(L,d,m,I))}),Si(T,[L,I])},onEnterCancelled(L){P(L,!1),Si(y,[L])},onAppearCancelled(L){P(L,!0),Si(A,[L])},onLeaveCancelled(L){R(L),Si(S,[L])}})}function op(p){if(p==null)return null;if(Bt(p))return[ua(p.enter),ua(p.leave)];{const c=ua(p);return[c,c]}}function ua(p){return nn(p)}function ei(p,c){c.split(/\s+/).forEach(i=>i&&p.classList.add(i)),(p._vtc||(p._vtc=new Set)).add(c)}function Ei(p,c){c.split(/\s+/).forEach(d=>d&&p.classList.remove(d));const{_vtc:i}=p;i&&(i.delete(c),i.size||(p._vtc=void 0))}function $l(p){requestAnimationFrame(()=>{requestAnimationFrame(p)})}let lp=0;function Kl(p,c,i,d){const t=p._endId=++lp,e=()=>{t===p._endId&&d()};if(i)return setTimeout(e,i);const{type:l,timeout:s,propCount:r}=hp(p,c);if(!l)return d();const a=l+"end";let o=0;const n=()=>{p.removeEventListener(a,u),e()},u=h=>{h.target===p&&++o>=r&&n()};setTimeout(()=>{o<r&&n()},s+1),p.addEventListener(a,u)}function hp(p,c){const i=window.getComputedStyle(p),d=f=>(i[f]||"").split(", "),t=d(ti+"Delay"),e=d(ti+"Duration"),l=Zl(t,e),s=d(xn+"Delay"),r=d(xn+"Duration"),a=Zl(s,r);let o=null,n=0,u=0;c===ti?l>0&&(o=ti,n=l,u=e.length):c===xn?a>0&&(o=xn,n=a,u=r.length):(n=Math.max(l,a),o=n>0?l>a?ti:xn:null,u=o?o===ti?e.length:r.length:0);const h=o===ti&&/\b(transform|all)(,|$)/.test(i[ti+"Property"]);return{type:o,timeout:n,propCount:u,hasTransform:h}}function Zl(p,c){for(;p.length<c.length;)p=p.concat(p);return Math.max(...c.map((i,d)=>Jl(i)+Jl(p[d])))}function Jl(p){return Number(p.slice(0,-1).replace(",","."))*1e3}function up(){return document.body.offsetHeight}const vr=p=>{const c=p.props["onUpdate:modelValue"]||!1;return dt(c)?i=>Qi(c,i):c};function fp(p){p.target.composing=!0}function jl(p){const c=p.target;c.composing&&(c.composing=!1,c.dispatchEvent(new Event("input")))}const nS={created(p,{modifiers:{lazy:c,trim:i,number:d}},t){p._assign=vr(t);const e=d||t.props&&t.props.type==="number";Oi(p,c?"change":"input",l=>{if(l.target.composing)return;let s=p.value;i&&(s=s.trim()),e&&(s=nn(s)),p._assign(s)}),i&&Oi(p,"change",()=>{p.value=p.value.trim()}),c||(Oi(p,"compositionstart",fp),Oi(p,"compositionend",jl),Oi(p,"change",jl))},mounted(p,{value:c}){p.value=c==null?"":c},beforeUpdate(p,{value:c,modifiers:{lazy:i,trim:d,number:t}},e){if(p._assign=vr(e),p.composing||document.activeElement===p&&p.type!=="range"&&(i||d&&p.value.trim()===c||(t||p.type==="number")&&nn(p.value)===c))return;const l=c==null?"":c;p.value!==l&&(p.value=l)}},sS={deep:!0,created(p,{value:c,modifiers:{number:i}},d){const t=wr(c);Oi(p,"change",()=>{const e=Array.prototype.filter.call(p.options,l=>l.selected).map(l=>i?nn(pr(l)):pr(l));p._assign(p.multiple?t?new Set(e):e:e[0])}),p._assign=vr(d)},mounted(p,{value:c}){Ql(p,c)},beforeUpdate(p,c,i){p._assign=vr(i)},updated(p,{value:c}){Ql(p,c)}};function Ql(p,c){const i=p.multiple;if(!(i&&!dt(c)&&!wr(c))){for(let d=0,t=p.options.length;d<t;d++){const e=p.options[d],l=pr(e);if(i)dt(c)?e.selected=Qd(c,l)>-1:e.selected=c.has(l);else if(Dr(pr(e),c)){p.selectedIndex!==d&&(p.selectedIndex=d);return}}!i&&p.selectedIndex!==-1&&(p.selectedIndex=-1)}}function pr(p){return"_value"in p?p._value:p.value}const rS={beforeMount(p,{value:c},{transition:i}){p._vod=p.style.display==="none"?"":p.style.display,i&&c?i.beforeEnter(p):yn(p,c)},mounted(p,{value:c},{transition:i}){i&&c&&i.enter(p)},updated(p,{value:c,oldValue:i},{transition:d}){!c!=!i&&(d?c?(d.beforeEnter(p),yn(p,!0),d.enter(p)):d.leave(p,()=>{yn(p,!1)}):yn(p,c))},beforeUnmount(p,{value:c}){yn(p,c)}};function yn(p,c){p.style.display=c?p._vod:"none"}const ku=Qt({patchProp:sp},Wv);let Xn,kl=!1;function dp(){return Xn||(Xn=Rv(ku))}function cp(){return Xn=kl?Xn:Lv(ku),kl=!0,Xn}const vp=(...p)=>{const c=dp().createApp(...p),{mount:i}=c;return c.mount=d=>{const t=qu(d);if(!t)return;const e=c._component;!pt(e)&&!e.render&&!e.template&&(e.template=t.innerHTML),t.innerHTML="";const l=i(t,!1,t instanceof SVGElement);return t instanceof Element&&(t.removeAttribute("v-cloak"),t.setAttribute("data-v-app","")),l},c},pp=(...p)=>{const c=cp().createApp(...p),{mount:i}=c;return c.mount=d=>{const t=qu(d);if(t)return i(t,!0,t instanceof SVGElement)},c};function qu(p){return Gt(p)?document.querySelector(p):p}const gp=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,mp=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,xp=/^["{[]|^-?[0-9][0-9.]{0,14}$/;function yp(p,c){if(!(p==="__proto__"||p==="constructor"))return c}function Tp(p){if(typeof p!="string")return p;const c=p.toLowerCase();if(c==="true")return!0;if(c==="false")return!1;if(c==="null")return null;if(c==="nan")return NaN;if(c==="infinity")return 1/0;if(c!=="undefined"){if(!xp.test(p))return p;try{return gp.test(p)||mp.test(p)?JSON.parse(p,yp):JSON.parse(p)}catch{return p}}}const Sp=/#/g,Ep=/&/g,Cp=/=/g,_u=/\+/g,Ap=/%5B/gi,Pp=/%5D/gi,Mp=/%5E/gi,Rp=/%60/gi,Lp=/%7B/gi,Op=/%7C/gi,Fp=/%7D/gi,Ip=/%20/gi;function Dp(p){return encodeURI(""+p).replace(Op,"|").replace(Ap,"[").replace(Pp,"]")}function to(p){return Dp(p).replace(_u,"%2B").replace(Ip,"+").replace(Sp,"%23").replace(Ep,"%26").replace(Rp,"`").replace(Lp,"{").replace(Fp,"}").replace(Mp,"^")}function fa(p){return to(p).replace(Cp,"%3D")}function tf(p=""){try{return decodeURIComponent(""+p)}catch{return""+p}}function wp(p){return tf(p.replace(_u," "))}function Bp(p=""){const c={};p[0]==="?"&&(p=p.substr(1));for(const i of p.split("&")){const d=i.match(/([^=]+)=?(.*)/)||[];if(d.length<2)continue;const t=tf(d[1]);if(t==="__proto__"||t==="constructor")continue;const e=wp(d[2]||"");c[t]?Array.isArray(c[t])?c[t].push(e):c[t]=[c[t],e]:c[t]=e}return c}function bp(p,c){return(typeof c=="number"||typeof c=="boolean")&&(c=String(c)),c?Array.isArray(c)?c.map(i=>`${fa(p)}=${to(i)}`).join("&"):`${fa(p)}=${to(c)}`:fa(p)}function Np(p){return Object.keys(p).map(c=>bp(c,p[c])).join("&")}const Gp=/^\w+:(\/\/)?/,zp=/^\/\/[^/]+/;function ef(p,c=!1){return Gp.test(p)||c&&zp.test(p)}const Up=/\/$|\/\?/;function eo(p="",c=!1){return c?Up.test(p):p.endsWith("/")}function nf(p="",c=!1){if(!c)return(eo(p)?p.slice(0,-1):p)||"/";if(!eo(p,!0))return p||"/";const[i,...d]=p.split("?");return(i.slice(0,-1)||"/")+(d.length?`?${d.join("?")}`:"")}function Vp(p="",c=!1){if(!c)return p.endsWith("/")?p:p+"/";if(eo(p,!0))return p||"/";const[i,...d]=p.split("?");return i+"/"+(d.length?`?${d.join("?")}`:"")}function Yp(p=""){return p.startsWith("/")}function Xp(p=""){return(Yp(p)?p.substr(1):p)||"/"}function Wp(p,c){if(sf(c))return p;const i=nf(c);return p.startsWith(i)?p:Ko(i,p)}function ql(p,c){if(sf(c))return p;const i=nf(c);return p.startsWith(i)?p.substr(i.length)||"/":p}function Hp(p,c){const i=rf(p),d={...Bp(i.search),...c};return i.search=Np(d),Kp(i)}function sf(p){return!p||p==="/"}function $p(p){return p&&p!=="/"}function Ko(p,...c){let i=p||"";for(const d of c.filter($p))i=i?Vp(i)+Xp(d):d;return i}function rf(p="",c){if(!ef(p,!0))return c?rf(c+p):_l(p);const[i="",d,t=""]=(p.replace(/\\/g,"/").match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[e="",l=""]=(t.match(/([^/?#]*)(.*)?/)||[]).splice(1),{pathname:s,search:r,hash:a}=_l(l);return{protocol:i,auth:d?d.substr(0,d.length-1):"",host:e,pathname:s,search:r,hash:a}}function _l(p=""){const[c="",i="",d=""]=(p.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:c,search:i,hash:d}}function Kp(p){const c=p.pathname+(p.search?(p.search.startsWith("?")?"":"?")+p.search:"")+p.hash;return p.protocol?p.protocol+"//"+(p.auth?p.auth+"@":"")+p.host+c:c}class Zp extends Error{constructor(){super(...arguments),this.name="FetchError"}}function Jp(p,c,i){let d="";p&&i&&(d=`${i.status} ${i.statusText} (${p.toString()})`),c&&(d=`${c.message} (${d})`);const t=new Zp(d);return Object.defineProperty(t,"request",{get(){return p}}),Object.defineProperty(t,"response",{get(){return i}}),Object.defineProperty(t,"data",{get(){return i&&i._data}}),t}const jp=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function th(p="GET"){return jp.has(p.toUpperCase())}function Qp(p){if(p===void 0)return!1;const c=typeof p;return c==="string"||c==="number"||c==="boolean"||c===null?!0:c!=="object"?!1:Array.isArray(p)?!0:p.constructor&&p.constructor.name==="Object"||typeof p.toJSON=="function"}const kp=new Set(["image/svg","application/xml","application/xhtml","application/html"]),qp=/^application\/(?:[\w!#$%&*`\-.^~]*\+)?json(;.+)?$/i;function _p(p=""){if(!p)return"json";const c=p.split(";").shift();return qp.test(c)?"json":kp.has(c)||c.startsWith("text/")?"text":"blob"}const tg=new Set([408,409,425,429,500,502,503,504]);function af(p){const{fetch:c,Headers:i}=p;function d(l){if(l.options.retry!==!1){const r=typeof l.options.retry=="number"?l.options.retry:th(l.options.method)?0:1,a=l.response&&l.response.status||500;if(r>0&&tg.has(a))return t(l.request,{...l.options,retry:r-1})}const s=Jp(l.request,l.error,l.response);throw Error.captureStackTrace&&Error.captureStackTrace(s,t),s}const t=async function(s,r={}){const a={request:s,options:{...p.defaults,...r},response:void 0,error:void 0};a.options.onRequest&&await a.options.onRequest(a),typeof a.request=="string"&&(a.options.baseURL&&(a.request=Wp(a.request,a.options.baseURL)),a.options.params&&(a.request=Hp(a.request,a.options.params)),a.options.body&&th(a.options.method)&&Qp(a.options.body)&&(a.options.body=typeof a.options.body=="string"?a.options.body:JSON.stringify(a.options.body),a.options.headers=new i(a.options.headers),a.options.headers.has("content-type")||a.options.headers.set("content-type","application/json"),a.options.headers.has("accept")||a.options.headers.set("accept","application/json"))),a.response=await c(a.request,a.options).catch(async n=>(a.error=n,a.options.onRequestError&&await a.options.onRequestError(a),d(a)));const o=(a.options.parseResponse?"json":a.options.responseType)||_p(a.response.headers.get("content-type")||"");if(o==="json"){const n=await a.response.text(),u=a.options.parseResponse||Tp;a.response._data=u(n)}else a.response._data=await a.response[o]();return a.options.onResponse&&await a.options.onResponse(a),a.response.ok||a.options.onResponseError&&await a.options.onResponseError(a),a.response.ok?a.response:d(a)},e=function(s,r){return t(s,r).then(a=>a._data)};return e.raw=t,e.create=(l={})=>af({...p,defaults:{...p.defaults,...l}}),e}const of=function(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}(),eg=of.fetch||(()=>Promise.reject(new Error("[ohmyfetch] global.fetch is not supported!"))),ig=of.Headers,ng=af({fetch:eg,Headers:ig}),sg=()=>{var p;return((p=window==null?void 0:window.__NUXT__)==null?void 0:p.config)||{}},gr=sg().app,rg=()=>gr.baseURL,ag=()=>gr.buildAssetsDir,xs=(...p)=>Ko(og(),ag(),...p),og=(...p)=>{const c=gr.cdnURL||gr.baseURL;return p.length?Ko(c,...p):c};function io(p,c={},i){for(const d in p){const t=p[d],e=i?`${i}:${d}`:d;typeof t=="object"&&t!==null?io(t,c,e):typeof t=="function"&&(c[e]=t)}return c}function lg(p,c){return p.reduce((i,d)=>i.then(()=>d.apply(void 0,c)),Promise.resolve(null))}function hg(p,c){return Promise.all(p.map(i=>i.apply(void 0,c)))}class ug{constructor(){this._hooks={},this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(c,i){if(!c||typeof i!="function")return()=>{};const d=c;let t;for(;this._deprecatedHooks[c];){const e=this._deprecatedHooks[c];typeof e=="string"?t={to:e}:t=e,c=t.to}return t&&(t.message?console.warn(t.message):console.warn(`${d} hook has been deprecated`+(t.to?`, please use ${t.to}`:""))),this._hooks[c]=this._hooks[c]||[],this._hooks[c].push(i),()=>{i&&(this.removeHook(c,i),i=null)}}hookOnce(c,i){let d,t=(...e)=>(d(),d=null,t=null,i(...e));return d=this.hook(c,t),d}removeHook(c,i){if(this._hooks[c]){const d=this._hooks[c].indexOf(i);d!==-1&&this._hooks[c].splice(d,1),this._hooks[c].length===0&&delete this._hooks[c]}}deprecateHook(c,i){this._deprecatedHooks[c]=i}deprecateHooks(c){Object.assign(this._deprecatedHooks,c)}addHooks(c){const i=io(c),d=Object.keys(i).map(t=>this.hook(t,i[t]));return()=>{d.splice(0,d.length).forEach(t=>t())}}removeHooks(c){const i=io(c);for(const d in i)this.removeHook(d,i[d])}callHook(c,...i){return lg(this._hooks[c]||[],i)}callHookParallel(c,...i){return hg(this._hooks[c]||[],i)}callHookWith(c,i,...d){return c(this._hooks[i]||[],d)}}function fg(){return new ug}function dg(){let p=null,c=!1;const i=d=>{if(p&&p!==d)throw new Error("Context conflict")};return{use:()=>p,set:(d,t)=>{t||i(d),p=d,c=!0},unset:()=>{p=null,c=!1},call:(d,t)=>{i(d),p=d;try{return t()}finally{c||(p=null)}},async callAsync(d,t){p=d;const e=()=>{p=d},l=()=>p===d?e:void 0;nh.add(l);try{const s=t();return c||(p=null),await s}finally{nh.delete(l)}}}}function cg(){const p={};return{get(c){return p[c]||(p[c]=dg()),p[c],p[c]}}}const mr=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof global!="undefined"?global:typeof window!="undefined"?window:{},eh="__unctx__",vg=mr[eh]||(mr[eh]=cg()),pg=p=>vg.get(p),ih="__unctx_async_handlers__",nh=mr[ih]||(mr[ih]=new Set);function Fn(p,c={}){const i=function(){};i.prototype.name=p;const d={};return new Proxy(i,{get(t,e){return e==="caller"?null:e==="__createMock__"?Fn:e in c?c[e]:d[e]=d[e]||Fn(`${p}.${e.toString()}`)},apply(t,e,l){return Fn(`${p}()`)},construct(t,e,l){return Fn(`[${p}]`)},enumerate(t){return[]}})}var gg=Fn("mock");function Us(p){return console.warn(p),gg}const mg=new Set(["store","spa","fetchCounters"]),xg=new Set(["isHMR","base","payload","from","next","error","redirect","redirected","enablePreview","$preview","beforeNuxtRender","beforeSerialize"]),yg=new Set(["req","res","ssrContext"]),Tg=["route","params","query"],sh={isClient:!0,isServer:!1,isDev:!1,isStatic:void 0,target:"server",modern:!1},Sg=p=>{p._legacyContext=new Proxy(p,{get(c,i){if(mg.has(i))return Us(`Accessing ${i} is not supported in Nuxt 3.`);if(xg.has(i))return Us(`Accessing ${i} is not yet supported in Nuxt 3.`);if(Tg.includes(i)){if(!("$router"in p))return Us("vue-router is not being used in this project.");switch(i){case"route":return c.$router.currentRoute.value;case"params":case"query":return c.$router.currentRoute.value[i]}}if(i==="$config"||i==="env")return uf();if(i in sh)return sh[i];if(!yg.has(i))return i==="ssrContext"?c._legacyContext:c.ssrContext&&i in c.ssrContext?c.ssrContext[i]:i==="nuxt"?c.payload:i==="nuxtState"?c.payload.data:i in p.vueApp?p.vueApp[i]:i in p?p[i]:Us(`Accessing ${i} is not supported in Nuxt3.`)}}),p.hook("app:created",()=>{const c=new Proxy(p.vueApp,{get(i,d){return["$root","constructor"].includes(d)?c:i[d]||p[d]}});window[`$${p.globalName}`]=c})},lf=pg("nuxt-app"),hf="__nuxt_plugin";function Eg(p){const c={provide:void 0,globalName:"nuxt",payload:Ne({data:{},state:{},_errors:{},...window.__NUXT__}),isHydrating:!0,_asyncDataPromises:{},...p};c.hooks=fg(),c.hook=c.hooks.hook,c.callHook=c.hooks.callHook,c.provide=(t,e)=>{const l="$"+t;Vs(c,l,e),Vs(c.vueApp.config.globalProperties,l,e)},Vs(c.vueApp,"$nuxt",c),Vs(c.vueApp.config.globalProperties,"$nuxt",c),c.ssrContext&&(c.ssrContext.nuxt=c);const i=Ne(c.payload.config),d=new Proxy(i,{get(t,e){var l;return e==="public"?t.public:(l=t[e])!=null?l:t.public[e]},set(t,e,l){return e==="public"||e==="app"?!1:(t[e]=l,t.public[e]=l,!0)}});return c.provide("config",d),c}async function Cg(p,c){if(typeof c!="function")return;const{provide:i}=await Fi(p,c,[p])||{};if(i&&typeof i=="object")for(const d in i)p.provide(d,i[d])}async function Ag(p,c){for(const i of c)await Cg(p,i)}function Pg(p){let c=!1;const i=p.map(d=>typeof d!="function"?()=>{}:Mg(d)?(c=!0,t=>d(t._legacyContext,t.provide)):d);return c&&i.unshift(Sg),i}function Zr(p){return p[hf]=!0,p}function Mg(p){return!p[hf]}function Fi(p,c,i){const d=()=>i?c(...i):c();return lf.set(p),d()}function Ce(){const p=ms();if(!p){const c=lf.use();if(!c)throw new Error("nuxt instance unavailable");return c}return p.appContext.app.$nuxt}function uf(){return Ce().$config}function Vs(p,c,i){Object.defineProperty(p,c,{get:()=>i})}/*!
  * vue-router v4.0.16
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ff=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",cn=p=>ff?Symbol(p):"_vr_"+p,Rg=cn("rvlm"),rh=cn("rvd"),Zo=cn("r"),df=cn("rl"),no=cn("rvl"),Ki=typeof window!="undefined";function Lg(p){return p.__esModule||ff&&p[Symbol.toStringTag]==="Module"}const At=Object.assign;function da(p,c){const i={};for(const d in c){const t=c[d];i[d]=Array.isArray(t)?t.map(p):p(t)}return i}const Wn=()=>{},Og=/\/$/,Fg=p=>p.replace(Og,"");function ca(p,c,i="/"){let d,t={},e="",l="";const s=c.indexOf("?"),r=c.indexOf("#",s>-1?s:0);return s>-1&&(d=c.slice(0,s),e=c.slice(s+1,r>-1?r:c.length),t=p(e)),r>-1&&(d=d||c.slice(0,r),l=c.slice(r,c.length)),d=Bg(d!=null?d:c,i),{fullPath:d+(e&&"?")+e+l,path:d,query:t,hash:l}}function Ig(p,c){const i=c.query?p(c.query):"";return c.path+(i&&"?")+i+(c.hash||"")}function ah(p,c){return!c||!p.toLowerCase().startsWith(c.toLowerCase())?p:p.slice(c.length)||"/"}function Dg(p,c,i){const d=c.matched.length-1,t=i.matched.length-1;return d>-1&&d===t&&an(c.matched[d],i.matched[t])&&cf(c.params,i.params)&&p(c.query)===p(i.query)&&c.hash===i.hash}function an(p,c){return(p.aliasOf||p)===(c.aliasOf||c)}function cf(p,c){if(Object.keys(p).length!==Object.keys(c).length)return!1;for(const i in p)if(!wg(p[i],c[i]))return!1;return!0}function wg(p,c){return Array.isArray(p)?oh(p,c):Array.isArray(c)?oh(c,p):p===c}function oh(p,c){return Array.isArray(c)?p.length===c.length&&p.every((i,d)=>i===c[d]):p.length===1&&p[0]===c}function Bg(p,c){if(p.startsWith("/"))return p;if(!p)return c;const i=c.split("/"),d=p.split("/");let t=i.length-1,e,l;for(e=0;e<d.length;e++)if(l=d[e],!(t===1||l==="."))if(l==="..")t--;else break;return i.slice(0,t).join("/")+"/"+d.slice(e-(e===d.length?1:0)).join("/")}var rs;(function(p){p.pop="pop",p.push="push"})(rs||(rs={}));var Hn;(function(p){p.back="back",p.forward="forward",p.unknown=""})(Hn||(Hn={}));function bg(p){if(!p)if(Ki){const c=document.querySelector("base");p=c&&c.getAttribute("href")||"/",p=p.replace(/^\w+:\/\/[^\/]+/,"")}else p="/";return p[0]!=="/"&&p[0]!=="#"&&(p="/"+p),Fg(p)}const Ng=/^[^#]+#/;function Gg(p,c){return p.replace(Ng,"#")+c}function zg(p,c){const i=document.documentElement.getBoundingClientRect(),d=p.getBoundingClientRect();return{behavior:c.behavior,left:d.left-i.left-(c.left||0),top:d.top-i.top-(c.top||0)}}const Jr=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ug(p){let c;if("el"in p){const i=p.el,d=typeof i=="string"&&i.startsWith("#"),t=typeof i=="string"?d?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!t)return;c=zg(t,p)}else c=p;"scrollBehavior"in document.documentElement.style?window.scrollTo(c):window.scrollTo(c.left!=null?c.left:window.pageXOffset,c.top!=null?c.top:window.pageYOffset)}function lh(p,c){return(history.state?history.state.position-c:-1)+p}const so=new Map;function Vg(p,c){so.set(p,c)}function Yg(p){const c=so.get(p);return so.delete(p),c}let Xg=()=>location.protocol+"//"+location.host;function vf(p,c){const{pathname:i,search:d,hash:t}=c,e=p.indexOf("#");if(e>-1){let s=t.includes(p.slice(e))?p.slice(e).length:1,r=t.slice(s);return r[0]!=="/"&&(r="/"+r),ah(r,"")}return ah(i,p)+d+t}function Wg(p,c,i,d){let t=[],e=[],l=null;const s=({state:u})=>{const h=vf(p,location),f=i.value,v=c.value;let m=0;if(u){if(i.value=h,c.value=u,l&&l===f){l=null;return}m=v?u.position-v.position:0}else d(h);t.forEach(g=>{g(i.value,f,{delta:m,type:rs.pop,direction:m?m>0?Hn.forward:Hn.back:Hn.unknown})})};function r(){l=i.value}function a(u){t.push(u);const h=()=>{const f=t.indexOf(u);f>-1&&t.splice(f,1)};return e.push(h),h}function o(){const{history:u}=window;!u.state||u.replaceState(At({},u.state,{scroll:Jr()}),"")}function n(){for(const u of e)u();e=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",o)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",o),{pauseListeners:r,listen:a,destroy:n}}function hh(p,c,i,d=!1,t=!1){return{back:p,current:c,forward:i,replaced:d,position:window.history.length,scroll:t?Jr():null}}function Hg(p){const{history:c,location:i}=window,d={value:vf(p,i)},t={value:c.state};t.value||e(d.value,{back:null,current:d.value,forward:null,position:c.length-1,replaced:!0,scroll:null},!0);function e(r,a,o){const n=p.indexOf("#"),u=n>-1?(i.host&&document.querySelector("base")?p:p.slice(n))+r:Xg()+p+r;try{c[o?"replaceState":"pushState"](a,"",u),t.value=a}catch(h){console.error(h),i[o?"replace":"assign"](u)}}function l(r,a){const o=At({},c.state,hh(t.value.back,r,t.value.forward,!0),a,{position:t.value.position});e(r,o,!0),d.value=r}function s(r,a){const o=At({},t.value,c.state,{forward:r,scroll:Jr()});e(o.current,o,!0);const n=At({},hh(d.value,r,null),{position:o.position+1},a);e(r,n,!1),d.value=r}return{location:d,state:t,push:s,replace:l}}function $g(p){p=bg(p);const c=Hg(p),i=Wg(p,c.state,c.location,c.replace);function d(e,l=!0){l||i.pauseListeners(),history.go(e)}const t=At({location:"",base:p,go:d,createHref:Gg.bind(null,p)},c,i);return Object.defineProperty(t,"location",{enumerable:!0,get:()=>c.location.value}),Object.defineProperty(t,"state",{enumerable:!0,get:()=>c.state.value}),t}function Kg(p){return typeof p=="string"||p&&typeof p=="object"}function pf(p){return typeof p=="string"||typeof p=="symbol"}const ii={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},gf=cn("nf");var uh;(function(p){p[p.aborted=4]="aborted",p[p.cancelled=8]="cancelled",p[p.duplicated=16]="duplicated"})(uh||(uh={}));function on(p,c){return At(new Error,{type:p,[gf]:!0},c)}function ni(p,c){return p instanceof Error&&gf in p&&(c==null||!!(p.type&c))}const fh="[^/]+?",Zg={sensitive:!1,strict:!1,start:!0,end:!0},Jg=/[.+*?^${}()[\]/\\]/g;function jg(p,c){const i=At({},Zg,c),d=[];let t=i.start?"^":"";const e=[];for(const a of p){const o=a.length?[]:[90];i.strict&&!a.length&&(t+="/");for(let n=0;n<a.length;n++){const u=a[n];let h=40+(i.sensitive?.25:0);if(u.type===0)n||(t+="/"),t+=u.value.replace(Jg,"\\$&"),h+=40;else if(u.type===1){const{value:f,repeatable:v,optional:m,regexp:g}=u;e.push({name:f,repeatable:v,optional:m});const x=g||fh;if(x!==fh){h+=10;try{new RegExp(`(${x})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${f}" (${x}): `+T.message)}}let y=v?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;n||(y=m&&a.length<2?`(?:/${y})`:"/"+y),m&&(y+="?"),t+=y,h+=20,m&&(h+=-8),v&&(h+=-20),x===".*"&&(h+=-50)}o.push(h)}d.push(o)}if(i.strict&&i.end){const a=d.length-1;d[a][d[a].length-1]+=.7000000000000001}i.strict||(t+="/?"),i.end?t+="$":i.strict&&(t+="(?:/|$)");const l=new RegExp(t,i.sensitive?"":"i");function s(a){const o=a.match(l),n={};if(!o)return null;for(let u=1;u<o.length;u++){const h=o[u]||"",f=e[u-1];n[f.name]=h&&f.repeatable?h.split("/"):h}return n}function r(a){let o="",n=!1;for(const u of p){(!n||!o.endsWith("/"))&&(o+="/"),n=!1;for(const h of u)if(h.type===0)o+=h.value;else if(h.type===1){const{value:f,repeatable:v,optional:m}=h,g=f in a?a[f]:"";if(Array.isArray(g)&&!v)throw new Error(`Provided param "${f}" is an array but it is not repeatable (* or + modifiers)`);const x=Array.isArray(g)?g.join("/"):g;if(!x)if(m)u.length<2&&p.length>1&&(o.endsWith("/")?o=o.slice(0,-1):n=!0);else throw new Error(`Missing required param "${f}"`);o+=x}}return o}return{re:l,score:d,keys:e,parse:s,stringify:r}}function Qg(p,c){let i=0;for(;i<p.length&&i<c.length;){const d=c[i]-p[i];if(d)return d;i++}return p.length<c.length?p.length===1&&p[0]===40+40?-1:1:p.length>c.length?c.length===1&&c[0]===40+40?1:-1:0}function kg(p,c){let i=0;const d=p.score,t=c.score;for(;i<d.length&&i<t.length;){const e=Qg(d[i],t[i]);if(e)return e;i++}if(Math.abs(t.length-d.length)===1){if(dh(d))return 1;if(dh(t))return-1}return t.length-d.length}function dh(p){const c=p[p.length-1];return p.length>0&&c[c.length-1]<0}const qg={type:0,value:""},_g=/[a-zA-Z0-9_]/;function tm(p){if(!p)return[[]];if(p==="/")return[[qg]];if(!p.startsWith("/"))throw new Error(`Invalid path "${p}"`);function c(h){throw new Error(`ERR (${i})/"${a}": ${h}`)}let i=0,d=i;const t=[];let e;function l(){e&&t.push(e),e=[]}let s=0,r,a="",o="";function n(){!a||(i===0?e.push({type:0,value:a}):i===1||i===2||i===3?(e.length>1&&(r==="*"||r==="+")&&c(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),e.push({type:1,value:a,regexp:o,repeatable:r==="*"||r==="+",optional:r==="*"||r==="?"})):c("Invalid state to consume buffer"),a="")}function u(){a+=r}for(;s<p.length;){if(r=p[s++],r==="\\"&&i!==2){d=i,i=4;continue}switch(i){case 0:r==="/"?(a&&n(),l()):r===":"?(n(),i=1):u();break;case 4:u(),i=d;break;case 1:r==="("?i=2:_g.test(r)?u():(n(),i=0,r!=="*"&&r!=="?"&&r!=="+"&&s--);break;case 2:r===")"?o[o.length-1]=="\\"?o=o.slice(0,-1)+r:i=3:o+=r;break;case 3:n(),i=0,r!=="*"&&r!=="?"&&r!=="+"&&s--,o="";break;default:c("Unknown state");break}}return i===2&&c(`Unfinished custom RegExp for param "${a}"`),n(),l(),t}function em(p,c,i){const d=jg(tm(p.path),i),t=At(d,{record:p,parent:c,children:[],alias:[]});return c&&!t.record.aliasOf==!c.record.aliasOf&&c.children.push(t),t}function im(p,c){const i=[],d=new Map;c=vh({strict:!1,end:!0,sensitive:!1},c);function t(o){return d.get(o)}function e(o,n,u){const h=!u,f=sm(o);f.aliasOf=u&&u.record;const v=vh(c,o),m=[f];if("alias"in o){const y=typeof o.alias=="string"?[o.alias]:o.alias;for(const T of y)m.push(At({},f,{components:u?u.record.components:f.components,path:T,aliasOf:u?u.record:f}))}let g,x;for(const y of m){const{path:T}=y;if(n&&T[0]!=="/"){const S=n.record.path,E=S[S.length-1]==="/"?"":"/";y.path=n.record.path+(T&&E+T)}if(g=em(y,n,v),u?u.alias.push(g):(x=x||g,x!==g&&x.alias.push(g),h&&o.name&&!ch(g)&&l(o.name)),"children"in f){const S=f.children;for(let E=0;E<S.length;E++)e(S[E],g,u&&u.children[E])}u=u||g,r(g)}return x?()=>{l(x)}:Wn}function l(o){if(pf(o)){const n=d.get(o);n&&(d.delete(o),i.splice(i.indexOf(n),1),n.children.forEach(l),n.alias.forEach(l))}else{const n=i.indexOf(o);n>-1&&(i.splice(n,1),o.record.name&&d.delete(o.record.name),o.children.forEach(l),o.alias.forEach(l))}}function s(){return i}function r(o){let n=0;for(;n<i.length&&kg(o,i[n])>=0&&(o.record.path!==i[n].record.path||!mf(o,i[n]));)n++;i.splice(n,0,o),o.record.name&&!ch(o)&&d.set(o.record.name,o)}function a(o,n){let u,h={},f,v;if("name"in o&&o.name){if(u=d.get(o.name),!u)throw on(1,{location:o});v=u.record.name,h=At(nm(n.params,u.keys.filter(x=>!x.optional).map(x=>x.name)),o.params),f=u.stringify(h)}else if("path"in o)f=o.path,u=i.find(x=>x.re.test(f)),u&&(h=u.parse(f),v=u.record.name);else{if(u=n.name?d.get(n.name):i.find(x=>x.re.test(n.path)),!u)throw on(1,{location:o,currentLocation:n});v=u.record.name,h=At({},n.params,o.params),f=u.stringify(h)}const m=[];let g=u;for(;g;)m.unshift(g.record),g=g.parent;return{name:v,path:f,params:h,matched:m,meta:am(m)}}return p.forEach(o=>e(o)),{addRoute:e,resolve:a,removeRoute:l,getRoutes:s,getRecordMatcher:t}}function nm(p,c){const i={};for(const d of c)d in p&&(i[d]=p[d]);return i}function sm(p){return{path:p.path,redirect:p.redirect,name:p.name,meta:p.meta||{},aliasOf:void 0,beforeEnter:p.beforeEnter,props:rm(p),children:p.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in p?p.components||{}:{default:p.component}}}function rm(p){const c={},i=p.props||!1;if("component"in p)c.default=i;else for(const d in p.components)c[d]=typeof i=="boolean"?i:i[d];return c}function ch(p){for(;p;){if(p.record.aliasOf)return!0;p=p.parent}return!1}function am(p){return p.reduce((c,i)=>At(c,i.meta),{})}function vh(p,c){const i={};for(const d in p)i[d]=d in c?c[d]:p[d];return i}function mf(p,c){return c.children.some(i=>i===p||mf(p,i))}const xf=/#/g,om=/&/g,lm=/\//g,hm=/=/g,um=/\?/g,yf=/\+/g,fm=/%5B/g,dm=/%5D/g,Tf=/%5E/g,cm=/%60/g,Sf=/%7B/g,vm=/%7C/g,Ef=/%7D/g,pm=/%20/g;function Jo(p){return encodeURI(""+p).replace(vm,"|").replace(fm,"[").replace(dm,"]")}function gm(p){return Jo(p).replace(Sf,"{").replace(Ef,"}").replace(Tf,"^")}function ro(p){return Jo(p).replace(yf,"%2B").replace(pm,"+").replace(xf,"%23").replace(om,"%26").replace(cm,"`").replace(Sf,"{").replace(Ef,"}").replace(Tf,"^")}function mm(p){return ro(p).replace(hm,"%3D")}function xm(p){return Jo(p).replace(xf,"%23").replace(um,"%3F")}function ym(p){return p==null?"":xm(p).replace(lm,"%2F")}function xr(p){try{return decodeURIComponent(""+p)}catch{}return""+p}function Tm(p){const c={};if(p===""||p==="?")return c;const d=(p[0]==="?"?p.slice(1):p).split("&");for(let t=0;t<d.length;++t){const e=d[t].replace(yf," "),l=e.indexOf("="),s=xr(l<0?e:e.slice(0,l)),r=l<0?null:xr(e.slice(l+1));if(s in c){let a=c[s];Array.isArray(a)||(a=c[s]=[a]),a.push(r)}else c[s]=r}return c}function ph(p){let c="";for(let i in p){const d=p[i];if(i=mm(i),d==null){d!==void 0&&(c+=(c.length?"&":"")+i);continue}(Array.isArray(d)?d.map(e=>e&&ro(e)):[d&&ro(d)]).forEach(e=>{e!==void 0&&(c+=(c.length?"&":"")+i,e!=null&&(c+="="+e))})}return c}function Sm(p){const c={};for(const i in p){const d=p[i];d!==void 0&&(c[i]=Array.isArray(d)?d.map(t=>t==null?null:""+t):d==null?d:""+d)}return c}function Tn(){let p=[];function c(d){return p.push(d),()=>{const t=p.indexOf(d);t>-1&&p.splice(t,1)}}function i(){p=[]}return{add:c,list:()=>p,reset:i}}function li(p,c,i,d,t){const e=d&&(d.enterCallbacks[t]=d.enterCallbacks[t]||[]);return()=>new Promise((l,s)=>{const r=n=>{n===!1?s(on(4,{from:i,to:c})):n instanceof Error?s(n):Kg(n)?s(on(2,{from:c,to:n})):(e&&d.enterCallbacks[t]===e&&typeof n=="function"&&e.push(n),l())},a=p.call(d&&d.instances[t],c,i,r);let o=Promise.resolve(a);p.length<3&&(o=o.then(r)),o.catch(n=>s(n))})}function va(p,c,i,d){const t=[];for(const e of p)for(const l in e.components){let s=e.components[l];if(!(c!=="beforeRouteEnter"&&!e.instances[l]))if(Em(s)){const a=(s.__vccOpts||s)[c];a&&t.push(li(a,i,d,e,l))}else{let r=s();t.push(()=>r.then(a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${e.path}"`));const o=Lg(a)?a.default:a;e.components[l]=o;const u=(o.__vccOpts||o)[c];return u&&li(u,i,d,e,l)()}))}}return t}function Em(p){return typeof p=="object"||"displayName"in p||"props"in p||"__vccOpts"in p}function gh(p){const c=Ke(Zo),i=Ke(df),d=Kt(()=>c.resolve(bn(p.to))),t=Kt(()=>{const{matched:r}=d.value,{length:a}=r,o=r[a-1],n=i.matched;if(!o||!n.length)return-1;const u=n.findIndex(an.bind(null,o));if(u>-1)return u;const h=mh(r[a-2]);return a>1&&mh(o)===h&&n[n.length-1].path!==h?n.findIndex(an.bind(null,r[a-2])):u}),e=Kt(()=>t.value>-1&&Mm(i.params,d.value.params)),l=Kt(()=>t.value>-1&&t.value===i.matched.length-1&&cf(i.params,d.value.params));function s(r={}){return Pm(r)?c[bn(p.replace)?"replace":"push"](bn(p.to)).catch(Wn):Promise.resolve()}return{route:d,href:Kt(()=>d.value.href),isActive:e,isExactActive:l,navigate:s}}const Cm=ue({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gh,setup(p,{slots:c}){const i=Ne(gh(p)),{options:d}=Ke(Zo),t=Kt(()=>({[xh(p.activeClass,d.linkActiveClass,"router-link-active")]:i.isActive,[xh(p.exactActiveClass,d.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const e=c.default&&c.default(i);return p.custom?e:Se("a",{"aria-current":i.isExactActive?p.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:t.value},e)}}}),Am=Cm;function Pm(p){if(!(p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)&&!p.defaultPrevented&&!(p.button!==void 0&&p.button!==0)){if(p.currentTarget&&p.currentTarget.getAttribute){const c=p.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(c))return}return p.preventDefault&&p.preventDefault(),!0}}function Mm(p,c){for(const i in c){const d=c[i],t=p[i];if(typeof d=="string"){if(d!==t)return!1}else if(!Array.isArray(t)||t.length!==d.length||d.some((e,l)=>e!==t[l]))return!1}return!0}function mh(p){return p?p.aliasOf?p.aliasOf.path:p.path:""}const xh=(p,c,i)=>p!=null?p:c!=null?c:i,Rm=ue({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(p,{attrs:c,slots:i}){const d=Ke(no),t=Kt(()=>p.route||d.value),e=Ke(rh,0),l=Kt(()=>t.value.matched[e]);zn(rh,e+1),zn(Rg,l),zn(no,t);const s=Va();return Un(()=>[s.value,l.value,p.name],([r,a,o],[n,u,h])=>{a&&(a.instances[o]=r,u&&u!==a&&r&&r===n&&(a.leaveGuards.size||(a.leaveGuards=u.leaveGuards),a.updateGuards.size||(a.updateGuards=u.updateGuards))),r&&a&&(!u||!an(a,u)||!n)&&(a.enterCallbacks[o]||[]).forEach(f=>f(r))},{flush:"post"}),()=>{const r=t.value,a=l.value,o=a&&a.components[p.name],n=p.name;if(!o)return yh(i.default,{Component:o,route:r});const u=a.props[p.name],h=u?u===!0?r.params:typeof u=="function"?u(r):u:null,v=Se(o,At({},h,c,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(a.instances[n]=null)},ref:s}));return yh(i.default,{Component:v,route:r})||v}}});function yh(p,c){if(!p)return null;const i=p(c);return i.length===1?i[0]:i}const Cf=Rm;function Lm(p){const c=im(p.routes,p),i=p.parseQuery||Tm,d=p.stringifyQuery||ph,t=p.history,e=Tn(),l=Tn(),s=Tn(),r=Ya(ii);let a=ii;Ki&&p.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const o=da.bind(null,N=>""+N),n=da.bind(null,ym),u=da.bind(null,xr);function h(N,U){let Y,K;return pf(N)?(Y=c.getRecordMatcher(N),K=U):K=N,c.addRoute(K,Y)}function f(N){const U=c.getRecordMatcher(N);U&&c.removeRoute(U)}function v(){return c.getRoutes().map(N=>N.record)}function m(N){return!!c.getRecordMatcher(N)}function g(N,U){if(U=At({},U||r.value),typeof N=="string"){const k=ca(i,N,U.path),H=c.resolve({path:k.path},U),$=t.createHref(k.fullPath);return At(k,H,{params:u(H.params),hash:xr(k.hash),redirectedFrom:void 0,href:$})}let Y;if("path"in N)Y=At({},N,{path:ca(i,N.path,U.path).path});else{const k=At({},N.params);for(const H in k)k[H]==null&&delete k[H];Y=At({},N,{params:n(N.params)}),U.params=n(U.params)}const K=c.resolve(Y,U),Z=N.hash||"";K.params=o(u(K.params));const j=Ig(d,At({},N,{hash:gm(Z),path:K.path})),q=t.createHref(j);return At({fullPath:j,hash:Z,query:d===ph?Sm(N.query):N.query||{}},K,{redirectedFrom:void 0,href:q})}function x(N){return typeof N=="string"?ca(i,N,r.value.path):At({},N)}function y(N,U){if(a!==N)return on(8,{from:U,to:N})}function T(N){return C(N)}function S(N){return T(At(x(N),{replace:!0}))}function E(N){const U=N.matched[N.matched.length-1];if(U&&U.redirect){const{redirect:Y}=U;let K=typeof Y=="function"?Y(N):Y;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=x(K):{path:K},K.params={}),At({query:N.query,hash:N.hash,params:N.params},K)}}function C(N,U){const Y=a=g(N),K=r.value,Z=N.state,j=N.force,q=N.replace===!0,k=E(Y);if(k)return C(At(x(k),{state:Z,force:j,replace:q}),U||Y);const H=Y;H.redirectedFrom=U;let $;return!j&&Dg(d,K,Y)&&($=on(16,{to:H,from:K}),D(K,K,!0,!1)),($?Promise.resolve($):P(H,K)).catch(J=>ni(J)?ni(J,2)?J:W(J):V(J,H,K)).then(J=>{if(J){if(ni(J,2))return C(At(x(J.to),{state:Z,force:j,replace:q}),U||H)}else J=M(H,K,!0,q,Z);return R(H,K,J),J})}function A(N,U){const Y=y(N,U);return Y?Promise.reject(Y):Promise.resolve()}function P(N,U){let Y;const[K,Z,j]=Om(N,U);Y=va(K.reverse(),"beforeRouteLeave",N,U);for(const k of K)k.leaveGuards.forEach(H=>{Y.push(li(H,N,U))});const q=A.bind(null,N,U);return Y.push(q),Yi(Y).then(()=>{Y=[];for(const k of e.list())Y.push(li(k,N,U));return Y.push(q),Yi(Y)}).then(()=>{Y=va(Z,"beforeRouteUpdate",N,U);for(const k of Z)k.updateGuards.forEach(H=>{Y.push(li(H,N,U))});return Y.push(q),Yi(Y)}).then(()=>{Y=[];for(const k of N.matched)if(k.beforeEnter&&!U.matched.includes(k))if(Array.isArray(k.beforeEnter))for(const H of k.beforeEnter)Y.push(li(H,N,U));else Y.push(li(k.beforeEnter,N,U));return Y.push(q),Yi(Y)}).then(()=>(N.matched.forEach(k=>k.enterCallbacks={}),Y=va(j,"beforeRouteEnter",N,U),Y.push(q),Yi(Y))).then(()=>{Y=[];for(const k of l.list())Y.push(li(k,N,U));return Y.push(q),Yi(Y)}).catch(k=>ni(k,8)?k:Promise.reject(k))}function R(N,U,Y){for(const K of s.list())K(N,U,Y)}function M(N,U,Y,K,Z){const j=y(N,U);if(j)return j;const q=U===ii,k=Ki?history.state:{};Y&&(K||q?t.replace(N.fullPath,At({scroll:q&&k&&k.scroll},Z)):t.push(N.fullPath,Z)),r.value=N,D(N,U,Y,q),W()}let L;function O(){L||(L=t.listen((N,U,Y)=>{const K=g(N),Z=E(K);if(Z){C(At(Z,{replace:!0}),K).catch(Wn);return}a=K;const j=r.value;Ki&&Vg(lh(j.fullPath,Y.delta),Jr()),P(K,j).catch(q=>ni(q,12)?q:ni(q,2)?(C(q.to,K).then(k=>{ni(k,20)&&!Y.delta&&Y.type===rs.pop&&t.go(-1,!1)}).catch(Wn),Promise.reject()):(Y.delta&&t.go(-Y.delta,!1),V(q,K,j))).then(q=>{q=q||M(K,j,!1),q&&(Y.delta?t.go(-Y.delta,!1):Y.type===rs.pop&&ni(q,20)&&t.go(-1,!1)),R(K,j,q)}).catch(Wn)}))}let I=Tn(),w=Tn(),G;function V(N,U,Y){W(N);const K=w.list();return K.length?K.forEach(Z=>Z(N,U,Y)):console.error(N),Promise.reject(N)}function X(){return G&&r.value!==ii?Promise.resolve():new Promise((N,U)=>{I.add([N,U])})}function W(N){return G||(G=!N,O(),I.list().forEach(([U,Y])=>N?Y(N):U()),I.reset()),N}function D(N,U,Y,K){const{scrollBehavior:Z}=p;if(!Ki||!Z)return Promise.resolve();const j=!Y&&Yg(lh(N.fullPath,0))||(K||!Y)&&history.state&&history.state.scroll||null;return Bo().then(()=>Z(N,U,j)).then(q=>q&&Ug(q)).catch(q=>V(q,N,U))}const F=N=>t.go(N);let B;const b=new Set;return{currentRoute:r,addRoute:h,removeRoute:f,hasRoute:m,getRoutes:v,resolve:g,options:p,push:T,replace:S,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:e.add,beforeResolve:l.add,afterEach:s.add,onError:w.add,isReady:X,install(N){const U=this;N.component("RouterLink",Am),N.component("RouterView",Cf),N.config.globalProperties.$router=U,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>bn(r)}),Ki&&!B&&r.value===ii&&(B=!0,T(t.location).catch(Z=>{}));const Y={};for(const Z in ii)Y[Z]=Kt(()=>r.value[Z]);N.provide(Zo,U),N.provide(df,Ne(Y)),N.provide(no,r);const K=N.unmount;b.add(N),N.unmount=function(){b.delete(N),b.size<1&&(a=ii,L&&L(),L=null,r.value=ii,B=!1,G=!1),K()}}}}function Yi(p){return p.reduce((c,i)=>c.then(()=>i()),Promise.resolve())}function Om(p,c){const i=[],d=[],t=[],e=Math.max(c.matched.length,p.matched.length);for(let l=0;l<e;l++){const s=c.matched[l];s&&(p.matched.find(a=>an(a,s))?d.push(s):i.push(s));const r=p.matched[l];r&&(c.matched.find(a=>an(a,r))||t.push(r))}return[i,d,t]}const Ft=(p,c)=>{const i=Ce(),d=bc(i.payload.state,p);if(d.value===void 0&&c){const t=c();if(Yt(t))return i.payload.state[p]=t,t;d.value=t}return d},as=()=>{const p=Ce();return Ft("error",()=>p.payload.error)},sr=p=>{const c=Ce(),i=as(),d=typeof p=="string"?new Error(p):p;return c.callHook("app:error",d),i.value=i.value||d,d},Fm=async(p={})=>{const c=Ce(),i=as();c.callHook("app:error:cleared",p),p.redirect&&await c.$router.replace(p.redirect),i.value=null};class pa extends Error{constructor(){super(...arguments),this.statusCode=500,this.statusMessage="Internal Server Error"}}function Im(p){var i;if(typeof p=="string")return new pa(p);if(p instanceof pa)return p;const c=new pa((i=p.message)!=null?i:p.statusMessage,p.cause?{cause:p.cause}:void 0);return p.statusCode&&(c.statusCode=p.statusCode),p.statusMessage&&(c.statusMessage=p.statusMessage),p.data&&(c.data=p.data),c}const Af=()=>{var p;return(p=Ce())==null?void 0:p.$router},Dm=()=>{try{if(Ce()._processingMiddleware)return!0}catch{return!0}return!1},aS=(p,c={})=>{if(p||(p="/"),Dm())return p;const i=Af();return c.replace?i.replace(p):i.push(p)},wm=(...p)=>p.find(c=>c!==void 0),Bm="noopener noreferrer";function bm(p){const c=p.componentName||"NuxtLink";return ue({name:c,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(i,{slots:d}){const t=Af(),e=Kt(()=>i.to||i.href||""),l=Kt(()=>i.external||i.target&&i.target!=="_self"?!0:typeof e.value=="object"?!1:e.value===""||ef(e.value,!0));return()=>{var o,n,u;if(!l.value)return Se(Yo("RouterLink"),{to:e.value,activeClass:i.activeClass||p.activeClass,exactActiveClass:i.exactActiveClass||p.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue},d.default);const s=typeof e.value=="object"?(n=(o=t.resolve(e.value))==null?void 0:o.href)!=null?n:null:e.value||null,r=i.target||null,a=i.noRel?null:wm(i.rel,p.externalRelAttribute,s?Bm:"")||null;return Se("a",{href:s,rel:a,target:r},(u=d.default)==null?void 0:u.call(d))}}})}var Nm=bm({componentName:"NuxtLink"});function je(p){const c=pt(p)?Kt(p):p;Ce()._useHead(c)}const ga={};function Gm(p){for(const c in ga)p.vueApp.component(c,ga[c]),p.vueApp.component("Lazy"+c,ga[c])}var zm=Object.defineProperty,Th=Object.getOwnPropertySymbols,Um=Object.prototype.hasOwnProperty,Vm=Object.prototype.propertyIsEnumerable,Sh=(p,c,i)=>c in p?zm(p,c,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[c]=i,Ym=(p,c)=>{for(var i in c||(c={}))Um.call(c,i)&&Sh(p,i,c[i]);if(Th)for(var i of Th(c))Vm.call(c,i)&&Sh(p,i,c[i]);return p},Xm="usehead",Eh="head:count",ma="data-head-attrs",Wm=(p,c,i)=>{const d=i.createElement(p);for(const t of Object.keys(c)){let e=c[t];t==="key"||e===!1||(t==="children"?d.textContent=e:d.setAttribute(t,e))}return d};function Hm(p,c){if(p instanceof HTMLElement&&c instanceof HTMLElement){const i=c.getAttribute("nonce");if(i&&!p.getAttribute("nonce")){const d=c.cloneNode(!0);return d.setAttribute("nonce",""),d.nonce=i,i===p.nonce&&p.isEqualNode(d)}}return p.isEqualNode(c)}var $m=p=>{const c=["key","id","name","property"];for(const i of c){const d=typeof p.getAttribute=="function"?p.hasAttribute(i)?p.getAttribute(i):void 0:p[i];if(d!==void 0)return{name:i,value:d}}},Km=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],Zm=p=>{const c=[];for(const i of Object.keys(p))if(p[i]!=null){if(i==="title")c.push({tag:i,props:{children:p[i]}});else if(i==="base")c.push({tag:i,props:Ym({key:"default"},p[i])});else if(Km.includes(i)){const d=p[i];Array.isArray(d)?d.forEach(t=>{c.push({tag:i,props:t})}):d&&c.push({tag:i,props:d})}}return c},Ch=(p,c)=>{const i=p.getAttribute(ma);if(i)for(const t of i.split(","))t in c||p.removeAttribute(t);const d=[];for(const t in c){const e=c[t];e!=null&&(e===!1?p.removeAttribute(t):p.setAttribute(t,e),d.push(t))}d.length?p.setAttribute(ma,d.join(",")):p.removeAttribute(ma)},Jm=(p=window.document,c,i)=>{var d;const t=p.head;let e=t.querySelector(`meta[name="${Eh}"]`);const l=e?Number(e.getAttribute("content")):0,s=[];if(e)for(let a=0,o=e.previousElementSibling;a<l;a++,o=(o==null?void 0:o.previousElementSibling)||null)((d=o==null?void 0:o.tagName)==null?void 0:d.toLowerCase())===c&&s.push(o);else e=p.createElement("meta"),e.setAttribute("name",Eh),e.setAttribute("content","0"),t.append(e);let r=i.map(a=>Wm(a.tag,a.props,p));r=r.filter(a=>{for(let o=0;o<s.length;o++){const n=s[o];if(Hm(n,a))return s.splice(o,1),!1}return!0}),s.forEach(a=>{var o;return(o=a.parentNode)==null?void 0:o.removeChild(a)}),r.forEach(a=>{t.insertBefore(a,e)}),e.setAttribute("content",""+(l-s.length+r.length))},jm=()=>{let p=[],c=new Set;const i={install(d){d.config.globalProperties.$head=i,d.provide(Xm,i)},get headTags(){const d=[];return p.forEach(t=>{Zm(t.value).forEach(l=>{if(l.tag==="meta"||l.tag==="base"||l.tag==="script"){const s=$m(l.props);if(s){let r=-1;for(let a=0;a<d.length;a++){const o=d[a],n=o.props[s.name],u=l.props[s.name];if(o.tag===l.tag&&n===u){r=a;break}}r!==-1&&d.splice(r,1)}}d.push(l)})}),d},addHeadObjs(d){p.push(d)},removeHeadObjs(d){p=p.filter(t=>t!==d)},updateDOM(d=window.document){let t,e={},l={};const s={};for(const a of i.headTags){if(a.tag==="title"){t=a.props.children;continue}if(a.tag==="htmlAttrs"){Object.assign(e,a.props);continue}if(a.tag==="bodyAttrs"){Object.assign(l,a.props);continue}s[a.tag]=s[a.tag]||[],s[a.tag].push(a)}t!==void 0&&(d.title=t),Ch(d.documentElement,e),Ch(d.body,l);const r=new Set([...Object.keys(s),...c]);for(const a of r)Jm(d,a,s[a]||[]);c.clear(),Object.keys(s).forEach(a=>c.add(a))}};return i};function xa(p){return p!==null&&typeof p=="object"}function ao(p,c,i=".",d){if(!xa(c))return ao(p,{},i,d);const t=Object.assign({},c);for(const e in p){if(e==="__proto__"||e==="constructor")continue;const l=p[e];l!=null&&(d&&d(t,e,l,i)||(Array.isArray(l)&&Array.isArray(t[e])?t[e]=l.concat(t[e]):xa(l)&&xa(t[e])?t[e]=ao(l,t[e],(i?`${i}.`:"")+e.toString(),d):t[e]=l))}return t}function Qm(p){return(...c)=>c.reduce((i,d)=>ao(i,d,"",p),{})}const km=Qm();var qm=Zr(p=>{const c=jm();p.vueApp.use(c);let i=!1;p.hooks.hookOnce("app:mounted",()=>{Ml(()=>{c.updateDOM()}),i=!0});const d=Va();p._useHead=t=>{const e=Va(t);"titleTemplate"in e.value&&(d.value=e.value.titleTemplate);const l=Kt(()=>{const r={meta:[]};return d.value&&"title"in e.value&&(r.title=typeof d.value=="function"?d.value(e.value.title):d.value.replace(/%s/g,e.value.title)),e.value.charset&&r.meta.push({key:"charset",charset:e.value.charset}),e.value.viewport&&r.meta.push({name:"viewport",content:e.value.viewport}),km(r,e.value)});c.addHeadObjs(l),i&&Ml(()=>{c.updateDOM()}),ms()&&Wr(()=>{c.removeHeadObjs(l),c.updateDOM()})}});const _m=p=>Object.fromEntries(Object.entries(p).filter(([,c])=>c!==void 0)),mi=(p,c)=>(i,d)=>(je(()=>p({..._m(i),...d.attrs},d)),()=>{var t,e;return c?(e=(t=d.slots).default)==null?void 0:e.call(t):null}),Ui={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:String,contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},tx=ue({name:"Script",inheritAttrs:!1,props:{...Ui,async:Boolean,crossorigin:{type:[Boolean,String],default:void 0},defer:Boolean,integrity:String,nomodule:Boolean,nonce:String,referrerpolicy:String,src:String,type:String,charset:String,language:String},setup:mi(p=>({script:[p]}))}),ex=ue({name:"Link",inheritAttrs:!1,props:{...Ui,as:String,crossorigin:String,disabled:Boolean,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String},setup:mi(p=>({link:[p]}))}),ix=ue({name:"Base",inheritAttrs:!1,props:{...Ui,href:String,target:String},setup:mi(p=>({base:p}))}),nx=ue({name:"Title",inheritAttrs:!1,setup:mi((p,{slots:c})=>{var d,t,e;return{title:((e=(t=(d=c.default)==null?void 0:d.call(c))==null?void 0:t[0])==null?void 0:e.children)||null}})}),sx=ue({name:"Meta",inheritAttrs:!1,props:{...Ui,charset:String,content:String,httpEquiv:String,name:String},setup:mi(p=>({meta:[p]}))}),rx=ue({name:"Style",inheritAttrs:!1,props:{...Ui,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}},setup:mi((p,{slots:c})=>{var t,e,l;const i={...p},d=(l=(e=(t=c.default)==null?void 0:t.call(c))==null?void 0:e[0])==null?void 0:l.children;return d&&(i.children=d),{style:[i]}})}),ax=ue({name:"Head",inheritAttrs:!1,setup:(p,c)=>()=>{var i,d;return(d=(i=c.slots).default)==null?void 0:d.call(i)}}),ox=ue({name:"Html",inheritAttrs:!1,props:{...Ui,manifest:String,version:String,xmlns:String},setup:mi(p=>({htmlAttrs:p}),!0)}),lx=ue({name:"Body",inheritAttrs:!1,props:Ui,setup:mi(p=>({bodyAttrs:p}),!0)});var Ah=Object.freeze(Object.defineProperty({__proto__:null,Script:tx,Link:ex,Base:ix,Title:nx,Meta:sx,Style:rx,Head:ax,Html:ox,Body:lx},Symbol.toStringTag,{value:"Module"})),hx={globalMeta:{charset:"utf-8",viewport:"width=device-width, initial-scale=1",meta:[],link:[{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Diplomata+SC&family=VT323&display=swap"}],style:[],script:[]}};const ux={created(){const p=ms();if(!p)return;const c=p.type;if(!c||!("head"in c))return;const i=Ce(),d=typeof c.head=="function"?Kt(()=>c.head(i)):c.head;je(d)}};var fx=Zr(p=>{je(Io({title:"",...hx.globalMeta})),p.vueApp.mixin(ux);for(const c in Ah)p.vueApp.component(c,Ah[c])});const dx=(p,c)=>c.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,i=>{var d;return((d=p.params[i.slice(1)])==null?void 0:d.toString())||""}),Ph=(p,c)=>{var t;const i=c.route.matched.find(e=>e.components.default===c.Component.type),d=(t=p!=null?p:i==null?void 0:i.meta.key)!=null?t:dx(c.route,i);return typeof d=="function"?d(c.route):d},cx=(p,c)=>({default:()=>p?Se(iv,p===!0?{}:p,c):c}),vx={setup(p,{slots:c}){return()=>{var i;return(i=c.default)==null?void 0:i.call(c)}}},px=(p,c,i)=>({default:()=>c?Se(p,c===!0?{}:c,i):Se(vx,{},i)}),Mh=Symbol("isNested");var ya=ue({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(p,{attrs:c}){const i=Ce(),d=Ke(Mh,!1);return zn(Mh,!0),()=>Se(Cf,{name:p.name,route:p.route,...c},{default:t=>{var e;return t.Component&&px($o,(e=t.route.meta.pageTransition)!=null?e:gx,cx(t.route.meta.keepalive,d&&i.isHydrating?Se(t.Component,{key:Ph(p.pageKey,t)}):Se(Cu,{onPending:()=>i.callHook("page:start",t.Component),onResolve:()=>i.callHook("page:finish",t.Component)},{default:()=>Se(t.Component,{key:Ph(p.pageKey,t)})}))).default()}})}});const gx={name:"page",mode:"out-in"},mx="modulepreload",Rh={},xx=xs(),Lh=function(c,i){return!i||i.length===0?c():Promise.all(i.map(d=>{if(d=`${xx}${d}`,d in Rh)return;Rh[d]=!0;const t=d.endsWith(".css"),e=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${e}`))return;const l=document.createElement("link");if(l.rel=t?"stylesheet":mx,t||(l.as="script",l.crossOrigin=""),l.href=d,document.head.appendChild(l),t)return new Promise((s,r)=>{l.addEventListener("load",s),l.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>c())},lt={country:"Picantia",island:"Isla Chipotle",ocean:"Ginger Sea",rivalNations:["Salta Empire","Aguarian Kingdom","Royal Union of Renegades","Dynasty of the Snow","The Coastal Coalition","Yarr! Mercenaries"],shipNames:["The Trader's Union","Peptopia Charters","Seagull Shipping","Perfectly Legal Enterprises","The Royal Merchant Company","Oceanway Trading Company","Quality Shipping Solutions","Salta Trade Company"],tutorialName:"Minister of Spicy Expeditions",fadSpices:["Ginger","Wolf's Spice","Cinnamon","Dragon Petals","Queen's Herb","Kibuseed","Vanilla"],stableSpices:["Pepper","Saffron","Cardamom","Cayenne"],spiceDescriptions:{Pepper:"A spicy pepper, reguarded as a stable and common spice.",Saffron:"A rare and expensive spice, often used in the making of medicine.",Cardamom:"A spice that is said to warm the soul,",Cayenne:"A highly versatile spice. It's extreme spiciness can used in many different ways.",Ginger:"A unique spice that is sought after for it's unique flavor and digestive properties.","Wolf's Spice":"An extremely unique spice. It is said to have the best flavor of any spice.",Cinnamon:"A common spice that is both delicious and healthy.","Dragon Petals":"A spice that is said to be a source of great power. Legends say it came from a dragon's scales.","Queen's Herb":"A very rare herb that is said to be a source of great power.",Kibuseed:"A mysterious spice that packs a wild flavor.",Vanilla:"A luxurious spice enjoyed by the rich and powerful."},pulseWait:4e3},jt=()=>Ft("playerState",()=>({money:1e4,isTutorial:!0,days:0,x:null,y:null,inventory:{Pepper:2},ports:[{direction:"export",ship:{name:"Peptopia Charters",type:"med",direction:"export",shopItems:[],ready:!0}},{direction:"import",ship:{name:"Trader's Union",type:"small",direction:"import",ready:!0,shopItems:[{price:200,name:"Pepper",stock:1e3,description:lt.spiceDescriptions.Pepper}]}}]})),ys=()=>Ft("movementLocked",()=>!1),oS=p=>{ys().value=p},jo=()=>Ft("overlayState",()=>({moneyBox:{isShowing:!0,isPulsing:!1},inventoryBox:{isShowing:!0,isPulsing:!1},newsOpenBox:{isShowing:!0,isPulsing:!1},marketPriceBox:{isShowing:!0,isPulsing:!1}})),yx=()=>Ft("newsArticles",()=>[]),lS=()=>Ft("isNewspaperOpen",()=>!1),Pf=p=>{const c=yx(),i=jt().value.days;c.value.unshift({title:p,day:i});const d=jo();d.value.newsOpenBox.isPulsing=!0},Qo=()=>Ft("event",()=>null);function Oh(){const p=Qo(),c=Ht();p.value||(p.value=Vt([Ex(),Sx(Vt(lt.rivalNations)),Cx(),Ax(),Px(),Mx()])),p.value.currentStep++;const i=p.value.phases.filter(t=>t.step===p.value.currentStep),d=Tx(i);p.value.currentPhase=d,d&&(Pf(p.value.currentPhase.headline),c.value.prices.forEach(t=>{t.trend=d.genTrend(t)}))}function Tx(p){const c=Math.random(),i=p.sort((t,e)=>e.chance-t.chance);let d=0;for(const t of i)if(d+=t.chance,c<=d)return t}function Sx(p){return{currentStep:0,name:"War",phases:[{headline:`${p} CAPTURES soldiers from ${lt.country}! Held HOSTAGE`,step:1,chance:1,dialogBank:[`Did you hear what ${p} is doing to our country?`,`${p} is acting up once again...`,"Can you belive the news? What were soldiers thinking when they crossed the border?"],genTrend(i){const t=i.price+rt(5,10),e=t+rt(5,10),l=e+rt(5,10),s=l+rt(5,10);return Ot([t,e,l,s])}},{headline:`${lt.country} and ${p} agree to open talks about captured soldiers.`,step:2,chance:1,dialogBank:[`The hostages are still alive.... Turns out ${p} has some commonsense.`,`${p} realizes that they can't compete with ${lt.country} right? They are walking on thin ice.`,`I'm positive that ${lt.country} won't let ${p} off the hook this easily!`,`If ${p} refuses to free the soldiers, ${lt.country} will have to fight them!`,`I don't trust the ${p} to be honest.`,`I don't believe in war. ${lt.country} has a great diplomatic skill, and they will be able to handle whatever ${p} throws their way.`],genTrend(i){const t=i.price+rt(5,10),e=t+rt(5,10),l=e+rt(5,10),s=l+rt(5,10);return Ot([t,e,l,s])}},{headline:`${p} agree to release captured ${lt.country} soldiers!`,step:3,chance:.4,endsEvent:!0,dialogBank:[`I'm just happy that there won't be any war in ${lt.country} for a while.`,`Why didn't ${lt.country} go all the away? I'm sure they will be able to handle whatever ${p} throws their way.`,`I wonder why ${p} even bothered to make a fuss if they are just going to release the soldiers...`,"Boring... all this diplomatic stuff goes over my head haha!"],genTrend(i){const t=i.price-rt(8,15),e=t-rt(8,15),l=e-rt(8,15),s=l-rt(8,15);return Ot([t,e,l,s])}},{headline:`${p} REFUSES to release ${lt.country} soldiers. ${lt.country} begins preparing for WAR!`,step:3,chance:.6,dialogBank:[`${lt.country} is going to have to fight ${p}! That's crazy news!`,"I'm going to be rich! I have a ton of medical spices to sell!","With this upcoming war, I'm planning on stocking up on medical spices like Saffron.","Another day, another war. I'm not from either of these empires so personally, it doesn't matter to me.",`Did you hear that ${lt.country} has weaponized spices? They're so powerful!`],genTrend(i){const d=i.price,e=["Cayenne","Saffron"].includes(i.name),l=e?100:10,s=e?200:25,r=d+rt(l,s),a=r+rt(l,s),o=a+rt(l,s),n=o+rt(l,s);return Ot([r,a,o,n])}},{step:4,chance:.7,headline:`${lt.country} and ${p} are fully engaged in a BLOODY conflict.`,dialogBank:[`${lt.country} and ${p} are fighting for their lives.`,`${p} got what they deserved...`,`${lt.country} has a great military skill, and they will be able to handle whatever ${p} throws their way.`,`I don't trust the ${p} to be honest anymore.`,"More needless wars. What a waste of time.","Both nations will need a ton of medicine to win this war. Lucky me, I have a lot of Saffron to sell."],genTrend(i){const d=i.price,e=["Saffron"].includes(i.name),l=e?100:10,s=e?500:25,r=d+rt(l,s),a=r+rt(l,s),o=a+rt(l,s),n=o+rt(l,s);return Ot([r,a,o,n])}},{step:4,chance:.3,headline:`${lt.country} and ${p} are fully engaged in BATTLE. Very little casualties have been reported.`,dialogBank:["What kind of battle is this? There's no way anyone is acutally fighting.","This war is a true display of tactics. They are fighting very efficiently with little losses.","I shouldnt't have bought all of this Saffron..."],genTrend(i){const d=i.price,e=["Saffron"].includes(i.name),l=e?-100:10,s=e?-200:25,r=d+rt(l,s),a=r+rt(l,s),o=a+rt(l,s),n=o+rt(l,s);return Ot([r,a,o,n])}},{step:5,headline:`${lt.country} SAVES hostages from ${p}! ${lt.country} is VICTORIOUS!`,chance:1,endsEvent:!0,dialogBank:["I'm happy to see that the war is over.",`I'm glad that ${lt.country} has managed to win the war.`],genTrend(i){const d=i.price,e=["Saffron","Cayenne"].includes(i.name),l=-20,s=e?-100:-50,r=d+rt(l,s),a=r+rt(l,s),o=a+rt(l,s),n=o+rt(l,s);return Ot([r,a,o,n])}}]}}function Ex(){return{name:"Blizzard",currentStep:0,phases:[{step:0,chance:1,headline:"Winter projected to last EXTRA long this year.",dialogBank:["It's been quite chilly around here lately.",`The water around ${lt.island} has been pretty cold recently.`,`I can't wait to see the frozen lakes back in ${lt.country}`,"With this cold weather, spices are a great way to keep the people warm.",`Does it ever snow in ${lt.island}?`,"It's getting colder. While some people don't like it, I do because it makes my spices more lucrative"],genTrend(c){const i=c.price,t=["Cardamon","Wolf's Spice"].includes(c.name),e=t?100:10,l=t?200:25,s=i+rt(e,l),r=s+rt(e,l),a=r+rt(e,l),o=a+rt(e,l);return Ot([s,r,a,o])}},{step:1,headline:`${lt.country} receives HEAVY snowfall.`,chance:.7,dialogBank:["Do you know how to make cardamom tea? It's very popular during cold winters.",`I'm sure ${lt.country} could use a lot of spice to stay warm.`,`${lt.island} is a great place to escape the snow! It's sunny year round.`,`I just came from ${lt.country}... there's so much snow!`],genTrend(c){const i=c.price,t=["Cardamon","Wolf's Spice"].includes(c.name),e=t?100:10,l=t?200:25,s=i+rt(e,l),r=s+rt(e,l),a=r+rt(e,l),o=a+rt(e,l);return Ot([s,r,a,o])}},{step:1,chance:.3,endsEvent:!0,headline:`Weather predictions WRONG ${lt.country} expected to receive EARLY Spring Season`,dialogBank:["I stocked up on a ton of Cardamom... what am I doing?",`It turns out the winter season was cut short in ${lt.country}.`,"Did you see that the weather forecast was wrong? This is why I never read the FAKE news.","I'm thinking of selling all of my excess firewood. I won't need it anymore...","I guess the weather was too spicy for the winter haha."],genTrend(c){const i=c.price,t=["Cardamon","Wolf's Spice"].includes(c.name),e=t?-100:-10,l=t?-200:-25,s=i+rt(e,l),r=s+rt(e,l),a=r+rt(e,l),o=a+rt(e,l);return Ot([s,r,a,o])}},{step:2,headline:`HUGE BLIZZARD burries ${lt.country}!`,chance:1,dialogBank:[`I'm so sorry for ${lt.country}... I can't imagine what it would be like living under a Blizzard.`,"This blizzard is our chance as spice traders to make HUGE profits off of the suffering of others!!!!",`Thank goodness we have ${lt.island} to escape the blizzard.`,`I'm selling all of my Wolf's Spice. It's going to save people's lives when it reaches the Blizzard in ${lt.country}.`],genTrend(c){const i=c.price,d=50,t=100,e=i+rt(d,t),l=e+rt(d,t),s=l+rt(d,t),r=s+rt(d,t);return Ot([e,l,s,r])}},{step:3,headline:`Spice overflow MELTS Blizzard in ${lt.country}!`,chance:1,endsEvent:!0,dialogBank:["Us spice traders have a huge impact on the world if we can make Blizzards disappear.",`It looks like the snow in ${lt.country} is going to melt soon. I'll be sailing there shortly!`,"Did you see the power of the blizzard? The damages it caused are huge!","The chill of the blizzard was no match for the spice of global trade."],genTrend(c){const i=c.price,t=["Cardamon","Wolf's Spice"].includes(c.name),e=t?-100:-10,l=t?-200:-25,s=i+rt(e,l),r=s+rt(e,l),a=r+rt(e,l),o=a+rt(e,l);return Ot([s,r,a,o])}}]}}function Cx(){const c=Ht().value.prices.map(t=>t.name),i=Vt(c);return{name:"Healthy Spice",currentStep:0,phases:[{step:1,headline:`Ministry of Health declares ${i} as a SUPERFOOD!`,chance:1,endsEvent:!0,dialogBank:[`I ate a ton of ${i} at once would I gain powers?`,`Pick up some ${i} today! It's a superfood that tastes great with anything`,`I'm so glad I stocked up on ${i}! It always makes me feel better!`,`${i} is a great food to eat! I'm so glad I ate a ton of ${i} today.`,`Finally, a spice that is healthy! Want to try some ${i}?`],genTrend(t){const e=t.price,l=t.name===i?10:-5,s=t.name===i?20:5,r=e+rt(l,s),a=r+rt(l,s),o=a+rt(l,s),n=o+rt(l,s);return Ot([r,a,o,n])}}]}}function Ax(){const c=Ht().value.prices.map(t=>t.name),i=Vt(c);return{name:"Bad Harvest",currentStep:0,phases:[{step:1,headline:`Poor Harvest of ${i} Results in a SHORTAGE!`,endsEvent:!0,chance:1,dialogBank:[`There's a shortage of ${i}... luckily I still have some.`,`Did you see what happened with ${i}? Did the farmers eat everything?`,`Looks like the crops for ${i} are less spicy this season.`,`Can you imagine being a ${i} farmer? I feel so bad for them!`,`It's a bad time to be a fan of ${i}...`],genTrend(t){const e=t.price,l=t.name===i?10:-5,s=t.name===i?20:5,r=e+rt(l,s),a=r+rt(l,s),o=a+rt(l,s),n=o+rt(l,s);return Ot([r,a,o,n])}}]}}function Px(){return{name:"Rebellion",currentStep:0,phases:[{step:1,headline:`BOYCOTTS and RIOTING in ${lt.country} Over New Spice Taxes! `,chance:1,dialogBank:["Did you see the new spice taxes? This will tank the demand for spices! We are in trouble if this continues...","People would rather risk their lives than pay a small fee to enjoy our spices? What an embarassment!","Can you imagine the people who are boycotting our spices? They are not happy about the new taxes!",`${lt.country} is in trouble with their new spice taxes.`],genTrend(c){const i=c.price,d=-10,t=-50,e=i+rt(d,t),l=e+rt(d,t),s=l+rt(d,t),r=s+rt(d,t);return Ot([e,l,s,r])}},{step:2,chance:.5,headline:`${lt.country} Gives in and REPEALS On the New Spice Taxes!`,endsEvent:!0,dialogBank:[`${lt.country} is giving up on the new spice taxes! Demand for spices is back to normal!`,`If ${lt.country} wants to grow, they need new taxes. The repeal will only be temporary.`,`Did you see the news? ${lt.country} is repealing the new spice taxes. The government acutally listens to the people.`,"Get your spice exports ready, us traders are back in business!"],genTrend(c){const i=c.price,d=10,t=50,e=i+rt(d,t),l=e+rt(d,t),s=l+rt(d,t),r=s+rt(d,t);return Ot([e,l,s,r])}},{step:2,chance:.5,headline:`MASSACRE as ${lt.country} Opens FIRE on Tax Protesters!`,endsEvent:!0,dialogBank:[`Things have been getting out of hand. The people of ${lt.country} will just become more angry.`,"Looks these new taxes are getting a bit spicy....","This massacre will only fuel the boycott. Spice is off the menu for a while!","They impose new taxes one day, then open fire the next. We are living in a TYRANNY.","Spices might be going out of fashion, but the ones with medical effects are still in demand."],genTrend(c){const i=c.price,d=c.name==="Saffron",t=d?-10:10,e=d?-100:50,l=i+rt(t,e),s=l+rt(t,e),r=s+rt(t,e),a=r+rt(t,e);return Ot([l,s,r,a])}}]}}function Mx(){const c=Ht().value.prices.map(t=>t.name),i=Vt(c);return{name:"Ship Sink",currentStep:0,phases:[{step:1,headline:`Mass Shipments of ${i} Lost At Sea!`,endsEvent:!0,chance:1,dialogBank:[`Did you see what happened with ${i}? Did the traders sink?`,"And now the sailors are sinking. They have ONE job.",`It wasn't very spicy of those sailors to sink the supply of ${i}...`,"People out here worrying about sinking ships, but I only worry about sinking markets."],genTrend(t){const e=t.price,l=t.name===i?10:-5,s=t.name===i?20:5,r=e+rt(l,s),a=r+rt(l,s),o=a+rt(l,s),n=o+rt(l,s);return Ot([r,a,o,n])}}]}}const hS=()=>Ft("isMarketTrendDisplaying",()=>!1),jr=()=>Ft("marketHistory",()=>({tick:0,labels:[],datasets:[]})),Ht=()=>Ft("market",()=>({prices:[],stepsUntilEvent:8,isEnabled:!0})),uS=()=>{Ht().value.prices.push({name:"Pepper",price:120,trend:[]},{name:"Saffron",price:3400,trend:[]})},Rx=()=>{var d;const p=Ht(),c=Qo(),i=jr();if(!!p.value.isEnabled){if(p.value.stepsUntilEvent-=1,p.value.stepsUntilEvent===0)Oh();else if(c.value){if(!p.value.prices.some(e=>e.trend.length>0)){if((d=c.value.currentPhase)!=null&&d.endsEvent){c.value=null,p.value.stepsUntilEvent=8;return}Oh()}p.value.prices.forEach(e=>{e.trend.length>0&&(e.price=e.trend.shift())})}else p.value.prices.forEach(t=>{const e=lt.fadSpices.includes(t.name);t.trend.length===0&&(t.trend=e?Rf(t.price):Mf(t.price)),t.price=t.trend.shift()});i.value.tick+=1,i.value.labels=Array.from({length:i.value.tick},(t,e)=>e),p.value.prices.forEach(t=>{i.value.datasets.find(s=>s.label===t.name)||i.value.datasets.push({label:t.name,data:[]}),i.value.datasets.find(s=>s.label===t.name).data.push(t.price)})}},Lx=()=>{Ox();const p=Ht();jt().value.ports.filter(d=>d.direction==="import").forEach(d=>{const t=Vt(["med","small"]);d.ship.shopItems=[],d.ship.ready=!0,d.ship.name=Vt(lt.shipNames);const e=Vt(p.value.prices.map(r=>r.name));d.ship.type=t;const l=t==="med"?1e4:1e3,s=p.value.prices.find(r=>r.name===e).price+rt(100,500);d.ship.shopItems.push({name:e,price:s,stock:l,description:lt.spiceDescriptions[e]})}),jt().value.ports.filter(d=>d.direction==="export").forEach(d=>{const t=Vt(["med","small"]);d.ship.ready=!0,d.ship.type=t,d.ship.name=Vt(lt.shipNames)})},Mf=p=>{const c=Math.random();if(c<=.1){const i=p+rt(1,20),d=i+rt(10,30),t=i+rt(10,30),e=i+rt(100,200);return Ot([i,d,t,e])}if(c<=.2){const i=p-rt(1,20),d=i-rt(10,30),t=i-rt(10,30),e=i-rt(50,200);return Ot([i,d,t,e])}if(c<=.7){const i=p+rt(-10,10),d=i+rt(-10,10),t=i+rt(-12,12),e=i+rt(5,15);return Ot([i,d,t,e])}if(c<=.8){const i=p+rt(1,10),d=i+rt(1,10),t=i+rt(1,12),e=i+rt(1,15);return Ot([i,d,t,e])}if(c<=1){const i=p+rt(-8,-1),d=i+rt(-8,-1),t=i+rt(-10,-1),e=i+rt(-12,-1);return Ot([i,d,t,e])}},Rf=p=>{const c=p+rt(-100,500),i=c+rt(-20,50),d=c+rt(-5e3,5e3),t=c+rt(-1e3,1e3);return Ot([c,i,d,t])};function Ot(p){return p.map(c=>Math.max(5,c))}function Ox(){const p=Ht(),c=p.value.prices.map(s=>s.name),i=lt.stableSpices.filter(s=>!c.includes(s)),d=lt.fadSpices.filter(s=>!c.includes(s)),t=[{type:"stable",name:Vt(i)},{type:"fad",name:Vt(d)}].filter(s=>s.name!=null);if(t.length===0)return;const e=Vt(t);if(Pf(`New Spice Discovered: ${e.name}! ${lt.spiceDescriptions[e.name]}`),e.type==="stable"){const s=rt(100,200);p.value.prices.push({name:e.name,price:s,trend:Mf(s)})}else{const s=rt(200,6e3);p.value.prices.push({name:e.name,price:s,trend:Rf(s)})}const l=jr();l.value.datasets.push({label:e.name,data:Array.from({length:l.value.tick},(s,r)=>null)})}function Vt(p){return p.length===0?null:p[Math.floor(Math.random()*p.length)]}function rt(p,c){return Math.floor(Math.random()*(c-p+1))+p}const oo={male:{B:"Kraft Lawrence",C:"Jonesy Jackson",D:"Quandale Dingle"},female:{B:"Kara Lroft",C:"Pepper Potts",D:"Scary Spice"}};function Fx(p,c){return oo[p][c]}let lo=[];function Ix(){const p=[];Object.keys(oo).forEach(d=>{Object.keys(oo[d]).forEach(e=>{p.push(`${d}-${e}`)})});const c=p.filter(d=>!lo.includes(d)),i=Vt(c);return lo.push(i),{gender:i.split("-")[0],spriteKey:i.split("-")[1]}}function Dx(){lo=[]}function Lf(){const p=Ht().value,c=jt().value,i=jr().value;localStorage.setItem("market",JSON.stringify(p)),localStorage.setItem("player",JSON.stringify(c)),localStorage.setItem("history",JSON.stringify(i))}function fS(){const p=localStorage.getItem("market"),c=localStorage.getItem("player"),i=localStorage.getItem("history");p&&(Ht().value=JSON.parse(p),Ht().value.stepsUntilEvent=8),c&&(jt().value=JSON.parse(c)),i&&(jr().value=JSON.parse(i))}const Of=()=>Ft("dialogState",()=>({isShowing:!1,callback:null,title:"Renegade Raider",text:"Would you like to purchase the battle pass?",buttons:[{text:"Yes, of course!!",accent:"var(--green)",id:"SUCCESS"},{text:"No bozo",accent:"var(--red)",id:"FAILURE"}]})),Ff=p=>{const c=Of();return new Promise(i=>{c.value={...p,isShowing:!0,callback:i}})},ne=async(p,c)=>{for(const i of c)await Ff({title:p,text:i,buttons:[{text:"Okay",accent:"white",id:"TEXT"}]})},wx=()=>Ft("ShopState",()=>({isShowing:!1,callback:null,title:"Fortnite Item Shop",items:[]})),If=(p,c)=>{const i=wx();i.value={...p,isShowing:!0,callback:c}},Bx=async p=>{var e;const c=Fx(p.gender,p.spriteKey),i=jt(),d=Ht(),t=Qo();if((e=t.value)!=null&&e.currentPhase)await ne(c,[Vt(t.value.currentPhase.dialogBank),"Anyways, here's what I brought with me today."]);else if(d.value.isEnabled===!1){await ne(c,[`
                New to these parts are you? Worry not, I'm sure you'll pick up quickly. 
                I'm always here if you're in need of some help.
            `,`
                From ${lt.country}, huh? My great grandfather Bruhngis Khan conquered that land
                a few decades ago. If it were 40 years ago, you'd be bowing to me. Anyhow, I'm a
                trader who stumbled on a new settlement here.
            `,`
                Dang, this island is yours? Didn't think you'd have it in you. Regardless, I have the most unique
                items you can find in these parts of ${lt.island}.
            `,"I'm still getting setup though, so I'm not sure what I'll be selling yet. I'll be ready soon though so come back later!"]);return}else{const l=[`Finally decided to stop by ${lt.island} again! I have a ton of great spices for you!`,"Ah I've been looking for you. Just restocked my inventory with some new spices. Take a look!",`${lt.island} is paradise. Fresh sea breeze and warm water. A ton of traders as well! What can I do for you?`,`I have an insider tip: the price of ${Vt(Object.keys(i.value.inventory))} is going TO THE MOON! Now's your chance to buy it from me!`];if(await ne(c,[Vt(l)]),await Ff({title:"Trading Opportunity",text:`
               View Shop?
            `,buttons:[{text:"Yes!",accent:"var(--green)",id:"ACCEPT_SHOP"},{text:"Next time.",accent:"var(--blue)",id:"REJECT_SHOP"}]})==="REJECT_SHOP")return}p.updateShopPrices(),If({title:`${c}'s Shop`,items:p.shopItems||[]},(l,s)=>{const r=l.price*s;if(r<=i.value.money){i.value.money-=r,i.value.inventory[l.name]||(i.value.inventory[l.name]=0),i.value.inventory[l.name]+=s;const a=p.shopItems.findIndex(o=>o.name===l.name);return p.shopItems[a].stock-=s,"Thanks for that."}else return"Aw shucks, you're broke bozo!"})};var Zi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function bx(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var ai={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(p){(function(){var c=function(){this.init()};c.prototype={init:function(){var n=this||i;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},volume:function(n){var u=this||i;if(n=parseFloat(n),u.ctx||o(),typeof n!="undefined"&&n>=0&&n<=1){if(u._volume=n,u._muted)return u;u.usingWebAudio&&u.masterGain.gain.setValueAtTime(n,i.ctx.currentTime);for(var h=0;h<u._howls.length;h++)if(!u._howls[h]._webAudio)for(var f=u._howls[h]._getSoundIds(),v=0;v<f.length;v++){var m=u._howls[h]._soundById(f[v]);m&&m._node&&(m._node.volume=m._volume*n)}return u}return u._volume},mute:function(n){var u=this||i;u.ctx||o(),u._muted=n,u.usingWebAudio&&u.masterGain.gain.setValueAtTime(n?0:u._volume,i.ctx.currentTime);for(var h=0;h<u._howls.length;h++)if(!u._howls[h]._webAudio)for(var f=u._howls[h]._getSoundIds(),v=0;v<f.length;v++){var m=u._howls[h]._soundById(f[v]);m&&m._node&&(m._node.muted=n?!0:m._muted)}return u},stop:function(){for(var n=this||i,u=0;u<n._howls.length;u++)n._howls[u].stop();return n},unload:function(){for(var n=this||i,u=n._howls.length-1;u>=0;u--)n._howls[u].unload();return n.usingWebAudio&&n.ctx&&typeof n.ctx.close!="undefined"&&(n.ctx.close(),n.ctx=null,o()),n},codecs:function(n){return(this||i)._codecs[n.replace(/^x-/,"")]},_setup:function(){var n=this||i;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if(typeof Audio!="undefined")try{var u=new Audio;typeof u.oncanplaythrough=="undefined"&&(n._canPlayEvent="canplay")}catch{n.noAudio=!0}else n.noAudio=!0;try{var u=new Audio;u.muted&&(n.noAudio=!0)}catch{}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var n=this||i,u=null;try{u=typeof Audio!="undefined"?new Audio:null}catch{return n}if(!u||typeof u.canPlayType!="function")return n;var h=u.canPlayType("audio/mpeg;").replace(/^no$/,""),f=n._navigator?n._navigator.userAgent:"",v=f.match(/OPR\/([0-6].)/g),m=v&&parseInt(v[0].split("/")[1],10)<33,g=f.indexOf("Safari")!==-1&&f.indexOf("Chrome")===-1,x=f.match(/Version\/(.*?) /),y=g&&x&&parseInt(x[1],10)<15;return n._codecs={mp3:!!(!m&&(h||u.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(u.canPlayType('audio/wav; codecs="1"')||u.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!u.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!u.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/m4a;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(u.canPlayType("audio/x-m4b;")||u.canPlayType("audio/m4b;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(u.canPlayType("audio/x-mp4;")||u.canPlayType("audio/mp4;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!y&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!y&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!u.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(u.canPlayType("audio/x-flac;")||u.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n=this||i;if(!(n._audioUnlocked||!n.ctx)){n._audioUnlocked=!1,n.autoUnlock=!1,!n._mobileUnloaded&&n.ctx.sampleRate!==44100&&(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var u=function(h){for(;n._html5AudioPool.length<n.html5PoolSize;)try{var f=new Audio;f._unlocked=!0,n._releaseHtml5Audio(f)}catch{n.noAudio=!0;break}for(var v=0;v<n._howls.length;v++)if(!n._howls[v]._webAudio)for(var m=n._howls[v]._getSoundIds(),g=0;g<m.length;g++){var x=n._howls[v]._soundById(m[g]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}n._autoResume();var y=n.ctx.createBufferSource();y.buffer=n._scratchBuffer,y.connect(n.ctx.destination),typeof y.start=="undefined"?y.noteOn(0):y.start(0),typeof n.ctx.resume=="function"&&n.ctx.resume(),y.onended=function(){y.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",u,!0),document.removeEventListener("touchend",u,!0),document.removeEventListener("click",u,!0),document.removeEventListener("keydown",u,!0);for(var T=0;T<n._howls.length;T++)n._howls[T]._emit("unlock")}};return document.addEventListener("touchstart",u,!0),document.addEventListener("touchend",u,!0),document.addEventListener("click",u,!0),document.addEventListener("keydown",u,!0),n}},_obtainHtml5Audio:function(){var n=this||i;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var u=new Audio().play();return u&&typeof Promise!="undefined"&&(u instanceof Promise||typeof u.then=="function")&&u.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(n){var u=this||i;return n._unlocked&&u._html5AudioPool.push(n),u},_autoSuspend:function(){var n=this;if(!(!n.autoSuspend||!n.ctx||typeof n.ctx.suspend=="undefined"||!i.usingWebAudio)){for(var u=0;u<n._howls.length;u++)if(n._howls[u]._webAudio){for(var h=0;h<n._howls[u]._sounds.length;h++)if(!n._howls[u]._sounds[h]._paused)return n}return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout(function(){if(!!n.autoSuspend){n._suspendTimer=null,n.state="suspending";var f=function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())};n.ctx.suspend().then(f,f)}},3e4),n}},_autoResume:function(){var n=this;if(!(!n.ctx||typeof n.ctx.resume=="undefined"||!i.usingWebAudio))return n.state==="running"&&n.ctx.state!=="interrupted"&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):n.state==="suspended"||n.state==="running"&&n.ctx.state==="interrupted"?(n.ctx.resume().then(function(){n.state="running";for(var u=0;u<n._howls.length;u++)n._howls[u]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):n.state==="suspending"&&(n._resumeAfterSuspend=!0),n}};var i=new c,d=function(n){var u=this;if(!n.src||n.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}u.init(n)};d.prototype={init:function(n){var u=this;return i.ctx||o(),u._autoplay=n.autoplay||!1,u._format=typeof n.format!="string"?n.format:[n.format],u._html5=n.html5||!1,u._muted=n.mute||!1,u._loop=n.loop||!1,u._pool=n.pool||5,u._preload=typeof n.preload=="boolean"||n.preload==="metadata"?n.preload:!0,u._rate=n.rate||1,u._sprite=n.sprite||{},u._src=typeof n.src!="string"?n.src:[n.src],u._volume=n.volume!==void 0?n.volume:1,u._xhr={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:n.xhr&&n.xhr.withCredentials?n.xhr.withCredentials:!1},u._duration=0,u._state="unloaded",u._sounds=[],u._endTimers={},u._queue=[],u._playLock=!1,u._onend=n.onend?[{fn:n.onend}]:[],u._onfade=n.onfade?[{fn:n.onfade}]:[],u._onload=n.onload?[{fn:n.onload}]:[],u._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],u._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],u._onpause=n.onpause?[{fn:n.onpause}]:[],u._onplay=n.onplay?[{fn:n.onplay}]:[],u._onstop=n.onstop?[{fn:n.onstop}]:[],u._onmute=n.onmute?[{fn:n.onmute}]:[],u._onvolume=n.onvolume?[{fn:n.onvolume}]:[],u._onrate=n.onrate?[{fn:n.onrate}]:[],u._onseek=n.onseek?[{fn:n.onseek}]:[],u._onunlock=n.onunlock?[{fn:n.onunlock}]:[],u._onresume=[],u._webAudio=i.usingWebAudio&&!u._html5,typeof i.ctx!="undefined"&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(u),u._autoplay&&u._queue.push({event:"play",action:function(){u.play()}}),u._preload&&u._preload!=="none"&&u.load(),u},load:function(){var n=this,u=null;if(i.noAudio){n._emit("loaderror",null,"No audio support.");return}typeof n._src=="string"&&(n._src=[n._src]);for(var h=0;h<n._src.length;h++){var f,v;if(n._format&&n._format[h])f=n._format[h];else{if(v=n._src[h],typeof v!="string"){n._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}f=/^data:audio\/([^;,]+);/i.exec(v),f||(f=/\.([^.]+)$/.exec(v.split("?",1)[0])),f&&(f=f[1].toLowerCase())}if(f||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),f&&i.codecs(f)){u=n._src[h];break}}if(!u){n._emit("loaderror",null,"No codec support for selected audio sources.");return}return n._src=u,n._state="loading",window.location.protocol==="https:"&&u.slice(0,5)==="http:"&&(n._html5=!0,n._webAudio=!1),new t(n),n._webAudio&&l(n),n},play:function(n,u){var h=this,f=null;if(typeof n=="number")f=n,n=null;else{if(typeof n=="string"&&h._state==="loaded"&&!h._sprite[n])return null;if(typeof n=="undefined"&&(n="__default",!h._playLock)){for(var v=0,m=0;m<h._sounds.length;m++)h._sounds[m]._paused&&!h._sounds[m]._ended&&(v++,f=h._sounds[m]._id);v===1?n=null:f=null}}var g=f?h._soundById(f):h._inactiveSound();if(!g)return null;if(f&&!n&&(n=g._sprite||"__default"),h._state!=="loaded"){g._sprite=n,g._ended=!1;var x=g._id;return h._queue.push({event:"play",action:function(){h.play(x)}}),x}if(f&&!g._paused)return u||h._loadQueue("play"),g._id;h._webAudio&&i._autoResume();var y=Math.max(0,g._seek>0?g._seek:h._sprite[n][0]/1e3),T=Math.max(0,(h._sprite[n][0]+h._sprite[n][1])/1e3-y),S=T*1e3/Math.abs(g._rate),E=h._sprite[n][0]/1e3,C=(h._sprite[n][0]+h._sprite[n][1])/1e3;g._sprite=n,g._ended=!1;var A=function(){g._paused=!1,g._seek=y,g._start=E,g._stop=C,g._loop=!!(g._loop||h._sprite[n][2])};if(y>=C){h._ended(g);return}var P=g._node;if(h._webAudio){var R=function(){h._playLock=!1,A(),h._refreshBuffer(g);var I=g._muted||h._muted?0:g._volume;P.gain.setValueAtTime(I,i.ctx.currentTime),g._playStart=i.ctx.currentTime,typeof P.bufferSource.start=="undefined"?g._loop?P.bufferSource.noteGrainOn(0,y,86400):P.bufferSource.noteGrainOn(0,y,T):g._loop?P.bufferSource.start(0,y,86400):P.bufferSource.start(0,y,T),S!==1/0&&(h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),S)),u||setTimeout(function(){h._emit("play",g._id),h._loadQueue()},0)};i.state==="running"&&i.ctx.state!=="interrupted"?R():(h._playLock=!0,h.once("resume",R),h._clearTimer(g._id))}else{var M=function(){P.currentTime=y,P.muted=g._muted||h._muted||i._muted||P.muted,P.volume=g._volume*i.volume(),P.playbackRate=g._rate;try{var I=P.play();if(I&&typeof Promise!="undefined"&&(I instanceof Promise||typeof I.then=="function")?(h._playLock=!0,A(),I.then(function(){h._playLock=!1,P._unlocked=!0,u?h._loadQueue():h._emit("play",g._id)}).catch(function(){h._playLock=!1,h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):u||(h._playLock=!1,A(),h._emit("play",g._id)),P.playbackRate=g._rate,P.paused){h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}n!=="__default"||g._loop?h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),S):(h._endTimers[g._id]=function(){h._ended(g),P.removeEventListener("ended",h._endTimers[g._id],!1)},P.addEventListener("ended",h._endTimers[g._id],!1))}catch(w){h._emit("playerror",g._id,w)}};P.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(P.src=h._src,P.load());var L=window&&window.ejecta||!P.readyState&&i._navigator.isCocoonJS;if(P.readyState>=3||L)M();else{h._playLock=!0,h._state="loading";var O=function(){h._state="loaded",M(),P.removeEventListener(i._canPlayEvent,O,!1)};P.addEventListener(i._canPlayEvent,O,!1),h._clearTimer(g._id)}}return g._id},pause:function(n){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"pause",action:function(){u.pause(n)}}),u;for(var h=u._getSoundIds(n),f=0;f<h.length;f++){u._clearTimer(h[f]);var v=u._soundById(h[f]);if(v&&!v._paused&&(v._seek=u.seek(h[f]),v._rateSeek=0,v._paused=!0,u._stopFade(h[f]),v._node))if(u._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop=="undefined"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),u._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||u._emit("pause",v?v._id:null)}return u},stop:function(n,u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(n)}}),h;for(var f=h._getSoundIds(n),v=0;v<f.length;v++){h._clearTimer(f[v]);var m=h._soundById(f[v]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,h._stopFade(f[v]),m._node&&(h._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop=="undefined"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),h._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&h._clearSound(m._node))),u||h._emit("stop",m._id))}return h},mute:function(n,u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(n,u)}}),h;if(typeof u=="undefined")if(typeof n=="boolean")h._muted=n;else return h._muted;for(var f=h._getSoundIds(u),v=0;v<f.length;v++){var m=h._soundById(f[v]);m&&(m._muted=n,m._interval&&h._stopFade(m._id),h._webAudio&&m._node?m._node.gain.setValueAtTime(n?0:m._volume,i.ctx.currentTime):m._node&&(m._node.muted=i._muted?!0:n),h._emit("mute",m._id))}return h},volume:function(){var n=this,u=arguments,h,f;if(u.length===0)return n._volume;if(u.length===1||u.length===2&&typeof u[1]=="undefined"){var v=n._getSoundIds(),m=v.indexOf(u[0]);m>=0?f=parseInt(u[0],10):h=parseFloat(u[0])}else u.length>=2&&(h=parseFloat(u[0]),f=parseInt(u[1],10));var g;if(typeof h!="undefined"&&h>=0&&h<=1){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,u)}}),n;typeof f=="undefined"&&(n._volume=h),f=n._getSoundIds(f);for(var x=0;x<f.length;x++)g=n._soundById(f[x]),g&&(g._volume=h,u[2]||n._stopFade(f[x]),n._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(h,i.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=h*i.volume()),n._emit("volume",g._id))}else return g=f?n._soundById(f):n._sounds[0],g?g._volume:0;return n},fade:function(n,u,h,f){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(n,u,h,f)}}),v;n=Math.min(Math.max(0,parseFloat(n)),1),u=Math.min(Math.max(0,parseFloat(u)),1),h=parseFloat(h),v.volume(n,f);for(var m=v._getSoundIds(f),g=0;g<m.length;g++){var x=v._soundById(m[g]);if(x){if(f||v._stopFade(m[g]),v._webAudio&&!x._muted){var y=i.ctx.currentTime,T=y+h/1e3;x._volume=n,x._node.gain.setValueAtTime(n,y),x._node.gain.linearRampToValueAtTime(u,T)}v._startFadeInterval(x,n,u,h,m[g],typeof f=="undefined")}}return v},_startFadeInterval:function(n,u,h,f,v,m){var g=this,x=u,y=h-u,T=Math.abs(y/.01),S=Math.max(4,T>0?f/T:f),E=Date.now();n._fadeTo=h,n._interval=setInterval(function(){var C=(Date.now()-E)/f;E=Date.now(),x+=y*C,x=Math.round(x*100)/100,y<0?x=Math.max(h,x):x=Math.min(h,x),g._webAudio?n._volume=x:g.volume(x,n._id,!0),m&&(g._volume=x),(h<u&&x<=h||h>u&&x>=h)&&(clearInterval(n._interval),n._interval=null,n._fadeTo=null,g.volume(h,n._id),g._emit("fade",n._id))},S)},_stopFade:function(n){var u=this,h=u._soundById(n);return h&&h._interval&&(u._webAudio&&h._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(h._interval),h._interval=null,u.volume(h._fadeTo,n),h._fadeTo=null,u._emit("fade",n)),u},loop:function(){var n=this,u=arguments,h,f,v;if(u.length===0)return n._loop;if(u.length===1)if(typeof u[0]=="boolean")h=u[0],n._loop=h;else return v=n._soundById(parseInt(u[0],10)),v?v._loop:!1;else u.length===2&&(h=u[0],f=parseInt(u[1],10));for(var m=n._getSoundIds(f),g=0;g<m.length;g++)v=n._soundById(m[g]),v&&(v._loop=h,n._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=h,h&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,n.playing(m[g])&&(n.pause(m[g],!0),n.play(m[g],!0)))));return n},rate:function(){var n=this,u=arguments,h,f;if(u.length===0)f=n._sounds[0]._id;else if(u.length===1){var v=n._getSoundIds(),m=v.indexOf(u[0]);m>=0?f=parseInt(u[0],10):h=parseFloat(u[0])}else u.length===2&&(h=parseFloat(u[0]),f=parseInt(u[1],10));var g;if(typeof h=="number"){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,u)}}),n;typeof f=="undefined"&&(n._rate=h),f=n._getSoundIds(f);for(var x=0;x<f.length;x++)if(g=n._soundById(f[x]),g){n.playing(f[x])&&(g._rateSeek=n.seek(f[x]),g._playStart=n._webAudio?i.ctx.currentTime:g._playStart),g._rate=h,n._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(h,i.ctx.currentTime):g._node&&(g._node.playbackRate=h);var y=n.seek(f[x]),T=(n._sprite[g._sprite][0]+n._sprite[g._sprite][1])/1e3-y,S=T*1e3/Math.abs(g._rate);(n._endTimers[f[x]]||!g._paused)&&(n._clearTimer(f[x]),n._endTimers[f[x]]=setTimeout(n._ended.bind(n,g),S)),n._emit("rate",g._id)}}else return g=n._soundById(f),g?g._rate:n._rate;return n},seek:function(){var n=this,u=arguments,h,f;if(u.length===0)n._sounds.length&&(f=n._sounds[0]._id);else if(u.length===1){var v=n._getSoundIds(),m=v.indexOf(u[0]);m>=0?f=parseInt(u[0],10):n._sounds.length&&(f=n._sounds[0]._id,h=parseFloat(u[0]))}else u.length===2&&(h=parseFloat(u[0]),f=parseInt(u[1],10));if(typeof f=="undefined")return 0;if(typeof h=="number"&&(n._state!=="loaded"||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,u)}}),n;var g=n._soundById(f);if(g)if(typeof h=="number"&&h>=0){var x=n.playing(f);x&&n.pause(f,!0),g._seek=h,g._ended=!1,n._clearTimer(f),!n._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=h);var y=function(){x&&n.play(f,!0),n._emit("seek",f)};if(x&&!n._webAudio){var T=function(){n._playLock?setTimeout(T,0):y()};setTimeout(T,0)}else y()}else if(n._webAudio){var S=n.playing(f)?i.ctx.currentTime-g._playStart:0,E=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(E+S*Math.abs(g._rate))}else return g._node.currentTime;return n},playing:function(n){var u=this;if(typeof n=="number"){var h=u._soundById(n);return h?!h._paused:!1}for(var f=0;f<u._sounds.length;f++)if(!u._sounds[f]._paused)return!0;return!1},duration:function(n){var u=this,h=u._duration,f=u._soundById(n);return f&&(h=u._sprite[f._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var n=this,u=n._sounds,h=0;h<u.length;h++)u[h]._paused||n.stop(u[h]._id),n._webAudio||(n._clearSound(u[h]._node),u[h]._node.removeEventListener("error",u[h]._errorFn,!1),u[h]._node.removeEventListener(i._canPlayEvent,u[h]._loadFn,!1),u[h]._node.removeEventListener("ended",u[h]._endFn,!1),i._releaseHtml5Audio(u[h]._node)),delete u[h]._node,n._clearTimer(u[h]._id);var f=i._howls.indexOf(n);f>=0&&i._howls.splice(f,1);var v=!0;for(h=0;h<i._howls.length;h++)if(i._howls[h]._src===n._src||n._src.indexOf(i._howls[h]._src)>=0){v=!1;break}return e&&v&&delete e[n._src],i.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},on:function(n,u,h,f){var v=this,m=v["_on"+n];return typeof u=="function"&&m.push(f?{id:h,fn:u,once:f}:{id:h,fn:u}),v},off:function(n,u,h){var f=this,v=f["_on"+n],m=0;if(typeof u=="number"&&(h=u,u=null),u||h)for(m=0;m<v.length;m++){var g=h===v[m].id;if(u===v[m].fn&&g||!u&&g){v.splice(m,1);break}}else if(n)f["_on"+n]=[];else{var x=Object.keys(f);for(m=0;m<x.length;m++)x[m].indexOf("_on")===0&&Array.isArray(f[x[m]])&&(f[x[m]]=[])}return f},once:function(n,u,h){var f=this;return f.on(n,u,h,1),f},_emit:function(n,u,h){for(var f=this,v=f["_on"+n],m=v.length-1;m>=0;m--)(!v[m].id||v[m].id===u||n==="load")&&(setTimeout(function(g){g.call(this,u,h)}.bind(f,v[m].fn),0),v[m].once&&f.off(n,v[m].fn,v[m].id));return f._loadQueue(n),f},_loadQueue:function(n){var u=this;if(u._queue.length>0){var h=u._queue[0];h.event===n&&(u._queue.shift(),u._loadQueue()),n||h.action()}return u},_ended:function(n){var u=this,h=n._sprite;if(!u._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(u._ended.bind(u,n),100),u;var f=!!(n._loop||u._sprite[h][2]);if(u._emit("end",n._id),!u._webAudio&&f&&u.stop(n._id,!0).play(n._id),u._webAudio&&f){u._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=i.ctx.currentTime;var v=(n._stop-n._start)*1e3/Math.abs(n._rate);u._endTimers[n._id]=setTimeout(u._ended.bind(u,n),v)}return u._webAudio&&!f&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,u._clearTimer(n._id),u._cleanBuffer(n._node),i._autoSuspend()),!u._webAudio&&!f&&u.stop(n._id,!0),u},_clearTimer:function(n){var u=this;if(u._endTimers[n]){if(typeof u._endTimers[n]!="function")clearTimeout(u._endTimers[n]);else{var h=u._soundById(n);h&&h._node&&h._node.removeEventListener("ended",u._endTimers[n],!1)}delete u._endTimers[n]}return u},_soundById:function(n){for(var u=this,h=0;h<u._sounds.length;h++)if(n===u._sounds[h]._id)return u._sounds[h];return null},_inactiveSound:function(){var n=this;n._drain();for(var u=0;u<n._sounds.length;u++)if(n._sounds[u]._ended)return n._sounds[u].reset();return new t(n)},_drain:function(){var n=this,u=n._pool,h=0,f=0;if(!(n._sounds.length<u)){for(f=0;f<n._sounds.length;f++)n._sounds[f]._ended&&h++;for(f=n._sounds.length-1;f>=0;f--){if(h<=u)return;n._sounds[f]._ended&&(n._webAudio&&n._sounds[f]._node&&n._sounds[f]._node.disconnect(0),n._sounds.splice(f,1),h--)}}},_getSoundIds:function(n){var u=this;if(typeof n=="undefined"){for(var h=[],f=0;f<u._sounds.length;f++)h.push(u._sounds[f]._id);return h}else return[n]},_refreshBuffer:function(n){var u=this;return n._node.bufferSource=i.ctx.createBufferSource(),n._node.bufferSource.buffer=e[u._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,i.ctx.currentTime),u},_cleanBuffer:function(n){var u=this,h=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),h))try{n.bufferSource.buffer=i._scratchBuffer}catch{}return n.bufferSource=null,u},_clearSound:function(n){var u=/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent);u||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var t=function(n){this._parent=n,this.init()};t.prototype={init:function(){var n=this,u=n._parent;return n._muted=u._muted,n._loop=u._loop,n._volume=u._volume,n._rate=u._rate,n._seek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++i._counter,u._sounds.push(n),n.create(),n},create:function(){var n=this,u=n._parent,h=i._muted||n._muted||n._parent._muted?0:n._volume;return u._webAudio?(n._node=typeof i.ctx.createGain=="undefined"?i.ctx.createGainNode():i.ctx.createGain(),n._node.gain.setValueAtTime(h,i.ctx.currentTime),n._node.paused=!0,n._node.connect(i.masterGain)):i.noAudio||(n._node=i._obtainHtml5Audio(),n._errorFn=n._errorListener.bind(n),n._node.addEventListener("error",n._errorFn,!1),n._loadFn=n._loadListener.bind(n),n._node.addEventListener(i._canPlayEvent,n._loadFn,!1),n._endFn=n._endListener.bind(n),n._node.addEventListener("ended",n._endFn,!1),n._node.src=u._src,n._node.preload=u._preload===!0?"auto":u._preload,n._node.volume=h*i.volume(),n._node.load()),n},reset:function(){var n=this,u=n._parent;return n._muted=u._muted,n._loop=u._loop,n._volume=u._volume,n._rate=u._rate,n._seek=0,n._rateSeek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++i._counter,n},_errorListener:function(){var n=this;n._parent._emit("loaderror",n._id,n._node.error?n._node.error.code:0),n._node.removeEventListener("error",n._errorFn,!1)},_loadListener:function(){var n=this,u=n._parent;u._duration=Math.ceil(n._node.duration*10)/10,Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue()),n._node.removeEventListener(i._canPlayEvent,n._loadFn,!1)},_endListener:function(){var n=this,u=n._parent;u._duration===1/0&&(u._duration=Math.ceil(n._node.duration*10)/10,u._sprite.__default[1]===1/0&&(u._sprite.__default[1]=u._duration*1e3),u._ended(n)),n._node.removeEventListener("ended",n._endFn,!1)}};var e={},l=function(n){var u=n._src;if(e[u]){n._duration=e[u].duration,a(n);return}if(/^data:[^;]+;base64,/.test(u)){for(var h=atob(u.split(",")[1]),f=new Uint8Array(h.length),v=0;v<h.length;++v)f[v]=h.charCodeAt(v);r(f.buffer,n)}else{var m=new XMLHttpRequest;m.open(n._xhr.method,u,!0),m.withCredentials=n._xhr.withCredentials,m.responseType="arraybuffer",n._xhr.headers&&Object.keys(n._xhr.headers).forEach(function(g){m.setRequestHeader(g,n._xhr.headers[g])}),m.onload=function(){var g=(m.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){n._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}r(m.response,n)},m.onerror=function(){n._webAudio&&(n._html5=!0,n._webAudio=!1,n._sounds=[],delete e[u],n.load())},s(m)}},s=function(n){try{n.send()}catch{n.onerror()}},r=function(n,u){var h=function(){u._emit("loaderror",null,"Decoding audio data failed.")},f=function(v){v&&u._sounds.length>0?(e[u._src]=v,a(u,v)):h()};typeof Promise!="undefined"&&i.ctx.decodeAudioData.length===1?i.ctx.decodeAudioData(n).then(f).catch(h):i.ctx.decodeAudioData(n,f,h)},a=function(n,u){u&&!n._duration&&(n._duration=u.duration),Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue())},o=function(){if(!!i.usingWebAudio){try{typeof AudioContext!="undefined"?i.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch{i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),u=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=u?parseInt(u[1],10):null;if(n&&h&&h<9){var f=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!f&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=typeof i.ctx.createGain=="undefined"?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};p.Howler=i,p.Howl=d,typeof Zi!="undefined"?(Zi.HowlerGlobal=c,Zi.Howler=i,Zi.Howl=d,Zi.Sound=t):typeof window!="undefined"&&(window.HowlerGlobal=c,window.Howler=i,window.Howl=d,window.Sound=t)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(i){var d=this;if(!d.ctx||!d.ctx.listener)return d;for(var t=d._howls.length-1;t>=0;t--)d._howls[t].stereo(i);return d},HowlerGlobal.prototype.pos=function(i,d,t){var e=this;if(!e.ctx||!e.ctx.listener)return e;if(d=typeof d!="number"?e._pos[1]:d,t=typeof t!="number"?e._pos[2]:t,typeof i=="number")e._pos=[i,d,t],typeof e.ctx.listener.positionX!="undefined"?(e.ctx.listener.positionX.setTargetAtTime(e._pos[0],Howler.ctx.currentTime,.1),e.ctx.listener.positionY.setTargetAtTime(e._pos[1],Howler.ctx.currentTime,.1),e.ctx.listener.positionZ.setTargetAtTime(e._pos[2],Howler.ctx.currentTime,.1)):e.ctx.listener.setPosition(e._pos[0],e._pos[1],e._pos[2]);else return e._pos;return e},HowlerGlobal.prototype.orientation=function(i,d,t,e,l,s){var r=this;if(!r.ctx||!r.ctx.listener)return r;var a=r._orientation;if(d=typeof d!="number"?a[1]:d,t=typeof t!="number"?a[2]:t,e=typeof e!="number"?a[3]:e,l=typeof l!="number"?a[4]:l,s=typeof s!="number"?a[5]:s,typeof i=="number")r._orientation=[i,d,t,e,l,s],typeof r.ctx.listener.forwardX!="undefined"?(r.ctx.listener.forwardX.setTargetAtTime(i,Howler.ctx.currentTime,.1),r.ctx.listener.forwardY.setTargetAtTime(d,Howler.ctx.currentTime,.1),r.ctx.listener.forwardZ.setTargetAtTime(t,Howler.ctx.currentTime,.1),r.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),r.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),r.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):r.ctx.listener.setOrientation(i,d,t,e,l,s);else return a;return r},Howl.prototype.init=function(i){return function(d){var t=this;return t._orientation=d.orientation||[1,0,0],t._stereo=d.stereo||null,t._pos=d.pos||null,t._pannerAttr={coneInnerAngle:typeof d.coneInnerAngle!="undefined"?d.coneInnerAngle:360,coneOuterAngle:typeof d.coneOuterAngle!="undefined"?d.coneOuterAngle:360,coneOuterGain:typeof d.coneOuterGain!="undefined"?d.coneOuterGain:0,distanceModel:typeof d.distanceModel!="undefined"?d.distanceModel:"inverse",maxDistance:typeof d.maxDistance!="undefined"?d.maxDistance:1e4,panningModel:typeof d.panningModel!="undefined"?d.panningModel:"HRTF",refDistance:typeof d.refDistance!="undefined"?d.refDistance:1,rolloffFactor:typeof d.rolloffFactor!="undefined"?d.rolloffFactor:1},t._onstereo=d.onstereo?[{fn:d.onstereo}]:[],t._onpos=d.onpos?[{fn:d.onpos}]:[],t._onorientation=d.onorientation?[{fn:d.onorientation}]:[],i.call(this,d)}}(Howl.prototype.init),Howl.prototype.stereo=function(i,d){var t=this;if(!t._webAudio)return t;if(t._state!=="loaded")return t._queue.push({event:"stereo",action:function(){t.stereo(i,d)}}),t;var e=typeof Howler.ctx.createStereoPanner=="undefined"?"spatial":"stereo";if(typeof d=="undefined")if(typeof i=="number")t._stereo=i,t._pos=[i,0,0];else return t._stereo;for(var l=t._getSoundIds(d),s=0;s<l.length;s++){var r=t._soundById(l[s]);if(r)if(typeof i=="number")r._stereo=i,r._pos=[i,0,0],r._node&&(r._pannerAttr.panningModel="equalpower",(!r._panner||!r._panner.pan)&&c(r,e),e==="spatial"?typeof r._panner.positionX!="undefined"?(r._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):r._panner.setPosition(i,0,0):r._panner.pan.setValueAtTime(i,Howler.ctx.currentTime)),t._emit("stereo",r._id);else return r._stereo}return t},Howl.prototype.pos=function(i,d,t,e){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(i,d,t,e)}}),l;if(d=typeof d!="number"?0:d,t=typeof t!="number"?-.5:t,typeof e=="undefined")if(typeof i=="number")l._pos=[i,d,t];else return l._pos;for(var s=l._getSoundIds(e),r=0;r<s.length;r++){var a=l._soundById(s[r]);if(a)if(typeof i=="number")a._pos=[i,d,t],a._node&&((!a._panner||a._panner.pan)&&c(a,"spatial"),typeof a._panner.positionX!="undefined"?(a._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(d,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(t,Howler.ctx.currentTime)):a._panner.setPosition(i,d,t)),l._emit("pos",a._id);else return a._pos}return l},Howl.prototype.orientation=function(i,d,t,e){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(i,d,t,e)}}),l;if(d=typeof d!="number"?l._orientation[1]:d,t=typeof t!="number"?l._orientation[2]:t,typeof e=="undefined")if(typeof i=="number")l._orientation=[i,d,t];else return l._orientation;for(var s=l._getSoundIds(e),r=0;r<s.length;r++){var a=l._soundById(s[r]);if(a)if(typeof i=="number")a._orientation=[i,d,t],a._node&&(a._panner||(a._pos||(a._pos=l._pos||[0,0,-.5]),c(a,"spatial")),typeof a._panner.orientationX!="undefined"?(a._panner.orientationX.setValueAtTime(i,Howler.ctx.currentTime),a._panner.orientationY.setValueAtTime(d,Howler.ctx.currentTime),a._panner.orientationZ.setValueAtTime(t,Howler.ctx.currentTime)):a._panner.setOrientation(i,d,t)),l._emit("orientation",a._id);else return a._orientation}return l},Howl.prototype.pannerAttr=function(){var i=this,d=arguments,t,e,l;if(!i._webAudio)return i;if(d.length===0)return i._pannerAttr;if(d.length===1)if(typeof d[0]=="object")t=d[0],typeof e=="undefined"&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:typeof t.pannerAttr.coneInnerAngle!="undefined"?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:typeof t.pannerAttr.coneOuterAngle!="undefined"?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:typeof t.pannerAttr.coneOuterGain!="undefined"?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:typeof t.pannerAttr.distanceModel!="undefined"?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:typeof t.pannerAttr.maxDistance!="undefined"?t.pannerAttr.maxDistance:i._maxDistance,refDistance:typeof t.pannerAttr.refDistance!="undefined"?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:typeof t.pannerAttr.rolloffFactor!="undefined"?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:typeof t.pannerAttr.panningModel!="undefined"?t.pannerAttr.panningModel:i._panningModel});else return l=i._soundById(parseInt(d[0],10)),l?l._pannerAttr:i._pannerAttr;else d.length===2&&(t=d[0],e=parseInt(d[1],10));for(var s=i._getSoundIds(e),r=0;r<s.length;r++)if(l=i._soundById(s[r]),l){var a=l._pannerAttr;a={coneInnerAngle:typeof t.coneInnerAngle!="undefined"?t.coneInnerAngle:a.coneInnerAngle,coneOuterAngle:typeof t.coneOuterAngle!="undefined"?t.coneOuterAngle:a.coneOuterAngle,coneOuterGain:typeof t.coneOuterGain!="undefined"?t.coneOuterGain:a.coneOuterGain,distanceModel:typeof t.distanceModel!="undefined"?t.distanceModel:a.distanceModel,maxDistance:typeof t.maxDistance!="undefined"?t.maxDistance:a.maxDistance,refDistance:typeof t.refDistance!="undefined"?t.refDistance:a.refDistance,rolloffFactor:typeof t.rolloffFactor!="undefined"?t.rolloffFactor:a.rolloffFactor,panningModel:typeof t.panningModel!="undefined"?t.panningModel:a.panningModel};var o=l._panner;o?(o.coneInnerAngle=a.coneInnerAngle,o.coneOuterAngle=a.coneOuterAngle,o.coneOuterGain=a.coneOuterGain,o.distanceModel=a.distanceModel,o.maxDistance=a.maxDistance,o.refDistance=a.refDistance,o.rolloffFactor=a.rolloffFactor,o.panningModel=a.panningModel):(l._pos||(l._pos=i._pos||[0,0,-.5]),c(l,"spatial"))}return i},Sound.prototype.init=function(i){return function(){var d=this,t=d._parent;d._orientation=t._orientation,d._stereo=t._stereo,d._pos=t._pos,d._pannerAttr=t._pannerAttr,i.call(this),d._stereo?t.stereo(d._stereo):d._pos&&t.pos(d._pos[0],d._pos[1],d._pos[2],d._id)}}(Sound.prototype.init),Sound.prototype.reset=function(i){return function(){var d=this,t=d._parent;return d._orientation=t._orientation,d._stereo=t._stereo,d._pos=t._pos,d._pannerAttr=t._pannerAttr,d._stereo?t.stereo(d._stereo):d._pos?t.pos(d._pos[0],d._pos[1],d._pos[2],d._id):d._panner&&(d._panner.disconnect(0),d._panner=void 0,t._refreshBuffer(d)),i.call(this)}}(Sound.prototype.reset);var c=function(i,d){d=d||"spatial",d==="spatial"?(i._panner=Howler.ctx.createPanner(),i._panner.coneInnerAngle=i._pannerAttr.coneInnerAngle,i._panner.coneOuterAngle=i._pannerAttr.coneOuterAngle,i._panner.coneOuterGain=i._pannerAttr.coneOuterGain,i._panner.distanceModel=i._pannerAttr.distanceModel,i._panner.maxDistance=i._pannerAttr.maxDistance,i._panner.refDistance=i._pannerAttr.refDistance,i._panner.rolloffFactor=i._pannerAttr.rolloffFactor,i._panner.panningModel=i._pannerAttr.panningModel,typeof i._panner.positionX!="undefined"?(i._panner.positionX.setValueAtTime(i._pos[0],Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(i._pos[1],Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(i._pos[2],Howler.ctx.currentTime)):i._panner.setPosition(i._pos[0],i._pos[1],i._pos[2]),typeof i._panner.orientationX!="undefined"?(i._panner.orientationX.setValueAtTime(i._orientation[0],Howler.ctx.currentTime),i._panner.orientationY.setValueAtTime(i._orientation[1],Howler.ctx.currentTime),i._panner.orientationZ.setValueAtTime(i._orientation[2],Howler.ctx.currentTime)):i._panner.setOrientation(i._orientation[0],i._orientation[1],i._orientation[2])):(i._panner=Howler.ctx.createStereoPanner(),i._panner.pan.setValueAtTime(i._stereo,Howler.ctx.currentTime)),i._panner.connect(i._node),i._paused||i._parent.pause(i._id,!0).play(i._id,!0)}})()})(ai);const tn={bg:new ai.Howl({src:"/audio/bg.webm",loop:!0,volume:.1}),openShop:new ai.Howl({src:"/audio/open_shop.webm"}),close:new ai.Howl({src:"/audio/close_shop.webm"}),purchase:new ai.Howl({src:"/audio/purchase.webm",volume:.1}),waves:new ai.Howl({src:"/audio/waves.webm",loop:!0}),openNews:new ai.Howl({src:"/audio/open_news.webm"}),next:new ai.Howl({src:"/audio/next.webm",volume:.5})},Ta=p=>new Promise(c=>setTimeout(c,p));var vn=(p,c)=>{const i=p.__vccOpts||p;for(const[d,t]of c)i[d]=t;return i};const Nx=()=>Ft("portDisplay",()=>({isShowing:!1,message:null})),Gx=()=>Ft("exportDisplay",()=>({isShowing:!1,port:null,ship:null,message:null})),zx=(p,c)=>{const i=Gx(),d=ys(),t=Ht();t.value.isEnabled=!1,d.value=!0,i.value={isShowing:!0,port:p,ship:c,message:null}};/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const Df=function(){return typeof window=="undefined"?function(p){return p()}:window.requestAnimationFrame}();function wf(p,c,i){const d=i||(l=>Array.prototype.slice.call(l));let t=!1,e=[];return function(...l){e=d(l),t||(t=!0,Df.call(window,()=>{t=!1,p.apply(c,e)}))}}function Ux(p,c){let i;return function(...d){return c?(clearTimeout(i),i=setTimeout(p,c,d)):p.apply(this,d),c}}const ko=p=>p==="start"?"left":p==="end"?"right":"center",qt=(p,c,i)=>p==="start"?c:p==="end"?i:(c+i)/2,Vx=(p,c,i,d)=>p===(d?"left":"right")?i:p==="center"?(c+i)/2:c;function Ve(){}const Yx=function(){let p=0;return function(){return p++}}();function St(p){return p===null||typeof p=="undefined"}function Lt(p){if(Array.isArray&&Array.isArray(p))return!0;const c=Object.prototype.toString.call(p);return c.slice(0,7)==="[object"&&c.slice(-6)==="Array]"}function yt(p){return p!==null&&Object.prototype.toString.call(p)==="[object Object]"}const Nt=p=>(typeof p=="number"||p instanceof Number)&&isFinite(+p);function ge(p,c){return Nt(p)?p:c}function gt(p,c){return typeof p=="undefined"?c:p}const Xx=(p,c)=>typeof p=="string"&&p.endsWith("%")?parseFloat(p)/100:p/c,Bf=(p,c)=>typeof p=="string"&&p.endsWith("%")?parseFloat(p)/100*c:+p;function Rt(p,c,i){if(p&&typeof p.call=="function")return p.apply(i,c)}function Ct(p,c,i,d){let t,e,l;if(Lt(p))if(e=p.length,d)for(t=e-1;t>=0;t--)c.call(i,p[t],t);else for(t=0;t<e;t++)c.call(i,p[t],t);else if(yt(p))for(l=Object.keys(p),e=l.length,t=0;t<e;t++)c.call(i,p[l[t]],l[t])}function yr(p,c){let i,d,t,e;if(!p||!c||p.length!==c.length)return!1;for(i=0,d=p.length;i<d;++i)if(t=p[i],e=c[i],t.datasetIndex!==e.datasetIndex||t.index!==e.index)return!1;return!0}function Tr(p){if(Lt(p))return p.map(Tr);if(yt(p)){const c=Object.create(null),i=Object.keys(p),d=i.length;let t=0;for(;t<d;++t)c[i[t]]=Tr(p[i[t]]);return c}return p}function bf(p){return["__proto__","prototype","constructor"].indexOf(p)===-1}function Wx(p,c,i,d){if(!bf(p))return;const t=c[p],e=i[p];yt(t)&&yt(e)?os(t,e,d):c[p]=Tr(e)}function os(p,c,i){const d=Lt(c)?c:[c],t=d.length;if(!yt(p))return p;i=i||{};const e=i.merger||Wx;for(let l=0;l<t;++l){if(c=d[l],!yt(c))continue;const s=Object.keys(c);for(let r=0,a=s.length;r<a;++r)e(s[r],p,c,i)}return p}function $n(p,c){return os(p,c,{merger:Hx})}function Hx(p,c,i){if(!bf(p))return;const d=c[p],t=i[p];yt(d)&&yt(t)?$n(d,t):Object.prototype.hasOwnProperty.call(c,p)||(c[p]=Tr(t))}const $x="",Kx=".";function Fh(p,c){const i=p.indexOf(Kx,c);return i===-1?p.length:i}function pi(p,c){if(c===$x)return p;let i=0,d=Fh(c,i);for(;p&&d>i;)p=p[c.slice(i,d)],i=d+1,d=Fh(c,i);return p}function qo(p){return p.charAt(0).toUpperCase()+p.slice(1)}const Ae=p=>typeof p!="undefined",gi=p=>typeof p=="function",Ih=(p,c)=>{if(p.size!==c.size)return!1;for(const i of p)if(!c.has(i))return!1;return!0};function Zx(p){return p.type==="mouseup"||p.type==="click"||p.type==="contextmenu"}const It=Math.PI,Mt=2*It,Jx=Mt+It,Sr=Number.POSITIVE_INFINITY,jx=It/180,wt=It/2,Sn=It/4,Dh=It*2/3,xe=Math.log10,ze=Math.sign;function wh(p){const c=Math.round(p);p=Kn(p,c,p/1e3)?c:p;const i=Math.pow(10,Math.floor(xe(p))),d=p/i;return(d<=1?1:d<=2?2:d<=5?5:10)*i}function Qx(p){const c=[],i=Math.sqrt(p);let d;for(d=1;d<i;d++)p%d===0&&(c.push(d),c.push(p/d));return i===(i|0)&&c.push(i),c.sort((t,e)=>t-e).pop(),c}function ls(p){return!isNaN(parseFloat(p))&&isFinite(p)}function Kn(p,c,i){return Math.abs(p-c)<i}function kx(p,c){const i=Math.round(p);return i-c<=p&&i+c>=p}function Nf(p,c,i){let d,t,e;for(d=0,t=p.length;d<t;d++)e=p[d][i],isNaN(e)||(c.min=Math.min(c.min,e),c.max=Math.max(c.max,e))}function Re(p){return p*(It/180)}function _o(p){return p*(180/It)}function Bh(p){if(!Nt(p))return;let c=1,i=0;for(;Math.round(p*c)/c!==p;)c*=10,i++;return i}function Gf(p,c){const i=c.x-p.x,d=c.y-p.y,t=Math.sqrt(i*i+d*d);let e=Math.atan2(d,i);return e<-.5*It&&(e+=Mt),{angle:e,distance:t}}function ho(p,c){return Math.sqrt(Math.pow(c.x-p.x,2)+Math.pow(c.y-p.y,2))}function qx(p,c){return(p-c+Jx)%Mt-It}function ae(p){return(p%Mt+Mt)%Mt}function hs(p,c,i,d){const t=ae(p),e=ae(c),l=ae(i),s=ae(e-t),r=ae(l-t),a=ae(t-e),o=ae(t-l);return t===e||t===l||d&&e===l||s>r&&a<o}function Wt(p,c,i){return Math.max(c,Math.min(i,p))}function _x(p){return Wt(p,-32768,32767)}function He(p,c,i,d=1e-6){return p>=Math.min(c,i)-d&&p<=Math.max(c,i)+d}const Ys=p=>p===0||p===1,bh=(p,c,i)=>-(Math.pow(2,10*(p-=1))*Math.sin((p-c)*Mt/i)),Nh=(p,c,i)=>Math.pow(2,-10*p)*Math.sin((p-c)*Mt/i)+1,Zn={linear:p=>p,easeInQuad:p=>p*p,easeOutQuad:p=>-p*(p-2),easeInOutQuad:p=>(p/=.5)<1?.5*p*p:-.5*(--p*(p-2)-1),easeInCubic:p=>p*p*p,easeOutCubic:p=>(p-=1)*p*p+1,easeInOutCubic:p=>(p/=.5)<1?.5*p*p*p:.5*((p-=2)*p*p+2),easeInQuart:p=>p*p*p*p,easeOutQuart:p=>-((p-=1)*p*p*p-1),easeInOutQuart:p=>(p/=.5)<1?.5*p*p*p*p:-.5*((p-=2)*p*p*p-2),easeInQuint:p=>p*p*p*p*p,easeOutQuint:p=>(p-=1)*p*p*p*p+1,easeInOutQuint:p=>(p/=.5)<1?.5*p*p*p*p*p:.5*((p-=2)*p*p*p*p+2),easeInSine:p=>-Math.cos(p*wt)+1,easeOutSine:p=>Math.sin(p*wt),easeInOutSine:p=>-.5*(Math.cos(It*p)-1),easeInExpo:p=>p===0?0:Math.pow(2,10*(p-1)),easeOutExpo:p=>p===1?1:-Math.pow(2,-10*p)+1,easeInOutExpo:p=>Ys(p)?p:p<.5?.5*Math.pow(2,10*(p*2-1)):.5*(-Math.pow(2,-10*(p*2-1))+2),easeInCirc:p=>p>=1?p:-(Math.sqrt(1-p*p)-1),easeOutCirc:p=>Math.sqrt(1-(p-=1)*p),easeInOutCirc:p=>(p/=.5)<1?-.5*(Math.sqrt(1-p*p)-1):.5*(Math.sqrt(1-(p-=2)*p)+1),easeInElastic:p=>Ys(p)?p:bh(p,.075,.3),easeOutElastic:p=>Ys(p)?p:Nh(p,.075,.3),easeInOutElastic(p){return Ys(p)?p:p<.5?.5*bh(p*2,.1125,.45):.5+.5*Nh(p*2-1,.1125,.45)},easeInBack(p){return p*p*((1.70158+1)*p-1.70158)},easeOutBack(p){return(p-=1)*p*((1.70158+1)*p+1.70158)+1},easeInOutBack(p){let c=1.70158;return(p/=.5)<1?.5*(p*p*(((c*=1.525)+1)*p-c)):.5*((p-=2)*p*(((c*=1.525)+1)*p+c)+2)},easeInBounce:p=>1-Zn.easeOutBounce(1-p),easeOutBounce(p){return p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375},easeInOutBounce:p=>p<.5?Zn.easeInBounce(p*2)*.5:Zn.easeOutBounce(p*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Ts(p){return p+.5|0}const hi=(p,c,i)=>Math.max(Math.min(p,i),c);function In(p){return hi(Ts(p*2.55),0,255)}function ci(p){return hi(Ts(p*255),0,255)}function Xe(p){return hi(Ts(p/2.55)/100,0,1)}function Gh(p){return hi(Ts(p*100),0,100)}const pe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uo=[..."0123456789ABCDEF"],t3=p=>uo[p&15],e3=p=>uo[(p&240)>>4]+uo[p&15],Xs=p=>(p&240)>>4===(p&15),i3=p=>Xs(p.r)&&Xs(p.g)&&Xs(p.b)&&Xs(p.a);function n3(p){var c=p.length,i;return p[0]==="#"&&(c===4||c===5?i={r:255&pe[p[1]]*17,g:255&pe[p[2]]*17,b:255&pe[p[3]]*17,a:c===5?pe[p[4]]*17:255}:(c===7||c===9)&&(i={r:pe[p[1]]<<4|pe[p[2]],g:pe[p[3]]<<4|pe[p[4]],b:pe[p[5]]<<4|pe[p[6]],a:c===9?pe[p[7]]<<4|pe[p[8]]:255})),i}const s3=(p,c)=>p<255?c(p):"";function r3(p){var c=i3(p)?t3:e3;return p?"#"+c(p.r)+c(p.g)+c(p.b)+s3(p.a,c):void 0}const a3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zf(p,c,i){const d=c*Math.min(i,1-i),t=(e,l=(e+p/30)%12)=>i-d*Math.max(Math.min(l-3,9-l,1),-1);return[t(0),t(8),t(4)]}function o3(p,c,i){const d=(t,e=(t+p/60)%6)=>i-i*c*Math.max(Math.min(e,4-e,1),0);return[d(5),d(3),d(1)]}function l3(p,c,i){const d=zf(p,1,.5);let t;for(c+i>1&&(t=1/(c+i),c*=t,i*=t),t=0;t<3;t++)d[t]*=1-c-i,d[t]+=c;return d}function h3(p,c,i,d,t){return p===t?(c-i)/d+(c<i?6:0):c===t?(i-p)/d+2:(p-c)/d+4}function tl(p){const i=p.r/255,d=p.g/255,t=p.b/255,e=Math.max(i,d,t),l=Math.min(i,d,t),s=(e+l)/2;let r,a,o;return e!==l&&(o=e-l,a=s>.5?o/(2-e-l):o/(e+l),r=h3(i,d,t,o,e),r=r*60+.5),[r|0,a||0,s]}function el(p,c,i,d){return(Array.isArray(c)?p(c[0],c[1],c[2]):p(c,i,d)).map(ci)}function il(p,c,i){return el(zf,p,c,i)}function u3(p,c,i){return el(l3,p,c,i)}function f3(p,c,i){return el(o3,p,c,i)}function Uf(p){return(p%360+360)%360}function d3(p){const c=a3.exec(p);let i=255,d;if(!c)return;c[5]!==d&&(i=c[6]?In(+c[5]):ci(+c[5]));const t=Uf(+c[2]),e=+c[3]/100,l=+c[4]/100;return c[1]==="hwb"?d=u3(t,e,l):c[1]==="hsv"?d=f3(t,e,l):d=il(t,e,l),{r:d[0],g:d[1],b:d[2],a:i}}function c3(p,c){var i=tl(p);i[0]=Uf(i[0]+c),i=il(i),p.r=i[0],p.g=i[1],p.b=i[2]}function v3(p){if(!p)return;const c=tl(p),i=c[0],d=Gh(c[1]),t=Gh(c[2]);return p.a<255?`hsla(${i}, ${d}%, ${t}%, ${Xe(p.a)})`:`hsl(${i}, ${d}%, ${t}%)`}const zh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Uh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function p3(){const p={},c=Object.keys(Uh),i=Object.keys(zh);let d,t,e,l,s;for(d=0;d<c.length;d++){for(l=s=c[d],t=0;t<i.length;t++)e=i[t],s=s.replace(e,zh[e]);e=parseInt(Uh[l],16),p[s]=[e>>16&255,e>>8&255,e&255]}return p}let Ws;function g3(p){Ws||(Ws=p3(),Ws.transparent=[0,0,0,0]);const c=Ws[p.toLowerCase()];return c&&{r:c[0],g:c[1],b:c[2],a:c.length===4?c[3]:255}}const m3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function x3(p){const c=m3.exec(p);let i=255,d,t,e;if(!!c){if(c[7]!==d){const l=+c[7];i=c[8]?In(l):hi(l*255,0,255)}return d=+c[1],t=+c[3],e=+c[5],d=255&(c[2]?In(d):hi(d,0,255)),t=255&(c[4]?In(t):hi(t,0,255)),e=255&(c[6]?In(e):hi(e,0,255)),{r:d,g:t,b:e,a:i}}}function y3(p){return p&&(p.a<255?`rgba(${p.r}, ${p.g}, ${p.b}, ${Xe(p.a)})`:`rgb(${p.r}, ${p.g}, ${p.b})`)}const Sa=p=>p<=.0031308?p*12.92:Math.pow(p,1/2.4)*1.055-.055,Xi=p=>p<=.04045?p/12.92:Math.pow((p+.055)/1.055,2.4);function T3(p,c,i){const d=Xi(Xe(p.r)),t=Xi(Xe(p.g)),e=Xi(Xe(p.b));return{r:ci(Sa(d+i*(Xi(Xe(c.r))-d))),g:ci(Sa(t+i*(Xi(Xe(c.g))-t))),b:ci(Sa(e+i*(Xi(Xe(c.b))-e))),a:p.a+i*(c.a-p.a)}}function Hs(p,c,i){if(p){let d=tl(p);d[c]=Math.max(0,Math.min(d[c]+d[c]*i,c===0?360:1)),d=il(d),p.r=d[0],p.g=d[1],p.b=d[2]}}function Vf(p,c){return p&&Object.assign(c||{},p)}function Vh(p){var c={r:0,g:0,b:0,a:255};return Array.isArray(p)?p.length>=3&&(c={r:p[0],g:p[1],b:p[2],a:255},p.length>3&&(c.a=ci(p[3]))):(c=Vf(p,{r:0,g:0,b:0,a:1}),c.a=ci(c.a)),c}function S3(p){return p.charAt(0)==="r"?x3(p):d3(p)}class Er{constructor(c){if(c instanceof Er)return c;const i=typeof c;let d;i==="object"?d=Vh(c):i==="string"&&(d=n3(c)||g3(c)||S3(c)),this._rgb=d,this._valid=!!d}get valid(){return this._valid}get rgb(){var c=Vf(this._rgb);return c&&(c.a=Xe(c.a)),c}set rgb(c){this._rgb=Vh(c)}rgbString(){return this._valid?y3(this._rgb):void 0}hexString(){return this._valid?r3(this._rgb):void 0}hslString(){return this._valid?v3(this._rgb):void 0}mix(c,i){if(c){const d=this.rgb,t=c.rgb;let e;const l=i===e?.5:i,s=2*l-1,r=d.a-t.a,a=((s*r===-1?s:(s+r)/(1+s*r))+1)/2;e=1-a,d.r=255&a*d.r+e*t.r+.5,d.g=255&a*d.g+e*t.g+.5,d.b=255&a*d.b+e*t.b+.5,d.a=l*d.a+(1-l)*t.a,this.rgb=d}return this}interpolate(c,i){return c&&(this._rgb=T3(this._rgb,c._rgb,i)),this}clone(){return new Er(this.rgb)}alpha(c){return this._rgb.a=ci(c),this}clearer(c){const i=this._rgb;return i.a*=1-c,this}greyscale(){const c=this._rgb,i=Ts(c.r*.3+c.g*.59+c.b*.11);return c.r=c.g=c.b=i,this}opaquer(c){const i=this._rgb;return i.a*=1+c,this}negate(){const c=this._rgb;return c.r=255-c.r,c.g=255-c.g,c.b=255-c.b,this}lighten(c){return Hs(this._rgb,2,c),this}darken(c){return Hs(this._rgb,2,-c),this}saturate(c){return Hs(this._rgb,1,c),this}desaturate(c){return Hs(this._rgb,1,-c),this}rotate(c){return c3(this._rgb,c),this}}function Yf(p){return new Er(p)}function Xf(p){if(p&&typeof p=="object"){const c=p.toString();return c==="[object CanvasPattern]"||c==="[object CanvasGradient]"}return!1}function Yh(p){return Xf(p)?p:Yf(p)}function Ea(p){return Xf(p)?p:Yf(p).saturate(.5).darken(.1).hexString()}const Gi=Object.create(null),fo=Object.create(null);function Jn(p,c){if(!c)return p;const i=c.split(".");for(let d=0,t=i.length;d<t;++d){const e=i[d];p=p[e]||(p[e]=Object.create(null))}return p}function Ca(p,c,i){return typeof c=="string"?os(Jn(p,c),i):os(Jn(p,""),c)}class E3{constructor(c){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,d)=>Ea(d.backgroundColor),this.hoverBorderColor=(i,d)=>Ea(d.borderColor),this.hoverColor=(i,d)=>Ea(d.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(c)}set(c,i){return Ca(this,c,i)}get(c){return Jn(this,c)}describe(c,i){return Ca(fo,c,i)}override(c,i){return Ca(Gi,c,i)}route(c,i,d,t){const e=Jn(this,c),l=Jn(this,d),s="_"+i;Object.defineProperties(e,{[s]:{value:e[i],writable:!0},[i]:{enumerable:!0,get(){const r=this[s],a=l[t];return yt(r)?Object.assign({},a,r):gt(r,a)},set(r){this[s]=r}}})}}var xt=new E3({_scriptable:p=>!p.startsWith("on"),_indexable:p=>p!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function C3(p){return!p||St(p.size)||St(p.family)?null:(p.style?p.style+" ":"")+(p.weight?p.weight+" ":"")+p.size+"px "+p.family}function Cr(p,c,i,d,t){let e=c[t];return e||(e=c[t]=p.measureText(t).width,i.push(t)),e>d&&(d=e),d}function A3(p,c,i,d){d=d||{};let t=d.data=d.data||{},e=d.garbageCollect=d.garbageCollect||[];d.font!==c&&(t=d.data={},e=d.garbageCollect=[],d.font=c),p.save(),p.font=c;let l=0;const s=i.length;let r,a,o,n,u;for(r=0;r<s;r++)if(n=i[r],n!=null&&Lt(n)!==!0)l=Cr(p,t,e,l,n);else if(Lt(n))for(a=0,o=n.length;a<o;a++)u=n[a],u!=null&&!Lt(u)&&(l=Cr(p,t,e,l,u));p.restore();const h=e.length/2;if(h>i.length){for(r=0;r<h;r++)delete t[e[r]];e.splice(0,h)}return l}function Ci(p,c,i){const d=p.currentDevicePixelRatio,t=i!==0?Math.max(i/2,.5):0;return Math.round((c-t)*d)/d+t}function Xh(p,c){c=c||p.getContext("2d"),c.save(),c.resetTransform(),c.clearRect(0,0,p.width,p.height),c.restore()}function Ar(p,c,i,d){let t,e,l,s,r;const a=c.pointStyle,o=c.rotation,n=c.radius;let u=(o||0)*jx;if(a&&typeof a=="object"&&(t=a.toString(),t==="[object HTMLImageElement]"||t==="[object HTMLCanvasElement]")){p.save(),p.translate(i,d),p.rotate(u),p.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),p.restore();return}if(!(isNaN(n)||n<=0)){switch(p.beginPath(),a){default:p.arc(i,d,n,0,Mt),p.closePath();break;case"triangle":p.moveTo(i+Math.sin(u)*n,d-Math.cos(u)*n),u+=Dh,p.lineTo(i+Math.sin(u)*n,d-Math.cos(u)*n),u+=Dh,p.lineTo(i+Math.sin(u)*n,d-Math.cos(u)*n),p.closePath();break;case"rectRounded":r=n*.516,s=n-r,e=Math.cos(u+Sn)*s,l=Math.sin(u+Sn)*s,p.arc(i-e,d-l,r,u-It,u-wt),p.arc(i+l,d-e,r,u-wt,u),p.arc(i+e,d+l,r,u,u+wt),p.arc(i-l,d+e,r,u+wt,u+It),p.closePath();break;case"rect":if(!o){s=Math.SQRT1_2*n,p.rect(i-s,d-s,2*s,2*s);break}u+=Sn;case"rectRot":e=Math.cos(u)*n,l=Math.sin(u)*n,p.moveTo(i-e,d-l),p.lineTo(i+l,d-e),p.lineTo(i+e,d+l),p.lineTo(i-l,d+e),p.closePath();break;case"crossRot":u+=Sn;case"cross":e=Math.cos(u)*n,l=Math.sin(u)*n,p.moveTo(i-e,d-l),p.lineTo(i+e,d+l),p.moveTo(i+l,d-e),p.lineTo(i-l,d+e);break;case"star":e=Math.cos(u)*n,l=Math.sin(u)*n,p.moveTo(i-e,d-l),p.lineTo(i+e,d+l),p.moveTo(i+l,d-e),p.lineTo(i-l,d+e),u+=Sn,e=Math.cos(u)*n,l=Math.sin(u)*n,p.moveTo(i-e,d-l),p.lineTo(i+e,d+l),p.moveTo(i+l,d-e),p.lineTo(i-l,d+e);break;case"line":e=Math.cos(u)*n,l=Math.sin(u)*n,p.moveTo(i-e,d-l),p.lineTo(i+e,d+l);break;case"dash":p.moveTo(i,d),p.lineTo(i+Math.cos(u)*n,d+Math.sin(u)*n);break}p.fill(),c.borderWidth>0&&p.stroke()}}function us(p,c,i){return i=i||.5,!c||p&&p.x>c.left-i&&p.x<c.right+i&&p.y>c.top-i&&p.y<c.bottom+i}function Qr(p,c){p.save(),p.beginPath(),p.rect(c.left,c.top,c.right-c.left,c.bottom-c.top),p.clip()}function kr(p){p.restore()}function P3(p,c,i,d,t){if(!c)return p.lineTo(i.x,i.y);if(t==="middle"){const e=(c.x+i.x)/2;p.lineTo(e,c.y),p.lineTo(e,i.y)}else t==="after"!=!!d?p.lineTo(c.x,i.y):p.lineTo(i.x,c.y);p.lineTo(i.x,i.y)}function M3(p,c,i,d){if(!c)return p.lineTo(i.x,i.y);p.bezierCurveTo(d?c.cp1x:c.cp2x,d?c.cp1y:c.cp2y,d?i.cp2x:i.cp1x,d?i.cp2y:i.cp1y,i.x,i.y)}function zi(p,c,i,d,t,e={}){const l=Lt(c)?c:[c],s=e.strokeWidth>0&&e.strokeColor!=="";let r,a;for(p.save(),p.font=t.string,R3(p,e),r=0;r<l.length;++r)a=l[r],s&&(e.strokeColor&&(p.strokeStyle=e.strokeColor),St(e.strokeWidth)||(p.lineWidth=e.strokeWidth),p.strokeText(a,i,d,e.maxWidth)),p.fillText(a,i,d,e.maxWidth),L3(p,i,d,a,e),d+=t.lineHeight;p.restore()}function R3(p,c){c.translation&&p.translate(c.translation[0],c.translation[1]),St(c.rotation)||p.rotate(c.rotation),c.color&&(p.fillStyle=c.color),c.textAlign&&(p.textAlign=c.textAlign),c.textBaseline&&(p.textBaseline=c.textBaseline)}function L3(p,c,i,d,t){if(t.strikethrough||t.underline){const e=p.measureText(d),l=c-e.actualBoundingBoxLeft,s=c+e.actualBoundingBoxRight,r=i-e.actualBoundingBoxAscent,a=i+e.actualBoundingBoxDescent,o=t.strikethrough?(r+a)/2:a;p.strokeStyle=p.fillStyle,p.beginPath(),p.lineWidth=t.decorationWidth||2,p.moveTo(l,o),p.lineTo(s,o),p.stroke()}}function fs(p,c){const{x:i,y:d,w:t,h:e,radius:l}=c;p.arc(i+l.topLeft,d+l.topLeft,l.topLeft,-wt,It,!0),p.lineTo(i,d+e-l.bottomLeft),p.arc(i+l.bottomLeft,d+e-l.bottomLeft,l.bottomLeft,It,wt,!0),p.lineTo(i+t-l.bottomRight,d+e),p.arc(i+t-l.bottomRight,d+e-l.bottomRight,l.bottomRight,wt,0,!0),p.lineTo(i+t,d+l.topRight),p.arc(i+t-l.topRight,d+l.topRight,l.topRight,0,-wt,!0),p.lineTo(i+l.topLeft,d)}const O3=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),F3=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function I3(p,c){const i=(""+p).match(O3);if(!i||i[1]==="normal")return c*1.2;switch(p=+i[2],i[3]){case"px":return p;case"%":p/=100;break}return c*p}const D3=p=>+p||0;function nl(p,c){const i={},d=yt(c),t=d?Object.keys(c):c,e=yt(p)?d?l=>gt(p[l],p[c[l]]):l=>p[l]:()=>p;for(const l of t)i[l]=D3(e(l));return i}function Wf(p){return nl(p,{top:"y",right:"x",bottom:"y",left:"x"})}function bi(p){return nl(p,["topLeft","topRight","bottomLeft","bottomRight"])}function _t(p){const c=Wf(p);return c.width=c.left+c.right,c.height=c.top+c.bottom,c}function zt(p,c){p=p||{},c=c||xt.font;let i=gt(p.size,c.size);typeof i=="string"&&(i=parseInt(i,10));let d=gt(p.style,c.style);d&&!(""+d).match(F3)&&(console.warn('Invalid font style specified: "'+d+'"'),d="");const t={family:gt(p.family,c.family),lineHeight:I3(gt(p.lineHeight,c.lineHeight),i),size:i,style:d,weight:gt(p.weight,c.weight),string:""};return t.string=C3(t),t}function Dn(p,c,i,d){let t=!0,e,l,s;for(e=0,l=p.length;e<l;++e)if(s=p[e],s!==void 0&&(c!==void 0&&typeof s=="function"&&(s=s(c),t=!1),i!==void 0&&Lt(s)&&(s=s[i%s.length],t=!1),s!==void 0))return d&&!t&&(d.cacheable=!1),s}function w3(p,c,i){const{min:d,max:t}=p,e=Bf(c,(t-d)/2),l=(s,r)=>i&&s===0?0:s+r;return{min:l(d,-Math.abs(e)),max:l(t,e)}}function xi(p,c){return Object.assign(Object.create(p),c)}function sl(p,c,i){i=i||(l=>p[l]<c);let d=p.length-1,t=0,e;for(;d-t>1;)e=t+d>>1,i(e)?t=e:d=e;return{lo:t,hi:d}}const $e=(p,c,i)=>sl(p,i,d=>p[d][c]<i),B3=(p,c,i)=>sl(p,i,d=>p[d][c]>=i);function b3(p,c,i){let d=0,t=p.length;for(;d<t&&p[d]<c;)d++;for(;t>d&&p[t-1]>i;)t--;return d>0||t<p.length?p.slice(d,t):p}const Hf=["push","pop","shift","splice","unshift"];function N3(p,c){if(p._chartjs){p._chartjs.listeners.push(c);return}Object.defineProperty(p,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[c]}}),Hf.forEach(i=>{const d="_onData"+qo(i),t=p[i];Object.defineProperty(p,i,{configurable:!0,enumerable:!1,value(...e){const l=t.apply(this,e);return p._chartjs.listeners.forEach(s=>{typeof s[d]=="function"&&s[d](...e)}),l}})})}function Wh(p,c){const i=p._chartjs;if(!i)return;const d=i.listeners,t=d.indexOf(c);t!==-1&&d.splice(t,1),!(d.length>0)&&(Hf.forEach(e=>{delete p[e]}),delete p._chartjs)}function $f(p){const c=new Set;let i,d;for(i=0,d=p.length;i<d;++i)c.add(p[i]);return c.size===d?p:Array.from(c)}function rl(p,c=[""],i=p,d,t=()=>p[0]){Ae(d)||(d=jf("_fallback",p));const e={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:p,_rootScopes:i,_fallback:d,_getTarget:t,override:l=>rl([l,...p],c,i,d)};return new Proxy(e,{deleteProperty(l,s){return delete l[s],delete l._keys,delete p[0][s],!0},get(l,s){return Zf(l,s,()=>H3(s,c,p,l))},getOwnPropertyDescriptor(l,s){return Reflect.getOwnPropertyDescriptor(l._scopes[0],s)},getPrototypeOf(){return Reflect.getPrototypeOf(p[0])},has(l,s){return $h(l).includes(s)},ownKeys(l){return $h(l)},set(l,s,r){const a=l._storage||(l._storage=t());return l[s]=a[s]=r,delete l._keys,!0}})}function ln(p,c,i,d){const t={_cacheable:!1,_proxy:p,_context:c,_subProxy:i,_stack:new Set,_descriptors:Kf(p,d),setContext:e=>ln(p,e,i,d),override:e=>ln(p.override(e),c,i,d)};return new Proxy(t,{deleteProperty(e,l){return delete e[l],delete p[l],!0},get(e,l,s){return Zf(e,l,()=>z3(e,l,s))},getOwnPropertyDescriptor(e,l){return e._descriptors.allKeys?Reflect.has(p,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(p,l)},getPrototypeOf(){return Reflect.getPrototypeOf(p)},has(e,l){return Reflect.has(p,l)},ownKeys(){return Reflect.ownKeys(p)},set(e,l,s){return p[l]=s,delete e[l],!0}})}function Kf(p,c={scriptable:!0,indexable:!0}){const{_scriptable:i=c.scriptable,_indexable:d=c.indexable,_allKeys:t=c.allKeys}=p;return{allKeys:t,scriptable:i,indexable:d,isScriptable:gi(i)?i:()=>i,isIndexable:gi(d)?d:()=>d}}const G3=(p,c)=>p?p+qo(c):c,al=(p,c)=>yt(c)&&p!=="adapters"&&(Object.getPrototypeOf(c)===null||c.constructor===Object);function Zf(p,c,i){if(Object.prototype.hasOwnProperty.call(p,c))return p[c];const d=i();return p[c]=d,d}function z3(p,c,i){const{_proxy:d,_context:t,_subProxy:e,_descriptors:l}=p;let s=d[c];return gi(s)&&l.isScriptable(c)&&(s=U3(c,s,p,i)),Lt(s)&&s.length&&(s=V3(c,s,p,l.isIndexable)),al(c,s)&&(s=ln(s,t,e&&e[c],l)),s}function U3(p,c,i,d){const{_proxy:t,_context:e,_subProxy:l,_stack:s}=i;if(s.has(p))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+p);return s.add(p),c=c(e,l||d),s.delete(p),al(p,c)&&(c=ol(t._scopes,t,p,c)),c}function V3(p,c,i,d){const{_proxy:t,_context:e,_subProxy:l,_descriptors:s}=i;if(Ae(e.index)&&d(p))c=c[e.index%c.length];else if(yt(c[0])){const r=c,a=t._scopes.filter(o=>o!==r);c=[];for(const o of r){const n=ol(a,t,p,o);c.push(ln(n,e,l&&l[p],s))}}return c}function Jf(p,c,i){return gi(p)?p(c,i):p}const Y3=(p,c)=>p===!0?c:typeof p=="string"?pi(c,p):void 0;function X3(p,c,i,d,t){for(const e of c){const l=Y3(i,e);if(l){p.add(l);const s=Jf(l._fallback,i,t);if(Ae(s)&&s!==i&&s!==d)return s}else if(l===!1&&Ae(d)&&i!==d)return null}return!1}function ol(p,c,i,d){const t=c._rootScopes,e=Jf(c._fallback,i,d),l=[...p,...t],s=new Set;s.add(d);let r=Hh(s,l,i,e||i,d);return r===null||Ae(e)&&e!==i&&(r=Hh(s,l,e,r,d),r===null)?!1:rl(Array.from(s),[""],t,e,()=>W3(c,i,d))}function Hh(p,c,i,d,t){for(;i;)i=X3(p,c,i,d,t);return i}function W3(p,c,i){const d=p._getTarget();c in d||(d[c]={});const t=d[c];return Lt(t)&&yt(i)?i:t}function H3(p,c,i,d){let t;for(const e of c)if(t=jf(G3(e,p),i),Ae(t))return al(p,t)?ol(i,d,p,t):t}function jf(p,c){for(const i of c){if(!i)continue;const d=i[p];if(Ae(d))return d}}function $h(p){let c=p._keys;return c||(c=p._keys=$3(p._scopes)),c}function $3(p){const c=new Set;for(const i of p)for(const d of Object.keys(i).filter(t=>!t.startsWith("_")))c.add(d);return Array.from(c)}function Qf(p,c,i,d){const{iScale:t}=p,{key:e="r"}=this._parsing,l=new Array(d);let s,r,a,o;for(s=0,r=d;s<r;++s)a=s+i,o=c[a],l[s]={r:t.parse(pi(o,e),a)};return l}const K3=Number.EPSILON||1e-14,hn=(p,c)=>c<p.length&&!p[c].skip&&p[c],kf=p=>p==="x"?"y":"x";function Z3(p,c,i,d){const t=p.skip?c:p,e=c,l=i.skip?c:i,s=ho(e,t),r=ho(l,e);let a=s/(s+r),o=r/(s+r);a=isNaN(a)?0:a,o=isNaN(o)?0:o;const n=d*a,u=d*o;return{previous:{x:e.x-n*(l.x-t.x),y:e.y-n*(l.y-t.y)},next:{x:e.x+u*(l.x-t.x),y:e.y+u*(l.y-t.y)}}}function J3(p,c,i){const d=p.length;let t,e,l,s,r,a=hn(p,0);for(let o=0;o<d-1;++o)if(r=a,a=hn(p,o+1),!(!r||!a)){if(Kn(c[o],0,K3)){i[o]=i[o+1]=0;continue}t=i[o]/c[o],e=i[o+1]/c[o],s=Math.pow(t,2)+Math.pow(e,2),!(s<=9)&&(l=3/Math.sqrt(s),i[o]=t*l*c[o],i[o+1]=e*l*c[o])}}function j3(p,c,i="x"){const d=kf(i),t=p.length;let e,l,s,r=hn(p,0);for(let a=0;a<t;++a){if(l=s,s=r,r=hn(p,a+1),!s)continue;const o=s[i],n=s[d];l&&(e=(o-l[i])/3,s[`cp1${i}`]=o-e,s[`cp1${d}`]=n-e*c[a]),r&&(e=(r[i]-o)/3,s[`cp2${i}`]=o+e,s[`cp2${d}`]=n+e*c[a])}}function Q3(p,c="x"){const i=kf(c),d=p.length,t=Array(d).fill(0),e=Array(d);let l,s,r,a=hn(p,0);for(l=0;l<d;++l)if(s=r,r=a,a=hn(p,l+1),!!r){if(a){const o=a[c]-r[c];t[l]=o!==0?(a[i]-r[i])/o:0}e[l]=s?a?ze(t[l-1])!==ze(t[l])?0:(t[l-1]+t[l])/2:t[l-1]:t[l]}J3(p,t,e),j3(p,e,c)}function $s(p,c,i){return Math.max(Math.min(p,i),c)}function k3(p,c){let i,d,t,e,l,s=us(p[0],c);for(i=0,d=p.length;i<d;++i)l=e,e=s,s=i<d-1&&us(p[i+1],c),e&&(t=p[i],l&&(t.cp1x=$s(t.cp1x,c.left,c.right),t.cp1y=$s(t.cp1y,c.top,c.bottom)),s&&(t.cp2x=$s(t.cp2x,c.left,c.right),t.cp2y=$s(t.cp2y,c.top,c.bottom)))}function q3(p,c,i,d,t){let e,l,s,r;if(c.spanGaps&&(p=p.filter(a=>!a.skip)),c.cubicInterpolationMode==="monotone")Q3(p,t);else{let a=d?p[p.length-1]:p[0];for(e=0,l=p.length;e<l;++e)s=p[e],r=Z3(a,s,p[Math.min(e+1,l-(d?0:1))%l],c.tension),s.cp1x=r.previous.x,s.cp1y=r.previous.y,s.cp2x=r.next.x,s.cp2y=r.next.y,a=s}c.capBezierPoints&&k3(p,i)}function qf(){return typeof window!="undefined"&&typeof document!="undefined"}function ll(p){let c=p.parentNode;return c&&c.toString()==="[object ShadowRoot]"&&(c=c.host),c}function Pr(p,c,i){let d;return typeof p=="string"?(d=parseInt(p,10),p.indexOf("%")!==-1&&(d=d/100*c.parentNode[i])):d=p,d}const qr=p=>window.getComputedStyle(p,null);function _3(p,c){return qr(p).getPropertyValue(c)}const ty=["top","right","bottom","left"];function Ni(p,c,i){const d={};i=i?"-"+i:"";for(let t=0;t<4;t++){const e=ty[t];d[e]=parseFloat(p[c+"-"+e+i])||0}return d.width=d.left+d.right,d.height=d.top+d.bottom,d}const ey=(p,c,i)=>(p>0||c>0)&&(!i||!i.shadowRoot);function iy(p,c){const i=p.touches,d=i&&i.length?i[0]:p,{offsetX:t,offsetY:e}=d;let l=!1,s,r;if(ey(t,e,p.target))s=t,r=e;else{const a=c.getBoundingClientRect();s=d.clientX-a.left,r=d.clientY-a.top,l=!0}return{x:s,y:r,box:l}}function Mi(p,c){if("native"in p)return p;const{canvas:i,currentDevicePixelRatio:d}=c,t=qr(i),e=t.boxSizing==="border-box",l=Ni(t,"padding"),s=Ni(t,"border","width"),{x:r,y:a,box:o}=iy(p,i),n=l.left+(o&&s.left),u=l.top+(o&&s.top);let{width:h,height:f}=c;return e&&(h-=l.width+s.width,f-=l.height+s.height),{x:Math.round((r-n)/h*i.width/d),y:Math.round((a-u)/f*i.height/d)}}function ny(p,c,i){let d,t;if(c===void 0||i===void 0){const e=ll(p);if(!e)c=p.clientWidth,i=p.clientHeight;else{const l=e.getBoundingClientRect(),s=qr(e),r=Ni(s,"border","width"),a=Ni(s,"padding");c=l.width-a.width-r.width,i=l.height-a.height-r.height,d=Pr(s.maxWidth,e,"clientWidth"),t=Pr(s.maxHeight,e,"clientHeight")}}return{width:c,height:i,maxWidth:d||Sr,maxHeight:t||Sr}}const Aa=p=>Math.round(p*10)/10;function sy(p,c,i,d){const t=qr(p),e=Ni(t,"margin"),l=Pr(t.maxWidth,p,"clientWidth")||Sr,s=Pr(t.maxHeight,p,"clientHeight")||Sr,r=ny(p,c,i);let{width:a,height:o}=r;if(t.boxSizing==="content-box"){const n=Ni(t,"border","width"),u=Ni(t,"padding");a-=u.width+n.width,o-=u.height+n.height}return a=Math.max(0,a-e.width),o=Math.max(0,d?Math.floor(a/d):o-e.height),a=Aa(Math.min(a,l,r.maxWidth)),o=Aa(Math.min(o,s,r.maxHeight)),a&&!o&&(o=Aa(a/2)),{width:a,height:o}}function Kh(p,c,i){const d=c||1,t=Math.floor(p.height*d),e=Math.floor(p.width*d);p.height=t/d,p.width=e/d;const l=p.canvas;return l.style&&(i||!l.style.height&&!l.style.width)&&(l.style.height=`${p.height}px`,l.style.width=`${p.width}px`),p.currentDevicePixelRatio!==d||l.height!==t||l.width!==e?(p.currentDevicePixelRatio=d,l.height=t,l.width=e,p.ctx.setTransform(d,0,0,d,0,0),!0):!1}const ry=function(){let p=!1;try{const c={get passive(){return p=!0,!1}};window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch{}return p}();function Zh(p,c){const i=_3(p,c),d=i&&i.match(/^(\d+)(\.\d+)?px$/);return d?+d[1]:void 0}function Ri(p,c,i,d){return{x:p.x+i*(c.x-p.x),y:p.y+i*(c.y-p.y)}}function ay(p,c,i,d){return{x:p.x+i*(c.x-p.x),y:d==="middle"?i<.5?p.y:c.y:d==="after"?i<1?p.y:c.y:i>0?c.y:p.y}}function oy(p,c,i,d){const t={x:p.cp2x,y:p.cp2y},e={x:c.cp1x,y:c.cp1y},l=Ri(p,t,i),s=Ri(t,e,i),r=Ri(e,c,i),a=Ri(l,s,i),o=Ri(s,r,i);return Ri(a,o,i)}const Jh=new Map;function ly(p,c){c=c||{};const i=p+JSON.stringify(c);let d=Jh.get(i);return d||(d=new Intl.NumberFormat(p,c),Jh.set(i,d)),d}function Ss(p,c,i){return ly(c,i).format(p)}const hy=function(p,c){return{x(i){return p+p+c-i},setWidth(i){c=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,d){return i-d},leftForLtr(i,d){return i-d}}},uy=function(){return{x(p){return p},setWidth(p){},textAlign(p){return p},xPlus(p,c){return p+c},leftForLtr(p,c){return p}}};function en(p,c,i){return p?hy(c,i):uy()}function _f(p,c){let i,d;(c==="ltr"||c==="rtl")&&(i=p.canvas.style,d=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",c,"important"),p.prevTextDirection=d)}function td(p,c){c!==void 0&&(delete p.prevTextDirection,p.canvas.style.setProperty("direction",c[0],c[1]))}function ed(p){return p==="angle"?{between:hs,compare:qx,normalize:ae}:{between:He,compare:(c,i)=>c-i,normalize:c=>c}}function jh({start:p,end:c,count:i,loop:d,style:t}){return{start:p%i,end:c%i,loop:d&&(c-p+1)%i===0,style:t}}function fy(p,c,i){const{property:d,start:t,end:e}=i,{between:l,normalize:s}=ed(d),r=c.length;let{start:a,end:o,loop:n}=p,u,h;if(n){for(a+=r,o+=r,u=0,h=r;u<h&&l(s(c[a%r][d]),t,e);++u)a--,o--;a%=r,o%=r}return o<a&&(o+=r),{start:a,end:o,loop:n,style:p.style}}function id(p,c,i){if(!i)return[p];const{property:d,start:t,end:e}=i,l=c.length,{compare:s,between:r,normalize:a}=ed(d),{start:o,end:n,loop:u,style:h}=fy(p,c,i),f=[];let v=!1,m=null,g,x,y;const T=()=>r(t,y,g)&&s(t,y)!==0,S=()=>s(e,g)===0||r(e,y,g),E=()=>v||T(),C=()=>!v||S();for(let A=o,P=o;A<=n;++A)x=c[A%l],!x.skip&&(g=a(x[d]),g!==y&&(v=r(g,t,e),m===null&&E()&&(m=s(g,t)===0?A:P),m!==null&&C()&&(f.push(jh({start:m,end:A,loop:u,count:l,style:h})),m=null),P=A,y=g));return m!==null&&f.push(jh({start:m,end:n,loop:u,count:l,style:h})),f}function nd(p,c){const i=[],d=p.segments;for(let t=0;t<d.length;t++){const e=id(d[t],p.points,c);e.length&&i.push(...e)}return i}function dy(p,c,i,d){let t=0,e=c-1;if(i&&!d)for(;t<c&&!p[t].skip;)t++;for(;t<c&&p[t].skip;)t++;for(t%=c,i&&(e+=t);e>t&&p[e%c].skip;)e--;return e%=c,{start:t,end:e}}function cy(p,c,i,d){const t=p.length,e=[];let l=c,s=p[c],r;for(r=c+1;r<=i;++r){const a=p[r%t];a.skip||a.stop?s.skip||(d=!1,e.push({start:c%t,end:(r-1)%t,loop:d}),c=l=a.stop?r:null):(l=r,s.skip&&(c=r)),s=a}return l!==null&&e.push({start:c%t,end:l%t,loop:d}),e}function vy(p,c){const i=p.points,d=p.options.spanGaps,t=i.length;if(!t)return[];const e=!!p._loop,{start:l,end:s}=dy(i,t,e,d);if(d===!0)return Qh(p,[{start:l,end:s,loop:e}],i,c);const r=s<l?s+t:s,a=!!p._fullLoop&&l===0&&s===t-1;return Qh(p,cy(i,l,r,a),i,c)}function Qh(p,c,i,d){return!d||!d.setContext||!i?c:py(p,c,i,d)}function py(p,c,i,d){const t=p._chart.getContext(),e=kh(p.options),{_datasetIndex:l,options:{spanGaps:s}}=p,r=i.length,a=[];let o=e,n=c[0].start,u=n;function h(f,v,m,g){const x=s?-1:1;if(f!==v){for(f+=r;i[f%r].skip;)f-=x;for(;i[v%r].skip;)v+=x;f%r!==v%r&&(a.push({start:f%r,end:v%r,loop:m,style:g}),o=g,n=v%r)}}for(const f of c){n=s?n:f.start;let v=i[n%r],m;for(u=n+1;u<=f.end;u++){const g=i[u%r];m=kh(d.setContext(xi(t,{type:"segment",p0:v,p1:g,p0DataIndex:(u-1)%r,p1DataIndex:u%r,datasetIndex:l}))),gy(m,o)&&h(n,u-1,f.loop,o),v=g,o=m}n<u-1&&h(n,u-1,f.loop,o)}return a}function kh(p){return{backgroundColor:p.backgroundColor,borderCapStyle:p.borderCapStyle,borderDash:p.borderDash,borderDashOffset:p.borderDashOffset,borderJoinStyle:p.borderJoinStyle,borderWidth:p.borderWidth,borderColor:p.borderColor}}function gy(p,c){return c&&JSON.stringify(p)!==JSON.stringify(c)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class my{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(c,i,d,t){const e=i.listeners[t],l=i.duration;e.forEach(s=>s({chart:c,initial:i.initial,numSteps:l,currentStep:Math.min(d-i.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Df.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(c=Date.now()){let i=0;this._charts.forEach((d,t)=>{if(!d.running||!d.items.length)return;const e=d.items;let l=e.length-1,s=!1,r;for(;l>=0;--l)r=e[l],r._active?(r._total>d.duration&&(d.duration=r._total),r.tick(c),s=!0):(e[l]=e[e.length-1],e.pop());s&&(t.draw(),this._notify(t,d,c,"progress")),e.length||(d.running=!1,this._notify(t,d,c,"complete"),d.initial=!1),i+=e.length}),this._lastDate=c,i===0&&(this._running=!1)}_getAnims(c){const i=this._charts;let d=i.get(c);return d||(d={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(c,d)),d}listen(c,i,d){this._getAnims(c).listeners[i].push(d)}add(c,i){!i||!i.length||this._getAnims(c).items.push(...i)}has(c){return this._getAnims(c).items.length>0}start(c){const i=this._charts.get(c);!i||(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((d,t)=>Math.max(d,t._duration),0),this._refresh())}running(c){if(!this._running)return!1;const i=this._charts.get(c);return!(!i||!i.running||!i.items.length)}stop(c){const i=this._charts.get(c);if(!i||!i.items.length)return;const d=i.items;let t=d.length-1;for(;t>=0;--t)d[t].cancel();i.items=[],this._notify(c,i,Date.now(),"complete")}remove(c){return this._charts.delete(c)}}var De=new my;const qh="transparent",xy={boolean(p,c,i){return i>.5?c:p},color(p,c,i){const d=Yh(p||qh),t=d.valid&&Yh(c||qh);return t&&t.valid?t.mix(d,i).hexString():c},number(p,c,i){return p+(c-p)*i}};class sd{constructor(c,i,d,t){const e=i[d];t=Dn([c.to,t,e,c.from]);const l=Dn([c.from,e,t]);this._active=!0,this._fn=c.fn||xy[c.type||typeof l],this._easing=Zn[c.easing]||Zn.linear,this._start=Math.floor(Date.now()+(c.delay||0)),this._duration=this._total=Math.floor(c.duration),this._loop=!!c.loop,this._target=i,this._prop=d,this._from=l,this._to=t,this._promises=void 0}active(){return this._active}update(c,i,d){if(this._active){this._notify(!1);const t=this._target[this._prop],e=d-this._start,l=this._duration-e;this._start=d,this._duration=Math.floor(Math.max(l,c.duration)),this._total+=e,this._loop=!!c.loop,this._to=Dn([c.to,i,t,c.from]),this._from=Dn([c.from,t,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(c){const i=c-this._start,d=this._duration,t=this._prop,e=this._from,l=this._loop,s=this._to;let r;if(this._active=e!==s&&(l||i<d),!this._active){this._target[t]=s,this._notify(!0);return}if(i<0){this._target[t]=e;return}r=i/d%2,r=l&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[t]=this._fn(e,s,r)}wait(){const c=this._promises||(this._promises=[]);return new Promise((i,d)=>{c.push({res:i,rej:d})})}_notify(c){const i=c?"res":"rej",d=this._promises||[];for(let t=0;t<d.length;t++)d[t][i]()}}const yy=["x","y","borderWidth","radius","tension"],Ty=["color","borderColor","backgroundColor"];xt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Sy=Object.keys(xt.animation);xt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:p=>p!=="onProgress"&&p!=="onComplete"&&p!=="fn"});xt.set("animations",{colors:{type:"color",properties:Ty},numbers:{type:"number",properties:yy}});xt.describe("animations",{_fallback:"animation"});xt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:p=>p|0}}}});class hl{constructor(c,i){this._chart=c,this._properties=new Map,this.configure(i)}configure(c){if(!yt(c))return;const i=this._properties;Object.getOwnPropertyNames(c).forEach(d=>{const t=c[d];if(!yt(t))return;const e={};for(const l of Sy)e[l]=t[l];(Lt(t.properties)&&t.properties||[d]).forEach(l=>{(l===d||!i.has(l))&&i.set(l,e)})})}_animateOptions(c,i){const d=i.options,t=Cy(c,d);if(!t)return[];const e=this._createAnimations(t,d);return d.$shared&&Ey(c.options.$animations,d).then(()=>{c.options=d},()=>{}),e}_createAnimations(c,i){const d=this._properties,t=[],e=c.$animations||(c.$animations={}),l=Object.keys(i),s=Date.now();let r;for(r=l.length-1;r>=0;--r){const a=l[r];if(a.charAt(0)==="$")continue;if(a==="options"){t.push(...this._animateOptions(c,i));continue}const o=i[a];let n=e[a];const u=d.get(a);if(n)if(u&&n.active()){n.update(u,o,s);continue}else n.cancel();if(!u||!u.duration){c[a]=o;continue}e[a]=n=new sd(u,c,a,o),t.push(n)}return t}update(c,i){if(this._properties.size===0){Object.assign(c,i);return}const d=this._createAnimations(c,i);if(d.length)return De.add(this._chart,d),!0}}function Ey(p,c){const i=[],d=Object.keys(c);for(let t=0;t<d.length;t++){const e=p[d[t]];e&&e.active()&&i.push(e.wait())}return Promise.all(i)}function Cy(p,c){if(!c)return;let i=p.options;if(!i){p.options=c;return}return i.$shared&&(p.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function _h(p,c){const i=p&&p.options||{},d=i.reverse,t=i.min===void 0?c:0,e=i.max===void 0?c:0;return{start:d?e:t,end:d?t:e}}function Ay(p,c,i){if(i===!1)return!1;const d=_h(p,i),t=_h(c,i);return{top:t.end,right:d.end,bottom:t.start,left:d.start}}function Py(p){let c,i,d,t;return yt(p)?(c=p.top,i=p.right,d=p.bottom,t=p.left):c=i=d=t=p,{top:c,right:i,bottom:d,left:t,disabled:p===!1}}function rd(p,c){const i=[],d=p._getSortedDatasetMetas(c);let t,e;for(t=0,e=d.length;t<e;++t)i.push(d[t].index);return i}function t0(p,c,i,d={}){const t=p.keys,e=d.mode==="single";let l,s,r,a;if(c!==null){for(l=0,s=t.length;l<s;++l){if(r=+t[l],r===i){if(d.all)continue;break}a=p.values[r],Nt(a)&&(e||c===0||ze(c)===ze(a))&&(c+=a)}return c}}function My(p){const c=Object.keys(p),i=new Array(c.length);let d,t,e;for(d=0,t=c.length;d<t;++d)e=c[d],i[d]={x:e,y:p[e]};return i}function e0(p,c){const i=p&&p.options.stacked;return i||i===void 0&&c.stack!==void 0}function Ry(p,c,i){return`${p.id}.${c.id}.${i.stack||i.type}`}function Ly(p){const{min:c,max:i,minDefined:d,maxDefined:t}=p.getUserBounds();return{min:d?c:Number.NEGATIVE_INFINITY,max:t?i:Number.POSITIVE_INFINITY}}function Oy(p,c,i){const d=p[c]||(p[c]={});return d[i]||(d[i]={})}function i0(p,c,i,d){for(const t of c.getMatchingVisibleMetas(d).reverse()){const e=p[t.index];if(i&&e>0||!i&&e<0)return t.index}return null}function n0(p,c){const{chart:i,_cachedMeta:d}=p,t=i._stacks||(i._stacks={}),{iScale:e,vScale:l,index:s}=d,r=e.axis,a=l.axis,o=Ry(e,l,d),n=c.length;let u;for(let h=0;h<n;++h){const f=c[h],{[r]:v,[a]:m}=f,g=f._stacks||(f._stacks={});u=g[a]=Oy(t,o,v),u[s]=m,u._top=i0(u,l,!0,d.type),u._bottom=i0(u,l,!1,d.type)}}function Pa(p,c){const i=p.scales;return Object.keys(i).filter(d=>i[d].axis===c).shift()}function Fy(p,c){return xi(p,{active:!1,dataset:void 0,datasetIndex:c,index:c,mode:"default",type:"dataset"})}function Iy(p,c,i){return xi(p,{active:!1,dataIndex:c,parsed:void 0,raw:void 0,element:i,index:c,mode:"default",type:"data"})}function En(p,c){const i=p.controller.index,d=p.vScale&&p.vScale.axis;if(!!d){c=c||p._parsed;for(const t of c){const e=t._stacks;if(!e||e[d]===void 0||e[d][i]===void 0)return;delete e[d][i]}}}const Ma=p=>p==="reset"||p==="none",s0=(p,c)=>c?p:Object.assign({},p),Dy=(p,c,i)=>p&&!c.hidden&&c._stacked&&{keys:rd(i,!0),values:null};class Oe{constructor(c,i){this.chart=c,this._ctx=c.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const c=this._cachedMeta;this.configure(),this.linkScales(),c._stacked=e0(c.vScale,c),this.addElements()}updateIndex(c){this.index!==c&&En(this._cachedMeta),this.index=c}linkScales(){const c=this.chart,i=this._cachedMeta,d=this.getDataset(),t=(n,u,h,f)=>n==="x"?u:n==="r"?f:h,e=i.xAxisID=gt(d.xAxisID,Pa(c,"x")),l=i.yAxisID=gt(d.yAxisID,Pa(c,"y")),s=i.rAxisID=gt(d.rAxisID,Pa(c,"r")),r=i.indexAxis,a=i.iAxisID=t(r,e,l,s),o=i.vAxisID=t(r,l,e,s);i.xScale=this.getScaleForId(e),i.yScale=this.getScaleForId(l),i.rScale=this.getScaleForId(s),i.iScale=this.getScaleForId(a),i.vScale=this.getScaleForId(o)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(c){return this.chart.scales[c]}_getOtherScale(c){const i=this._cachedMeta;return c===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const c=this._cachedMeta;this._data&&Wh(this._data,this),c._stacked&&En(c)}_dataCheck(){const c=this.getDataset(),i=c.data||(c.data=[]),d=this._data;if(yt(i))this._data=My(i);else if(d!==i){if(d){Wh(d,this);const t=this._cachedMeta;En(t),t._parsed=[]}i&&Object.isExtensible(i)&&N3(i,this),this._syncList=[],this._data=i}}addElements(){const c=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(c.dataset=new this.datasetElementType)}buildOrUpdateElements(c){const i=this._cachedMeta,d=this.getDataset();let t=!1;this._dataCheck();const e=i._stacked;i._stacked=e0(i.vScale,i),i.stack!==d.stack&&(t=!0,En(i),i.stack=d.stack),this._resyncElements(c),(t||e!==i._stacked)&&n0(this,i._parsed)}configure(){const c=this.chart.config,i=c.datasetScopeKeys(this._type),d=c.getOptionScopes(this.getDataset(),i,!0);this.options=c.createResolver(d,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(c,i){const{_cachedMeta:d,_data:t}=this,{iScale:e,_stacked:l}=d,s=e.axis;let r=c===0&&i===t.length?!0:d._sorted,a=c>0&&d._parsed[c-1],o,n,u;if(this._parsing===!1)d._parsed=t,d._sorted=!0,u=t;else{Lt(t[c])?u=this.parseArrayData(d,t,c,i):yt(t[c])?u=this.parseObjectData(d,t,c,i):u=this.parsePrimitiveData(d,t,c,i);const h=()=>n[s]===null||a&&n[s]<a[s];for(o=0;o<i;++o)d._parsed[o+c]=n=u[o],r&&(h()&&(r=!1),a=n);d._sorted=r}l&&n0(this,u)}parsePrimitiveData(c,i,d,t){const{iScale:e,vScale:l}=c,s=e.axis,r=l.axis,a=e.getLabels(),o=e===l,n=new Array(t);let u,h,f;for(u=0,h=t;u<h;++u)f=u+d,n[u]={[s]:o||e.parse(a[f],f),[r]:l.parse(i[f],f)};return n}parseArrayData(c,i,d,t){const{xScale:e,yScale:l}=c,s=new Array(t);let r,a,o,n;for(r=0,a=t;r<a;++r)o=r+d,n=i[o],s[r]={x:e.parse(n[0],o),y:l.parse(n[1],o)};return s}parseObjectData(c,i,d,t){const{xScale:e,yScale:l}=c,{xAxisKey:s="x",yAxisKey:r="y"}=this._parsing,a=new Array(t);let o,n,u,h;for(o=0,n=t;o<n;++o)u=o+d,h=i[u],a[o]={x:e.parse(pi(h,s),u),y:l.parse(pi(h,r),u)};return a}getParsed(c){return this._cachedMeta._parsed[c]}getDataElement(c){return this._cachedMeta.data[c]}applyStack(c,i,d){const t=this.chart,e=this._cachedMeta,l=i[c.axis],s={keys:rd(t,!0),values:i._stacks[c.axis]};return t0(s,l,e.index,{mode:d})}updateRangeFromParsed(c,i,d,t){const e=d[i.axis];let l=e===null?NaN:e;const s=t&&d._stacks[i.axis];t&&s&&(t.values=s,l=t0(t,e,this._cachedMeta.index)),c.min=Math.min(c.min,l),c.max=Math.max(c.max,l)}getMinMax(c,i){const d=this._cachedMeta,t=d._parsed,e=d._sorted&&c===d.iScale,l=t.length,s=this._getOtherScale(c),r=Dy(i,d,this.chart),a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:o,max:n}=Ly(s);let u,h;function f(){h=t[u];const v=h[s.axis];return!Nt(h[c.axis])||o>v||n<v}for(u=0;u<l&&!(!f()&&(this.updateRangeFromParsed(a,c,h,r),e));++u);if(e){for(u=l-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(a,c,h,r);break}}return a}getAllParsedValues(c){const i=this._cachedMeta._parsed,d=[];let t,e,l;for(t=0,e=i.length;t<e;++t)l=i[t][c.axis],Nt(l)&&d.push(l);return d}getMaxOverflow(){return!1}getLabelAndValue(c){const i=this._cachedMeta,d=i.iScale,t=i.vScale,e=this.getParsed(c);return{label:d?""+d.getLabelForValue(e[d.axis]):"",value:t?""+t.getLabelForValue(e[t.axis]):""}}_update(c){const i=this._cachedMeta;this.update(c||"default"),i._clip=Py(gt(this.options.clip,Ay(i.xScale,i.yScale,this.getMaxOverflow())))}update(c){}draw(){const c=this._ctx,i=this.chart,d=this._cachedMeta,t=d.data||[],e=i.chartArea,l=[],s=this._drawStart||0,r=this._drawCount||t.length-s,a=this.options.drawActiveElementsOnTop;let o;for(d.dataset&&d.dataset.draw(c,e,s,r),o=s;o<s+r;++o){const n=t[o];n.hidden||(n.active&&a?l.push(n):n.draw(c,e))}for(o=0;o<l.length;++o)l[o].draw(c,e)}getStyle(c,i){const d=i?"active":"default";return c===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(d):this.resolveDataElementOptions(c||0,d)}getContext(c,i,d){const t=this.getDataset();let e;if(c>=0&&c<this._cachedMeta.data.length){const l=this._cachedMeta.data[c];e=l.$context||(l.$context=Iy(this.getContext(),c,l)),e.parsed=this.getParsed(c),e.raw=t.data[c],e.index=e.dataIndex=c}else e=this.$context||(this.$context=Fy(this.chart.getContext(),this.index)),e.dataset=t,e.index=e.datasetIndex=this.index;return e.active=!!i,e.mode=d,e}resolveDatasetElementOptions(c){return this._resolveElementOptions(this.datasetElementType.id,c)}resolveDataElementOptions(c,i){return this._resolveElementOptions(this.dataElementType.id,i,c)}_resolveElementOptions(c,i="default",d){const t=i==="active",e=this._cachedDataOpts,l=c+"-"+i,s=e[l],r=this.enableOptionSharing&&Ae(d);if(s)return s0(s,r);const a=this.chart.config,o=a.datasetElementScopeKeys(this._type,c),n=t?[`${c}Hover`,"hover",c,""]:[c,""],u=a.getOptionScopes(this.getDataset(),o),h=Object.keys(xt.elements[c]),f=()=>this.getContext(d,t),v=a.resolveNamedOptions(u,h,f,n);return v.$shared&&(v.$shared=r,e[l]=Object.freeze(s0(v,r))),v}_resolveAnimations(c,i,d){const t=this.chart,e=this._cachedDataOpts,l=`animation-${i}`,s=e[l];if(s)return s;let r;if(t.options.animation!==!1){const o=this.chart.config,n=o.datasetAnimationScopeKeys(this._type,i),u=o.getOptionScopes(this.getDataset(),n);r=o.createResolver(u,this.getContext(c,d,i))}const a=new hl(t,r&&r.animations);return r&&r._cacheable&&(e[l]=Object.freeze(a)),a}getSharedOptions(c){if(!!c.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},c))}includeOptions(c,i){return!i||Ma(c)||this.chart._animationsDisabled}updateElement(c,i,d,t){Ma(t)?Object.assign(c,d):this._resolveAnimations(i,t).update(c,d)}updateSharedOptions(c,i,d){c&&!Ma(i)&&this._resolveAnimations(void 0,i).update(c,d)}_setStyle(c,i,d,t){c.active=t;const e=this.getStyle(i,t);this._resolveAnimations(i,d,t).update(c,{options:!t&&this.getSharedOptions(e)||e})}removeHoverStyle(c,i,d){this._setStyle(c,d,"active",!1)}setHoverStyle(c,i,d){this._setStyle(c,d,"active",!0)}_removeDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!1)}_setDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!0)}_resyncElements(c){const i=this._data,d=this._cachedMeta.data;for(const[s,r,a]of this._syncList)this[s](r,a);this._syncList=[];const t=d.length,e=i.length,l=Math.min(e,t);l&&this.parse(0,l),e>t?this._insertElements(t,e-t,c):e<t&&this._removeElements(e,t-e)}_insertElements(c,i,d=!0){const t=this._cachedMeta,e=t.data,l=c+i;let s;const r=a=>{for(a.length+=i,s=a.length-1;s>=l;s--)a[s]=a[s-i]};for(r(e),s=c;s<l;++s)e[s]=new this.dataElementType;this._parsing&&r(t._parsed),this.parse(c,i),d&&this.updateElements(e,c,i,"reset")}updateElements(c,i,d,t){}_removeElements(c,i){const d=this._cachedMeta;if(this._parsing){const t=d._parsed.splice(c,i);d._stacked&&En(d,t)}d.data.splice(c,i)}_sync(c){if(this._parsing)this._syncList.push(c);else{const[i,d,t]=c;this[i](d,t)}this.chart._dataChanges.push([this.index,...c])}_onDataPush(){const c=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-c,c])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(c,i){i&&this._sync(["_removeElements",c,i]);const d=arguments.length-2;d&&this._sync(["_insertElements",c,d])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Oe.defaults={};Oe.prototype.datasetElementType=null;Oe.prototype.dataElementType=null;function wy(p,c){if(!p._cache.$bar){const i=p.getMatchingVisibleMetas(c);let d=[];for(let t=0,e=i.length;t<e;t++)d=d.concat(i[t].controller.getAllParsedValues(p));p._cache.$bar=$f(d.sort((t,e)=>t-e))}return p._cache.$bar}function By(p){const c=p.iScale,i=wy(c,p.type);let d=c._length,t,e,l,s;const r=()=>{l===32767||l===-32768||(Ae(s)&&(d=Math.min(d,Math.abs(l-s)||d)),s=l)};for(t=0,e=i.length;t<e;++t)l=c.getPixelForValue(i[t]),r();for(s=void 0,t=0,e=c.ticks.length;t<e;++t)l=c.getPixelForTick(t),r();return d}function by(p,c,i,d){const t=i.barThickness;let e,l;return St(t)?(e=c.min*i.categoryPercentage,l=i.barPercentage):(e=t*d,l=1),{chunk:e/d,ratio:l,start:c.pixels[p]-e/2}}function Ny(p,c,i,d){const t=c.pixels,e=t[p];let l=p>0?t[p-1]:null,s=p<t.length-1?t[p+1]:null;const r=i.categoryPercentage;l===null&&(l=e-(s===null?c.end-c.start:s-e)),s===null&&(s=e+e-l);const a=e-(e-Math.min(l,s))/2*r;return{chunk:Math.abs(s-l)/2*r/d,ratio:i.barPercentage,start:a}}function Gy(p,c,i,d){const t=i.parse(p[0],d),e=i.parse(p[1],d),l=Math.min(t,e),s=Math.max(t,e);let r=l,a=s;Math.abs(l)>Math.abs(s)&&(r=s,a=l),c[i.axis]=a,c._custom={barStart:r,barEnd:a,start:t,end:e,min:l,max:s}}function ad(p,c,i,d){return Lt(p)?Gy(p,c,i,d):c[i.axis]=i.parse(p,d),c}function r0(p,c,i,d){const t=p.iScale,e=p.vScale,l=t.getLabels(),s=t===e,r=[];let a,o,n,u;for(a=i,o=i+d;a<o;++a)u=c[a],n={},n[t.axis]=s||t.parse(l[a],a),r.push(ad(u,n,e,a));return r}function Ra(p){return p&&p.barStart!==void 0&&p.barEnd!==void 0}function zy(p,c,i){return p!==0?ze(p):(c.isHorizontal()?1:-1)*(c.min>=i?1:-1)}function Uy(p){let c,i,d,t,e;return p.horizontal?(c=p.base>p.x,i="left",d="right"):(c=p.base<p.y,i="bottom",d="top"),c?(t="end",e="start"):(t="start",e="end"),{start:i,end:d,reverse:c,top:t,bottom:e}}function Vy(p,c,i,d){let t=c.borderSkipped;const e={};if(!t){p.borderSkipped=e;return}const{start:l,end:s,reverse:r,top:a,bottom:o}=Uy(p);t==="middle"&&i&&(p.enableBorderRadius=!0,(i._top||0)===d?t=a:(i._bottom||0)===d?t=o:(e[a0(o,l,s,r)]=!0,t=a)),e[a0(t,l,s,r)]=!0,p.borderSkipped=e}function a0(p,c,i,d){return d?(p=Yy(p,c,i),p=o0(p,i,c)):p=o0(p,c,i),p}function Yy(p,c,i){return p===c?i:p===i?c:p}function o0(p,c,i){return p==="start"?c:p==="end"?i:p}function Xy(p,{inflateAmount:c},i){p.inflateAmount=c==="auto"?i===1?.33:0:c}class Es extends Oe{parsePrimitiveData(c,i,d,t){return r0(c,i,d,t)}parseArrayData(c,i,d,t){return r0(c,i,d,t)}parseObjectData(c,i,d,t){const{iScale:e,vScale:l}=c,{xAxisKey:s="x",yAxisKey:r="y"}=this._parsing,a=e.axis==="x"?s:r,o=l.axis==="x"?s:r,n=[];let u,h,f,v;for(u=d,h=d+t;u<h;++u)v=i[u],f={},f[e.axis]=e.parse(pi(v,a),u),n.push(ad(pi(v,o),f,l,u));return n}updateRangeFromParsed(c,i,d,t){super.updateRangeFromParsed(c,i,d,t);const e=d._custom;e&&i===this._cachedMeta.vScale&&(c.min=Math.min(c.min,e.min),c.max=Math.max(c.max,e.max))}getMaxOverflow(){return 0}getLabelAndValue(c){const i=this._cachedMeta,{iScale:d,vScale:t}=i,e=this.getParsed(c),l=e._custom,s=Ra(l)?"["+l.start+", "+l.end+"]":""+t.getLabelForValue(e[t.axis]);return{label:""+d.getLabelForValue(e[d.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const c=this._cachedMeta;c.stack=this.getDataset().stack}update(c){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,c)}updateElements(c,i,d,t){const e=t==="reset",{index:l,_cachedMeta:{vScale:s}}=this,r=s.getBasePixel(),a=s.isHorizontal(),o=this._getRuler(),n=this.resolveDataElementOptions(i,t),u=this.getSharedOptions(n),h=this.includeOptions(t,u);this.updateSharedOptions(u,t,n);for(let f=i;f<i+d;f++){const v=this.getParsed(f),m=e||St(v[s.axis])?{base:r,head:r}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,o),x=(v._stacks||{})[s.axis],y={horizontal:a,base:m.base,enableBorderRadius:!x||Ra(v._custom)||l===x._top||l===x._bottom,x:a?m.head:g.center,y:a?g.center:m.head,height:a?g.size:Math.abs(m.size),width:a?Math.abs(m.size):g.size};h&&(y.options=u||this.resolveDataElementOptions(f,c[f].active?"active":t));const T=y.options||c[f].options;Vy(y,T,x,l),Xy(y,T,o.ratio),this.updateElement(c[f],f,y,t)}}_getStacks(c,i){const t=this._cachedMeta.iScale,e=t.getMatchingVisibleMetas(this._type),l=t.options.stacked,s=e.length,r=[];let a,o;for(a=0;a<s;++a)if(o=e[a],!!o.controller.options.grouped){if(typeof i!="undefined"){const n=o.controller.getParsed(i)[o.controller._cachedMeta.vScale.axis];if(St(n)||isNaN(n))continue}if((l===!1||r.indexOf(o.stack)===-1||l===void 0&&o.stack===void 0)&&r.push(o.stack),o.index===c)break}return r.length||r.push(void 0),r}_getStackCount(c){return this._getStacks(void 0,c).length}_getStackIndex(c,i,d){const t=this._getStacks(c,d),e=i!==void 0?t.indexOf(i):-1;return e===-1?t.length-1:e}_getRuler(){const c=this.options,i=this._cachedMeta,d=i.iScale,t=[];let e,l;for(e=0,l=i.data.length;e<l;++e)t.push(d.getPixelForValue(this.getParsed(e)[d.axis],e));const s=c.barThickness;return{min:s||By(i),pixels:t,start:d._startPixel,end:d._endPixel,stackCount:this._getStackCount(),scale:d,grouped:c.grouped,ratio:s?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(c){const{_cachedMeta:{vScale:i,_stacked:d},options:{base:t,minBarLength:e}}=this,l=t||0,s=this.getParsed(c),r=s._custom,a=Ra(r);let o=s[i.axis],n=0,u=d?this.applyStack(i,s,d):o,h,f;u!==o&&(n=u-o,u=o),a&&(o=r.barStart,u=r.barEnd-r.barStart,o!==0&&ze(o)!==ze(r.barEnd)&&(n=0),n+=o);const v=!St(t)&&!a?t:n;let m=i.getPixelForValue(v);if(this.chart.getDataVisibility(c)?h=i.getPixelForValue(n+u):h=m,f=h-m,Math.abs(f)<e){f=zy(f,i,l)*e,o===l&&(m-=f/2);const g=i.getPixelForDecimal(0),x=i.getPixelForDecimal(1),y=Math.min(g,x),T=Math.max(g,x);m=Math.max(Math.min(m,T),y),h=m+f}if(m===i.getPixelForValue(l)){const g=ze(f)*i.getLineWidthForValue(l)/2;m+=g,f-=g}return{size:f,base:m,head:h,center:h+f/2}}_calculateBarIndexPixels(c,i){const d=i.scale,t=this.options,e=t.skipNull,l=gt(t.maxBarThickness,1/0);let s,r;if(i.grouped){const a=e?this._getStackCount(c):i.stackCount,o=t.barThickness==="flex"?Ny(c,i,t,a):by(c,i,t,a),n=this._getStackIndex(this.index,this._cachedMeta.stack,e?c:void 0);s=o.start+o.chunk*n+o.chunk/2,r=Math.min(l,o.chunk*o.ratio)}else s=d.getPixelForValue(this.getParsed(c)[d.axis],c),r=Math.min(l,i.min*i.ratio);return{base:s-r/2,head:s+r/2,center:s,size:r}}draw(){const c=this._cachedMeta,i=c.vScale,d=c.data,t=d.length;let e=0;for(;e<t;++e)this.getParsed(e)[i.axis]!==null&&d[e].draw(this._ctx)}}Es.id="bar";Es.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Es.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Cs extends Oe{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(c,i,d,t){const e=super.parsePrimitiveData(c,i,d,t);for(let l=0;l<e.length;l++)e[l]._custom=this.resolveDataElementOptions(l+d).radius;return e}parseArrayData(c,i,d,t){const e=super.parseArrayData(c,i,d,t);for(let l=0;l<e.length;l++){const s=i[d+l];e[l]._custom=gt(s[2],this.resolveDataElementOptions(l+d).radius)}return e}parseObjectData(c,i,d,t){const e=super.parseObjectData(c,i,d,t);for(let l=0;l<e.length;l++){const s=i[d+l];e[l]._custom=gt(s&&s.r&&+s.r,this.resolveDataElementOptions(l+d).radius)}return e}getMaxOverflow(){const c=this._cachedMeta.data;let i=0;for(let d=c.length-1;d>=0;--d)i=Math.max(i,c[d].size(this.resolveDataElementOptions(d))/2);return i>0&&i}getLabelAndValue(c){const i=this._cachedMeta,{xScale:d,yScale:t}=i,e=this.getParsed(c),l=d.getLabelForValue(e.x),s=t.getLabelForValue(e.y),r=e._custom;return{label:i.label,value:"("+l+", "+s+(r?", "+r:"")+")"}}update(c){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,c)}updateElements(c,i,d,t){const e=t==="reset",{iScale:l,vScale:s}=this._cachedMeta,r=this.resolveDataElementOptions(i,t),a=this.getSharedOptions(r),o=this.includeOptions(t,a),n=l.axis,u=s.axis;for(let h=i;h<i+d;h++){const f=c[h],v=!e&&this.getParsed(h),m={},g=m[n]=e?l.getPixelForDecimal(.5):l.getPixelForValue(v[n]),x=m[u]=e?s.getBasePixel():s.getPixelForValue(v[u]);m.skip=isNaN(g)||isNaN(x),o&&(m.options=this.resolveDataElementOptions(h,f.active?"active":t),e&&(m.options.radius=0)),this.updateElement(f,h,m,t)}this.updateSharedOptions(a,t,r)}resolveDataElementOptions(c,i){const d=this.getParsed(c);let t=super.resolveDataElementOptions(c,i);t.$shared&&(t=Object.assign({},t,{$shared:!1}));const e=t.radius;return i!=="active"&&(t.radius=0),t.radius+=gt(d&&d._custom,e),t}}Cs.id="bubble";Cs.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Cs.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function Wy(p,c,i){let d=1,t=1,e=0,l=0;if(c<Mt){const s=p,r=s+c,a=Math.cos(s),o=Math.sin(s),n=Math.cos(r),u=Math.sin(r),h=(y,T,S)=>hs(y,s,r,!0)?1:Math.max(T,T*i,S,S*i),f=(y,T,S)=>hs(y,s,r,!0)?-1:Math.min(T,T*i,S,S*i),v=h(0,a,n),m=h(wt,o,u),g=f(It,a,n),x=f(It+wt,o,u);d=(v-g)/2,t=(m-x)/2,e=-(v+g)/2,l=-(m+x)/2}return{ratioX:d,ratioY:t,offsetX:e,offsetY:l}}class Vi extends Oe{constructor(c,i){super(c,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(c,i){const d=this.getDataset().data,t=this._cachedMeta;if(this._parsing===!1)t._parsed=d;else{let e=r=>+d[r];if(yt(d[c])){const{key:r="value"}=this._parsing;e=a=>+pi(d[a],r)}let l,s;for(l=c,s=c+i;l<s;++l)t._parsed[l]=e(l)}}_getRotation(){return Re(this.options.rotation-90)}_getCircumference(){return Re(this.options.circumference)}_getRotationExtents(){let c=Mt,i=-Mt;for(let d=0;d<this.chart.data.datasets.length;++d)if(this.chart.isDatasetVisible(d)){const t=this.chart.getDatasetMeta(d).controller,e=t._getRotation(),l=t._getCircumference();c=Math.min(c,e),i=Math.max(i,e+l)}return{rotation:c,circumference:i-c}}update(c){const i=this.chart,{chartArea:d}=i,t=this._cachedMeta,e=t.data,l=this.getMaxBorderWidth()+this.getMaxOffset(e)+this.options.spacing,s=Math.max((Math.min(d.width,d.height)-l)/2,0),r=Math.min(Xx(this.options.cutout,s),1),a=this._getRingWeight(this.index),{circumference:o,rotation:n}=this._getRotationExtents(),{ratioX:u,ratioY:h,offsetX:f,offsetY:v}=Wy(n,o,r),m=(d.width-l)/u,g=(d.height-l)/h,x=Math.max(Math.min(m,g)/2,0),y=Bf(this.options.radius,x),T=Math.max(y*r,0),S=(y-T)/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=v*y,t.total=this.calculateTotal(),this.outerRadius=y-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*a,0),this.updateElements(e,0,e.length,c)}_circumference(c,i){const d=this.options,t=this._cachedMeta,e=this._getCircumference();return i&&d.animation.animateRotate||!this.chart.getDataVisibility(c)||t._parsed[c]===null||t.data[c].hidden?0:this.calculateCircumference(t._parsed[c]*e/Mt)}updateElements(c,i,d,t){const e=t==="reset",l=this.chart,s=l.chartArea,a=l.options.animation,o=(s.left+s.right)/2,n=(s.top+s.bottom)/2,u=e&&a.animateScale,h=u?0:this.innerRadius,f=u?0:this.outerRadius,v=this.resolveDataElementOptions(i,t),m=this.getSharedOptions(v),g=this.includeOptions(t,m);let x=this._getRotation(),y;for(y=0;y<i;++y)x+=this._circumference(y,e);for(y=i;y<i+d;++y){const T=this._circumference(y,e),S=c[y],E={x:o+this.offsetX,y:n+this.offsetY,startAngle:x,endAngle:x+T,circumference:T,outerRadius:f,innerRadius:h};g&&(E.options=m||this.resolveDataElementOptions(y,S.active?"active":t)),x+=T,this.updateElement(S,y,E,t)}this.updateSharedOptions(m,t,v)}calculateTotal(){const c=this._cachedMeta,i=c.data;let d=0,t;for(t=0;t<i.length;t++){const e=c._parsed[t];e!==null&&!isNaN(e)&&this.chart.getDataVisibility(t)&&!i[t].hidden&&(d+=Math.abs(e))}return d}calculateCircumference(c){const i=this._cachedMeta.total;return i>0&&!isNaN(c)?Mt*(Math.abs(c)/i):0}getLabelAndValue(c){const i=this._cachedMeta,d=this.chart,t=d.data.labels||[],e=Ss(i._parsed[c],d.options.locale);return{label:t[c]||"",value:e}}getMaxBorderWidth(c){let i=0;const d=this.chart;let t,e,l,s,r;if(!c){for(t=0,e=d.data.datasets.length;t<e;++t)if(d.isDatasetVisible(t)){l=d.getDatasetMeta(t),c=l.data,s=l.controller;break}}if(!c)return 0;for(t=0,e=c.length;t<e;++t)r=s.resolveDataElementOptions(t),r.borderAlign!=="inner"&&(i=Math.max(i,r.borderWidth||0,r.hoverBorderWidth||0));return i}getMaxOffset(c){let i=0;for(let d=0,t=c.length;d<t;++d){const e=this.resolveDataElementOptions(d);i=Math.max(i,e.offset||0,e.hoverOffset||0)}return i}_getRingWeightOffset(c){let i=0;for(let d=0;d<c;++d)this.chart.isDatasetVisible(d)&&(i+=this._getRingWeight(d));return i}_getRingWeight(c){return Math.max(gt(this.chart.data.datasets[c].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Vi.id="doughnut";Vi.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Vi.descriptors={_scriptable:p=>p!=="spacing",_indexable:p=>p!=="spacing"};Vi.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(p){const c=p.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:i}}=p.legend.options;return c.labels.map((d,t)=>{const l=p.getDatasetMeta(0).controller.getStyle(t);return{text:d,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:i,hidden:!p.getDataVisibility(t),index:t}})}return[]}},onClick(p,c,i){i.chart.toggleDataVisibility(c.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(p){let c=p.label;const i=": "+p.formattedValue;return Lt(c)?(c=c.slice(),c[0]+=i):c+=i,c}}}}};class pn extends Oe{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(c){const i=this._cachedMeta,{dataset:d,data:t=[],_dataset:e}=i,l=this.chart._animationsDisabled;let{start:s,count:r}=Hy(i,t,l);this._drawStart=s,this._drawCount=r,$y(i)&&(s=0,r=t.length),d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!e._decimated,d.points=t;const a=this.resolveDatasetElementOptions(c);this.options.showLine||(a.borderWidth=0),a.segment=this.options.segment,this.updateElement(d,void 0,{animated:!l,options:a},c),this.updateElements(t,s,r,c)}updateElements(c,i,d,t){const e=t==="reset",{iScale:l,vScale:s,_stacked:r,_dataset:a}=this._cachedMeta,o=this.resolveDataElementOptions(i,t),n=this.getSharedOptions(o),u=this.includeOptions(t,n),h=l.axis,f=s.axis,{spanGaps:v,segment:m}=this.options,g=ls(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||e||t==="none";let y=i>0&&this.getParsed(i-1);for(let T=i;T<i+d;++T){const S=c[T],E=this.getParsed(T),C=x?S:{},A=St(E[f]),P=C[h]=l.getPixelForValue(E[h],T),R=C[f]=e||A?s.getBasePixel():s.getPixelForValue(r?this.applyStack(s,E,r):E[f],T);C.skip=isNaN(P)||isNaN(R)||A,C.stop=T>0&&Math.abs(E[h]-y[h])>g,m&&(C.parsed=E,C.raw=a.data[T]),u&&(C.options=n||this.resolveDataElementOptions(T,S.active?"active":t)),x||this.updateElement(S,T,C,t),y=E}this.updateSharedOptions(n,t,o)}getMaxOverflow(){const c=this._cachedMeta,i=c.dataset,d=i.options&&i.options.borderWidth||0,t=c.data||[];if(!t.length)return d;const e=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(d,e,l)/2}draw(){const c=this._cachedMeta;c.dataset.updateControlPoints(this.chart.chartArea,c.iScale.axis),super.draw()}}pn.id="line";pn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};pn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function Hy(p,c,i){const d=c.length;let t=0,e=d;if(p._sorted){const{iScale:l,_parsed:s}=p,r=l.axis,{min:a,max:o,minDefined:n,maxDefined:u}=l.getUserBounds();n&&(t=Wt(Math.min($e(s,l.axis,a).lo,i?d:$e(c,r,l.getPixelForValue(a)).lo),0,d-1)),u?e=Wt(Math.max($e(s,l.axis,o).hi+1,i?0:$e(c,r,l.getPixelForValue(o)).hi+1),t,d)-t:e=d-t}return{start:t,count:e}}function $y(p){const{xScale:c,yScale:i,_scaleRanges:d}=p,t={xmin:c.min,xmax:c.max,ymin:i.min,ymax:i.max};if(!d)return p._scaleRanges=t,!0;const e=d.xmin!==c.min||d.xmax!==c.max||d.ymin!==i.min||d.ymax!==i.max;return Object.assign(d,t),e}class As extends Oe{constructor(c,i){super(c,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(c){const i=this._cachedMeta,d=this.chart,t=d.data.labels||[],e=Ss(i._parsed[c].r,d.options.locale);return{label:t[c]||"",value:e}}parseObjectData(c,i,d,t){return Qf.bind(this)(c,i,d,t)}update(c){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,c)}getMinMax(){const c=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return c.data.forEach((d,t)=>{const e=this.getParsed(t).r;!isNaN(e)&&this.chart.getDataVisibility(t)&&(e<i.min&&(i.min=e),e>i.max&&(i.max=e))}),i}_updateRadius(){const c=this.chart,i=c.chartArea,d=c.options,t=Math.min(i.right-i.left,i.bottom-i.top),e=Math.max(t/2,0),l=Math.max(d.cutoutPercentage?e/100*d.cutoutPercentage:1,0),s=(e-l)/c.getVisibleDatasetCount();this.outerRadius=e-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(c,i,d,t){const e=t==="reset",l=this.chart,r=l.options.animation,a=this._cachedMeta.rScale,o=a.xCenter,n=a.yCenter,u=a.getIndexAngle(0)-.5*It;let h=u,f;const v=360/this.countVisibleElements();for(f=0;f<i;++f)h+=this._computeAngle(f,t,v);for(f=i;f<i+d;f++){const m=c[f];let g=h,x=h+this._computeAngle(f,t,v),y=l.getDataVisibility(f)?a.getDistanceFromCenterForValue(this.getParsed(f).r):0;h=x,e&&(r.animateScale&&(y=0),r.animateRotate&&(g=x=u));const T={x:o,y:n,innerRadius:0,outerRadius:y,startAngle:g,endAngle:x,options:this.resolveDataElementOptions(f,m.active?"active":t)};this.updateElement(m,f,T,t)}}countVisibleElements(){const c=this._cachedMeta;let i=0;return c.data.forEach((d,t)=>{!isNaN(this.getParsed(t).r)&&this.chart.getDataVisibility(t)&&i++}),i}_computeAngle(c,i,d){return this.chart.getDataVisibility(c)?Re(this.resolveDataElementOptions(c,i).angle||d):0}}As.id="polarArea";As.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};As.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(p){const c=p.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:i}}=p.legend.options;return c.labels.map((d,t)=>{const l=p.getDatasetMeta(0).controller.getStyle(t);return{text:d,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:i,hidden:!p.getDataVisibility(t),index:t}})}return[]}},onClick(p,c,i){i.chart.toggleDataVisibility(c.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(p){return p.chart.data.labels[p.dataIndex]+": "+p.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class _r extends Vi{}_r.id="pie";_r.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Ps extends Oe{getLabelAndValue(c){const i=this._cachedMeta.vScale,d=this.getParsed(c);return{label:i.getLabels()[c],value:""+i.getLabelForValue(d[i.axis])}}parseObjectData(c,i,d,t){return Qf.bind(this)(c,i,d,t)}update(c){const i=this._cachedMeta,d=i.dataset,t=i.data||[],e=i.iScale.getLabels();if(d.points=t,c!=="resize"){const l=this.resolveDatasetElementOptions(c);this.options.showLine||(l.borderWidth=0);const s={_loop:!0,_fullLoop:e.length===t.length,options:l};this.updateElement(d,void 0,s,c)}this.updateElements(t,0,t.length,c)}updateElements(c,i,d,t){const e=this._cachedMeta.rScale,l=t==="reset";for(let s=i;s<i+d;s++){const r=c[s],a=this.resolveDataElementOptions(s,r.active?"active":t),o=e.getPointPositionForValue(s,this.getParsed(s).r),n=l?e.xCenter:o.x,u=l?e.yCenter:o.y,h={x:n,y:u,angle:o.angle,skip:isNaN(n)||isNaN(u),options:a};this.updateElement(r,s,h,t)}}}Ps.id="radar";Ps.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Ps.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Ms extends pn{}Ms.id="scatter";Ms.defaults={showLine:!1,fill:!1};Ms.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(p){return"("+p.label+", "+p.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var od=Object.freeze({__proto__:null,BarController:Es,BubbleController:Cs,DoughnutController:Vi,LineController:pn,PolarAreaController:As,PieController:_r,RadarController:Ps,ScatterController:Ms});function Ai(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class co{constructor(c){this.options=c||{}}formats(){return Ai()}parse(c,i){return Ai()}format(c,i){return Ai()}add(c,i,d){return Ai()}diff(c,i,d){return Ai()}startOf(c,i,d){return Ai()}endOf(c,i){return Ai()}}co.override=function(p){Object.assign(co.prototype,p)};var ld={_date:co};function Ky(p,c,i,d){const{controller:t,data:e,_sorted:l}=p,s=t._cachedMeta.iScale;if(s&&c===s.axis&&c!=="r"&&l&&e.length){const r=s._reversePixels?B3:$e;if(d){if(t._sharedOptions){const a=e[0],o=typeof a.getRange=="function"&&a.getRange(c);if(o){const n=r(e,c,i-o),u=r(e,c,i+o);return{lo:n.lo,hi:u.hi}}}}else return r(e,c,i)}return{lo:0,hi:e.length-1}}function Rs(p,c,i,d,t){const e=p.getSortedVisibleDatasetMetas(),l=i[c];for(let s=0,r=e.length;s<r;++s){const{index:a,data:o}=e[s],{lo:n,hi:u}=Ky(e[s],c,l,t);for(let h=n;h<=u;++h){const f=o[h];f.skip||d(f,a,h)}}}function Zy(p){const c=p.indexOf("x")!==-1,i=p.indexOf("y")!==-1;return function(d,t){const e=c?Math.abs(d.x-t.x):0,l=i?Math.abs(d.y-t.y):0;return Math.sqrt(Math.pow(e,2)+Math.pow(l,2))}}function La(p,c,i,d,t){const e=[];return!t&&!p.isPointInArea(c)||Rs(p,i,c,function(s,r,a){!t&&!us(s,p.chartArea,0)||s.inRange(c.x,c.y,d)&&e.push({element:s,datasetIndex:r,index:a})},!0),e}function Jy(p,c,i,d){let t=[];function e(l,s,r){const{startAngle:a,endAngle:o}=l.getProps(["startAngle","endAngle"],d),{angle:n}=Gf(l,{x:c.x,y:c.y});hs(n,a,o)&&t.push({element:l,datasetIndex:s,index:r})}return Rs(p,i,c,e),t}function jy(p,c,i,d,t,e){let l=[];const s=Zy(i);let r=Number.POSITIVE_INFINITY;function a(o,n,u){const h=o.inRange(c.x,c.y,t);if(d&&!h)return;const f=o.getCenterPoint(t);if(!(!!e||p.isPointInArea(f))&&!h)return;const m=s(c,f);m<r?(l=[{element:o,datasetIndex:n,index:u}],r=m):m===r&&l.push({element:o,datasetIndex:n,index:u})}return Rs(p,i,c,a),l}function Oa(p,c,i,d,t,e){return!e&&!p.isPointInArea(c)?[]:i==="r"&&!d?Jy(p,c,i,t):jy(p,c,i,d,t,e)}function l0(p,c,i,d,t){const e=[],l=i==="x"?"inXRange":"inYRange";let s=!1;return Rs(p,i,c,(r,a,o)=>{r[l](c[i],t)&&(e.push({element:r,datasetIndex:a,index:o}),s=s||r.inRange(c.x,c.y,t))}),d&&!s?[]:e}var hd={evaluateInteractionItems:Rs,modes:{index(p,c,i,d){const t=Mi(c,p),e=i.axis||"x",l=i.includeInvisible||!1,s=i.intersect?La(p,t,e,d,l):Oa(p,t,e,!1,d,l),r=[];return s.length?(p.getSortedVisibleDatasetMetas().forEach(a=>{const o=s[0].index,n=a.data[o];n&&!n.skip&&r.push({element:n,datasetIndex:a.index,index:o})}),r):[]},dataset(p,c,i,d){const t=Mi(c,p),e=i.axis||"xy",l=i.includeInvisible||!1;let s=i.intersect?La(p,t,e,d,l):Oa(p,t,e,!1,d,l);if(s.length>0){const r=s[0].datasetIndex,a=p.getDatasetMeta(r).data;s=[];for(let o=0;o<a.length;++o)s.push({element:a[o],datasetIndex:r,index:o})}return s},point(p,c,i,d){const t=Mi(c,p),e=i.axis||"xy",l=i.includeInvisible||!1;return La(p,t,e,d,l)},nearest(p,c,i,d){const t=Mi(c,p),e=i.axis||"xy",l=i.includeInvisible||!1;return Oa(p,t,e,i.intersect,d,l)},x(p,c,i,d){const t=Mi(c,p);return l0(p,t,"x",i.intersect,d)},y(p,c,i,d){const t=Mi(c,p);return l0(p,t,"y",i.intersect,d)}}};const ud=["left","top","right","bottom"];function Cn(p,c){return p.filter(i=>i.pos===c)}function h0(p,c){return p.filter(i=>ud.indexOf(i.pos)===-1&&i.box.axis===c)}function An(p,c){return p.sort((i,d)=>{const t=c?d:i,e=c?i:d;return t.weight===e.weight?t.index-e.index:t.weight-e.weight})}function Qy(p){const c=[];let i,d,t,e,l,s;for(i=0,d=(p||[]).length;i<d;++i)t=p[i],{position:e,options:{stack:l,stackWeight:s=1}}=t,c.push({index:i,box:t,pos:e,horizontal:t.isHorizontal(),weight:t.weight,stack:l&&e+l,stackWeight:s});return c}function ky(p){const c={};for(const i of p){const{stack:d,pos:t,stackWeight:e}=i;if(!d||!ud.includes(t))continue;const l=c[d]||(c[d]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=e}return c}function qy(p,c){const i=ky(p),{vBoxMaxWidth:d,hBoxMaxHeight:t}=c;let e,l,s;for(e=0,l=p.length;e<l;++e){s=p[e];const{fullSize:r}=s.box,a=i[s.stack],o=a&&s.stackWeight/a.weight;s.horizontal?(s.width=o?o*d:r&&c.availableWidth,s.height=t):(s.width=d,s.height=o?o*t:r&&c.availableHeight)}return i}function _y(p){const c=Qy(p),i=An(c.filter(a=>a.box.fullSize),!0),d=An(Cn(c,"left"),!0),t=An(Cn(c,"right")),e=An(Cn(c,"top"),!0),l=An(Cn(c,"bottom")),s=h0(c,"x"),r=h0(c,"y");return{fullSize:i,leftAndTop:d.concat(e),rightAndBottom:t.concat(r).concat(l).concat(s),chartArea:Cn(c,"chartArea"),vertical:d.concat(t).concat(r),horizontal:e.concat(l).concat(s)}}function u0(p,c,i,d){return Math.max(p[i],c[i])+Math.max(p[d],c[d])}function fd(p,c){p.top=Math.max(p.top,c.top),p.left=Math.max(p.left,c.left),p.bottom=Math.max(p.bottom,c.bottom),p.right=Math.max(p.right,c.right)}function t1(p,c,i,d){const{pos:t,box:e}=i,l=p.maxPadding;if(!yt(t)){i.size&&(p[t]-=i.size);const n=d[i.stack]||{size:0,count:1};n.size=Math.max(n.size,i.horizontal?e.height:e.width),i.size=n.size/n.count,p[t]+=i.size}e.getPadding&&fd(l,e.getPadding());const s=Math.max(0,c.outerWidth-u0(l,p,"left","right")),r=Math.max(0,c.outerHeight-u0(l,p,"top","bottom")),a=s!==p.w,o=r!==p.h;return p.w=s,p.h=r,i.horizontal?{same:a,other:o}:{same:o,other:a}}function e1(p){const c=p.maxPadding;function i(d){const t=Math.max(c[d]-p[d],0);return p[d]+=t,t}p.y+=i("top"),p.x+=i("left"),i("right"),i("bottom")}function i1(p,c){const i=c.maxPadding;function d(t){const e={left:0,top:0,right:0,bottom:0};return t.forEach(l=>{e[l]=Math.max(c[l],i[l])}),e}return d(p?["left","right"]:["top","bottom"])}function wn(p,c,i,d){const t=[];let e,l,s,r,a,o;for(e=0,l=p.length,a=0;e<l;++e){s=p[e],r=s.box,r.update(s.width||c.w,s.height||c.h,i1(s.horizontal,c));const{same:n,other:u}=t1(c,i,s,d);a|=n&&t.length,o=o||u,r.fullSize||t.push(s)}return a&&wn(t,c,i,d)||o}function Ks(p,c,i,d,t){p.top=i,p.left=c,p.right=c+d,p.bottom=i+t,p.width=d,p.height=t}function f0(p,c,i,d){const t=i.padding;let{x:e,y:l}=c;for(const s of p){const r=s.box,a=d[s.stack]||{count:1,placed:0,weight:1},o=s.stackWeight/a.weight||1;if(s.horizontal){const n=c.w*o,u=a.size||r.height;Ae(a.start)&&(l=a.start),r.fullSize?Ks(r,t.left,l,i.outerWidth-t.right-t.left,u):Ks(r,c.left+a.placed,l,n,u),a.start=l,a.placed+=n,l=r.bottom}else{const n=c.h*o,u=a.size||r.width;Ae(a.start)&&(e=a.start),r.fullSize?Ks(r,e,t.top,u,i.outerHeight-t.bottom-t.top):Ks(r,e,c.top+a.placed,u,n),a.start=e,a.placed+=n,e=r.right}}c.x=e,c.y=l}xt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Jt={addBox(p,c){p.boxes||(p.boxes=[]),c.fullSize=c.fullSize||!1,c.position=c.position||"top",c.weight=c.weight||0,c._layers=c._layers||function(){return[{z:0,draw(i){c.draw(i)}}]},p.boxes.push(c)},removeBox(p,c){const i=p.boxes?p.boxes.indexOf(c):-1;i!==-1&&p.boxes.splice(i,1)},configure(p,c,i){c.fullSize=i.fullSize,c.position=i.position,c.weight=i.weight},update(p,c,i,d){if(!p)return;const t=_t(p.options.layout.padding),e=Math.max(c-t.width,0),l=Math.max(i-t.height,0),s=_y(p.boxes),r=s.vertical,a=s.horizontal;Ct(p.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const o=r.reduce((v,m)=>m.box.options&&m.box.options.display===!1?v:v+1,0)||1,n=Object.freeze({outerWidth:c,outerHeight:i,padding:t,availableWidth:e,availableHeight:l,vBoxMaxWidth:e/2/o,hBoxMaxHeight:l/2}),u=Object.assign({},t);fd(u,_t(d));const h=Object.assign({maxPadding:u,w:e,h:l,x:t.left,y:t.top},t),f=qy(r.concat(a),n);wn(s.fullSize,h,n,f),wn(r,h,n,f),wn(a,h,n,f)&&wn(r,h,n,f),e1(h),f0(s.leftAndTop,h,n,f),h.x+=h.w,h.y+=h.h,f0(s.rightAndBottom,h,n,f),p.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Ct(s.chartArea,v=>{const m=v.box;Object.assign(m,p.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class ul{acquireContext(c,i){}releaseContext(c){return!1}addEventListener(c,i,d){}removeEventListener(c,i,d){}getDevicePixelRatio(){return 1}getMaximumSize(c,i,d,t){return i=Math.max(0,i||c.width),d=d||c.height,{width:i,height:Math.max(0,t?Math.floor(i/t):d)}}isAttached(c){return!0}updateConfig(c){}}class dd extends ul{acquireContext(c){return c&&c.getContext&&c.getContext("2d")||null}updateConfig(c){c.options.animation=!1}}const rr="$chartjs",n1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},d0=p=>p===null||p==="";function s1(p,c){const i=p.style,d=p.getAttribute("height"),t=p.getAttribute("width");if(p[rr]={initial:{height:d,width:t,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",d0(t)){const e=Zh(p,"width");e!==void 0&&(p.width=e)}if(d0(d))if(p.style.height==="")p.height=p.width/(c||2);else{const e=Zh(p,"height");e!==void 0&&(p.height=e)}return p}const cd=ry?{passive:!0}:!1;function r1(p,c,i){p.addEventListener(c,i,cd)}function a1(p,c,i){p.canvas.removeEventListener(c,i,cd)}function o1(p,c){const i=n1[p.type]||p.type,{x:d,y:t}=Mi(p,c);return{type:i,chart:c,native:p,x:d!==void 0?d:null,y:t!==void 0?t:null}}function Mr(p,c){for(const i of p)if(i===c||i.contains(c))return!0}function l1(p,c,i){const d=p.canvas,t=new MutationObserver(e=>{let l=!1;for(const s of e)l=l||Mr(s.addedNodes,d),l=l&&!Mr(s.removedNodes,d);l&&i()});return t.observe(document,{childList:!0,subtree:!0}),t}function h1(p,c,i){const d=p.canvas,t=new MutationObserver(e=>{let l=!1;for(const s of e)l=l||Mr(s.removedNodes,d),l=l&&!Mr(s.addedNodes,d);l&&i()});return t.observe(document,{childList:!0,subtree:!0}),t}const ds=new Map;let c0=0;function vd(){const p=window.devicePixelRatio;p!==c0&&(c0=p,ds.forEach((c,i)=>{i.currentDevicePixelRatio!==p&&c()}))}function u1(p,c){ds.size||window.addEventListener("resize",vd),ds.set(p,c)}function f1(p){ds.delete(p),ds.size||window.removeEventListener("resize",vd)}function d1(p,c,i){const d=p.canvas,t=d&&ll(d);if(!t)return;const e=wf((s,r)=>{const a=t.clientWidth;i(s,r),a<t.clientWidth&&i()},window),l=new ResizeObserver(s=>{const r=s[0],a=r.contentRect.width,o=r.contentRect.height;a===0&&o===0||e(a,o)});return l.observe(t),u1(p,e),l}function Fa(p,c,i){i&&i.disconnect(),c==="resize"&&f1(p)}function c1(p,c,i){const d=p.canvas,t=wf(e=>{p.ctx!==null&&i(o1(e,p))},p,e=>{const l=e[0];return[l,l.offsetX,l.offsetY]});return r1(d,c,t),t}class pd extends ul{acquireContext(c,i){const d=c&&c.getContext&&c.getContext("2d");return d&&d.canvas===c?(s1(c,i),d):null}releaseContext(c){const i=c.canvas;if(!i[rr])return!1;const d=i[rr].initial;["height","width"].forEach(e=>{const l=d[e];St(l)?i.removeAttribute(e):i.setAttribute(e,l)});const t=d.style||{};return Object.keys(t).forEach(e=>{i.style[e]=t[e]}),i.width=i.width,delete i[rr],!0}addEventListener(c,i,d){this.removeEventListener(c,i);const t=c.$proxies||(c.$proxies={}),l={attach:l1,detach:h1,resize:d1}[i]||c1;t[i]=l(c,i,d)}removeEventListener(c,i){const d=c.$proxies||(c.$proxies={}),t=d[i];if(!t)return;({attach:Fa,detach:Fa,resize:Fa}[i]||a1)(c,i,t),d[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(c,i,d,t){return sy(c,i,d,t)}isAttached(c){const i=ll(c);return!!(i&&i.isConnected)}}function gd(p){return!qf()||typeof OffscreenCanvas!="undefined"&&p instanceof OffscreenCanvas?dd:pd}class Pe{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(c){const{x:i,y:d}=this.getProps(["x","y"],c);return{x:i,y:d}}hasValue(){return ls(this.x)&&ls(this.y)}getProps(c,i){const d=this.$animations;if(!i||!d)return this;const t={};return c.forEach(e=>{t[e]=d[e]&&d[e].active()?d[e]._to:this[e]}),t}}Pe.defaults={};Pe.defaultRoutes=void 0;const md={values(p){return Lt(p)?p:""+p},numeric(p,c,i){if(p===0)return"0";const d=this.chart.options.locale;let t,e=p;if(i.length>1){const a=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(a<1e-4||a>1e15)&&(t="scientific"),e=v1(p,i)}const l=xe(Math.abs(e)),s=Math.max(Math.min(-1*Math.floor(l),20),0),r={notation:t,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(r,this.options.ticks.format),Ss(p,d,r)},logarithmic(p,c,i){if(p===0)return"0";const d=p/Math.pow(10,Math.floor(xe(p)));return d===1||d===2||d===5?md.numeric.call(this,p,c,i):""}};function v1(p,c){let i=c.length>3?c[2].value-c[1].value:c[1].value-c[0].value;return Math.abs(i)>=1&&p!==Math.floor(p)&&(i=p-Math.floor(p)),i}var Ls={formatters:md};xt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(p,c)=>c.lineWidth,tickColor:(p,c)=>c.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ls.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});xt.route("scale.ticks","color","","color");xt.route("scale.grid","color","","borderColor");xt.route("scale.grid","borderColor","","borderColor");xt.route("scale.title","color","","color");xt.describe("scale",{_fallback:!1,_scriptable:p=>!p.startsWith("before")&&!p.startsWith("after")&&p!=="callback"&&p!=="parser",_indexable:p=>p!=="borderDash"&&p!=="tickBorderDash"});xt.describe("scales",{_fallback:"scale"});xt.describe("scale.ticks",{_scriptable:p=>p!=="backdropPadding"&&p!=="callback",_indexable:p=>p!=="backdropPadding"});function p1(p,c){const i=p.options.ticks,d=i.maxTicksLimit||g1(p),t=i.major.enabled?x1(c):[],e=t.length,l=t[0],s=t[e-1],r=[];if(e>d)return y1(c,r,t,e/d),r;const a=m1(t,c,d);if(e>0){let o,n;const u=e>1?Math.round((s-l)/(e-1)):null;for(Zs(c,r,a,St(u)?0:l-u,l),o=0,n=e-1;o<n;o++)Zs(c,r,a,t[o],t[o+1]);return Zs(c,r,a,s,St(u)?c.length:s+u),r}return Zs(c,r,a),r}function g1(p){const c=p.options.offset,i=p._tickSize(),d=p._length/i+(c?0:1),t=p._maxLength/i;return Math.floor(Math.min(d,t))}function m1(p,c,i){const d=T1(p),t=c.length/i;if(!d)return Math.max(t,1);const e=Qx(d);for(let l=0,s=e.length-1;l<s;l++){const r=e[l];if(r>t)return r}return Math.max(t,1)}function x1(p){const c=[];let i,d;for(i=0,d=p.length;i<d;i++)p[i].major&&c.push(i);return c}function y1(p,c,i,d){let t=0,e=i[0],l;for(d=Math.ceil(d),l=0;l<p.length;l++)l===e&&(c.push(p[l]),t++,e=i[t*d])}function Zs(p,c,i,d,t){const e=gt(d,0),l=Math.min(gt(t,p.length),p.length);let s=0,r,a,o;for(i=Math.ceil(i),t&&(r=t-d,i=r/Math.floor(r/i)),o=e;o<0;)s++,o=Math.round(e+s*i);for(a=Math.max(e,0);a<l;a++)a===o&&(c.push(p[a]),s++,o=Math.round(e+s*i))}function T1(p){const c=p.length;let i,d;if(c<2)return!1;for(d=p[0],i=1;i<c;++i)if(p[i]-p[i-1]!==d)return!1;return d}const S1=p=>p==="left"?"right":p==="right"?"left":p,v0=(p,c,i)=>c==="top"||c==="left"?p[c]+i:p[c]-i;function p0(p,c){const i=[],d=p.length/c,t=p.length;let e=0;for(;e<t;e+=d)i.push(p[Math.floor(e)]);return i}function E1(p,c,i){const d=p.ticks.length,t=Math.min(c,d-1),e=p._startPixel,l=p._endPixel,s=1e-6;let r=p.getPixelForTick(t),a;if(!(i&&(d===1?a=Math.max(r-e,l-r):c===0?a=(p.getPixelForTick(1)-r)/2:a=(r-p.getPixelForTick(t-1))/2,r+=t<c?a:-a,r<e-s||r>l+s)))return r}function C1(p,c){Ct(p,i=>{const d=i.gc,t=d.length/2;let e;if(t>c){for(e=0;e<t;++e)delete i.data[d[e]];d.splice(0,t)}})}function Pn(p){return p.drawTicks?p.tickLength:0}function g0(p,c){if(!p.display)return 0;const i=zt(p.font,c),d=_t(p.padding);return(Lt(p.text)?p.text.length:1)*i.lineHeight+d.height}function A1(p,c){return xi(p,{scale:c,type:"scale"})}function P1(p,c,i){return xi(p,{tick:i,index:c,type:"tick"})}function M1(p,c,i){let d=ko(p);return(i&&c!=="right"||!i&&c==="right")&&(d=S1(d)),d}function R1(p,c,i,d){const{top:t,left:e,bottom:l,right:s,chart:r}=p,{chartArea:a,scales:o}=r;let n=0,u,h,f;const v=l-t,m=s-e;if(p.isHorizontal()){if(h=qt(d,e,s),yt(i)){const g=Object.keys(i)[0],x=i[g];f=o[g].getPixelForValue(x)+v-c}else i==="center"?f=(a.bottom+a.top)/2+v-c:f=v0(p,i,c);u=s-e}else{if(yt(i)){const g=Object.keys(i)[0],x=i[g];h=o[g].getPixelForValue(x)-m+c}else i==="center"?h=(a.left+a.right)/2-m+c:h=v0(p,i,c);f=qt(d,l,t),n=i==="left"?-wt:wt}return{titleX:h,titleY:f,maxWidth:u,rotation:n}}class yi extends Pe{constructor(c){super(),this.id=c.id,this.type=c.type,this.options=void 0,this.ctx=c.ctx,this.chart=c.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(c){this.options=c.setContext(this.getContext()),this.axis=c.axis,this._userMin=this.parse(c.min),this._userMax=this.parse(c.max),this._suggestedMin=this.parse(c.suggestedMin),this._suggestedMax=this.parse(c.suggestedMax)}parse(c,i){return c}getUserBounds(){let{_userMin:c,_userMax:i,_suggestedMin:d,_suggestedMax:t}=this;return c=ge(c,Number.POSITIVE_INFINITY),i=ge(i,Number.NEGATIVE_INFINITY),d=ge(d,Number.POSITIVE_INFINITY),t=ge(t,Number.NEGATIVE_INFINITY),{min:ge(c,d),max:ge(i,t),minDefined:Nt(c),maxDefined:Nt(i)}}getMinMax(c){let{min:i,max:d,minDefined:t,maxDefined:e}=this.getUserBounds(),l;if(t&&e)return{min:i,max:d};const s=this.getMatchingVisibleMetas();for(let r=0,a=s.length;r<a;++r)l=s[r].controller.getMinMax(this,c),t||(i=Math.min(i,l.min)),e||(d=Math.max(d,l.max));return i=e&&i>d?d:i,d=t&&i>d?i:d,{min:ge(i,ge(d,i)),max:ge(d,ge(i,d))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const c=this.chart.data;return this.options.labels||(this.isHorizontal()?c.xLabels:c.yLabels)||c.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rt(this.options.beforeUpdate,[this])}update(c,i,d){const{beginAtZero:t,grace:e,ticks:l}=this.options,s=l.sampleSize;this.beforeUpdate(),this.maxWidth=c,this.maxHeight=i,this._margins=d=Object.assign({left:0,right:0,top:0,bottom:0},d),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+d.left+d.right:this.height+d.top+d.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=w3(this,e,t),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=s<this.ticks.length;this._convertTicksToLabels(r?p0(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=p1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let c=this.options.reverse,i,d;this.isHorizontal()?(i=this.left,d=this.right):(i=this.top,d=this.bottom,c=!c),this._startPixel=i,this._endPixel=d,this._reversePixels=c,this._length=d-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rt(this.options.afterUpdate,[this])}beforeSetDimensions(){Rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rt(this.options.afterSetDimensions,[this])}_callHooks(c){this.chart.notifyPlugins(c,this.getContext()),Rt(this.options[c],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(c){const i=this.options.ticks;let d,t,e;for(d=0,t=c.length;d<t;d++)e=c[d],e.label=Rt(i.callback,[e.value,d,c],this)}afterTickToLabelConversion(){Rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const c=this.options,i=c.ticks,d=this.ticks.length,t=i.minRotation||0,e=i.maxRotation;let l=t,s,r,a;if(!this._isVisible()||!i.display||t>=e||d<=1||!this.isHorizontal()){this.labelRotation=t;return}const o=this._getLabelSizes(),n=o.widest.width,u=o.highest.height,h=Wt(this.chart.width-n,0,this.maxWidth);s=c.offset?this.maxWidth/d:h/(d-1),n+6>s&&(s=h/(d-(c.offset?.5:1)),r=this.maxHeight-Pn(c.grid)-i.padding-g0(c.title,this.chart.options.font),a=Math.sqrt(n*n+u*u),l=_o(Math.min(Math.asin(Wt((o.highest.height+6)/s,-1,1)),Math.asin(Wt(r/a,-1,1))-Math.asin(Wt(u/a,-1,1)))),l=Math.max(t,Math.min(e,l))),this.labelRotation=l}afterCalculateLabelRotation(){Rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rt(this.options.beforeFit,[this])}fit(){const c={width:0,height:0},{chart:i,options:{ticks:d,title:t,grid:e}}=this,l=this._isVisible(),s=this.isHorizontal();if(l){const r=g0(t,i.options.font);if(s?(c.width=this.maxWidth,c.height=Pn(e)+r):(c.height=this.maxHeight,c.width=Pn(e)+r),d.display&&this.ticks.length){const{first:a,last:o,widest:n,highest:u}=this._getLabelSizes(),h=d.padding*2,f=Re(this.labelRotation),v=Math.cos(f),m=Math.sin(f);if(s){const g=d.mirror?0:m*n.width+v*u.height;c.height=Math.min(this.maxHeight,c.height+g+h)}else{const g=d.mirror?0:v*n.width+m*u.height;c.width=Math.min(this.maxWidth,c.width+g+h)}this._calculatePadding(a,o,m,v)}}this._handleMargins(),s?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=c.height):(this.width=c.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(c,i,d,t){const{ticks:{align:e,padding:l},position:s}=this.options,r=this.labelRotation!==0,a=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,n=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;r?a?(u=t*c.width,h=d*i.height):(u=d*c.height,h=t*i.width):e==="start"?h=i.width:e==="end"?u=c.width:e!=="inner"&&(u=c.width/2,h=i.width/2),this.paddingLeft=Math.max((u-o+l)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-n+l)*this.width/(this.width-n),0)}else{let o=i.height/2,n=c.height/2;e==="start"?(o=0,n=c.height):e==="end"&&(o=i.height,n=0),this.paddingTop=o+l,this.paddingBottom=n+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rt(this.options.afterFit,[this])}isHorizontal(){const{axis:c,position:i}=this.options;return i==="top"||i==="bottom"||c==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(c){this.beforeTickToLabelConversion(),this.generateTickLabels(c);let i,d;for(i=0,d=c.length;i<d;i++)St(c[i].label)&&(c.splice(i,1),d--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let c=this._labelSizes;if(!c){const i=this.options.ticks.sampleSize;let d=this.ticks;i<d.length&&(d=p0(d,i)),this._labelSizes=c=this._computeLabelSizes(d,d.length)}return c}_computeLabelSizes(c,i){const{ctx:d,_longestTextCache:t}=this,e=[],l=[];let s=0,r=0,a,o,n,u,h,f,v,m,g,x,y;for(a=0;a<i;++a){if(u=c[a].label,h=this._resolveTickFontOptions(a),d.font=f=h.string,v=t[f]=t[f]||{data:{},gc:[]},m=h.lineHeight,g=x=0,!St(u)&&!Lt(u))g=Cr(d,v.data,v.gc,g,u),x=m;else if(Lt(u))for(o=0,n=u.length;o<n;++o)y=u[o],!St(y)&&!Lt(y)&&(g=Cr(d,v.data,v.gc,g,y),x+=m);e.push(g),l.push(x),s=Math.max(g,s),r=Math.max(x,r)}C1(t,i);const T=e.indexOf(s),S=l.indexOf(r),E=C=>({width:e[C]||0,height:l[C]||0});return{first:E(0),last:E(i-1),widest:E(T),highest:E(S),widths:e,heights:l}}getLabelForValue(c){return c}getPixelForValue(c,i){return NaN}getValueForPixel(c){}getPixelForTick(c){const i=this.ticks;return c<0||c>i.length-1?null:this.getPixelForValue(i[c].value)}getPixelForDecimal(c){this._reversePixels&&(c=1-c);const i=this._startPixel+c*this._length;return _x(this._alignToPixels?Ci(this.chart,i,0):i)}getDecimalForPixel(c){const i=(c-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:c,max:i}=this;return c<0&&i<0?i:c>0&&i>0?c:0}getContext(c){const i=this.ticks||[];if(c>=0&&c<i.length){const d=i[c];return d.$context||(d.$context=P1(this.getContext(),c,d))}return this.$context||(this.$context=A1(this.chart.getContext(),this))}_tickSize(){const c=this.options.ticks,i=Re(this.labelRotation),d=Math.abs(Math.cos(i)),t=Math.abs(Math.sin(i)),e=this._getLabelSizes(),l=c.autoSkipPadding||0,s=e?e.widest.width+l:0,r=e?e.highest.height+l:0;return this.isHorizontal()?r*d>s*t?s/d:r/t:r*t<s*d?r/d:s/t}_isVisible(){const c=this.options.display;return c!=="auto"?!!c:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(c){const i=this.axis,d=this.chart,t=this.options,{grid:e,position:l}=t,s=e.offset,r=this.isHorizontal(),o=this.ticks.length+(s?1:0),n=Pn(e),u=[],h=e.setContext(this.getContext()),f=h.drawBorder?h.borderWidth:0,v=f/2,m=function(w){return Ci(d,w,f)};let g,x,y,T,S,E,C,A,P,R,M,L;if(l==="top")g=m(this.bottom),E=this.bottom-n,A=g-v,R=m(c.top)+v,L=c.bottom;else if(l==="bottom")g=m(this.top),R=c.top,L=m(c.bottom)-v,E=g+v,A=this.top+n;else if(l==="left")g=m(this.right),S=this.right-n,C=g-v,P=m(c.left)+v,M=c.right;else if(l==="right")g=m(this.left),P=c.left,M=m(c.right)-v,S=g+v,C=this.left+n;else if(i==="x"){if(l==="center")g=m((c.top+c.bottom)/2+.5);else if(yt(l)){const w=Object.keys(l)[0],G=l[w];g=m(this.chart.scales[w].getPixelForValue(G))}R=c.top,L=c.bottom,E=g+v,A=E+n}else if(i==="y"){if(l==="center")g=m((c.left+c.right)/2);else if(yt(l)){const w=Object.keys(l)[0],G=l[w];g=m(this.chart.scales[w].getPixelForValue(G))}S=g-v,C=S-n,P=c.left,M=c.right}const O=gt(t.ticks.maxTicksLimit,o),I=Math.max(1,Math.ceil(o/O));for(x=0;x<o;x+=I){const w=e.setContext(this.getContext(x)),G=w.lineWidth,V=w.color,X=e.borderDash||[],W=w.borderDashOffset,D=w.tickWidth,F=w.tickColor,B=w.tickBorderDash||[],b=w.tickBorderDashOffset;y=E1(this,x,s),y!==void 0&&(T=Ci(d,y,G),r?S=C=P=M=T:E=A=R=L=T,u.push({tx1:S,ty1:E,tx2:C,ty2:A,x1:P,y1:R,x2:M,y2:L,width:G,color:V,borderDash:X,borderDashOffset:W,tickWidth:D,tickColor:F,tickBorderDash:B,tickBorderDashOffset:b}))}return this._ticksLength=o,this._borderValue=g,u}_computeLabelItems(c){const i=this.axis,d=this.options,{position:t,ticks:e}=d,l=this.isHorizontal(),s=this.ticks,{align:r,crossAlign:a,padding:o,mirror:n}=e,u=Pn(d.grid),h=u+o,f=n?-o:h,v=-Re(this.labelRotation),m=[];let g,x,y,T,S,E,C,A,P,R,M,L,O="middle";if(t==="top")E=this.bottom-f,C=this._getXAxisLabelAlignment();else if(t==="bottom")E=this.top+f,C=this._getXAxisLabelAlignment();else if(t==="left"){const w=this._getYAxisLabelAlignment(u);C=w.textAlign,S=w.x}else if(t==="right"){const w=this._getYAxisLabelAlignment(u);C=w.textAlign,S=w.x}else if(i==="x"){if(t==="center")E=(c.top+c.bottom)/2+h;else if(yt(t)){const w=Object.keys(t)[0],G=t[w];E=this.chart.scales[w].getPixelForValue(G)+h}C=this._getXAxisLabelAlignment()}else if(i==="y"){if(t==="center")S=(c.left+c.right)/2-h;else if(yt(t)){const w=Object.keys(t)[0],G=t[w];S=this.chart.scales[w].getPixelForValue(G)}C=this._getYAxisLabelAlignment(u).textAlign}i==="y"&&(r==="start"?O="top":r==="end"&&(O="bottom"));const I=this._getLabelSizes();for(g=0,x=s.length;g<x;++g){y=s[g],T=y.label;const w=e.setContext(this.getContext(g));A=this.getPixelForTick(g)+e.labelOffset,P=this._resolveTickFontOptions(g),R=P.lineHeight,M=Lt(T)?T.length:1;const G=M/2,V=w.color,X=w.textStrokeColor,W=w.textStrokeWidth;let D=C;l?(S=A,C==="inner"&&(g===x-1?D=this.options.reverse?"left":"right":g===0?D=this.options.reverse?"right":"left":D="center"),t==="top"?a==="near"||v!==0?L=-M*R+R/2:a==="center"?L=-I.highest.height/2-G*R+R:L=-I.highest.height+R/2:a==="near"||v!==0?L=R/2:a==="center"?L=I.highest.height/2-G*R:L=I.highest.height-M*R,n&&(L*=-1)):(E=A,L=(1-M)*R/2);let F;if(w.showLabelBackdrop){const B=_t(w.backdropPadding),b=I.heights[g],z=I.widths[g];let N=E+L-B.top,U=S-B.left;switch(O){case"middle":N-=b/2;break;case"bottom":N-=b;break}switch(C){case"center":U-=z/2;break;case"right":U-=z;break}F={left:U,top:N,width:z+B.width,height:b+B.height,color:w.backdropColor}}m.push({rotation:v,label:T,font:P,color:V,strokeColor:X,strokeWidth:W,textOffset:L,textAlign:D,textBaseline:O,translation:[S,E],backdrop:F})}return m}_getXAxisLabelAlignment(){const{position:c,ticks:i}=this.options;if(-Re(this.labelRotation))return c==="top"?"left":"right";let t="center";return i.align==="start"?t="left":i.align==="end"?t="right":i.align==="inner"&&(t="inner"),t}_getYAxisLabelAlignment(c){const{position:i,ticks:{crossAlign:d,mirror:t,padding:e}}=this.options,l=this._getLabelSizes(),s=c+e,r=l.widest.width;let a,o;return i==="left"?t?(o=this.right+e,d==="near"?a="left":d==="center"?(a="center",o+=r/2):(a="right",o+=r)):(o=this.right-s,d==="near"?a="right":d==="center"?(a="center",o-=r/2):(a="left",o=this.left)):i==="right"?t?(o=this.left+e,d==="near"?a="right":d==="center"?(a="center",o-=r/2):(a="left",o-=r)):(o=this.left+s,d==="near"?a="left":d==="center"?(a="center",o+=r/2):(a="right",o=this.right)):a="right",{textAlign:a,x:o}}_computeLabelArea(){if(this.options.ticks.mirror)return;const c=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:c.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:c.width}}drawBackground(){const{ctx:c,options:{backgroundColor:i},left:d,top:t,width:e,height:l}=this;i&&(c.save(),c.fillStyle=i,c.fillRect(d,t,e,l),c.restore())}getLineWidthForValue(c){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const t=this.ticks.findIndex(e=>e.value===c);return t>=0?i.setContext(this.getContext(t)).lineWidth:0}drawGrid(c){const i=this.options.grid,d=this.ctx,t=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(c));let e,l;const s=(r,a,o)=>{!o.width||!o.color||(d.save(),d.lineWidth=o.width,d.strokeStyle=o.color,d.setLineDash(o.borderDash||[]),d.lineDashOffset=o.borderDashOffset,d.beginPath(),d.moveTo(r.x,r.y),d.lineTo(a.x,a.y),d.stroke(),d.restore())};if(i.display)for(e=0,l=t.length;e<l;++e){const r=t[e];i.drawOnChartArea&&s({x:r.x1,y:r.y1},{x:r.x2,y:r.y2},r),i.drawTicks&&s({x:r.tx1,y:r.ty1},{x:r.tx2,y:r.ty2},{color:r.tickColor,width:r.tickWidth,borderDash:r.tickBorderDash,borderDashOffset:r.tickBorderDashOffset})}}drawBorder(){const{chart:c,ctx:i,options:{grid:d}}=this,t=d.setContext(this.getContext()),e=d.drawBorder?t.borderWidth:0;if(!e)return;const l=d.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let r,a,o,n;this.isHorizontal()?(r=Ci(c,this.left,e)-e/2,a=Ci(c,this.right,l)+l/2,o=n=s):(o=Ci(c,this.top,e)-e/2,n=Ci(c,this.bottom,l)+l/2,r=a=s),i.save(),i.lineWidth=t.borderWidth,i.strokeStyle=t.borderColor,i.beginPath(),i.moveTo(r,o),i.lineTo(a,n),i.stroke(),i.restore()}drawLabels(c){if(!this.options.ticks.display)return;const d=this.ctx,t=this._computeLabelArea();t&&Qr(d,t);const e=this._labelItems||(this._labelItems=this._computeLabelItems(c));let l,s;for(l=0,s=e.length;l<s;++l){const r=e[l],a=r.font,o=r.label;r.backdrop&&(d.fillStyle=r.backdrop.color,d.fillRect(r.backdrop.left,r.backdrop.top,r.backdrop.width,r.backdrop.height));let n=r.textOffset;zi(d,o,0,n,a,r)}t&&kr(d)}drawTitle(){const{ctx:c,options:{position:i,title:d,reverse:t}}=this;if(!d.display)return;const e=zt(d.font),l=_t(d.padding),s=d.align;let r=e.lineHeight/2;i==="bottom"||i==="center"||yt(i)?(r+=l.bottom,Lt(d.text)&&(r+=e.lineHeight*(d.text.length-1))):r+=l.top;const{titleX:a,titleY:o,maxWidth:n,rotation:u}=R1(this,r,i,s);zi(c,d.text,0,0,e,{color:d.color,maxWidth:n,rotation:u,textAlign:M1(s,i,t),textBaseline:"middle",translation:[a,o]})}draw(c){!this._isVisible()||(this.drawBackground(),this.drawGrid(c),this.drawBorder(),this.drawTitle(),this.drawLabels(c))}_layers(){const c=this.options,i=c.ticks&&c.ticks.z||0,d=gt(c.grid&&c.grid.z,-1);return!this._isVisible()||this.draw!==yi.prototype.draw?[{z:i,draw:t=>{this.draw(t)}}]:[{z:d,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:d+1,draw:()=>{this.drawBorder()}},{z:i,draw:t=>{this.drawLabels(t)}}]}getMatchingVisibleMetas(c){const i=this.chart.getSortedVisibleDatasetMetas(),d=this.axis+"AxisID",t=[];let e,l;for(e=0,l=i.length;e<l;++e){const s=i[e];s[d]===this.id&&(!c||s.type===c)&&t.push(s)}return t}_resolveTickFontOptions(c){const i=this.options.ticks.setContext(this.getContext(c));return zt(i.font)}_maxDigits(){const c=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/c}}class Js{constructor(c,i,d){this.type=c,this.scope=i,this.override=d,this.items=Object.create(null)}isForType(c){return Object.prototype.isPrototypeOf.call(this.type.prototype,c.prototype)}register(c){const i=Object.getPrototypeOf(c);let d;F1(i)&&(d=this.register(i));const t=this.items,e=c.id,l=this.scope+"."+e;if(!e)throw new Error("class does not have id: "+c);return e in t||(t[e]=c,L1(c,l,d),this.override&&xt.override(c.id,c.overrides)),l}get(c){return this.items[c]}unregister(c){const i=this.items,d=c.id,t=this.scope;d in i&&delete i[d],t&&d in xt[t]&&(delete xt[t][d],this.override&&delete Gi[d])}}function L1(p,c,i){const d=os(Object.create(null),[i?xt.get(i):{},xt.get(c),p.defaults]);xt.set(c,d),p.defaultRoutes&&O1(c,p.defaultRoutes),p.descriptors&&xt.describe(c,p.descriptors)}function O1(p,c){Object.keys(c).forEach(i=>{const d=i.split("."),t=d.pop(),e=[p].concat(d).join("."),l=c[i].split("."),s=l.pop(),r=l.join(".");xt.route(e,t,r,s)})}function F1(p){return"id"in p&&"defaults"in p}class I1{constructor(){this.controllers=new Js(Oe,"datasets",!0),this.elements=new Js(Pe,"elements"),this.plugins=new Js(Object,"plugins"),this.scales=new Js(yi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...c){this._each("register",c)}remove(...c){this._each("unregister",c)}addControllers(...c){this._each("register",c,this.controllers)}addElements(...c){this._each("register",c,this.elements)}addPlugins(...c){this._each("register",c,this.plugins)}addScales(...c){this._each("register",c,this.scales)}getController(c){return this._get(c,this.controllers,"controller")}getElement(c){return this._get(c,this.elements,"element")}getPlugin(c){return this._get(c,this.plugins,"plugin")}getScale(c){return this._get(c,this.scales,"scale")}removeControllers(...c){this._each("unregister",c,this.controllers)}removeElements(...c){this._each("unregister",c,this.elements)}removePlugins(...c){this._each("unregister",c,this.plugins)}removeScales(...c){this._each("unregister",c,this.scales)}_each(c,i,d){[...i].forEach(t=>{const e=d||this._getRegistryForType(t);d||e.isForType(t)||e===this.plugins&&t.id?this._exec(c,e,t):Ct(t,l=>{const s=d||this._getRegistryForType(l);this._exec(c,s,l)})})}_exec(c,i,d){const t=qo(c);Rt(d["before"+t],[],d),i[c](d),Rt(d["after"+t],[],d)}_getRegistryForType(c){for(let i=0;i<this._typedRegistries.length;i++){const d=this._typedRegistries[i];if(d.isForType(c))return d}return this.plugins}_get(c,i,d){const t=i.get(c);if(t===void 0)throw new Error('"'+c+'" is not a registered '+d+".");return t}}var be=new I1;class D1{constructor(){this._init=[]}notify(c,i,d,t){i==="beforeInit"&&(this._init=this._createDescriptors(c,!0),this._notify(this._init,c,"install"));const e=t?this._descriptors(c).filter(t):this._descriptors(c),l=this._notify(e,c,i,d);return i==="afterDestroy"&&(this._notify(e,c,"stop"),this._notify(this._init,c,"uninstall")),l}_notify(c,i,d,t){t=t||{};for(const e of c){const l=e.plugin,s=l[d],r=[i,t,e.options];if(Rt(s,r,l)===!1&&t.cancelable)return!1}return!0}invalidate(){St(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(c){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(c);return this._notifyStateChanges(c),i}_createDescriptors(c,i){const d=c&&c.config,t=gt(d.options&&d.options.plugins,{}),e=w1(d);return t===!1&&!i?[]:b1(c,e,t,i)}_notifyStateChanges(c){const i=this._oldCache||[],d=this._cache,t=(e,l)=>e.filter(s=>!l.some(r=>s.plugin.id===r.plugin.id));this._notify(t(i,d),c,"stop"),this._notify(t(d,i),c,"start")}}function w1(p){const c=[],i=Object.keys(be.plugins.items);for(let t=0;t<i.length;t++)c.push(be.getPlugin(i[t]));const d=p.plugins||[];for(let t=0;t<d.length;t++){const e=d[t];c.indexOf(e)===-1&&c.push(e)}return c}function B1(p,c){return!c&&p===!1?null:p===!0?{}:p}function b1(p,c,i,d){const t=[],e=p.getContext();for(let l=0;l<c.length;l++){const s=c[l],r=s.id,a=B1(i[r],d);a!==null&&t.push({plugin:s,options:N1(p.config,s,a,e)})}return t}function N1(p,c,i,d){const t=p.pluginScopeKeys(c),e=p.getOptionScopes(i,t);return p.createResolver(e,d,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vo(p,c){const i=xt.datasets[p]||{};return((c.datasets||{})[p]||{}).indexAxis||c.indexAxis||i.indexAxis||"x"}function G1(p,c){let i=p;return p==="_index_"?i=c:p==="_value_"&&(i=c==="x"?"y":"x"),i}function z1(p,c){return p===c?"_index_":"_value_"}function U1(p){if(p==="top"||p==="bottom")return"x";if(p==="left"||p==="right")return"y"}function po(p,c){return p==="x"||p==="y"?p:c.axis||U1(c.position)||p.charAt(0).toLowerCase()}function V1(p,c){const i=Gi[p.type]||{scales:{}},d=c.scales||{},t=vo(p.type,c),e=Object.create(null),l=Object.create(null);return Object.keys(d).forEach(s=>{const r=d[s];if(!yt(r))return console.error(`Invalid scale configuration for scale: ${s}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const a=po(s,r),o=z1(a,t),n=i.scales||{};e[a]=e[a]||s,l[s]=$n(Object.create(null),[{axis:a},r,n[a],n[o]])}),p.data.datasets.forEach(s=>{const r=s.type||p.type,a=s.indexAxis||vo(r,c),n=(Gi[r]||{}).scales||{};Object.keys(n).forEach(u=>{const h=G1(u,a),f=s[h+"AxisID"]||e[h]||h;l[f]=l[f]||Object.create(null),$n(l[f],[{axis:h},d[f],n[u]])})}),Object.keys(l).forEach(s=>{const r=l[s];$n(r,[xt.scales[r.type],xt.scale])}),l}function xd(p){const c=p.options||(p.options={});c.plugins=gt(c.plugins,{}),c.scales=V1(p,c)}function yd(p){return p=p||{},p.datasets=p.datasets||[],p.labels=p.labels||[],p}function Y1(p){return p=p||{},p.data=yd(p.data),xd(p),p}const m0=new Map,Td=new Set;function js(p,c){let i=m0.get(p);return i||(i=c(),m0.set(p,i),Td.add(i)),i}const Mn=(p,c,i)=>{const d=pi(c,i);d!==void 0&&p.add(d)};class X1{constructor(c){this._config=Y1(c),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(c){this._config.type=c}get data(){return this._config.data}set data(c){this._config.data=yd(c)}get options(){return this._config.options}set options(c){this._config.options=c}get plugins(){return this._config.plugins}update(){const c=this._config;this.clearCache(),xd(c)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(c){return js(c,()=>[[`datasets.${c}`,""]])}datasetAnimationScopeKeys(c,i){return js(`${c}.transition.${i}`,()=>[[`datasets.${c}.transitions.${i}`,`transitions.${i}`],[`datasets.${c}`,""]])}datasetElementScopeKeys(c,i){return js(`${c}-${i}`,()=>[[`datasets.${c}.elements.${i}`,`datasets.${c}`,`elements.${i}`,""]])}pluginScopeKeys(c){const i=c.id,d=this.type;return js(`${d}-plugin-${i}`,()=>[[`plugins.${i}`,...c.additionalOptionScopes||[]]])}_cachedScopes(c,i){const d=this._scopeCache;let t=d.get(c);return(!t||i)&&(t=new Map,d.set(c,t)),t}getOptionScopes(c,i,d){const{options:t,type:e}=this,l=this._cachedScopes(c,d),s=l.get(i);if(s)return s;const r=new Set;i.forEach(o=>{c&&(r.add(c),o.forEach(n=>Mn(r,c,n))),o.forEach(n=>Mn(r,t,n)),o.forEach(n=>Mn(r,Gi[e]||{},n)),o.forEach(n=>Mn(r,xt,n)),o.forEach(n=>Mn(r,fo,n))});const a=Array.from(r);return a.length===0&&a.push(Object.create(null)),Td.has(i)&&l.set(i,a),a}chartOptionScopes(){const{options:c,type:i}=this;return[c,Gi[i]||{},xt.datasets[i]||{},{type:i},xt,fo]}resolveNamedOptions(c,i,d,t=[""]){const e={$shared:!0},{resolver:l,subPrefixes:s}=x0(this._resolverCache,c,t);let r=l;if(H1(l,i)){e.$shared=!1,d=gi(d)?d():d;const a=this.createResolver(c,d,s);r=ln(l,d,a)}for(const a of i)e[a]=r[a];return e}createResolver(c,i,d=[""],t){const{resolver:e}=x0(this._resolverCache,c,d);return yt(i)?ln(e,i,void 0,t):e}}function x0(p,c,i){let d=p.get(c);d||(d=new Map,p.set(c,d));const t=i.join();let e=d.get(t);return e||(e={resolver:rl(c,i),subPrefixes:i.filter(s=>!s.toLowerCase().includes("hover"))},d.set(t,e)),e}const W1=p=>yt(p)&&Object.getOwnPropertyNames(p).reduce((c,i)=>c||gi(p[i]),!1);function H1(p,c){const{isScriptable:i,isIndexable:d}=Kf(p);for(const t of c){const e=i(t),l=d(t),s=(l||e)&&p[t];if(e&&(gi(s)||W1(s))||l&&Lt(s))return!0}return!1}var $1="3.8.0";const K1=["top","bottom","left","right","chartArea"];function y0(p,c){return p==="top"||p==="bottom"||K1.indexOf(p)===-1&&c==="x"}function T0(p,c){return function(i,d){return i[p]===d[p]?i[c]-d[c]:i[p]-d[p]}}function S0(p){const c=p.chart,i=c.options.animation;c.notifyPlugins("afterRender"),Rt(i&&i.onComplete,[p],c)}function Z1(p){const c=p.chart,i=c.options.animation;Rt(i&&i.onProgress,[p],c)}function Sd(p){return qf()&&typeof p=="string"?p=document.getElementById(p):p&&p.length&&(p=p[0]),p&&p.canvas&&(p=p.canvas),p}const Rr={},Ed=p=>{const c=Sd(p);return Object.values(Rr).filter(i=>i.canvas===c).pop()};function J1(p,c,i){const d=Object.keys(p);for(const t of d){const e=+t;if(e>=c){const l=p[t];delete p[t],(i>0||e>c)&&(p[e+i]=l)}}}function j1(p,c,i,d){return!i||p.type==="mouseout"?null:d?c:p}class fl{constructor(c,i){const d=this.config=new X1(i),t=Sd(c),e=Ed(t);if(e)throw new Error("Canvas is already in use. Chart with ID '"+e.id+"' must be destroyed before the canvas can be reused.");const l=d.createResolver(d.chartOptionScopes(),this.getContext());this.platform=new(d.platform||gd(t)),this.platform.updateConfig(d);const s=this.platform.acquireContext(t,l.aspectRatio),r=s&&s.canvas,a=r&&r.height,o=r&&r.width;if(this.id=Yx(),this.ctx=s,this.canvas=r,this.width=o,this.height=a,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new D1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ux(n=>this.update(n),l.resizeDelay||0),this._dataChanges=[],Rr[this.id]=this,!s||!r){console.error("Failed to create chart: can't acquire context from the given item");return}De.listen(this,"complete",S0),De.listen(this,"progress",Z1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:c,maintainAspectRatio:i},width:d,height:t,_aspectRatio:e}=this;return St(c)?i&&e?e:t?d/t:null:c}get data(){return this.config.data}set data(c){this.config.data=c}get options(){return this._options}set options(c){this.config.options=c}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xh(this.canvas,this.ctx),this}stop(){return De.stop(this),this}resize(c,i){De.running(this)?this._resizeBeforeDraw={width:c,height:i}:this._resize(c,i)}_resize(c,i){const d=this.options,t=this.canvas,e=d.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(t,c,i,e),s=d.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Kh(this,s,!0)&&(this.notifyPlugins("resize",{size:l}),Rt(d.onResize,[this,l],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};Ct(i,(d,t)=>{d.id=t})}buildOrUpdateScales(){const c=this.options,i=c.scales,d=this.scales,t=Object.keys(d).reduce((l,s)=>(l[s]=!1,l),{});let e=[];i&&(e=e.concat(Object.keys(i).map(l=>{const s=i[l],r=po(l,s),a=r==="r",o=r==="x";return{options:s,dposition:a?"chartArea":o?"bottom":"left",dtype:a?"radialLinear":o?"category":"linear"}}))),Ct(e,l=>{const s=l.options,r=s.id,a=po(r,s),o=gt(s.type,l.dtype);(s.position===void 0||y0(s.position,a)!==y0(l.dposition))&&(s.position=l.dposition),t[r]=!0;let n=null;if(r in d&&d[r].type===o)n=d[r];else{const u=be.getScale(o);n=new u({id:r,type:o,ctx:this.ctx,chart:this}),d[n.id]=n}n.init(s,c)}),Ct(t,(l,s)=>{l||delete d[s]}),Ct(d,l=>{Jt.configure(this,l,l.options),Jt.addBox(this,l)})}_updateMetasets(){const c=this._metasets,i=this.data.datasets.length,d=c.length;if(c.sort((t,e)=>t.index-e.index),d>i){for(let t=i;t<d;++t)this._destroyDatasetMeta(t);c.splice(i,d-i)}this._sortedMetasets=c.slice(0).sort(T0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:c,data:{datasets:i}}=this;c.length>i.length&&delete this._stacks,c.forEach((d,t)=>{i.filter(e=>e===d._dataset).length===0&&this._destroyDatasetMeta(t)})}buildOrUpdateControllers(){const c=[],i=this.data.datasets;let d,t;for(this._removeUnreferencedMetasets(),d=0,t=i.length;d<t;d++){const e=i[d];let l=this.getDatasetMeta(d);const s=e.type||this.config.type;if(l.type&&l.type!==s&&(this._destroyDatasetMeta(d),l=this.getDatasetMeta(d)),l.type=s,l.indexAxis=e.indexAxis||vo(s,this.options),l.order=e.order||0,l.index=d,l.label=""+e.label,l.visible=this.isDatasetVisible(d),l.controller)l.controller.updateIndex(d),l.controller.linkScales();else{const r=be.getController(s),{datasetElementType:a,dataElementType:o}=xt.datasets[s];Object.assign(r.prototype,{dataElementType:be.getElement(o),datasetElementType:a&&be.getElement(a)}),l.controller=new r(this,d),c.push(l.controller)}}return this._updateMetasets(),c}_resetElements(){Ct(this.data.datasets,(c,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(c){const i=this.config;i.update();const d=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),t=this._animationsDisabled=!d.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:c,cancelable:!0})===!1)return;const e=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let a=0,o=this.data.datasets.length;a<o;a++){const{controller:n}=this.getDatasetMeta(a),u=!t&&e.indexOf(n)===-1;n.buildOrUpdateElements(u),l=Math.max(+n.getMaxOverflow(),l)}l=this._minPadding=d.layout.autoPadding?l:0,this._updateLayout(l),t||Ct(e,a=>{a.reset()}),this._updateDatasets(c),this.notifyPlugins("afterUpdate",{mode:c}),this._layers.sort(T0("z","_idx"));const{_active:s,_lastEvent:r}=this;r?this._eventHandler(r,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Ct(this.scales,c=>{Jt.removeBox(this,c)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const c=this.options,i=new Set(Object.keys(this._listeners)),d=new Set(c.events);(!Ih(i,d)||!!this._responsiveListeners!==c.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:c}=this,i=this._getUniformDataChanges()||[];for(const{method:d,start:t,count:e}of i){const l=d==="_removeElements"?-e:e;J1(c,t,l)}}_getUniformDataChanges(){const c=this._dataChanges;if(!c||!c.length)return;this._dataChanges=[];const i=this.data.datasets.length,d=e=>new Set(c.filter(l=>l[0]===e).map((l,s)=>s+","+l.splice(1).join(","))),t=d(0);for(let e=1;e<i;e++)if(!Ih(t,d(e)))return;return Array.from(t).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(c){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jt.update(this,this.width,this.height,c);const i=this.chartArea,d=i.width<=0||i.height<=0;this._layers=[],Ct(this.boxes,t=>{d&&t.position==="chartArea"||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}_updateDatasets(c){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:c,cancelable:!0})!==!1){for(let i=0,d=this.data.datasets.length;i<d;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,d=this.data.datasets.length;i<d;++i)this._updateDataset(i,gi(c)?c({datasetIndex:i}):c);this.notifyPlugins("afterDatasetsUpdate",{mode:c})}}_updateDataset(c,i){const d=this.getDatasetMeta(c),t={meta:d,index:c,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",t)!==!1&&(d.controller._update(i),t.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",t))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(De.has(this)?this.attached&&!De.running(this)&&De.start(this):(this.draw(),S0({chart:this})))}draw(){let c;if(this._resizeBeforeDraw){const{width:d,height:t}=this._resizeBeforeDraw;this._resize(d,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(c=0;c<i.length&&i[c].z<=0;++c)i[c].draw(this.chartArea);for(this._drawDatasets();c<i.length;++c)i[c].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(c){const i=this._sortedMetasets,d=[];let t,e;for(t=0,e=i.length;t<e;++t){const l=i[t];(!c||l.visible)&&d.push(l)}return d}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const c=this.getSortedVisibleDatasetMetas();for(let i=c.length-1;i>=0;--i)this._drawDataset(c[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(c){const i=this.ctx,d=c._clip,t=!d.disabled,e=this.chartArea,l={meta:c,index:c.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(t&&Qr(i,{left:d.left===!1?0:e.left-d.left,right:d.right===!1?this.width:e.right+d.right,top:d.top===!1?0:e.top-d.top,bottom:d.bottom===!1?this.height:e.bottom+d.bottom}),c.controller.draw(),t&&kr(i),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(c){return us(c,this.chartArea,this._minPadding)}getElementsAtEventForMode(c,i,d,t){const e=hd.modes[i];return typeof e=="function"?e(this,c,d,t):[]}getDatasetMeta(c){const i=this.data.datasets[c],d=this._metasets;let t=d.filter(e=>e&&e._dataset===i).pop();return t||(t={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:c,_dataset:i,_parsed:[],_sorted:!1},d.push(t)),t}getContext(){return this.$context||(this.$context=xi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(c){const i=this.data.datasets[c];if(!i)return!1;const d=this.getDatasetMeta(c);return typeof d.hidden=="boolean"?!d.hidden:!i.hidden}setDatasetVisibility(c,i){const d=this.getDatasetMeta(c);d.hidden=!i}toggleDataVisibility(c){this._hiddenIndices[c]=!this._hiddenIndices[c]}getDataVisibility(c){return!this._hiddenIndices[c]}_updateVisibility(c,i,d){const t=d?"show":"hide",e=this.getDatasetMeta(c),l=e.controller._resolveAnimations(void 0,t);Ae(i)?(e.data[i].hidden=!d,this.update()):(this.setDatasetVisibility(c,d),l.update(e,{visible:d}),this.update(s=>s.datasetIndex===c?t:void 0))}hide(c,i){this._updateVisibility(c,i,!1)}show(c,i){this._updateVisibility(c,i,!0)}_destroyDatasetMeta(c){const i=this._metasets[c];i&&i.controller&&i.controller._destroy(),delete this._metasets[c]}_stop(){let c,i;for(this.stop(),De.remove(this),c=0,i=this.data.datasets.length;c<i;++c)this._destroyDatasetMeta(c)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:c,ctx:i}=this;this._stop(),this.config.clearCache(),c&&(this.unbindEvents(),Xh(c,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Rr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...c){return this.canvas.toDataURL(...c)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const c=this._listeners,i=this.platform,d=(e,l)=>{i.addEventListener(this,e,l),c[e]=l},t=(e,l,s)=>{e.offsetX=l,e.offsetY=s,this._eventHandler(e)};Ct(this.options.events,e=>d(e,t))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const c=this._responsiveListeners,i=this.platform,d=(r,a)=>{i.addEventListener(this,r,a),c[r]=a},t=(r,a)=>{c[r]&&(i.removeEventListener(this,r,a),delete c[r])},e=(r,a)=>{this.canvas&&this.resize(r,a)};let l;const s=()=>{t("attach",s),this.attached=!0,this.resize(),d("resize",e),d("detach",l)};l=()=>{this.attached=!1,t("resize",e),this._stop(),this._resize(0,0),d("attach",s)},i.isAttached(this.canvas)?s():l()}unbindEvents(){Ct(this._listeners,(c,i)=>{this.platform.removeEventListener(this,i,c)}),this._listeners={},Ct(this._responsiveListeners,(c,i)=>{this.platform.removeEventListener(this,i,c)}),this._responsiveListeners=void 0}updateHoverStyle(c,i,d){const t=d?"set":"remove";let e,l,s,r;for(i==="dataset"&&(e=this.getDatasetMeta(c[0].datasetIndex),e.controller["_"+t+"DatasetHoverStyle"]()),s=0,r=c.length;s<r;++s){l=c[s];const a=l&&this.getDatasetMeta(l.datasetIndex).controller;a&&a[t+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(c){const i=this._active||[],d=c.map(({datasetIndex:e,index:l})=>{const s=this.getDatasetMeta(e);if(!s)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:s.data[l],index:l}});!yr(d,i)&&(this._active=d,this._lastEvent=null,this._updateHoverStyles(d,i))}notifyPlugins(c,i,d){return this._plugins.notify(this,c,i,d)}_updateHoverStyles(c,i,d){const t=this.options.hover,e=(r,a)=>r.filter(o=>!a.some(n=>o.datasetIndex===n.datasetIndex&&o.index===n.index)),l=e(i,c),s=d?c:e(c,i);l.length&&this.updateHoverStyle(l,t.mode,!1),s.length&&t.mode&&this.updateHoverStyle(s,t.mode,!0)}_eventHandler(c,i){const d={event:c,replay:i,cancelable:!0,inChartArea:this.isPointInArea(c)},t=l=>(l.options.events||this.options.events).includes(c.native.type);if(this.notifyPlugins("beforeEvent",d,t)===!1)return;const e=this._handleEvent(c,i,d.inChartArea);return d.cancelable=!1,this.notifyPlugins("afterEvent",d,t),(e||d.changed)&&this.render(),this}_handleEvent(c,i,d){const{_active:t=[],options:e}=this,l=i,s=this._getActiveElements(c,t,d,l),r=Zx(c),a=j1(c,this._lastEvent,d,r);d&&(this._lastEvent=null,Rt(e.onHover,[c,s,this],this),r&&Rt(e.onClick,[c,s,this],this));const o=!yr(s,t);return(o||i)&&(this._active=s,this._updateHoverStyles(s,t,i)),this._lastEvent=a,o}_getActiveElements(c,i,d,t){if(c.type==="mouseout")return[];if(!d)return i;const e=this.options.hover;return this.getElementsAtEventForMode(c,e.mode,e,t)}}const E0=()=>Ct(fl.instances,p=>p._plugins.invalidate()),si=!0;Object.defineProperties(fl,{defaults:{enumerable:si,value:xt},instances:{enumerable:si,value:Rr},overrides:{enumerable:si,value:Gi},registry:{enumerable:si,value:be},version:{enumerable:si,value:$1},getChart:{enumerable:si,value:Ed},register:{enumerable:si,value:(...p)=>{be.add(...p),E0()}},unregister:{enumerable:si,value:(...p)=>{be.remove(...p),E0()}}});function Cd(p,c,i){const{startAngle:d,pixelMargin:t,x:e,y:l,outerRadius:s,innerRadius:r}=c;let a=t/s;p.beginPath(),p.arc(e,l,s,d-a,i+a),r>t?(a=t/r,p.arc(e,l,r,i+a,d-a,!0)):p.arc(e,l,t,i+wt,d-wt),p.closePath(),p.clip()}function Q1(p){return nl(p,["outerStart","outerEnd","innerStart","innerEnd"])}function k1(p,c,i,d){const t=Q1(p.options.borderRadius),e=(i-c)/2,l=Math.min(e,d*c/2),s=r=>{const a=(i-Math.min(e,r))*d/2;return Wt(r,0,Math.min(e,a))};return{outerStart:s(t.outerStart),outerEnd:s(t.outerEnd),innerStart:Wt(t.innerStart,0,l),innerEnd:Wt(t.innerEnd,0,l)}}function Wi(p,c,i,d){return{x:i+p*Math.cos(c),y:d+p*Math.sin(c)}}function go(p,c,i,d,t){const{x:e,y:l,startAngle:s,pixelMargin:r,innerRadius:a}=c,o=Math.max(c.outerRadius+d+i-r,0),n=a>0?a+d+i+r:0;let u=0;const h=t-s;if(d){const G=a>0?a-d:0,V=o>0?o-d:0,X=(G+V)/2,W=X!==0?h*X/(X+d):h;u=(h-W)/2}const f=Math.max(.001,h*o-i/It)/o,v=(h-f)/2,m=s+v+u,g=t-v-u,{outerStart:x,outerEnd:y,innerStart:T,innerEnd:S}=k1(c,n,o,g-m),E=o-x,C=o-y,A=m+x/E,P=g-y/C,R=n+T,M=n+S,L=m+T/R,O=g-S/M;if(p.beginPath(),p.arc(e,l,o,A,P),y>0){const G=Wi(C,P,e,l);p.arc(G.x,G.y,y,P,g+wt)}const I=Wi(M,g,e,l);if(p.lineTo(I.x,I.y),S>0){const G=Wi(M,O,e,l);p.arc(G.x,G.y,S,g+wt,O+Math.PI)}if(p.arc(e,l,n,g-S/n,m+T/n,!0),T>0){const G=Wi(R,L,e,l);p.arc(G.x,G.y,T,L+Math.PI,m-wt)}const w=Wi(E,m,e,l);if(p.lineTo(w.x,w.y),x>0){const G=Wi(E,A,e,l);p.arc(G.x,G.y,x,m-wt,A)}p.closePath()}function q1(p,c,i,d){const{fullCircles:t,startAngle:e,circumference:l}=c;let s=c.endAngle;if(t){go(p,c,i,d,e+Mt);for(let r=0;r<t;++r)p.fill();isNaN(l)||(s=e+l%Mt,l%Mt===0&&(s+=Mt))}return go(p,c,i,d,s),p.fill(),s}function _1(p,c,i){const{x:d,y:t,startAngle:e,pixelMargin:l,fullCircles:s}=c,r=Math.max(c.outerRadius-l,0),a=c.innerRadius+l;let o;for(i&&Cd(p,c,e+Mt),p.beginPath(),p.arc(d,t,a,e+Mt,e,!0),o=0;o<s;++o)p.stroke();for(p.beginPath(),p.arc(d,t,r,e,e+Mt),o=0;o<s;++o)p.stroke()}function tT(p,c,i,d,t){const{options:e}=c,{borderWidth:l,borderJoinStyle:s}=e,r=e.borderAlign==="inner";!l||(r?(p.lineWidth=l*2,p.lineJoin=s||"round"):(p.lineWidth=l,p.lineJoin=s||"bevel"),c.fullCircles&&_1(p,c,r),r&&Cd(p,c,t),go(p,c,i,d,t),p.stroke())}class Os extends Pe{constructor(c){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,c&&Object.assign(this,c)}inRange(c,i,d){const t=this.getProps(["x","y"],d),{angle:e,distance:l}=Gf(t,{x:c,y:i}),{startAngle:s,endAngle:r,innerRadius:a,outerRadius:o,circumference:n}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],d),u=this.options.spacing/2,f=gt(n,r-s)>=Mt||hs(e,s,r),v=He(l,a+u,o+u);return f&&v}getCenterPoint(c){const{x:i,y:d,startAngle:t,endAngle:e,innerRadius:l,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],c),{offset:r,spacing:a}=this.options,o=(t+e)/2,n=(l+s+a+r)/2;return{x:i+Math.cos(o)*n,y:d+Math.sin(o)*n}}tooltipPosition(c){return this.getCenterPoint(c)}draw(c){const{options:i,circumference:d}=this,t=(i.offset||0)/2,e=(i.spacing||0)/2;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=d>Mt?Math.floor(d/Mt):0,d===0||this.innerRadius<0||this.outerRadius<0)return;c.save();let l=0;if(t){l=t/2;const r=(this.startAngle+this.endAngle)/2;c.translate(Math.cos(r)*l,Math.sin(r)*l),this.circumference>=It&&(l=t)}c.fillStyle=i.backgroundColor,c.strokeStyle=i.borderColor;const s=q1(c,this,l,e);tT(c,this,l,e,s),c.restore()}}Os.id="arc";Os.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};Os.defaultRoutes={backgroundColor:"backgroundColor"};function Ad(p,c,i=c){p.lineCap=gt(i.borderCapStyle,c.borderCapStyle),p.setLineDash(gt(i.borderDash,c.borderDash)),p.lineDashOffset=gt(i.borderDashOffset,c.borderDashOffset),p.lineJoin=gt(i.borderJoinStyle,c.borderJoinStyle),p.lineWidth=gt(i.borderWidth,c.borderWidth),p.strokeStyle=gt(i.borderColor,c.borderColor)}function eT(p,c,i){p.lineTo(i.x,i.y)}function iT(p){return p.stepped?P3:p.tension||p.cubicInterpolationMode==="monotone"?M3:eT}function Pd(p,c,i={}){const d=p.length,{start:t=0,end:e=d-1}=i,{start:l,end:s}=c,r=Math.max(t,l),a=Math.min(e,s),o=t<l&&e<l||t>s&&e>s;return{count:d,start:r,loop:c.loop,ilen:a<r&&!o?d+a-r:a-r}}function nT(p,c,i,d){const{points:t,options:e}=c,{count:l,start:s,loop:r,ilen:a}=Pd(t,i,d),o=iT(e);let{move:n=!0,reverse:u}=d||{},h,f,v;for(h=0;h<=a;++h)f=t[(s+(u?a-h:h))%l],!f.skip&&(n?(p.moveTo(f.x,f.y),n=!1):o(p,v,f,u,e.stepped),v=f);return r&&(f=t[(s+(u?a:0))%l],o(p,v,f,u,e.stepped)),!!r}function sT(p,c,i,d){const t=c.points,{count:e,start:l,ilen:s}=Pd(t,i,d),{move:r=!0,reverse:a}=d||{};let o=0,n=0,u,h,f,v,m,g;const x=T=>(l+(a?s-T:T))%e,y=()=>{v!==m&&(p.lineTo(o,m),p.lineTo(o,v),p.lineTo(o,g))};for(r&&(h=t[x(0)],p.moveTo(h.x,h.y)),u=0;u<=s;++u){if(h=t[x(u)],h.skip)continue;const T=h.x,S=h.y,E=T|0;E===f?(S<v?v=S:S>m&&(m=S),o=(n*o+T)/++n):(y(),p.lineTo(T,S),f=E,n=0,v=m=S),g=S}y()}function mo(p){const c=p.options,i=c.borderDash&&c.borderDash.length;return!p._decimated&&!p._loop&&!c.tension&&c.cubicInterpolationMode!=="monotone"&&!c.stepped&&!i?sT:nT}function rT(p){return p.stepped?ay:p.tension||p.cubicInterpolationMode==="monotone"?oy:Ri}function aT(p,c,i,d){let t=c._path;t||(t=c._path=new Path2D,c.path(t,i,d)&&t.closePath()),Ad(p,c.options),p.stroke(t)}function oT(p,c,i,d){const{segments:t,options:e}=c,l=mo(c);for(const s of t)Ad(p,e,s.style),p.beginPath(),l(p,c,s,{start:i,end:i+d-1})&&p.closePath(),p.stroke()}const lT=typeof Path2D=="function";function hT(p,c,i,d){lT&&!c.options.segment?aT(p,c,i,d):oT(p,c,i,d)}class ke extends Pe{constructor(c){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,c&&Object.assign(this,c)}updateControlPoints(c,i){const d=this.options;if((d.tension||d.cubicInterpolationMode==="monotone")&&!d.stepped&&!this._pointsUpdated){const t=d.spanGaps?this._loop:this._fullLoop;q3(this._points,d,c,t,i),this._pointsUpdated=!0}}set points(c){this._points=c,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vy(this,this.options.segment))}first(){const c=this.segments,i=this.points;return c.length&&i[c[0].start]}last(){const c=this.segments,i=this.points,d=c.length;return d&&i[c[d-1].end]}interpolate(c,i){const d=this.options,t=c[i],e=this.points,l=nd(this,{property:i,start:t,end:t});if(!l.length)return;const s=[],r=rT(d);let a,o;for(a=0,o=l.length;a<o;++a){const{start:n,end:u}=l[a],h=e[n],f=e[u];if(h===f){s.push(h);continue}const v=Math.abs((t-h[i])/(f[i]-h[i])),m=r(h,f,v,d.stepped);m[i]=c[i],s.push(m)}return s.length===1?s[0]:s}pathSegment(c,i,d){return mo(this)(c,this,i,d)}path(c,i,d){const t=this.segments,e=mo(this);let l=this._loop;i=i||0,d=d||this.points.length-i;for(const s of t)l&=e(c,this,s,{start:i,end:i+d-1});return!!l}draw(c,i,d,t){const e=this.options||{};(this.points||[]).length&&e.borderWidth&&(c.save(),hT(c,this,d,t),c.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ke.id="line";ke.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};ke.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};ke.descriptors={_scriptable:!0,_indexable:p=>p!=="borderDash"&&p!=="fill"};function C0(p,c,i,d){const t=p.options,{[i]:e}=p.getProps([i],d);return Math.abs(c-e)<t.radius+t.hitRadius}class Fs extends Pe{constructor(c){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,c&&Object.assign(this,c)}inRange(c,i,d){const t=this.options,{x:e,y:l}=this.getProps(["x","y"],d);return Math.pow(c-e,2)+Math.pow(i-l,2)<Math.pow(t.hitRadius+t.radius,2)}inXRange(c,i){return C0(this,c,"x",i)}inYRange(c,i){return C0(this,c,"y",i)}getCenterPoint(c){const{x:i,y:d}=this.getProps(["x","y"],c);return{x:i,y:d}}size(c){c=c||this.options||{};let i=c.radius||0;i=Math.max(i,i&&c.hoverRadius||0);const d=i&&c.borderWidth||0;return(i+d)*2}draw(c,i){const d=this.options;this.skip||d.radius<.1||!us(this,i,this.size(d)/2)||(c.strokeStyle=d.borderColor,c.lineWidth=d.borderWidth,c.fillStyle=d.backgroundColor,Ar(c,d,this.x,this.y))}getRange(){const c=this.options||{};return c.radius+c.hitRadius}}Fs.id="point";Fs.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Fs.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Md(p,c){const{x:i,y:d,base:t,width:e,height:l}=p.getProps(["x","y","base","width","height"],c);let s,r,a,o,n;return p.horizontal?(n=l/2,s=Math.min(i,t),r=Math.max(i,t),a=d-n,o=d+n):(n=e/2,s=i-n,r=i+n,a=Math.min(d,t),o=Math.max(d,t)),{left:s,top:a,right:r,bottom:o}}function ui(p,c,i,d){return p?0:Wt(c,i,d)}function uT(p,c,i){const d=p.options.borderWidth,t=p.borderSkipped,e=Wf(d);return{t:ui(t.top,e.top,0,i),r:ui(t.right,e.right,0,c),b:ui(t.bottom,e.bottom,0,i),l:ui(t.left,e.left,0,c)}}function fT(p,c,i){const{enableBorderRadius:d}=p.getProps(["enableBorderRadius"]),t=p.options.borderRadius,e=bi(t),l=Math.min(c,i),s=p.borderSkipped,r=d||yt(t);return{topLeft:ui(!r||s.top||s.left,e.topLeft,0,l),topRight:ui(!r||s.top||s.right,e.topRight,0,l),bottomLeft:ui(!r||s.bottom||s.left,e.bottomLeft,0,l),bottomRight:ui(!r||s.bottom||s.right,e.bottomRight,0,l)}}function dT(p){const c=Md(p),i=c.right-c.left,d=c.bottom-c.top,t=uT(p,i/2,d/2),e=fT(p,i/2,d/2);return{outer:{x:c.left,y:c.top,w:i,h:d,radius:e},inner:{x:c.left+t.l,y:c.top+t.t,w:i-t.l-t.r,h:d-t.t-t.b,radius:{topLeft:Math.max(0,e.topLeft-Math.max(t.t,t.l)),topRight:Math.max(0,e.topRight-Math.max(t.t,t.r)),bottomLeft:Math.max(0,e.bottomLeft-Math.max(t.b,t.l)),bottomRight:Math.max(0,e.bottomRight-Math.max(t.b,t.r))}}}}function Ia(p,c,i,d){const t=c===null,e=i===null,s=p&&!(t&&e)&&Md(p,d);return s&&(t||He(c,s.left,s.right))&&(e||He(i,s.top,s.bottom))}function cT(p){return p.topLeft||p.topRight||p.bottomLeft||p.bottomRight}function vT(p,c){p.rect(c.x,c.y,c.w,c.h)}function Da(p,c,i={}){const d=p.x!==i.x?-c:0,t=p.y!==i.y?-c:0,e=(p.x+p.w!==i.x+i.w?c:0)-d,l=(p.y+p.h!==i.y+i.h?c:0)-t;return{x:p.x+d,y:p.y+t,w:p.w+e,h:p.h+l,radius:p.radius}}class Is extends Pe{constructor(c){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,c&&Object.assign(this,c)}draw(c){const{inflateAmount:i,options:{borderColor:d,backgroundColor:t}}=this,{inner:e,outer:l}=dT(this),s=cT(l.radius)?fs:vT;c.save(),(l.w!==e.w||l.h!==e.h)&&(c.beginPath(),s(c,Da(l,i,e)),c.clip(),s(c,Da(e,-i,l)),c.fillStyle=d,c.fill("evenodd")),c.beginPath(),s(c,Da(e,i)),c.fillStyle=t,c.fill(),c.restore()}inRange(c,i,d){return Ia(this,c,i,d)}inXRange(c,i){return Ia(this,c,null,i)}inYRange(c,i){return Ia(this,null,c,i)}getCenterPoint(c){const{x:i,y:d,base:t,horizontal:e}=this.getProps(["x","y","base","horizontal"],c);return{x:e?(i+t)/2:i,y:e?d:(d+t)/2}}getRange(c){return c==="x"?this.width/2:this.height/2}}Is.id="bar";Is.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Is.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Rd=Object.freeze({__proto__:null,ArcElement:Os,LineElement:ke,PointElement:Fs,BarElement:Is});function pT(p,c,i,d,t){const e=t.samples||d;if(e>=i)return p.slice(c,c+i);const l=[],s=(i-2)/(e-2);let r=0;const a=c+i-1;let o=c,n,u,h,f,v;for(l[r++]=p[o],n=0;n<e-2;n++){let m=0,g=0,x;const y=Math.floor((n+1)*s)+1+c,T=Math.min(Math.floor((n+2)*s)+1,i)+c,S=T-y;for(x=y;x<T;x++)m+=p[x].x,g+=p[x].y;m/=S,g/=S;const E=Math.floor(n*s)+1+c,C=Math.min(Math.floor((n+1)*s)+1,i)+c,{x:A,y:P}=p[o];for(h=f=-1,x=E;x<C;x++)f=.5*Math.abs((A-m)*(p[x].y-P)-(A-p[x].x)*(g-P)),f>h&&(h=f,u=p[x],v=x);l[r++]=u,o=v}return l[r++]=p[a],l}function gT(p,c,i,d){let t=0,e=0,l,s,r,a,o,n,u,h,f,v;const m=[],g=c+i-1,x=p[c].x,T=p[g].x-x;for(l=c;l<c+i;++l){s=p[l],r=(s.x-x)/T*d,a=s.y;const S=r|0;if(S===o)a<f?(f=a,n=l):a>v&&(v=a,u=l),t=(e*t+s.x)/++e;else{const E=l-1;if(!St(n)&&!St(u)){const C=Math.min(n,u),A=Math.max(n,u);C!==h&&C!==E&&m.push({...p[C],x:t}),A!==h&&A!==E&&m.push({...p[A],x:t})}l>0&&E!==h&&m.push(p[E]),m.push(s),o=S,e=0,f=v=a,n=u=h=l}}return m}function Ld(p){if(p._decimated){const c=p._data;delete p._decimated,delete p._data,Object.defineProperty(p,"data",{value:c})}}function A0(p){p.data.datasets.forEach(c=>{Ld(c)})}function mT(p,c){const i=c.length;let d=0,t;const{iScale:e}=p,{min:l,max:s,minDefined:r,maxDefined:a}=e.getUserBounds();return r&&(d=Wt($e(c,e.axis,l).lo,0,i-1)),a?t=Wt($e(c,e.axis,s).hi+1,d,i)-d:t=i-d,{start:d,count:t}}var Od={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(p,c,i)=>{if(!i.enabled){A0(p);return}const d=p.width;p.data.datasets.forEach((t,e)=>{const{_data:l,indexAxis:s}=t,r=p.getDatasetMeta(e),a=l||t.data;if(Dn([s,p.options.indexAxis])==="y"||!r.controller.supportsDecimation)return;const o=p.scales[r.xAxisID];if(o.type!=="linear"&&o.type!=="time"||p.options.parsing)return;let{start:n,count:u}=mT(r,a);const h=i.threshold||4*d;if(u<=h){Ld(t);return}St(l)&&(t._data=a,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let f;switch(i.algorithm){case"lttb":f=pT(a,n,u,d,i);break;case"min-max":f=gT(a,n,u,d);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}t._decimated=f})},destroy(p){A0(p)}};function xT(p,c,i){const d=p.segments,t=p.points,e=c.points,l=[];for(const s of d){let{start:r,end:a}=s;a=dl(r,a,t);const o=xo(i,t[r],t[a],s.loop);if(!c.segments){l.push({source:s,target:o,start:t[r],end:t[a]});continue}const n=nd(c,o);for(const u of n){const h=xo(i,e[u.start],e[u.end],u.loop),f=id(s,t,h);for(const v of f)l.push({source:v,target:u,start:{[i]:P0(o,h,"start",Math.max)},end:{[i]:P0(o,h,"end",Math.min)}})}}return l}function xo(p,c,i,d){if(d)return;let t=c[p],e=i[p];return p==="angle"&&(t=ae(t),e=ae(e)),{property:p,start:t,end:e}}function yT(p,c){const{x:i=null,y:d=null}=p||{},t=c.points,e=[];return c.segments.forEach(({start:l,end:s})=>{s=dl(l,s,t);const r=t[l],a=t[s];d!==null?(e.push({x:r.x,y:d}),e.push({x:a.x,y:d})):i!==null&&(e.push({x:i,y:r.y}),e.push({x:i,y:a.y}))}),e}function dl(p,c,i){for(;c>p;c--){const d=i[c];if(!isNaN(d.x)&&!isNaN(d.y))break}return c}function P0(p,c,i,d){return p&&c?d(p[i],c[i]):p?p[i]:c?c[i]:0}function Fd(p,c){let i=[],d=!1;return Lt(p)?(d=!0,i=p):i=yT(p,c),i.length?new ke({points:i,options:{tension:0},_loop:d,_fullLoop:d}):null}function TT(p,c,i){let t=p[c].fill;const e=[c];let l;if(!i)return t;for(;t!==!1&&e.indexOf(t)===-1;){if(!Nt(t))return t;if(l=p[t],!l)return!1;if(l.visible)return t;e.push(t),t=l.fill}return!1}function ST(p,c,i){const d=PT(p);if(yt(d))return isNaN(d.value)?!1:d;let t=parseFloat(d);return Nt(t)&&Math.floor(t)===t?ET(d[0],c,t,i):["origin","start","end","stack","shape"].indexOf(d)>=0&&d}function ET(p,c,i,d){return(p==="-"||p==="+")&&(i=c+i),i===c||i<0||i>=d?!1:i}function CT(p,c){let i=null;return p==="start"?i=c.bottom:p==="end"?i=c.top:yt(p)?i=c.getPixelForValue(p.value):c.getBasePixel&&(i=c.getBasePixel()),i}function AT(p,c,i){let d;return p==="start"?d=i:p==="end"?d=c.options.reverse?c.min:c.max:yt(p)?d=p.value:d=c.getBaseValue(),d}function PT(p){const c=p.options,i=c.fill;let d=gt(i&&i.target,i);return d===void 0&&(d=!!c.backgroundColor),d===!1||d===null?!1:d===!0?"origin":d}function MT(p){const{scale:c,index:i,line:d}=p,t=[],e=d.segments,l=d.points,s=RT(c,i);s.push(Fd({x:null,y:c.bottom},d));for(let r=0;r<e.length;r++){const a=e[r];for(let o=a.start;o<=a.end;o++)LT(t,l[o],s)}return new ke({points:t,options:{}})}function RT(p,c){const i=[],d=p.getMatchingVisibleMetas("line");for(let t=0;t<d.length;t++){const e=d[t];if(e.index===c)break;e.hidden||i.unshift(e.dataset)}return i}function LT(p,c,i){const d=[];for(let t=0;t<i.length;t++){const e=i[t],{first:l,last:s,point:r}=OT(e,c,"x");if(!(!r||l&&s)){if(l)d.unshift(r);else if(p.push(r),!s)break}}p.push(...d)}function OT(p,c,i){const d=p.interpolate(c,i);if(!d)return{};const t=d[i],e=p.segments,l=p.points;let s=!1,r=!1;for(let a=0;a<e.length;a++){const o=e[a],n=l[o.start][i],u=l[o.end][i];if(He(t,n,u)){s=t===n,r=t===u;break}}return{first:s,last:r,point:d}}class Id{constructor(c){this.x=c.x,this.y=c.y,this.radius=c.radius}pathSegment(c,i,d){const{x:t,y:e,radius:l}=this;return i=i||{start:0,end:Mt},c.arc(t,e,l,i.end,i.start,!0),!d.bounds}interpolate(c){const{x:i,y:d,radius:t}=this,e=c.angle;return{x:i+Math.cos(e)*t,y:d+Math.sin(e)*t,angle:e}}}function FT(p){const{chart:c,fill:i,line:d}=p;if(Nt(i))return IT(c,i);if(i==="stack")return MT(p);if(i==="shape")return!0;const t=DT(p);return t instanceof Id?t:Fd(t,d)}function IT(p,c){const i=p.getDatasetMeta(c);return i&&p.isDatasetVisible(c)?i.dataset:null}function DT(p){return(p.scale||{}).getPointPositionForValue?BT(p):wT(p)}function wT(p){const{scale:c={},fill:i}=p,d=CT(i,c);if(Nt(d)){const t=c.isHorizontal();return{x:t?d:null,y:t?null:d}}return null}function BT(p){const{scale:c,fill:i}=p,d=c.options,t=c.getLabels().length,e=d.reverse?c.max:c.min,l=AT(i,c,e),s=[];if(d.grid.circular){const r=c.getPointPositionForValue(0,e);return new Id({x:r.x,y:r.y,radius:c.getDistanceFromCenterForValue(l)})}for(let r=0;r<t;++r)s.push(c.getPointPositionForValue(r,l));return s}function wa(p,c,i){const d=FT(c),{line:t,scale:e,axis:l}=c,s=t.options,r=s.fill,a=s.backgroundColor,{above:o=a,below:n=a}=r||{};d&&t.points.length&&(Qr(p,i),bT(p,{line:t,target:d,above:o,below:n,area:i,scale:e,axis:l}),kr(p))}function bT(p,c){const{line:i,target:d,above:t,below:e,area:l,scale:s}=c,r=i._loop?"angle":c.axis;p.save(),r==="x"&&e!==t&&(M0(p,d,l.top),R0(p,{line:i,target:d,color:t,scale:s,property:r}),p.restore(),p.save(),M0(p,d,l.bottom)),R0(p,{line:i,target:d,color:e,scale:s,property:r}),p.restore()}function M0(p,c,i){const{segments:d,points:t}=c;let e=!0,l=!1;p.beginPath();for(const s of d){const{start:r,end:a}=s,o=t[r],n=t[dl(r,a,t)];e?(p.moveTo(o.x,o.y),e=!1):(p.lineTo(o.x,i),p.lineTo(o.x,o.y)),l=!!c.pathSegment(p,s,{move:l}),l?p.closePath():p.lineTo(n.x,i)}p.lineTo(c.first().x,i),p.closePath(),p.clip()}function R0(p,c){const{line:i,target:d,property:t,color:e,scale:l}=c,s=xT(i,d,t);for(const{source:r,target:a,start:o,end:n}of s){const{style:{backgroundColor:u=e}={}}=r,h=d!==!0;p.save(),p.fillStyle=u,NT(p,l,h&&xo(t,o,n)),p.beginPath();const f=!!i.pathSegment(p,r);let v;if(h){f?p.closePath():L0(p,d,n,t);const m=!!d.pathSegment(p,a,{move:f,reverse:!0});v=f&&m,v||L0(p,d,o,t)}p.closePath(),p.fill(v?"evenodd":"nonzero"),p.restore()}}function NT(p,c,i){const{top:d,bottom:t}=c.chart.chartArea,{property:e,start:l,end:s}=i||{};e==="x"&&(p.beginPath(),p.rect(l,d,s-l,t-d),p.clip())}function L0(p,c,i,d){const t=c.interpolate(i,d);t&&p.lineTo(t.x,t.y)}var Dd={id:"filler",afterDatasetsUpdate(p,c,i){const d=(p.data.datasets||[]).length,t=[];let e,l,s,r;for(l=0;l<d;++l)e=p.getDatasetMeta(l),s=e.dataset,r=null,s&&s.options&&s instanceof ke&&(r={visible:p.isDatasetVisible(l),index:l,fill:ST(s,l,d),chart:p,axis:e.controller.options.indexAxis,scale:e.vScale,line:s}),e.$filler=r,t.push(r);for(l=0;l<d;++l)r=t[l],!(!r||r.fill===!1)&&(r.fill=TT(t,l,i.propagate))},beforeDraw(p,c,i){const d=i.drawTime==="beforeDraw",t=p.getSortedVisibleDatasetMetas(),e=p.chartArea;for(let l=t.length-1;l>=0;--l){const s=t[l].$filler;!s||(s.line.updateControlPoints(e,s.axis),d&&wa(p.ctx,s,e))}},beforeDatasetsDraw(p,c,i){if(i.drawTime!=="beforeDatasetsDraw")return;const d=p.getSortedVisibleDatasetMetas();for(let t=d.length-1;t>=0;--t){const e=d[t].$filler;e&&wa(p.ctx,e,p.chartArea)}},beforeDatasetDraw(p,c,i){const d=c.meta.$filler;!d||d.fill===!1||i.drawTime!=="beforeDatasetDraw"||wa(p.ctx,d,p.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const O0=(p,c)=>{let{boxHeight:i=c,boxWidth:d=c}=p;return p.usePointStyle&&(i=Math.min(i,c),d=Math.min(d,c)),{boxWidth:d,boxHeight:i,itemHeight:Math.max(c,i)}},GT=(p,c)=>p!==null&&c!==null&&p.datasetIndex===c.datasetIndex&&p.index===c.index;class F0 extends Pe{constructor(c){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,i,d){this.maxWidth=c,this.maxHeight=i,this._margins=d,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const c=this.options.labels||{};let i=Rt(c.generateLabels,[this.chart],this)||[];c.filter&&(i=i.filter(d=>c.filter(d,this.chart.data))),c.sort&&(i=i.sort((d,t)=>c.sort(d,t,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:c,ctx:i}=this;if(!c.display){this.width=this.height=0;return}const d=c.labels,t=zt(d.font),e=t.size,l=this._computeTitleHeight(),{boxWidth:s,itemHeight:r}=O0(d,e);let a,o;i.font=t.string,this.isHorizontal()?(a=this.maxWidth,o=this._fitRows(l,e,s,r)+10):(o=this.maxHeight,a=this._fitCols(l,e,s,r)+10),this.width=Math.min(a,c.maxWidth||this.maxWidth),this.height=Math.min(o,c.maxHeight||this.maxHeight)}_fitRows(c,i,d,t){const{ctx:e,maxWidth:l,options:{labels:{padding:s}}}=this,r=this.legendHitBoxes=[],a=this.lineWidths=[0],o=t+s;let n=c;e.textAlign="left",e.textBaseline="middle";let u=-1,h=-o;return this.legendItems.forEach((f,v)=>{const m=d+i/2+e.measureText(f.text).width;(v===0||a[a.length-1]+m+2*s>l)&&(n+=o,a[a.length-(v>0?0:1)]=0,h+=o,u++),r[v]={left:0,top:h,row:u,width:m,height:t},a[a.length-1]+=m+s}),n}_fitCols(c,i,d,t){const{ctx:e,maxHeight:l,options:{labels:{padding:s}}}=this,r=this.legendHitBoxes=[],a=this.columnSizes=[],o=l-c;let n=s,u=0,h=0,f=0,v=0;return this.legendItems.forEach((m,g)=>{const x=d+i/2+e.measureText(m.text).width;g>0&&h+t+2*s>o&&(n+=u+s,a.push({width:u,height:h}),f+=u+s,v++,u=h=0),r[g]={left:f,top:h,col:v,width:x,height:t},u=Math.max(u,x),h+=t+s}),n+=u,a.push({width:u,height:h}),n}adjustHitBoxes(){if(!this.options.display)return;const c=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:d,labels:{padding:t},rtl:e}}=this,l=en(e,this.left,this.width);if(this.isHorizontal()){let s=0,r=qt(d,this.left+t,this.right-this.lineWidths[s]);for(const a of i)s!==a.row&&(s=a.row,r=qt(d,this.left+t,this.right-this.lineWidths[s])),a.top+=this.top+c+t,a.left=l.leftForLtr(l.x(r),a.width),r+=a.width+t}else{let s=0,r=qt(d,this.top+c+t,this.bottom-this.columnSizes[s].height);for(const a of i)a.col!==s&&(s=a.col,r=qt(d,this.top+c+t,this.bottom-this.columnSizes[s].height)),a.top=r,a.left+=this.left+t,a.left=l.leftForLtr(l.x(a.left),a.width),r+=a.height+t}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const c=this.ctx;Qr(c,this),this._draw(),kr(c)}}_draw(){const{options:c,columnSizes:i,lineWidths:d,ctx:t}=this,{align:e,labels:l}=c,s=xt.color,r=en(c.rtl,this.left,this.width),a=zt(l.font),{color:o,padding:n}=l,u=a.size,h=u/2;let f;this.drawTitle(),t.textAlign=r.textAlign("left"),t.textBaseline="middle",t.lineWidth=.5,t.font=a.string;const{boxWidth:v,boxHeight:m,itemHeight:g}=O0(l,u),x=function(C,A,P){if(isNaN(v)||v<=0||isNaN(m)||m<0)return;t.save();const R=gt(P.lineWidth,1);if(t.fillStyle=gt(P.fillStyle,s),t.lineCap=gt(P.lineCap,"butt"),t.lineDashOffset=gt(P.lineDashOffset,0),t.lineJoin=gt(P.lineJoin,"miter"),t.lineWidth=R,t.strokeStyle=gt(P.strokeStyle,s),t.setLineDash(gt(P.lineDash,[])),l.usePointStyle){const M={radius:v*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:R},L=r.xPlus(C,v/2),O=A+h;Ar(t,M,L,O)}else{const M=A+Math.max((u-m)/2,0),L=r.leftForLtr(C,v),O=bi(P.borderRadius);t.beginPath(),Object.values(O).some(I=>I!==0)?fs(t,{x:L,y:M,w:v,h:m,radius:O}):t.rect(L,M,v,m),t.fill(),R!==0&&t.stroke()}t.restore()},y=function(C,A,P){zi(t,P.text,C,A+g/2,a,{strikethrough:P.hidden,textAlign:r.textAlign(P.textAlign)})},T=this.isHorizontal(),S=this._computeTitleHeight();T?f={x:qt(e,this.left+n,this.right-d[0]),y:this.top+n+S,line:0}:f={x:this.left+n,y:qt(e,this.top+S+n,this.bottom-i[0].height),line:0},_f(this.ctx,c.textDirection);const E=g+n;this.legendItems.forEach((C,A)=>{t.strokeStyle=C.fontColor||o,t.fillStyle=C.fontColor||o;const P=t.measureText(C.text).width,R=r.textAlign(C.textAlign||(C.textAlign=l.textAlign)),M=v+h+P;let L=f.x,O=f.y;r.setWidth(this.width),T?A>0&&L+M+n>this.right&&(O=f.y+=E,f.line++,L=f.x=qt(e,this.left+n,this.right-d[f.line])):A>0&&O+E>this.bottom&&(L=f.x=L+i[f.line].width+n,f.line++,O=f.y=qt(e,this.top+S+n,this.bottom-i[f.line].height));const I=r.x(L);x(I,O,C),L=Vx(R,L+v+h,T?L+M:this.right,c.rtl),y(r.x(L),O,C),T?f.x+=M+n:f.y+=E}),td(this.ctx,c.textDirection)}drawTitle(){const c=this.options,i=c.title,d=zt(i.font),t=_t(i.padding);if(!i.display)return;const e=en(c.rtl,this.left,this.width),l=this.ctx,s=i.position,r=d.size/2,a=t.top+r;let o,n=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),o=this.top+a,n=qt(c.align,n,this.right-u);else{const f=this.columnSizes.reduce((v,m)=>Math.max(v,m.height),0);o=a+qt(c.align,this.top,this.bottom-f-c.labels.padding-this._computeTitleHeight())}const h=qt(s,n,n+u);l.textAlign=e.textAlign(ko(s)),l.textBaseline="middle",l.strokeStyle=i.color,l.fillStyle=i.color,l.font=d.string,zi(l,i.text,h,o,d)}_computeTitleHeight(){const c=this.options.title,i=zt(c.font),d=_t(c.padding);return c.display?i.lineHeight+d.height:0}_getLegendItemAt(c,i){let d,t,e;if(He(c,this.left,this.right)&&He(i,this.top,this.bottom)){for(e=this.legendHitBoxes,d=0;d<e.length;++d)if(t=e[d],He(c,t.left,t.left+t.width)&&He(i,t.top,t.top+t.height))return this.legendItems[d]}return null}handleEvent(c){const i=this.options;if(!zT(c.type,i))return;const d=this._getLegendItemAt(c.x,c.y);if(c.type==="mousemove"||c.type==="mouseout"){const t=this._hoveredItem,e=GT(t,d);t&&!e&&Rt(i.onLeave,[c,t,this],this),this._hoveredItem=d,d&&!e&&Rt(i.onHover,[c,d,this],this)}else d&&Rt(i.onClick,[c,d,this],this)}}function zT(p,c){return!!((p==="mousemove"||p==="mouseout")&&(c.onHover||c.onLeave)||c.onClick&&(p==="click"||p==="mouseup"))}var wd={id:"legend",_element:F0,start(p,c,i){const d=p.legend=new F0({ctx:p.ctx,options:i,chart:p});Jt.configure(p,d,i),Jt.addBox(p,d)},stop(p){Jt.removeBox(p,p.legend),delete p.legend},beforeUpdate(p,c,i){const d=p.legend;Jt.configure(p,d,i),d.options=i},afterUpdate(p){const c=p.legend;c.buildLabels(),c.adjustHitBoxes()},afterEvent(p,c){c.replay||p.legend.handleEvent(c.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(p,c,i){const d=c.datasetIndex,t=i.chart;t.isDatasetVisible(d)?(t.hide(d),c.hidden=!0):(t.show(d),c.hidden=!1)},onHover:null,onLeave:null,labels:{color:p=>p.chart.options.color,boxWidth:40,padding:10,generateLabels(p){const c=p.data.datasets,{labels:{usePointStyle:i,pointStyle:d,textAlign:t,color:e}}=p.legend.options;return p._getSortedDatasetMetas().map(l=>{const s=l.controller.getStyle(i?0:void 0),r=_t(s.borderWidth);return{text:c[l.index].label,fillStyle:s.backgroundColor,fontColor:e,hidden:!l.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(r.width+r.height)/4,strokeStyle:s.borderColor,pointStyle:d||s.pointStyle,rotation:s.rotation,textAlign:t||s.textAlign,borderRadius:0,datasetIndex:l.index}},this)}},title:{color:p=>p.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:p=>!p.startsWith("on"),labels:{_scriptable:p=>!["generateLabels","filter","sort"].includes(p)}}};class cl extends Pe{constructor(c){super(),this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,i){const d=this.options;if(this.left=0,this.top=0,!d.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=c,this.height=this.bottom=i;const t=Lt(d.text)?d.text.length:1;this._padding=_t(d.padding);const e=t*zt(d.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=e:this.width=e}isHorizontal(){const c=this.options.position;return c==="top"||c==="bottom"}_drawArgs(c){const{top:i,left:d,bottom:t,right:e,options:l}=this,s=l.align;let r=0,a,o,n;return this.isHorizontal()?(o=qt(s,d,e),n=i+c,a=e-d):(l.position==="left"?(o=d+c,n=qt(s,t,i),r=It*-.5):(o=e-c,n=qt(s,i,t),r=It*.5),a=t-i),{titleX:o,titleY:n,maxWidth:a,rotation:r}}draw(){const c=this.ctx,i=this.options;if(!i.display)return;const d=zt(i.font),e=d.lineHeight/2+this._padding.top,{titleX:l,titleY:s,maxWidth:r,rotation:a}=this._drawArgs(e);zi(c,i.text,0,0,d,{color:i.color,maxWidth:r,rotation:a,textAlign:ko(i.align),textBaseline:"middle",translation:[l,s]})}}function UT(p,c){const i=new cl({ctx:p.ctx,options:c,chart:p});Jt.configure(p,i,c),Jt.addBox(p,i),p.titleBlock=i}var Bd={id:"title",_element:cl,start(p,c,i){UT(p,i)},stop(p){const c=p.titleBlock;Jt.removeBox(p,c),delete p.titleBlock},beforeUpdate(p,c,i){const d=p.titleBlock;Jt.configure(p,d,i),d.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qs=new WeakMap;var bd={id:"subtitle",start(p,c,i){const d=new cl({ctx:p.ctx,options:i,chart:p});Jt.configure(p,d,i),Jt.addBox(p,d),Qs.set(p,d)},stop(p){Jt.removeBox(p,Qs.get(p)),Qs.delete(p)},beforeUpdate(p,c,i){const d=Qs.get(p);Jt.configure(p,d,i),d.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jn={average(p){if(!p.length)return!1;let c,i,d=0,t=0,e=0;for(c=0,i=p.length;c<i;++c){const l=p[c].element;if(l&&l.hasValue()){const s=l.tooltipPosition();d+=s.x,t+=s.y,++e}}return{x:d/e,y:t/e}},nearest(p,c){if(!p.length)return!1;let i=c.x,d=c.y,t=Number.POSITIVE_INFINITY,e,l,s;for(e=0,l=p.length;e<l;++e){const r=p[e].element;if(r&&r.hasValue()){const a=r.getCenterPoint(),o=ho(c,a);o<t&&(t=o,s=r)}}if(s){const r=s.tooltipPosition();i=r.x,d=r.y}return{x:i,y:d}}};function Ie(p,c){return c&&(Lt(c)?Array.prototype.push.apply(p,c):p.push(c)),p}function Ye(p){return(typeof p=="string"||p instanceof String)&&p.indexOf(`
`)>-1?p.split(`
`):p}function VT(p,c){const{element:i,datasetIndex:d,index:t}=c,e=p.getDatasetMeta(d).controller,{label:l,value:s}=e.getLabelAndValue(t);return{chart:p,label:l,parsed:e.getParsed(t),raw:p.data.datasets[d].data[t],formattedValue:s,dataset:e.getDataset(),dataIndex:t,datasetIndex:d,element:i}}function I0(p,c){const i=p.chart.ctx,{body:d,footer:t,title:e}=p,{boxWidth:l,boxHeight:s}=c,r=zt(c.bodyFont),a=zt(c.titleFont),o=zt(c.footerFont),n=e.length,u=t.length,h=d.length,f=_t(c.padding);let v=f.height,m=0,g=d.reduce((T,S)=>T+S.before.length+S.lines.length+S.after.length,0);if(g+=p.beforeBody.length+p.afterBody.length,n&&(v+=n*a.lineHeight+(n-1)*c.titleSpacing+c.titleMarginBottom),g){const T=c.displayColors?Math.max(s,r.lineHeight):r.lineHeight;v+=h*T+(g-h)*r.lineHeight+(g-1)*c.bodySpacing}u&&(v+=c.footerMarginTop+u*o.lineHeight+(u-1)*c.footerSpacing);let x=0;const y=function(T){m=Math.max(m,i.measureText(T).width+x)};return i.save(),i.font=a.string,Ct(p.title,y),i.font=r.string,Ct(p.beforeBody.concat(p.afterBody),y),x=c.displayColors?l+2+c.boxPadding:0,Ct(d,T=>{Ct(T.before,y),Ct(T.lines,y),Ct(T.after,y)}),x=0,i.font=o.string,Ct(p.footer,y),i.restore(),m+=f.width,{width:m,height:v}}function YT(p,c){const{y:i,height:d}=c;return i<d/2?"top":i>p.height-d/2?"bottom":"center"}function XT(p,c,i,d){const{x:t,width:e}=d,l=i.caretSize+i.caretPadding;if(p==="left"&&t+e+l>c.width||p==="right"&&t-e-l<0)return!0}function WT(p,c,i,d){const{x:t,width:e}=i,{width:l,chartArea:{left:s,right:r}}=p;let a="center";return d==="center"?a=t<=(s+r)/2?"left":"right":t<=e/2?a="left":t>=l-e/2&&(a="right"),XT(a,p,c,i)&&(a="center"),a}function D0(p,c,i){const d=i.yAlign||c.yAlign||YT(p,i);return{xAlign:i.xAlign||c.xAlign||WT(p,c,i,d),yAlign:d}}function HT(p,c){let{x:i,width:d}=p;return c==="right"?i-=d:c==="center"&&(i-=d/2),i}function $T(p,c,i){let{y:d,height:t}=p;return c==="top"?d+=i:c==="bottom"?d-=t+i:d-=t/2,d}function w0(p,c,i,d){const{caretSize:t,caretPadding:e,cornerRadius:l}=p,{xAlign:s,yAlign:r}=i,a=t+e,{topLeft:o,topRight:n,bottomLeft:u,bottomRight:h}=bi(l);let f=HT(c,s);const v=$T(c,r,a);return r==="center"?s==="left"?f+=a:s==="right"&&(f-=a):s==="left"?f-=Math.max(o,u)+t:s==="right"&&(f+=Math.max(n,h)+t),{x:Wt(f,0,d.width-c.width),y:Wt(v,0,d.height-c.height)}}function ks(p,c,i){const d=_t(i.padding);return c==="center"?p.x+p.width/2:c==="right"?p.x+p.width-d.right:p.x+d.left}function B0(p){return Ie([],Ye(p))}function KT(p,c,i){return xi(p,{tooltip:c,tooltipItems:i,type:"tooltip"})}function b0(p,c){const i=c&&c.dataset&&c.dataset.tooltip&&c.dataset.tooltip.callbacks;return i?p.override(i):p}class yo extends Pe{constructor(c){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=c.chart||c._chart,this._chart=this.chart,this.options=c.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(c){this.options=c,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const c=this._cachedAnimations;if(c)return c;const i=this.chart,d=this.options.setContext(this.getContext()),t=d.enabled&&i.options.animation&&d.animations,e=new hl(this.chart,t);return t._cacheable&&(this._cachedAnimations=Object.freeze(e)),e}getContext(){return this.$context||(this.$context=KT(this.chart.getContext(),this,this._tooltipItems))}getTitle(c,i){const{callbacks:d}=i,t=d.beforeTitle.apply(this,[c]),e=d.title.apply(this,[c]),l=d.afterTitle.apply(this,[c]);let s=[];return s=Ie(s,Ye(t)),s=Ie(s,Ye(e)),s=Ie(s,Ye(l)),s}getBeforeBody(c,i){return B0(i.callbacks.beforeBody.apply(this,[c]))}getBody(c,i){const{callbacks:d}=i,t=[];return Ct(c,e=>{const l={before:[],lines:[],after:[]},s=b0(d,e);Ie(l.before,Ye(s.beforeLabel.call(this,e))),Ie(l.lines,s.label.call(this,e)),Ie(l.after,Ye(s.afterLabel.call(this,e))),t.push(l)}),t}getAfterBody(c,i){return B0(i.callbacks.afterBody.apply(this,[c]))}getFooter(c,i){const{callbacks:d}=i,t=d.beforeFooter.apply(this,[c]),e=d.footer.apply(this,[c]),l=d.afterFooter.apply(this,[c]);let s=[];return s=Ie(s,Ye(t)),s=Ie(s,Ye(e)),s=Ie(s,Ye(l)),s}_createItems(c){const i=this._active,d=this.chart.data,t=[],e=[],l=[];let s=[],r,a;for(r=0,a=i.length;r<a;++r)s.push(VT(this.chart,i[r]));return c.filter&&(s=s.filter((o,n,u)=>c.filter(o,n,u,d))),c.itemSort&&(s=s.sort((o,n)=>c.itemSort(o,n,d))),Ct(s,o=>{const n=b0(c.callbacks,o);t.push(n.labelColor.call(this,o)),e.push(n.labelPointStyle.call(this,o)),l.push(n.labelTextColor.call(this,o))}),this.labelColors=t,this.labelPointStyles=e,this.labelTextColors=l,this.dataPoints=s,s}update(c,i){const d=this.options.setContext(this.getContext()),t=this._active;let e,l=[];if(!t.length)this.opacity!==0&&(e={opacity:0});else{const s=jn[d.position].call(this,t,this._eventPosition);l=this._createItems(d),this.title=this.getTitle(l,d),this.beforeBody=this.getBeforeBody(l,d),this.body=this.getBody(l,d),this.afterBody=this.getAfterBody(l,d),this.footer=this.getFooter(l,d);const r=this._size=I0(this,d),a=Object.assign({},s,r),o=D0(this.chart,d,a),n=w0(d,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,e={opacity:1,x:n.x,y:n.y,width:r.width,height:r.height,caretX:s.x,caretY:s.y}}this._tooltipItems=l,this.$context=void 0,e&&this._resolveAnimations().update(this,e),c&&d.external&&d.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(c,i,d,t){const e=this.getCaretPosition(c,d,t);i.lineTo(e.x1,e.y1),i.lineTo(e.x2,e.y2),i.lineTo(e.x3,e.y3)}getCaretPosition(c,i,d){const{xAlign:t,yAlign:e}=this,{caretSize:l,cornerRadius:s}=d,{topLeft:r,topRight:a,bottomLeft:o,bottomRight:n}=bi(s),{x:u,y:h}=c,{width:f,height:v}=i;let m,g,x,y,T,S;return e==="center"?(T=h+v/2,t==="left"?(m=u,g=m-l,y=T+l,S=T-l):(m=u+f,g=m+l,y=T-l,S=T+l),x=m):(t==="left"?g=u+Math.max(r,o)+l:t==="right"?g=u+f-Math.max(a,n)-l:g=this.caretX,e==="top"?(y=h,T=y-l,m=g-l,x=g+l):(y=h+v,T=y+l,m=g+l,x=g-l),S=y),{x1:m,x2:g,x3:x,y1:y,y2:T,y3:S}}drawTitle(c,i,d){const t=this.title,e=t.length;let l,s,r;if(e){const a=en(d.rtl,this.x,this.width);for(c.x=ks(this,d.titleAlign,d),i.textAlign=a.textAlign(d.titleAlign),i.textBaseline="middle",l=zt(d.titleFont),s=d.titleSpacing,i.fillStyle=d.titleColor,i.font=l.string,r=0;r<e;++r)i.fillText(t[r],a.x(c.x),c.y+l.lineHeight/2),c.y+=l.lineHeight+s,r+1===e&&(c.y+=d.titleMarginBottom-s)}}_drawColorBox(c,i,d,t,e){const l=this.labelColors[d],s=this.labelPointStyles[d],{boxHeight:r,boxWidth:a,boxPadding:o}=e,n=zt(e.bodyFont),u=ks(this,"left",e),h=t.x(u),f=r<n.lineHeight?(n.lineHeight-r)/2:0,v=i.y+f;if(e.usePointStyle){const m={radius:Math.min(a,r)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},g=t.leftForLtr(h,a)+a/2,x=v+r/2;c.strokeStyle=e.multiKeyBackground,c.fillStyle=e.multiKeyBackground,Ar(c,m,g,x),c.strokeStyle=l.borderColor,c.fillStyle=l.backgroundColor,Ar(c,m,g,x)}else{c.lineWidth=l.borderWidth||1,c.strokeStyle=l.borderColor,c.setLineDash(l.borderDash||[]),c.lineDashOffset=l.borderDashOffset||0;const m=t.leftForLtr(h,a-o),g=t.leftForLtr(t.xPlus(h,1),a-o-2),x=bi(l.borderRadius);Object.values(x).some(y=>y!==0)?(c.beginPath(),c.fillStyle=e.multiKeyBackground,fs(c,{x:m,y:v,w:a,h:r,radius:x}),c.fill(),c.stroke(),c.fillStyle=l.backgroundColor,c.beginPath(),fs(c,{x:g,y:v+1,w:a-2,h:r-2,radius:x}),c.fill()):(c.fillStyle=e.multiKeyBackground,c.fillRect(m,v,a,r),c.strokeRect(m,v,a,r),c.fillStyle=l.backgroundColor,c.fillRect(g,v+1,a-2,r-2))}c.fillStyle=this.labelTextColors[d]}drawBody(c,i,d){const{body:t}=this,{bodySpacing:e,bodyAlign:l,displayColors:s,boxHeight:r,boxWidth:a,boxPadding:o}=d,n=zt(d.bodyFont);let u=n.lineHeight,h=0;const f=en(d.rtl,this.x,this.width),v=function(A){i.fillText(A,f.x(c.x+h),c.y+u/2),c.y+=u+e},m=f.textAlign(l);let g,x,y,T,S,E,C;for(i.textAlign=l,i.textBaseline="middle",i.font=n.string,c.x=ks(this,m,d),i.fillStyle=d.bodyColor,Ct(this.beforeBody,v),h=s&&m!=="right"?l==="center"?a/2+o:a+2+o:0,T=0,E=t.length;T<E;++T){for(g=t[T],x=this.labelTextColors[T],i.fillStyle=x,Ct(g.before,v),y=g.lines,s&&y.length&&(this._drawColorBox(i,c,T,f,d),u=Math.max(n.lineHeight,r)),S=0,C=y.length;S<C;++S)v(y[S]),u=n.lineHeight;Ct(g.after,v)}h=0,u=n.lineHeight,Ct(this.afterBody,v),c.y-=e}drawFooter(c,i,d){const t=this.footer,e=t.length;let l,s;if(e){const r=en(d.rtl,this.x,this.width);for(c.x=ks(this,d.footerAlign,d),c.y+=d.footerMarginTop,i.textAlign=r.textAlign(d.footerAlign),i.textBaseline="middle",l=zt(d.footerFont),i.fillStyle=d.footerColor,i.font=l.string,s=0;s<e;++s)i.fillText(t[s],r.x(c.x),c.y+l.lineHeight/2),c.y+=l.lineHeight+d.footerSpacing}}drawBackground(c,i,d,t){const{xAlign:e,yAlign:l}=this,{x:s,y:r}=c,{width:a,height:o}=d,{topLeft:n,topRight:u,bottomLeft:h,bottomRight:f}=bi(t.cornerRadius);i.fillStyle=t.backgroundColor,i.strokeStyle=t.borderColor,i.lineWidth=t.borderWidth,i.beginPath(),i.moveTo(s+n,r),l==="top"&&this.drawCaret(c,i,d,t),i.lineTo(s+a-u,r),i.quadraticCurveTo(s+a,r,s+a,r+u),l==="center"&&e==="right"&&this.drawCaret(c,i,d,t),i.lineTo(s+a,r+o-f),i.quadraticCurveTo(s+a,r+o,s+a-f,r+o),l==="bottom"&&this.drawCaret(c,i,d,t),i.lineTo(s+h,r+o),i.quadraticCurveTo(s,r+o,s,r+o-h),l==="center"&&e==="left"&&this.drawCaret(c,i,d,t),i.lineTo(s,r+n),i.quadraticCurveTo(s,r,s+n,r),i.closePath(),i.fill(),t.borderWidth>0&&i.stroke()}_updateAnimationTarget(c){const i=this.chart,d=this.$animations,t=d&&d.x,e=d&&d.y;if(t||e){const l=jn[c.position].call(this,this._active,this._eventPosition);if(!l)return;const s=this._size=I0(this,c),r=Object.assign({},l,this._size),a=D0(i,c,r),o=w0(c,r,a,i);(t._to!==o.x||e._to!==o.y)&&(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,o))}}_willRender(){return!!this.opacity}draw(c){const i=this.options.setContext(this.getContext());let d=this.opacity;if(!d)return;this._updateAnimationTarget(i);const t={width:this.width,height:this.height},e={x:this.x,y:this.y};d=Math.abs(d)<.001?0:d;const l=_t(i.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&s&&(c.save(),c.globalAlpha=d,this.drawBackground(e,c,t,i),_f(c,i.textDirection),e.y+=l.top,this.drawTitle(e,c,i),this.drawBody(e,c,i),this.drawFooter(e,c,i),td(c,i.textDirection),c.restore())}getActiveElements(){return this._active||[]}setActiveElements(c,i){const d=this._active,t=c.map(({datasetIndex:s,index:r})=>{const a=this.chart.getDatasetMeta(s);if(!a)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:a.data[r],index:r}}),e=!yr(d,t),l=this._positionChanged(t,i);(e||l)&&(this._active=t,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(c,i,d=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const t=this.options,e=this._active||[],l=this._getActiveElements(c,e,i,d),s=this._positionChanged(l,c),r=i||!yr(l,e)||s;return r&&(this._active=l,(t.enabled||t.external)&&(this._eventPosition={x:c.x,y:c.y},this.update(!0,i))),r}_getActiveElements(c,i,d,t){const e=this.options;if(c.type==="mouseout")return[];if(!t)return i;const l=this.chart.getElementsAtEventForMode(c,e.mode,e,d);return e.reverse&&l.reverse(),l}_positionChanged(c,i){const{caretX:d,caretY:t,options:e}=this,l=jn[e.position].call(this,c,i);return l!==!1&&(d!==l.x||t!==l.y)}}yo.positioners=jn;var Nd={id:"tooltip",_element:yo,positioners:jn,afterInit(p,c,i){i&&(p.tooltip=new yo({chart:p,options:i}))},beforeUpdate(p,c,i){p.tooltip&&p.tooltip.initialize(i)},reset(p,c,i){p.tooltip&&p.tooltip.initialize(i)},afterDraw(p){const c=p.tooltip;if(c&&c._willRender()){const i={tooltip:c};if(p.notifyPlugins("beforeTooltipDraw",i)===!1)return;c.draw(p.ctx),p.notifyPlugins("afterTooltipDraw",i)}},afterEvent(p,c){if(p.tooltip){const i=c.replay;p.tooltip.handleEvent(c.event,i,c.inChartArea)&&(c.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(p,c)=>c.bodyFont.size,boxWidth:(p,c)=>c.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ve,title(p){if(p.length>0){const c=p[0],i=c.chart.data.labels,d=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return c.dataset.label||"";if(c.label)return c.label;if(d>0&&c.dataIndex<d)return i[c.dataIndex]}return""},afterTitle:Ve,beforeBody:Ve,beforeLabel:Ve,label(p){if(this&&this.options&&this.options.mode==="dataset")return p.label+": "+p.formattedValue||p.formattedValue;let c=p.dataset.label||"";c&&(c+=": ");const i=p.formattedValue;return St(i)||(c+=i),c},labelColor(p){const i=p.chart.getDatasetMeta(p.datasetIndex).controller.getStyle(p.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(p){const i=p.chart.getDatasetMeta(p.datasetIndex).controller.getStyle(p.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Ve,afterBody:Ve,beforeFooter:Ve,footer:Ve,afterFooter:Ve}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:p=>p!=="filter"&&p!=="itemSort"&&p!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Gd=Object.freeze({__proto__:null,Decimation:Od,Filler:Dd,Legend:wd,SubTitle:bd,Title:Bd,Tooltip:Nd});const ZT=(p,c,i,d)=>(typeof c=="string"?(i=p.push(c)-1,d.unshift({index:i,label:c})):isNaN(c)&&(i=null),i);function JT(p,c,i,d){const t=p.indexOf(c);if(t===-1)return ZT(p,c,i,d);const e=p.lastIndexOf(c);return t!==e?i:t}const jT=(p,c)=>p===null?null:Wt(Math.round(p),0,c);class cs extends yi{constructor(c){super(c),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(c){const i=this._addedLabels;if(i.length){const d=this.getLabels();for(const{index:t,label:e}of i)d[t]===e&&d.splice(t,1);this._addedLabels=[]}super.init(c)}parse(c,i){if(St(c))return null;const d=this.getLabels();return i=isFinite(i)&&d[i]===c?i:JT(d,c,gt(i,c),this._addedLabels),jT(i,d.length-1)}determineDataLimits(){const{minDefined:c,maxDefined:i}=this.getUserBounds();let{min:d,max:t}=this.getMinMax(!0);this.options.bounds==="ticks"&&(c||(d=0),i||(t=this.getLabels().length-1)),this.min=d,this.max=t}buildTicks(){const c=this.min,i=this.max,d=this.options.offset,t=[];let e=this.getLabels();e=c===0&&i===e.length-1?e:e.slice(c,i+1),this._valueRange=Math.max(e.length-(d?0:1),1),this._startValue=this.min-(d?.5:0);for(let l=c;l<=i;l++)t.push({value:l});return t}getLabelForValue(c){const i=this.getLabels();return c>=0&&c<i.length?i[c]:c}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(c){return typeof c!="number"&&(c=this.parse(c)),c===null?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getPixelForTick(c){const i=this.ticks;return c<0||c>i.length-1?null:this.getPixelForValue(i[c].value)}getValueForPixel(c){return Math.round(this._startValue+this.getDecimalForPixel(c)*this._valueRange)}getBasePixel(){return this.bottom}}cs.id="category";cs.defaults={ticks:{callback:cs.prototype.getLabelForValue}};function QT(p,c){const i=[],{bounds:t,step:e,min:l,max:s,precision:r,count:a,maxTicks:o,maxDigits:n,includeBounds:u}=p,h=e||1,f=o-1,{min:v,max:m}=c,g=!St(l),x=!St(s),y=!St(a),T=(m-v)/(n+1);let S=wh((m-v)/f/h)*h,E,C,A,P;if(S<1e-14&&!g&&!x)return[{value:v},{value:m}];P=Math.ceil(m/S)-Math.floor(v/S),P>f&&(S=wh(P*S/f/h)*h),St(r)||(E=Math.pow(10,r),S=Math.ceil(S*E)/E),t==="ticks"?(C=Math.floor(v/S)*S,A=Math.ceil(m/S)*S):(C=v,A=m),g&&x&&e&&kx((s-l)/e,S/1e3)?(P=Math.round(Math.min((s-l)/S,o)),S=(s-l)/P,C=l,A=s):y?(C=g?l:C,A=x?s:A,P=a-1,S=(A-C)/P):(P=(A-C)/S,Kn(P,Math.round(P),S/1e3)?P=Math.round(P):P=Math.ceil(P));const R=Math.max(Bh(S),Bh(C));E=Math.pow(10,St(r)?R:r),C=Math.round(C*E)/E,A=Math.round(A*E)/E;let M=0;for(g&&(u&&C!==l?(i.push({value:l}),C<l&&M++,Kn(Math.round((C+M*S)*E)/E,l,N0(l,T,p))&&M++):C<l&&M++);M<P;++M)i.push({value:Math.round((C+M*S)*E)/E});return x&&u&&A!==s?i.length&&Kn(i[i.length-1].value,s,N0(s,T,p))?i[i.length-1].value=s:i.push({value:s}):(!x||A===s)&&i.push({value:A}),i}function N0(p,c,{horizontal:i,minRotation:d}){const t=Re(d),e=(i?Math.sin(t):Math.cos(t))||.001,l=.75*c*(""+p).length;return Math.min(c/e,l)}class Lr extends yi{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(c,i){return St(c)||(typeof c=="number"||c instanceof Number)&&!isFinite(+c)?null:+c}handleTickRangeOptions(){const{beginAtZero:c}=this.options,{minDefined:i,maxDefined:d}=this.getUserBounds();let{min:t,max:e}=this;const l=r=>t=i?t:r,s=r=>e=d?e:r;if(c){const r=ze(t),a=ze(e);r<0&&a<0?s(0):r>0&&a>0&&l(0)}if(t===e){let r=1;(e>=Number.MAX_SAFE_INTEGER||t<=Number.MIN_SAFE_INTEGER)&&(r=Math.abs(e*.05)),s(e+r),c||l(t-r)}this.min=t,this.max=e}getTickLimit(){const c=this.options.ticks;let{maxTicksLimit:i,stepSize:d}=c,t;return d?(t=Math.ceil(this.max/d)-Math.floor(this.min/d)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${d} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const c=this.options,i=c.ticks;let d=this.getTickLimit();d=Math.max(2,d);const t={maxTicks:d,bounds:c.bounds,min:c.min,max:c.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},e=this._range||this,l=QT(t,e);return c.bounds==="ticks"&&Nf(l,this,"value"),c.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const c=this.ticks;let i=this.min,d=this.max;if(super.configure(),this.options.offset&&c.length){const t=(d-i)/Math.max(c.length-1,1)/2;i-=t,d+=t}this._startValue=i,this._endValue=d,this._valueRange=d-i}getLabelForValue(c){return Ss(c,this.chart.options.locale,this.options.ticks.format)}}class ta extends Lr{determineDataLimits(){const{min:c,max:i}=this.getMinMax(!0);this.min=Nt(c)?c:0,this.max=Nt(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const c=this.isHorizontal(),i=c?this.width:this.height,d=Re(this.options.ticks.minRotation),t=(c?Math.sin(d):Math.cos(d))||.001,e=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,e.lineHeight/t))}getPixelForValue(c){return c===null?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getValueForPixel(c){return this._startValue+this.getDecimalForPixel(c)*this._valueRange}}ta.id="linear";ta.defaults={ticks:{callback:Ls.formatters.numeric}};function G0(p){return p/Math.pow(10,Math.floor(xe(p)))===1}function kT(p,c){const i=Math.floor(xe(c.max)),d=Math.ceil(c.max/Math.pow(10,i)),t=[];let e=ge(p.min,Math.pow(10,Math.floor(xe(c.min)))),l=Math.floor(xe(e)),s=Math.floor(e/Math.pow(10,l)),r=l<0?Math.pow(10,Math.abs(l)):1;do t.push({value:e,major:G0(e)}),++s,s===10&&(s=1,++l,r=l>=0?1:r),e=Math.round(s*Math.pow(10,l)*r)/r;while(l<i||l===i&&s<d);const a=ge(p.max,e);return t.push({value:a,major:G0(e)}),t}class ea extends yi{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(c,i){const d=Lr.prototype.parse.apply(this,[c,i]);if(d===0){this._zero=!0;return}return Nt(d)&&d>0?d:null}determineDataLimits(){const{min:c,max:i}=this.getMinMax(!0);this.min=Nt(c)?Math.max(0,c):null,this.max=Nt(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:c,maxDefined:i}=this.getUserBounds();let d=this.min,t=this.max;const e=r=>d=c?d:r,l=r=>t=i?t:r,s=(r,a)=>Math.pow(10,Math.floor(xe(r))+a);d===t&&(d<=0?(e(1),l(10)):(e(s(d,-1)),l(s(t,1)))),d<=0&&e(s(t,-1)),t<=0&&l(s(d,1)),this._zero&&this.min!==this._suggestedMin&&d===s(this.min,0)&&e(s(d,-1)),this.min=d,this.max=t}buildTicks(){const c=this.options,i={min:this._userMin,max:this._userMax},d=kT(i,this);return c.bounds==="ticks"&&Nf(d,this,"value"),c.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}getLabelForValue(c){return c===void 0?"0":Ss(c,this.chart.options.locale,this.options.ticks.format)}configure(){const c=this.min;super.configure(),this._startValue=xe(c),this._valueRange=xe(this.max)-xe(c)}getPixelForValue(c){return(c===void 0||c===0)&&(c=this.min),c===null||isNaN(c)?NaN:this.getPixelForDecimal(c===this.min?0:(xe(c)-this._startValue)/this._valueRange)}getValueForPixel(c){const i=this.getDecimalForPixel(c);return Math.pow(10,this._startValue+i*this._valueRange)}}ea.id="logarithmic";ea.defaults={ticks:{callback:Ls.formatters.logarithmic,major:{enabled:!0}}};function To(p){const c=p.ticks;if(c.display&&p.display){const i=_t(c.backdropPadding);return gt(c.font&&c.font.size,xt.font.size)+i.height}return 0}function qT(p,c,i){return i=Lt(i)?i:[i],{w:A3(p,c.string,i),h:i.length*c.lineHeight}}function z0(p,c,i,d,t){return p===d||p===t?{start:c-i/2,end:c+i/2}:p<d||p>t?{start:c-i,end:c}:{start:c,end:c+i}}function _T(p){const c={l:p.left+p._padding.left,r:p.right-p._padding.right,t:p.top+p._padding.top,b:p.bottom-p._padding.bottom},i=Object.assign({},c),d=[],t=[],e=p._pointLabels.length,l=p.options.pointLabels,s=l.centerPointLabels?It/e:0;for(let r=0;r<e;r++){const a=l.setContext(p.getPointLabelContext(r));t[r]=a.padding;const o=p.getPointPosition(r,p.drawingArea+t[r],s),n=zt(a.font),u=qT(p.ctx,n,p._pointLabels[r]);d[r]=u;const h=ae(p.getIndexAngle(r)+s),f=Math.round(_o(h)),v=z0(f,o.x,u.w,0,180),m=z0(f,o.y,u.h,90,270);t2(i,c,h,v,m)}p.setCenterPoint(c.l-i.l,i.r-c.r,c.t-i.t,i.b-c.b),p._pointLabelItems=e2(p,d,t)}function t2(p,c,i,d,t){const e=Math.abs(Math.sin(i)),l=Math.abs(Math.cos(i));let s=0,r=0;d.start<c.l?(s=(c.l-d.start)/e,p.l=Math.min(p.l,c.l-s)):d.end>c.r&&(s=(d.end-c.r)/e,p.r=Math.max(p.r,c.r+s)),t.start<c.t?(r=(c.t-t.start)/l,p.t=Math.min(p.t,c.t-r)):t.end>c.b&&(r=(t.end-c.b)/l,p.b=Math.max(p.b,c.b+r))}function e2(p,c,i){const d=[],t=p._pointLabels.length,e=p.options,l=To(e)/2,s=p.drawingArea,r=e.pointLabels.centerPointLabels?It/t:0;for(let a=0;a<t;a++){const o=p.getPointPosition(a,s+l+i[a],r),n=Math.round(_o(ae(o.angle+wt))),u=c[a],h=s2(o.y,u.h,n),f=i2(n),v=n2(o.x,u.w,f);d.push({x:o.x,y:h,textAlign:f,left:v,top:h,right:v+u.w,bottom:h+u.h})}return d}function i2(p){return p===0||p===180?"center":p<180?"left":"right"}function n2(p,c,i){return i==="right"?p-=c:i==="center"&&(p-=c/2),p}function s2(p,c,i){return i===90||i===270?p-=c/2:(i>270||i<90)&&(p-=c),p}function r2(p,c){const{ctx:i,options:{pointLabels:d}}=p;for(let t=c-1;t>=0;t--){const e=d.setContext(p.getPointLabelContext(t)),l=zt(e.font),{x:s,y:r,textAlign:a,left:o,top:n,right:u,bottom:h}=p._pointLabelItems[t],{backdropColor:f}=e;if(!St(f)){const v=bi(e.borderRadius),m=_t(e.backdropPadding);i.fillStyle=f;const g=o-m.left,x=n-m.top,y=u-o+m.width,T=h-n+m.height;Object.values(v).some(S=>S!==0)?(i.beginPath(),fs(i,{x:g,y:x,w:y,h:T,radius:v}),i.fill()):i.fillRect(g,x,y,T)}zi(i,p._pointLabels[t],s,r+l.lineHeight/2,l,{color:e.color,textAlign:a,textBaseline:"middle"})}}function zd(p,c,i,d){const{ctx:t}=p;if(i)t.arc(p.xCenter,p.yCenter,c,0,Mt);else{let e=p.getPointPosition(0,c);t.moveTo(e.x,e.y);for(let l=1;l<d;l++)e=p.getPointPosition(l,c),t.lineTo(e.x,e.y)}}function a2(p,c,i,d){const t=p.ctx,e=c.circular,{color:l,lineWidth:s}=c;!e&&!d||!l||!s||i<0||(t.save(),t.strokeStyle=l,t.lineWidth=s,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,t.beginPath(),zd(p,i,e,d),t.closePath(),t.stroke(),t.restore())}function o2(p,c,i){return xi(p,{label:i,index:c,type:"pointLabel"})}class gn extends Lr{constructor(c){super(c),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const c=this._padding=_t(To(this.options)/2),i=this.width=this.maxWidth-c.width,d=this.height=this.maxHeight-c.height;this.xCenter=Math.floor(this.left+i/2+c.left),this.yCenter=Math.floor(this.top+d/2+c.top),this.drawingArea=Math.floor(Math.min(i,d)/2)}determineDataLimits(){const{min:c,max:i}=this.getMinMax(!1);this.min=Nt(c)&&!isNaN(c)?c:0,this.max=Nt(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/To(this.options))}generateTickLabels(c){Lr.prototype.generateTickLabels.call(this,c),this._pointLabels=this.getLabels().map((i,d)=>{const t=Rt(this.options.pointLabels.callback,[i,d],this);return t||t===0?t:""}).filter((i,d)=>this.chart.getDataVisibility(d))}fit(){const c=this.options;c.display&&c.pointLabels.display?_T(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(c,i,d,t){this.xCenter+=Math.floor((c-i)/2),this.yCenter+=Math.floor((d-t)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(c,i,d,t))}getIndexAngle(c){const i=Mt/(this._pointLabels.length||1),d=this.options.startAngle||0;return ae(c*i+Re(d))}getDistanceFromCenterForValue(c){if(St(c))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-c)*i:(c-this.min)*i}getValueForDistanceFromCenter(c){if(St(c))return NaN;const i=c/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(c){const i=this._pointLabels||[];if(c>=0&&c<i.length){const d=i[c];return o2(this.getContext(),c,d)}}getPointPosition(c,i,d=0){const t=this.getIndexAngle(c)-wt+d;return{x:Math.cos(t)*i+this.xCenter,y:Math.sin(t)*i+this.yCenter,angle:t}}getPointPositionForValue(c,i){return this.getPointPosition(c,this.getDistanceFromCenterForValue(i))}getBasePosition(c){return this.getPointPositionForValue(c||0,this.getBaseValue())}getPointLabelPosition(c){const{left:i,top:d,right:t,bottom:e}=this._pointLabelItems[c];return{left:i,top:d,right:t,bottom:e}}drawBackground(){const{backgroundColor:c,grid:{circular:i}}=this.options;if(c){const d=this.ctx;d.save(),d.beginPath(),zd(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),d.closePath(),d.fillStyle=c,d.fill(),d.restore()}}drawGrid(){const c=this.ctx,i=this.options,{angleLines:d,grid:t}=i,e=this._pointLabels.length;let l,s,r;if(i.pointLabels.display&&r2(this,e),t.display&&this.ticks.forEach((a,o)=>{if(o!==0){s=this.getDistanceFromCenterForValue(a.value);const n=t.setContext(this.getContext(o-1));a2(this,n,s,e)}}),d.display){for(c.save(),l=e-1;l>=0;l--){const a=d.setContext(this.getPointLabelContext(l)),{color:o,lineWidth:n}=a;!n||!o||(c.lineWidth=n,c.strokeStyle=o,c.setLineDash(a.borderDash),c.lineDashOffset=a.borderDashOffset,s=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),r=this.getPointPosition(l,s),c.beginPath(),c.moveTo(this.xCenter,this.yCenter),c.lineTo(r.x,r.y),c.stroke())}c.restore()}}drawBorder(){}drawLabels(){const c=this.ctx,i=this.options,d=i.ticks;if(!d.display)return;const t=this.getIndexAngle(0);let e,l;c.save(),c.translate(this.xCenter,this.yCenter),c.rotate(t),c.textAlign="center",c.textBaseline="middle",this.ticks.forEach((s,r)=>{if(r===0&&!i.reverse)return;const a=d.setContext(this.getContext(r)),o=zt(a.font);if(e=this.getDistanceFromCenterForValue(this.ticks[r].value),a.showLabelBackdrop){c.font=o.string,l=c.measureText(s.label).width,c.fillStyle=a.backdropColor;const n=_t(a.backdropPadding);c.fillRect(-l/2-n.left,-e-o.size/2-n.top,l+n.width,o.size+n.height)}zi(c,s.label,0,-e,o,{color:a.color})}),c.restore()}drawTitle(){}}gn.id="radialLinear";gn.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ls.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(p){return p},padding:5,centerPointLabels:!1}};gn.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};gn.descriptors={angleLines:{_fallback:"grid"}};const ia={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},se=Object.keys(ia);function l2(p,c){return p-c}function U0(p,c){if(St(c))return null;const i=p._adapter,{parser:d,round:t,isoWeekday:e}=p._parseOpts;let l=c;return typeof d=="function"&&(l=d(l)),Nt(l)||(l=typeof d=="string"?i.parse(l,d):i.parse(l)),l===null?null:(t&&(l=t==="week"&&(ls(e)||e===!0)?i.startOf(l,"isoWeek",e):i.startOf(l,t)),+l)}function V0(p,c,i,d){const t=se.length;for(let e=se.indexOf(p);e<t-1;++e){const l=ia[se[e]],s=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((i-c)/(s*l.size))<=d)return se[e]}return se[t-1]}function h2(p,c,i,d,t){for(let e=se.length-1;e>=se.indexOf(i);e--){const l=se[e];if(ia[l].common&&p._adapter.diff(t,d,l)>=c-1)return l}return se[i?se.indexOf(i):0]}function u2(p){for(let c=se.indexOf(p)+1,i=se.length;c<i;++c)if(ia[se[c]].common)return se[c]}function Y0(p,c,i){if(!i)p[c]=!0;else if(i.length){const{lo:d,hi:t}=sl(i,c),e=i[d]>=c?i[d]:i[t];p[e]=!0}}function f2(p,c,i,d){const t=p._adapter,e=+t.startOf(c[0].value,d),l=c[c.length-1].value;let s,r;for(s=e;s<=l;s=+t.add(s,1,d))r=i[s],r>=0&&(c[r].major=!0);return c}function X0(p,c,i){const d=[],t={},e=c.length;let l,s;for(l=0;l<e;++l)s=c[l],t[s]=l,d.push({value:s,major:!1});return e===0||!i?d:f2(p,d,t,i)}class mn extends yi{constructor(c){super(c),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(c,i){const d=c.time||(c.time={}),t=this._adapter=new ld._date(c.adapters.date);$n(d.displayFormats,t.formats()),this._parseOpts={parser:d.parser,round:d.round,isoWeekday:d.isoWeekday},super.init(c),this._normalized=i.normalized}parse(c,i){return c===void 0?null:U0(this,c)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const c=this.options,i=this._adapter,d=c.time.unit||"day";let{min:t,max:e,minDefined:l,maxDefined:s}=this.getUserBounds();function r(a){!l&&!isNaN(a.min)&&(t=Math.min(t,a.min)),!s&&!isNaN(a.max)&&(e=Math.max(e,a.max))}(!l||!s)&&(r(this._getLabelBounds()),(c.bounds!=="ticks"||c.ticks.source!=="labels")&&r(this.getMinMax(!1))),t=Nt(t)&&!isNaN(t)?t:+i.startOf(Date.now(),d),e=Nt(e)&&!isNaN(e)?e:+i.endOf(Date.now(),d)+1,this.min=Math.min(t,e-1),this.max=Math.max(t+1,e)}_getLabelBounds(){const c=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY;return c.length&&(i=c[0],d=c[c.length-1]),{min:i,max:d}}buildTicks(){const c=this.options,i=c.time,d=c.ticks,t=d.source==="labels"?this.getLabelTimestamps():this._generate();c.bounds==="ticks"&&t.length&&(this.min=this._userMin||t[0],this.max=this._userMax||t[t.length-1]);const e=this.min,l=this.max,s=b3(t,e,l);return this._unit=i.unit||(d.autoSkip?V0(i.minUnit,this.min,this.max,this._getLabelCapacity(e)):h2(this,s.length,i.minUnit,this.min,this.max)),this._majorUnit=!d.major.enabled||this._unit==="year"?void 0:u2(this._unit),this.initOffsets(t),c.reverse&&s.reverse(),X0(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(c=>+c.value))}initOffsets(c){let i=0,d=0,t,e;this.options.offset&&c.length&&(t=this.getDecimalForValue(c[0]),c.length===1?i=1-t:i=(this.getDecimalForValue(c[1])-t)/2,e=this.getDecimalForValue(c[c.length-1]),c.length===1?d=e:d=(e-this.getDecimalForValue(c[c.length-2]))/2);const l=c.length<3?.5:.25;i=Wt(i,0,l),d=Wt(d,0,l),this._offsets={start:i,end:d,factor:1/(i+1+d)}}_generate(){const c=this._adapter,i=this.min,d=this.max,t=this.options,e=t.time,l=e.unit||V0(e.minUnit,i,d,this._getLabelCapacity(i)),s=gt(e.stepSize,1),r=l==="week"?e.isoWeekday:!1,a=ls(r)||r===!0,o={};let n=i,u,h;if(a&&(n=+c.startOf(n,"isoWeek",r)),n=+c.startOf(n,a?"day":l),c.diff(d,i,l)>1e5*s)throw new Error(i+" and "+d+" are too far apart with stepSize of "+s+" "+l);const f=t.ticks.source==="data"&&this.getDataTimestamps();for(u=n,h=0;u<d;u=+c.add(u,s,l),h++)Y0(o,u,f);return(u===d||t.bounds==="ticks"||h===1)&&Y0(o,u,f),Object.keys(o).sort((v,m)=>v-m).map(v=>+v)}getLabelForValue(c){const i=this._adapter,d=this.options.time;return d.tooltipFormat?i.format(c,d.tooltipFormat):i.format(c,d.displayFormats.datetime)}_tickFormatFunction(c,i,d,t){const e=this.options,l=e.time.displayFormats,s=this._unit,r=this._majorUnit,a=s&&l[s],o=r&&l[r],n=d[i],u=r&&o&&n&&n.major,h=this._adapter.format(c,t||(u?o:a)),f=e.ticks.callback;return f?Rt(f,[h,i,d],this):h}generateTickLabels(c){let i,d,t;for(i=0,d=c.length;i<d;++i)t=c[i],t.label=this._tickFormatFunction(t.value,i,c)}getDecimalForValue(c){return c===null?NaN:(c-this.min)/(this.max-this.min)}getPixelForValue(c){const i=this._offsets,d=this.getDecimalForValue(c);return this.getPixelForDecimal((i.start+d)*i.factor)}getValueForPixel(c){const i=this._offsets,d=this.getDecimalForPixel(c)/i.factor-i.end;return this.min+d*(this.max-this.min)}_getLabelSize(c){const i=this.options.ticks,d=this.ctx.measureText(c).width,t=Re(this.isHorizontal()?i.maxRotation:i.minRotation),e=Math.cos(t),l=Math.sin(t),s=this._resolveTickFontOptions(0).size;return{w:d*e+s*l,h:d*l+s*e}}_getLabelCapacity(c){const i=this.options.time,d=i.displayFormats,t=d[i.unit]||d.millisecond,e=this._tickFormatFunction(c,0,X0(this,[c],this._majorUnit),t),l=this._getLabelSize(e),s=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return s>0?s:1}getDataTimestamps(){let c=this._cache.data||[],i,d;if(c.length)return c;const t=this.getMatchingVisibleMetas();if(this._normalized&&t.length)return this._cache.data=t[0].controller.getAllParsedValues(this);for(i=0,d=t.length;i<d;++i)c=c.concat(t[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){const c=this._cache.labels||[];let i,d;if(c.length)return c;const t=this.getLabels();for(i=0,d=t.length;i<d;++i)c.push(U0(this,t[i]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(c){return $f(c.sort(l2))}}mn.id="time";mn.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function qs(p,c,i){let d=0,t=p.length-1,e,l,s,r;i?(c>=p[d].pos&&c<=p[t].pos&&({lo:d,hi:t}=$e(p,"pos",c)),{pos:e,time:s}=p[d],{pos:l,time:r}=p[t]):(c>=p[d].time&&c<=p[t].time&&({lo:d,hi:t}=$e(p,"time",c)),{time:e,pos:s}=p[d],{time:l,pos:r}=p[t]);const a=l-e;return a?s+(r-s)*(c-e)/a:s}class na extends mn{constructor(c){super(c),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const c=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(c);this._minPos=qs(i,this.min),this._tableRange=qs(i,this.max)-this._minPos,super.initOffsets(c)}buildLookupTable(c){const{min:i,max:d}=this,t=[],e=[];let l,s,r,a,o;for(l=0,s=c.length;l<s;++l)a=c[l],a>=i&&a<=d&&t.push(a);if(t.length<2)return[{time:i,pos:0},{time:d,pos:1}];for(l=0,s=t.length;l<s;++l)o=t[l+1],r=t[l-1],a=t[l],Math.round((o+r)/2)!==a&&e.push({time:a,pos:l/(s-1)});return e}_getTimestampsForTable(){let c=this._cache.all||[];if(c.length)return c;const i=this.getDataTimestamps(),d=this.getLabelTimestamps();return i.length&&d.length?c=this.normalize(i.concat(d)):c=i.length?i:d,c=this._cache.all=c,c}getDecimalForValue(c){return(qs(this._table,c)-this._minPos)/this._tableRange}getValueForPixel(c){const i=this._offsets,d=this.getDecimalForPixel(c)/i.factor-i.end;return qs(this._table,d*this._tableRange+this._minPos,!0)}}na.id="timeseries";na.defaults=mn.defaults;var Ud=Object.freeze({__proto__:null,CategoryScale:cs,LinearScale:ta,LogarithmicScale:ea,RadialLinearScale:gn,TimeScale:mn,TimeSeriesScale:na});const d2=[od,Rd,Gd,Ud];var c2=Object.freeze(Object.defineProperty({__proto__:null,Animation:sd,Animations:hl,ArcElement:Os,BarController:Es,BarElement:Is,BasePlatform:ul,BasicPlatform:dd,BubbleController:Cs,CategoryScale:cs,Chart:fl,DatasetController:Oe,Decimation:Od,DomPlatform:pd,DoughnutController:Vi,Element:Pe,Filler:Dd,Interaction:hd,Legend:wd,LineController:pn,LineElement:ke,LinearScale:ta,LogarithmicScale:ea,PieController:_r,PointElement:Fs,PolarAreaController:As,RadarController:Ps,RadialLinearScale:gn,Scale:yi,ScatterController:Ms,SubTitle:bd,Ticks:Ls,TimeScale:mn,TimeSeriesScale:na,Title:Bd,Tooltip:Nd,_adapters:ld,_detectPlatform:gd,animator:De,controllers:od,elements:Rd,layouts:Jt,plugins:Gd,registerables:d2,registry:be,scales:Ud,defaults:xt},Symbol.toStringTag,{value:"Module"}));var Vd={exports:{}};(function(p,c){(function(d,t){p.exports=t()})(Zi,function(){return function(i){var d={};function t(e){if(d[e])return d[e].exports;var l=d[e]={i:e,l:!1,exports:{}};return i[e].call(l.exports,l,l.exports,t),l.l=!0,l.exports}return t.m=i,t.c=d,t.d=function(e,l,s){t.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:s})},t.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,l){if(l&1&&(e=t(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var r in e)t.d(s,r,function(a){return e[a]}.bind(null,r));return s},t.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(l,"a",l),l},t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},t.p="",t(t.s=1528)}([function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}function e(o,n,u){var h=u?o[n]:Object.getOwnPropertyDescriptor(o,n);return!u&&h.value&&typeof h.value=="object"&&(h=h.value),h&&t(h)?(typeof h.enumerable=="undefined"&&(h.enumerable=!0),typeof h.configurable=="undefined"&&(h.configurable=!0),h):!1}function l(o,n){var u=Object.getOwnPropertyDescriptor(o,n);return u?(u.value&&typeof u.value=="object"&&(u=u.value),u.configurable===!1):!1}function s(o,n,u,h){for(var f in n)if(!!n.hasOwnProperty(f)){var v=e(n,f,u);if(v!==!1){var m=h||o;if(l(m.prototype,f)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+f+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(o.prototype,f,v)}else o.prototype[f]=n[f]}}function r(o,n){if(!!n){Array.isArray(n)||(n=[n]);for(var u=0;u<n.length;u++)s(o,n[u].prototype||n[u])}}function a(o){o||(o={});var n,u;if(o.initialize){if(typeof o.initialize!="function")throw new Error("initialize must be a function");n=o.initialize,delete o.initialize}else if(o.Extends){var h=o.Extends;n=function(){h.apply(this,arguments)}}else n=function(){};o.Extends?(n.prototype=Object.create(o.Extends.prototype),n.prototype.constructor=n,u=o.Extends,delete o.Extends):n.prototype.constructor=n;var f=null;return o.Mixins&&(f=o.Mixins,delete o.Mixins),r(n,f),s(n,o,!0,u),n}a.extend=s,a.mixin=r,a.ignoreFinals=!1,i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=typeof e;return!e||r==="number"||r==="string"?s:e.hasOwnProperty(l)&&e[l]!==void 0?e[l]:s};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(124),s=new e({initialize:function(a,o){this.x=0,this.y=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0):(o===void 0&&(o=a),this.x=a||0,this.y=o||0)},clone:function(){return new s(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,a){return a===void 0&&(a=r),this.x=r,this.y=a,this},setTo:function(r,a){return this.set(r,a)},setToPolar:function(r,a){return a==null&&(a=1),this.x=Math.cos(r)*a,this.y=Math.sin(r)*a,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,a){return l(this.x,r.x,a)&&l(this.y,r.y,a)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var a=r.x-this.x,o=r.y-this.y;return Math.sqrt(a*a+o*o)},distanceSq:function(r){var a=r.x-this.x,o=r.y-this.y;return a*a+o*o},length:function(){var r=this.x,a=this.y;return Math.sqrt(r*r+a*a)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,a=this.y;return r*r+a*a},normalize:function(){var r=this.x,a=this.y,o=r*r+a*a;return o>0&&(o=1/Math.sqrt(o),this.x=r*o,this.y=a*o),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,a){a===void 0&&(a=0);var o=this.x,n=this.y;return this.x=o+a*(r.x-o),this.y=n+a*(r.y-n),this},transformMat3:function(r){var a=this.x,o=this.y,n=r.val;return this.x=n[0]*a+n[3]*o+n[6],this.y=n[1]*a+n[4]*o+n[7],this},transformMat4:function(r){var a=this.x,o=this.y,n=r.val;return this.x=n[0]*a+n[4]*o+n[12],this.y=n[1]*a+n[5]*o+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var a=this.length();return a&&a>r&&this.scale(r/a),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var a=Math.cos(r),o=Math.sin(r);return this.set(a*this.x-o*this.y,o*this.x+a*this.y)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(56),s=new e({initialize:function(a,o){a===void 0&&(a=0),o===void 0&&(o=a),this.type=l.POINT,this.x=a,this.y=o},setTo:function(r,a){return r===void 0&&(r=0),a===void 0&&(a=r),this.x=r,this.y=a,this}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(24),s=t(20),r=new e({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(a){return(a.renderCanvas||a.renderWebGL)&&this.displayList.add(a),a.preUpdate&&this.updateList.add(a),a},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(a,o){r.prototype.hasOwnProperty(a)||(r.prototype[a]=o)},r.remove=function(a){r.prototype.hasOwnProperty(a)&&delete r.prototype[a]},l.register("GameObjectFactory",r,"add"),i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(!e||typeof e=="number")return s;if(e.hasOwnProperty(l))return e[l];if(l.indexOf(".")!==-1){for(var r=l.split("."),a=e,o=s,n=0;n<r.length;n++)if(a.hasOwnProperty(r[n]))o=a[r[n]],a=a[r[n]];else{o=s;break}return o}else return s};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={install:function(l){for(var s in t)l[s]=t[s]},register:function(l,s){t[l]=s},destroy:function(){t={}}};i.exports=e},function(i,d,t){var e=Object.prototype.hasOwnProperty,l="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(l=!1));function r(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function a(u,h,f,v,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new r(f,v||u,m),x=l?l+h:h;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],g]:u._events[x].push(g):(u._events[x]=g,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new s:delete u._events[h]}function n(){this._events=new s,this._eventsCount=0}n.prototype.eventNames=function(){var h=[],f,v;if(this._eventsCount===0)return h;for(v in f=this._events)e.call(f,v)&&h.push(l?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},n.prototype.listeners=function(h){var f=l?l+h:h,v=this._events[f];if(!v)return[];if(v.fn)return[v.fn];for(var m=0,g=v.length,x=new Array(g);m<g;m++)x[m]=v[m].fn;return x},n.prototype.listenerCount=function(h){var f=l?l+h:h,v=this._events[f];return v?v.fn?1:v.length:0},n.prototype.emit=function(h,f,v,m,g,x){var y=l?l+h:h;if(!this._events[y])return!1;var T=this._events[y],S=arguments.length,E,C;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),S){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,v),!0;case 4:return T.fn.call(T.context,f,v,m),!0;case 5:return T.fn.call(T.context,f,v,m,g),!0;case 6:return T.fn.call(T.context,f,v,m,g,x),!0}for(C=1,E=new Array(S-1);C<S;C++)E[C-1]=arguments[C];T.fn.apply(T.context,E)}else{var A=T.length,P;for(C=0;C<A;C++)switch(T[C].once&&this.removeListener(h,T[C].fn,void 0,!0),S){case 1:T[C].fn.call(T[C].context);break;case 2:T[C].fn.call(T[C].context,f);break;case 3:T[C].fn.call(T[C].context,f,v);break;case 4:T[C].fn.call(T[C].context,f,v,m);break;default:if(!E)for(P=1,E=new Array(S-1);P<S;P++)E[P-1]=arguments[P];T[C].fn.apply(T[C].context,E)}}return!0},n.prototype.on=function(h,f,v){return a(this,h,f,v,!1)},n.prototype.once=function(h,f,v){return a(this,h,f,v,!0)},n.prototype.removeListener=function(h,f,v,m){var g=l?l+h:h;if(!this._events[g])return this;if(!f)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===f&&(!m||x.once)&&(!v||x.context===v)&&o(this,g);else{for(var y=0,T=[],S=x.length;y<S;y++)(x[y].fn!==f||m&&!x[y].once||v&&x[y].context!==v)&&T.push(x[y]);T.length?this._events[g]=T.length===1?T[0]:T:o(this,g)}return this},n.prototype.removeAllListeners=function(h){var f;return h?(f=l?l+h:h,this._events[f]&&o(this,f)):(this._events=new s,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=l,n.EventEmitter=n,i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(57),s=t(171),r=t(306),a=t(56),o=t(47),n=t(174),u=new e({initialize:function(f,v,m,g){f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=0),this.type=a.RECTANGLE,this.x=f,this.y=v,this.width=m,this.height=g},contains:function(h,f){return l(this,h,f)},getPoint:function(h,f){return s(this,h,f)},getPoints:function(h,f,v){return r(this,h,f,v)},getRandomPoint:function(h){return n(this,h)},setTo:function(h,f,v,m){return this.x=h,this.y=f,this.width=v,this.height=m,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(h,f){return f===void 0&&(f=h),this.x=h,this.y=f,this},setSize:function(h,f){return f===void 0&&(f=h),this.width=h,this.height=f,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(h){return h===void 0&&(h=new o),h.setTo(this.x,this.y,this.right,this.y),h},getLineB:function(h){return h===void 0&&(h=new o),h.setTo(this.right,this.y,this.right,this.bottom),h},getLineC:function(h){return h===void 0&&(h=new o),h.setTo(this.right,this.bottom,this.x,this.bottom),h},getLineD:function(h){return h===void 0&&(h=new o),h.setTo(this.x,this.bottom,this.x,this.y),h},left:{get:function(){return this.x},set:function(h){h>=this.right?this.width=0:this.width=this.right-h,this.x=h}},right:{get:function(){return this.x+this.width},set:function(h){h<=this.x?this.width=0:this.width=h-this.x}},top:{get:function(){return this.y},set:function(h){h>=this.bottom?this.height=0:this.height=this.bottom-h,this.y=h}},bottom:{get:function(){return this.y+this.height},set:function(h){h<=this.y?this.height=0:this.height=h-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Alpha:t(607),AlphaSingle:t(303),BlendMode:t(304),ComputedSize:t(608),Crop:t(609),Depth:t(305),Flip:t(610),GetBounds:t(611),Mask:t(309),Origin:t(632),PathFollower:t(633),Pipeline:t(167),ScrollFactor:t(312),Size:t(634),Texture:t(635),TextureCrop:t(636),Tint:t(637),ToJSON:t(176),Transform:t(313),TransformMatrix:t(25),Visible:t(314)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e){for(var l="",s=0;s<e;++s)s>0&&(l+=`
else `),s<e-1&&(l+="if(test == "+s+".0){}");return l}i.exports={getTintFromFloats:function(e,l,s,r){var a=(e*255|0)&255,o=(l*255|0)&255,n=(s*255|0)&255,u=(r*255|0)&255;return(u<<24|a<<16|o<<8|n)>>>0},getTintAppendFloatAlpha:function(e,l){var s=(l*255|0)&255;return(s<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,l){var s=(e>>16|0)&255,r=(e>>8|0)&255,a=(e|0)&255,o=(l*255|0)&255;return(o<<24|a<<16|r<<8|s)>>>0},getFloatsFromUintRGB:function(e){var l=(e>>16|0)&255,s=(e>>8|0)&255,r=(e|0)&255;return[l/255,s/255,r/255]},checkShaderMax:function(e,l){(!l||l===-1)&&(l=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));for(var s=e.createShader(e.FRAGMENT_SHADER),r=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);;){var a=r.replace(/%forloop%/gi,t(l));if(e.shaderSource(s,a),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))l=l/2|0;else break}return l},parseFragmentShaderMaxTextures:function(e,l){if(!e)return"";for(var s="",r=0;r<l;r++)r>0&&(s+=`
	else `),r<l-1&&(s+="if (outTexId < "+r+".5)"),s+=`
	{`,s+=`
		texture = texture2D(uMainSampler[`+r+"], outTexCoord);",s+=`
	}`;return e=e.replace(/%count%/gi,l.toString()),e.replace(/%forloop%/gi,s)}}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(193),l=t(6),s=function(r,a,o){var n=l(r,a,null);if(n===null)return o;if(Array.isArray(n))return e.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return e.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return e.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(a);return n};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(176),s=t(101),r=t(9),a=t(75),o=t(20),n=new e({Extends:r,initialize:function(h,f){r.call(this),this.scene=h,this.displayList=null,this.type=f,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this),h.sys.queueDepthSort()},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},setState:function(u){return this.state=u,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(u,h){return this.data||(this.data=new s(this)),this.data.set(u,h),this},incData:function(u,h){return this.data||(this.data=new s(this)),this.data.inc(u,h),this},toggleData:function(u){return this.data||(this.data=new s(this)),this.data.toggle(u),this},getData:function(u){return this.data||(this.data=new s(this)),this.data.get(u)},setInteractive:function(u,h,f){return this.scene.sys.input.enable(this,u,h,f),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return l(this)},willRender:function(u){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},getIndexList:function(){for(var u=this,h=this.parentContainer,f=[];h&&(f.unshift(h.getIndex(u)),u=h,h.parentContainer);)h=h.parentContainer;return this.displayList?f.unshift(this.displayList.getIndex(u)):f.unshift(this.scene.sys.displayList.getIndex(u)),f},addToDisplayList:function(u){return u===void 0&&(u=this.scene.sys.displayList),this.displayList&&this.displayList!==u&&this.removeFromDisplayList(),u.exists(this)||(this.displayList=u,u.add(this,!0),u.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),u.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var u=this.displayList||this.scene.sys.displayList;return u.exists(this)&&(u.remove(this,!0),u.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),u.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(u){!this.scene||this.ignoreDestroy||(u===void 0&&(u=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this,u),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(24),s=t(20),r=new e({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(a,o){r.prototype.hasOwnProperty(a)||(r.prototype[a]=o)},r.remove=function(a){r.prototype.hasOwnProperty(a)&&delete r.prototype[a]},l.register("GameObjectCreator",r,"make"),i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(7),l=function(){var s,r,a,o,n,u,h=arguments[0]||{},f=1,v=arguments.length,m=!1;for(typeof h=="boolean"&&(m=h,h=arguments[1]||{},f=2),v===f&&(h=this,--f);f<v;f++)if((s=arguments[f])!=null)for(r in s)a=h[r],o=s[r],h!==o&&(m&&o&&(e(o)||(n=Array.isArray(o)))?(n?(n=!1,u=a&&Array.isArray(a)?a:[]):u=a&&e(a)?a:{},h[r]=l(m,u,o)):o!==void 0&&(h[r]=o));return h};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return Math.max(l,Math.min(s,e))};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),l=new e,s=new e,r=new e,a={camera:l,sprite:s,calc:r},o=function(n,u,h){var f=l,v=s,m=r;return v.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),f.copyFrom(u.matrix),h?(f.multiplyWithOffset(h,-u.scrollX*n.scrollFactorX,-u.scrollY*n.scrollFactorY),v.e=n.x,v.f=n.y):(v.e-=u.scrollX*n.scrollFactorX,v.f-=u.scrollY*n.scrollFactorY),f.multiply(v,m),a};i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ADDED_TO_SCENE:t(656),BOOT:t(657),CREATE:t(658),DESTROY:t(659),PAUSE:t(660),POST_UPDATE:t(661),PRE_RENDER:t(662),PRE_UPDATE:t(663),READY:t(664),REMOVED_FROM_SCENE:t(665),RENDER:t(666),RESUME:t(667),SHUTDOWN:t(668),SLEEP:t(669),START:t(670),TRANSITION_COMPLETE:t(671),TRANSITION_INIT:t(672),TRANSITION_OUT:t(673),TRANSITION_START:t(674),TRANSITION_WAKE:t(675),UPDATE:t(676),WAKE:t(677)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={BLUR:t(612),BOOT:t(613),CONTEXT_LOST:t(614),CONTEXT_RESTORED:t(615),DESTROY:t(616),FOCUS:t(617),HIDDEN:t(618),PAUSE:t(619),POST_RENDER:t(620),POST_STEP:t(621),PRE_RENDER:t(622),PRE_STEP:t(623),READY:t(624),RESUME:t(625),STEP:t(626),VISIBLE:t(627)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(95),r=t(2),a=t(155),o=t(240),n=t(517),u=t(156),h=new e({initialize:function(v,m){this.loader=v,this.cache=r(m,"cache",!1),this.type=r(m,"type",!1),this.key=r(m,"key",!1);var g=this.key;if(v.prefix&&v.prefix!==""&&(this.key=v.prefix+g),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var x=r(m,"url");x===void 0?x=v.path+g+"."+r(m,"extension",""):typeof x=="string"&&!x.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(x=v.path+x),this.url=x,this.src="",this.xhrSettings=u(r(m,"responseType",void 0)),r(m,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,r(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?l.FILE_POPULATED:l.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(m,"config",{}),this.multiFile,this.linkFile},setLink:function(f){this.linkFile=f,f.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===l.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=l.FILE_LOADING,this.src=a(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=n(this,this.loader.xhr))},onLoad:function(f,v){var m=f.responseURL&&(f.responseURL.indexOf("file://")===0||f.responseURL.indexOf("capacitor://")===0),g=m&&v.target.status===0,x=!(v.target&&v.target.status!==200)||g;f.readyState===4&&f.status>=400&&f.status<=599&&(x=!1),this.state=l.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,x)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(f){f.lengthComputable&&(this.bytesLoaded=f.loaded,this.bytesTotal=f.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=l.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=l.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=l.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(f){f===void 0&&(f=this.data);var v=this.key,m=this.type;this.loader.emit(s.FILE_COMPLETE,v,m,f),this.loader.emit(s.FILE_KEY_COMPLETE+m+"-"+v,v,m,f),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});h.createObjectURL=function(f,v,m){if(typeof URL=="function")f.src=URL.createObjectURL(v);else{var g=new FileReader;g.onload=function(){f.removeAttribute("crossOrigin"),f.src="data:"+(v.type||m)+";base64,"+g.result.split(",")[1]},g.onerror=f.onerror,g.readAsDataURL(v)}},h.revokeObjectURL=function(f){typeof URL=="function"&&URL.revokeObjectURL(f.src)},i.exports=h},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={},l={};l.register=function(s,r,a,o){o===void 0&&(o=!1),t[s]={plugin:r,mapping:a,custom:o}},l.registerCustom=function(s,r,a,o){e[s]={plugin:r,mapping:a,data:o}},l.hasCore=function(s){return t.hasOwnProperty(s)},l.hasCustom=function(s){return e.hasOwnProperty(s)},l.getCore=function(s){return t[s]},l.getCustom=function(s){return e[s]},l.getCustomClass=function(s){return e.hasOwnProperty(s)?e[s].plugin:null},l.remove=function(s){t.hasOwnProperty(s)&&delete t[s]},l.removeCustom=function(s){e.hasOwnProperty(s)&&delete e[s]},l.destroyCorePlugins=function(){for(var s in t)t.hasOwnProperty(s)&&delete t[s]},l.destroyCustomPlugins=function(){for(var s in e)e.hasOwnProperty(s)&&delete e[s]},i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(14),s=t(3),r=new e({initialize:function(o,n,u,h,f,v){o===void 0&&(o=1),n===void 0&&(n=0),u===void 0&&(u=0),h===void 0&&(h=1),f===void 0&&(f=0),v===void 0&&(v=0),this.matrix=new Float32Array([o,n,u,h,f,v,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(a){this.matrix[0]=a}},b:{get:function(){return this.matrix[1]},set:function(a){this.matrix[1]=a}},c:{get:function(){return this.matrix[2]},set:function(a){this.matrix[2]=a}},d:{get:function(){return this.matrix[3]},set:function(a){this.matrix[3]=a}},e:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},f:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},tx:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},ty:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var a=this.matrix,o=a[0],n=a[1],u=a[2],h=a[3];return o||n?n>0?Math.acos(o/this.scaleX):-Math.acos(o/this.scaleX):u||h?l.TAU-(h>0?Math.acos(-u/this.scaleY):-Math.acos(u/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var a=this.matrix;return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,this},translate:function(a,o){var n=this.matrix;return n[4]=n[0]*a+n[2]*o+n[4],n[5]=n[1]*a+n[3]*o+n[5],this},scale:function(a,o){var n=this.matrix;return n[0]*=a,n[1]*=a,n[2]*=o,n[3]*=o,this},rotate:function(a){var o=Math.sin(a),n=Math.cos(a),u=this.matrix,h=u[0],f=u[1],v=u[2],m=u[3];return u[0]=h*n+v*o,u[1]=f*n+m*o,u[2]=h*-o+v*n,u[3]=f*-o+m*n,this},multiply:function(a,o){var n=this.matrix,u=a.matrix,h=n[0],f=n[1],v=n[2],m=n[3],g=n[4],x=n[5],y=u[0],T=u[1],S=u[2],E=u[3],C=u[4],A=u[5],P=o===void 0?this:o;return P.a=y*h+T*v,P.b=y*f+T*m,P.c=S*h+E*v,P.d=S*f+E*m,P.e=C*h+A*v+g,P.f=C*f+A*m+x,P},multiplyWithOffset:function(a,o,n){var u=this.matrix,h=a.matrix,f=u[0],v=u[1],m=u[2],g=u[3],x=u[4],y=u[5],T=o*f+n*m+x,S=o*v+n*g+y,E=h[0],C=h[1],A=h[2],P=h[3],R=h[4],M=h[5];return u[0]=E*f+C*m,u[1]=E*v+C*g,u[2]=A*f+P*m,u[3]=A*v+P*g,u[4]=R*f+M*m+T,u[5]=R*v+M*g+S,this},transform:function(a,o,n,u,h,f){var v=this.matrix,m=v[0],g=v[1],x=v[2],y=v[3],T=v[4],S=v[5];return v[0]=a*m+o*x,v[1]=a*g+o*y,v[2]=n*m+u*x,v[3]=n*g+u*y,v[4]=h*m+f*x+T,v[5]=h*g+f*y+S,this},transformPoint:function(a,o,n){n===void 0&&(n={x:0,y:0});var u=this.matrix,h=u[0],f=u[1],v=u[2],m=u[3],g=u[4],x=u[5];return n.x=a*h+o*v+g,n.y=a*f+o*m+x,n},invert:function(){var a=this.matrix,o=a[0],n=a[1],u=a[2],h=a[3],f=a[4],v=a[5],m=o*h-n*u;return a[0]=h/m,a[1]=-n/m,a[2]=-u/m,a[3]=o/m,a[4]=(u*v-h*f)/m,a[5]=-(o*v-n*f)/m,this},copyFrom:function(a){var o=this.matrix;return o[0]=a.a,o[1]=a.b,o[2]=a.c,o[3]=a.d,o[4]=a.e,o[5]=a.f,this},copyFromArray:function(a){var o=this.matrix;return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[4]=a[4],o[5]=a[5],this},copyToContext:function(a){var o=this.matrix;return a.transform(o[0],o[1],o[2],o[3],o[4],o[5]),a},setToContext:function(a){var o=this.matrix;return a.setTransform(o[0],o[1],o[2],o[3],o[4],o[5]),a},copyToArray:function(a){var o=this.matrix;return a===void 0?a=[o[0],o[1],o[2],o[3],o[4],o[5]]:(a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5]),a},setTransform:function(a,o,n,u,h,f){var v=this.matrix;return v[0]=a,v[1]=o,v[2]=n,v[3]=u,v[4]=h,v[5]=f,this},decomposeMatrix:function(){var a=this.decomposedMatrix,o=this.matrix,n=o[0],u=o[1],h=o[2],f=o[3],v=n*f-u*h;if(a.translateX=o[4],a.translateY=o[5],n||u){var m=Math.sqrt(n*n+u*u);a.rotation=u>0?Math.acos(n/m):-Math.acos(n/m),a.scaleX=m,a.scaleY=v/m}else if(h||f){var g=Math.sqrt(h*h+f*f);a.rotation=Math.PI*.5-(f>0?Math.acos(-h/g):-Math.acos(h/g)),a.scaleX=v/g,a.scaleY=g}else a.rotation=0,a.scaleX=0,a.scaleY=0;return a},applyITRS:function(a,o,n,u,h){var f=this.matrix,v=Math.sin(n),m=Math.cos(n);return f[4]=a,f[5]=o,f[0]=m*u,f[1]=v*u,f[2]=-v*h,f[3]=m*h,this},applyInverse:function(a,o,n){n===void 0&&(n=new s);var u=this.matrix,h=u[0],f=u[1],v=u[2],m=u[3],g=u[4],x=u[5],y=1/(h*m+v*-f);return n.x=m*y*a+-v*y*o+(x*v-g*m)*y,n.y=h*y*o+-f*y*a+(-x*h+g*f)*y,n},getX:function(a,o){return a*this.a+o*this.c+this.e},getY:function(a,o){return a*this.b+o*this.d+this.f},getXRound:function(a,o,n){var u=this.getX(a,o);return n&&(u=Math.round(u)),u},getYRound:function(a,o,n){var u=this.getY(a,o);return n&&(u=Math.round(u)),u},getCSSMatrix:function(){var a=this.matrix;return"matrix("+a[0]+","+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),l=function(s,r,a,o,n,u){s===void 0&&(s=0),r===void 0&&(r=0),a===void 0&&(a=u.width),o===void 0&&(o=u.height),n||(n={});var h=e(n,"isNotEmpty",!1),f=e(n,"isColliding",!1),v=e(n,"hasInterestingFace",!1);s<0&&(a+=s,s=0),r<0&&(o+=r,r=0),s+a>u.width&&(a=Math.max(u.width-s,0)),r+o>u.height&&(o=Math.max(u.height-r,0));for(var m=[],g=r;g<r+o;g++)for(var x=s;x<s+a;x++){var y=u.data[g][x];if(y!==null){if(h&&y.index===-1||f&&!y.collides||v&&!y.hasInterestingFace)continue;m.push(y)}}return m};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a,o){r===void 0&&(r=0),a===void 0&&(a=0),o===void 0&&(o=1);var n,u=0,h=e.length;if(o===1)for(n=a;n<h;n++)e[n][l]=s+u*r,u++;else for(n=a;n>=0;n--)e[n][l]=s+u*r,u++;return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),l=t(13),s=function(r,a,o){a.x=l(o,"x",0),a.y=l(o,"y",0),a.depth=l(o,"depth",0),a.flipX=l(o,"flipX",!1),a.flipY=l(o,"flipY",!1);var n=l(o,"scale",null);typeof n=="number"?a.setScale(n):n!==null&&(a.scaleX=l(n,"x",1),a.scaleY=l(n,"y",1));var u=l(o,"scrollFactor",null);typeof u=="number"?a.setScrollFactor(u):u!==null&&(a.scrollFactorX=l(u,"x",1),a.scrollFactorY=l(u,"y",1)),a.rotation=l(o,"rotation",0);var h=l(o,"angle",null);h!==null&&(a.angle=h),a.alpha=l(o,"alpha",1);var f=l(o,"origin",null);if(typeof f=="number")a.setOrigin(f);else if(f!==null){var v=l(f,"x",.5),m=l(f,"y",.5);a.setOrigin(v,m)}a.blendMode=l(o,"blendMode",e.NORMAL),a.visible=l(o,"visible",!0);var g=l(o,"add",!0);return g&&r.sys.displayList.add(a),a.preUpdate&&r.sys.updateList.add(a),a};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=function(s,r,a,o,n){var u=o.alpha*a.alpha;if(u<=0)return!1;var h=e(a,o,n).calc;return r.globalCompositeOperation=s.blendModes[a.blendMode],r.globalAlpha=u,r.save(),h.setToContext(r),r.imageSmoothingEnabled=!(!s.antialias||a.frame&&a.frame.source.scaleMode),!0};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),l=t(192),s=[],r=!1,a=function(){var o=function(y,T,S,E,C){T===void 0&&(T=1),S===void 0&&(S=1),E===void 0&&(E=e.CANVAS),C===void 0&&(C=!1);var A,P=h(E);return P===null?(P={parent:y,canvas:document.createElement("canvas"),type:E},E===e.CANVAS&&s.push(P),A=P.canvas):(P.parent=y,A=P.canvas),C&&(P.parent=A),A.width=T,A.height=S,r&&E===e.CANVAS&&l.disable(A.getContext("2d")),A},n=function(y,T,S){return o(y,T,S,e.CANVAS)},u=function(y,T,S){return o(y,T,S,e.WEBGL)},h=function(y){if(y===void 0&&(y=e.CANVAS),y===e.WEBGL)return null;for(var T=0;T<s.length;T++){var S=s[T];if(!S.parent&&S.type===y)return S}return null},f=function(y){var T=y instanceof HTMLCanvasElement;s.forEach(function(S){(T&&S.canvas===y||!T&&S.parent===y)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},v=function(){var y=0;return s.forEach(function(T){T.parent&&y++}),y},m=function(){return s.length-v()},g=function(){r=!0},x=function(){r=!1};return{create2D:n,create:o,createWebGL:u,disableSmoothing:g,enableSmoothing:x,first:h,free:m,pool:s,remove:f,total:v}};i.exports=a()},function(i,d){var t={};i.exports=t,function(){t._nextId=0,t._seed=0,t._nowStartTime=+new Date,t.extend=function(l,s){var r,a;typeof s=="boolean"?(r=2,a=s):(r=1,a=!0);for(var o=r;o<arguments.length;o++){var n=arguments[o];if(n)for(var u in n)a&&n[u]&&n[u].constructor===Object&&(!l[u]||l[u].constructor===Object)?(l[u]=l[u]||{},t.extend(l[u],a,n[u])):l[u]=n[u]}return l},t.clone=function(l,s){return t.extend({},s,l)},t.keys=function(l){if(Object.keys)return Object.keys(l);var s=[];for(var r in l)s.push(r);return s},t.values=function(l){var s=[];if(Object.keys){for(var r=Object.keys(l),a=0;a<r.length;a++)s.push(l[r[a]]);return s}for(var o in l)s.push(l[o]);return s},t.get=function(l,s,r,a){s=s.split(".").slice(r,a);for(var o=0;o<s.length;o+=1)l=l[s[o]];return l},t.set=function(l,s,r,a,o){var n=s.split(".").slice(a,o);return t.get(l,s,0,-1)[n[n.length-1]]=r,r},t.shuffle=function(l){for(var s=l.length-1;s>0;s--){var r=Math.floor(t.random()*(s+1)),a=l[s];l[s]=l[r],l[r]=a}return l},t.choose=function(l){return l[Math.floor(t.random()*l.length)]},t.isElement=function(l){return typeof HTMLElement!="undefined"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},t.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},t.isFunction=function(l){return typeof l=="function"},t.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},t.isString=function(l){return Object.prototype.toString.call(l)==="[object String]"},t.clamp=function(l,s,r){return l<s?s:l>r?r:l},t.sign=function(l){return l<0?-1:1},t.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-t._nowStartTime},t.random=function(l,s){return l=typeof l!="undefined"?l:0,s=typeof s!="undefined"?s:1,l+e()*(s-l)};var e=function(){return t._seed=(t._seed*9301+49297)%233280,t._seed/233280};t.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},t.logLevel=1,t.log=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.info=function(){console&&t.logLevel>0&&t.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.warn=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.nextId=function(){return t._nextId++},t.indexOf=function(l,s){if(l.indexOf)return l.indexOf(s);for(var r=0;r<l.length;r++)if(l[r]===s)return r;return-1},t.map=function(l,s){if(l.map)return l.map(s);for(var r=[],a=0;a<l.length;a+=1)r.push(s(l[a]));return r},t.topologicalSort=function(l){var s=[],r=[],a=[];for(var o in l)!r[o]&&!a[o]&&t._topologicalSort(o,r,a,l,s);return s},t._topologicalSort=function(l,s,r,a,o){var n=a[l]||[];r[l]=!0;for(var u=0;u<n.length;u+=1){var h=n[u];r[h]||s[h]||t._topologicalSort(h,s,r,a,o)}r[l]=!1,s[l]=!0,o.push(l)},t.chain=function(){for(var l=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?l.push.apply(l,r._chained):l.push(r)}var a=function(){for(var o,n=new Array(arguments.length),u=0,h=arguments.length;u<h;u++)n[u]=arguments[u];for(u=0;u<l.length;u+=1){var f=l[u].apply(o,n);typeof f!="undefined"&&(o=f)}return o};return a._chained=l,a},t.chainPathBefore=function(l,s,r){return t.set(l,s,t.chain(r,t.get(l,s)))},t.chainPathAfter=function(l,s,r){return t.set(l,s,t.chain(t.get(l,s),r))}}()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={VERSION:"3.55.2",BlendModes:t(35),ScaleModes:t(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(15),r=t(47),a=new e({Extends:s,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.ScrollFactor,l.Transform,l.Visible],initialize:function(n,u,h){u===void 0&&(u="Shape"),s.call(this,n,u),this.geom=h,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.isFilled=!1:(this.fillColor=o,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(o,n,u){return u===void 0&&(u=1),o===void 0?this.isStroked=!1:(this.lineWidth=o,this.strokeColor=n,this.strokeAlpha=u,this.isStroked=!0),this},setClosePath:function(o){return this.closePath=o,this},setSize:function(o,n){return this.width=o,this.height=n,this},setDisplaySize:function(o,n){return this.displayWidth=o,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}}});i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=function(s){return s*e.DEG_TO_RAD};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={DESTROY:t(743),FADE_IN_COMPLETE:t(744),FADE_IN_START:t(745),FADE_OUT_COMPLETE:t(746),FADE_OUT_START:t(747),FLASH_COMPLETE:t(748),FLASH_START:t(749),FOLLOW_UPDATE:t(750),PAN_COMPLETE:t(751),PAN_START:t(752),POST_RENDER:t(753),PRE_RENDER:t(754),ROTATE_COMPLETE:t(755),ROTATE_START:t(756),SHAKE_COMPLETE:t(757),SHAKE_START:t(758),ZOOM_COMPLETE:t(759),ZOOM_START:t(760)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(103),s=t(328),r=t(188),a=t(329),o=new e({initialize:function(u,h,f,v){u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(u,h,f,v)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,u,h,f,v){return f===void 0&&(f=255),v===void 0&&(v=!0),this._locked=!0,this.red=n,this.green=u,this.blue=h,this.alpha=f,this._locked=!1,this.update(v)},setGLTo:function(n,u,h,f){return f===void 0&&(f=1),this._locked=!0,this.redGL=n,this.greenGL=u,this.blueGL=h,this.alphaGL=f,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,u,h){return r(n,u,h,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var u=this.r,h=this.g,f=this.b,v=this.a;return this._color=l(u,h,f),this._color32=s(u,h,f,v),this._rgba="rgba("+u+","+h+","+f+","+v/255+")",n&&a(u,h,f,this),this},updateHSV:function(){var n=this.r,u=this.g,h=this.b;return a(n,u,h,this),this},clone:function(){return new o(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,u){n===void 0&&(n=0),u===void 0&&(u=255);var h=Math.floor(n+Math.random()*(u-n)),f=Math.floor(n+Math.random()*(u-n)),v=Math.floor(n+Math.random()*(u-n));return this.setTo(h,f,v)},randomGray:function(n,u){n===void 0&&(n=0),u===void 0&&(u=255);var h=Math.floor(n+Math.random()*(u-n));return this.setTo(h,h,h)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var u=this.r,h=this.g,f=this.b;return u=Math.max(0,Math.min(255,u-Math.round(255*-(n/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(n/100)))),f=Math.max(0,Math.min(255,f-Math.round(255*-(n/100)))),this.setTo(u,h,f)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,r(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,r(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,r(this._h,this._s,n,this)}}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a,o){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=a||0,this.z=o||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this},max:function(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this},clone:function(){return new l(this.x,this.y,this.z)},addVectors:function(s,r){return this.x=s.x+r.x,this.y=s.y+r.y,this.z=s.z+r.z,this},crossVectors:function(s,r){var a=s.x,o=s.y,n=s.z,u=r.x,h=r.y,f=r.z;return this.x=o*f-n*h,this.y=n*u-a*f,this.z=a*h-o*u,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this},set:function(s,r,a){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=r||0,this.z=a||0),this},setFromMatrixPosition:function(s){return this.fromArray(s.val,12)},setFromMatrixColumn:function(s,r){return this.fromArray(s.val,r*4)},fromArray:function(s,r){return r===void 0&&(r=0),this.x=s[r],this.y=s[r+1],this.z=s[r+2],this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addScale:function(s,r){return this.x+=s.x*r,this.y+=s.y*r,this.z+=s.z*r||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s,this.z*=s):(this.x=0,this.y=0,this.z=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(s){var r=s.x-this.x,a=s.y-this.y,o=s.z-this.z||0;return Math.sqrt(r*r+a*a+o*o)},distanceSq:function(s){var r=s.x-this.x,a=s.y-this.y,o=s.z-this.z||0;return r*r+a*a+o*o},length:function(){var s=this.x,r=this.y,a=this.z;return Math.sqrt(s*s+r*r+a*a)},lengthSq:function(){var s=this.x,r=this.y,a=this.z;return s*s+r*r+a*a},normalize:function(){var s=this.x,r=this.y,a=this.z,o=s*s+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),this.x=s*o,this.y=r*o,this.z=a*o),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z},cross:function(s){var r=this.x,a=this.y,o=this.z,n=s.x,u=s.y,h=s.z;return this.x=a*h-o*u,this.y=o*n-r*h,this.z=r*u-a*n,this},lerp:function(s,r){r===void 0&&(r=0);var a=this.x,o=this.y,n=this.z;return this.x=a+r*(s.x-a),this.y=o+r*(s.y-o),this.z=n+r*(s.z-n),this},applyMatrix3:function(s){var r=this.x,a=this.y,o=this.z,n=s.val;return this.x=n[0]*r+n[3]*a+n[6]*o,this.y=n[1]*r+n[4]*a+n[7]*o,this.z=n[2]*r+n[5]*a+n[8]*o,this},applyMatrix4:function(s){var r=this.x,a=this.y,o=this.z,n=s.val,u=1/(n[3]*r+n[7]*a+n[11]*o+n[15]);return this.x=(n[0]*r+n[4]*a+n[8]*o+n[12])*u,this.y=(n[1]*r+n[5]*a+n[9]*o+n[13])*u,this.z=(n[2]*r+n[6]*a+n[10]*o+n[14])*u,this},transformMat3:function(s){var r=this.x,a=this.y,o=this.z,n=s.val;return this.x=r*n[0]+a*n[3]+o*n[6],this.y=r*n[1]+a*n[4]+o*n[7],this.z=r*n[2]+a*n[5]+o*n[8],this},transformMat4:function(s){var r=this.x,a=this.y,o=this.z,n=s.val;return this.x=n[0]*r+n[4]*a+n[8]*o+n[12],this.y=n[1]*r+n[5]*a+n[9]*o+n[13],this.z=n[2]*r+n[6]*a+n[10]*o+n[14],this},transformCoordinates:function(s){var r=this.x,a=this.y,o=this.z,n=s.val,u=r*n[0]+a*n[4]+o*n[8]+n[12],h=r*n[1]+a*n[5]+o*n[9]+n[13],f=r*n[2]+a*n[6]+o*n[10]+n[14],v=r*n[3]+a*n[7]+o*n[11]+n[15];return this.x=u/v,this.y=h/v,this.z=f/v,this},transformQuat:function(s){var r=this.x,a=this.y,o=this.z,n=s.x,u=s.y,h=s.z,f=s.w,v=f*r+u*o-h*a,m=f*a+h*r-n*o,g=f*o+n*a-u*r,x=-n*r-u*a-h*o;return this.x=v*f+x*-n+m*-h-g*-u,this.y=m*f+x*-u+g*-n-v*-h,this.z=g*f+x*-h+v*-u-m*-n,this},project:function(s){var r=this.x,a=this.y,o=this.z,n=s.val,u=n[0],h=n[1],f=n[2],v=n[3],m=n[4],g=n[5],x=n[6],y=n[7],T=n[8],S=n[9],E=n[10],C=n[11],A=n[12],P=n[13],R=n[14],M=n[15],L=1/(r*v+a*y+o*C+M);return this.x=(r*u+a*m+o*T+A)*L,this.y=(r*h+a*g+o*S+P)*L,this.z=(r*f+a*x+o*E+R)*L,this},projectViewMatrix:function(s,r){return this.applyMatrix4(s).applyMatrix4(r)},unprojectViewMatrix:function(s,r){return this.applyMatrix4(s).applyMatrix4(r)},unproject:function(s,r){var a=s.x,o=s.y,n=s.z,u=s.w,h=this.x-a,f=u-this.y-1-o,v=this.z;return this.x=2*h/n-1,this.y=2*f/u-1,this.z=2*v-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});l.ZERO=new l,l.RIGHT=new l(1,0,0),l.LEFT=new l(-1,0,0),l.UP=new l(0,-1,0),l.DOWN=new l(0,1,0),l.FORWARD=new l(0,0,1),l.BACK=new l(0,0,-1),l.ONE=new l(1,1,1),i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(i,d,t){var e={};i.exports=e;var l=t(64),s=t(83),r=t(165),a=t(32),o=t(84),n=t(271);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(h){var f={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!h.hasOwnProperty("position")&&h.hasOwnProperty("vertices")?h.position=l.centre(h.vertices):h.hasOwnProperty("vertices")||(f.vertices=l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var v=a.extend(f,h);return u(v,h),v.setOnCollideWith=function(m,g){return g?this.onCollideWith[m.id]=g:delete this.onCollideWith[m.id],this},v},e.nextGroup=function(h){return h?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var u=function(h,f){f=f||{},e.set(h,{bounds:h.bounds||o.create(h.vertices),positionPrev:h.positionPrev||s.clone(h.position),anglePrev:h.anglePrev||h.angle,vertices:h.vertices,parts:h.parts||[h],isStatic:h.isStatic,isSleeping:h.isSleeping,parent:h.parent||h});var v=h.bounds;if(l.rotate(h.vertices,h.angle,h.position),n.rotate(h.axes,h.angle),o.update(v,h.vertices,h.velocity),e.set(h,{axes:f.axes||h.axes,area:f.area||h.area,mass:f.mass||h.mass,inertia:f.inertia||h.inertia}),h.parts.length===1){var m=h.centerOfMass,g=h.centerOffset,x=v.max.x-v.min.x,y=v.max.y-v.min.y;m.x=-(v.min.x-h.position.x)/x,m.y=-(v.min.y-h.position.y)/y,g.x=x*m.x,g.y=y*m.y}};e.set=function(h,f,v){var m;typeof f=="string"&&(m=f,f={},f[m]=v);for(m in f)if(!!Object.prototype.hasOwnProperty.call(f,m))switch(v=f[m],m){case"isStatic":e.setStatic(h,v);break;case"isSleeping":r.set(h,v);break;case"mass":e.setMass(h,v);break;case"density":e.setDensity(h,v);break;case"inertia":e.setInertia(h,v);break;case"vertices":e.setVertices(h,v);break;case"position":e.setPosition(h,v);break;case"angle":e.setAngle(h,v);break;case"velocity":e.setVelocity(h,v);break;case"angularVelocity":e.setAngularVelocity(h,v);break;case"parts":e.setParts(h,v);break;case"centre":e.setCentre(h,v);break;default:h[m]=v}},e.setStatic=function(h,f){for(var v=0;v<h.parts.length;v++){var m=h.parts[v];m.isStatic=f,f?(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia},m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null)}},e.setMass=function(h,f){var v=h.inertia/(h.mass/6);h.inertia=v*(f/6),h.inverseInertia=1/h.inertia,h.mass=f,h.inverseMass=1/h.mass,h.density=h.mass/h.area},e.setDensity=function(h,f){e.setMass(h,f*h.area),h.density=f},e.setInertia=function(h,f){h.inertia=f,h.inverseInertia=1/h.inertia},e.setVertices=function(h,f){f[0].body===h?h.vertices=f:h.vertices=l.create(f,h),h.axes=n.fromVertices(h.vertices),h.area=l.area(h.vertices),e.setMass(h,h.density*h.area);var v=l.centre(h.vertices);l.translate(h.vertices,v,-1),e.setInertia(h,e._inertiaScale*l.inertia(h.vertices,h.mass)),l.translate(h.vertices,h.position),o.update(h.bounds,h.vertices,h.velocity)},e.setParts=function(h,f,v){var m;for(f=f.slice(0),h.parts.length=0,h.parts.push(h),h.parent=h,m=0;m<f.length;m++){var g=f[m];g!==h&&(g.parent=h,h.parts.push(g))}if(h.parts.length!==1){if(v=typeof v!="undefined"?v:!0,v){var x=[];for(m=0;m<f.length;m++)x=x.concat(f[m].vertices);l.clockwiseSort(x);var y=l.hull(x),T=l.centre(y);e.setVertices(h,y),l.translate(h.vertices,T)}var S=e._totalProperties(h),E=S.centre.x,C=S.centre.y,A=h.bounds,P=h.centerOfMass,R=h.centerOffset;o.update(A,h.vertices,h.velocity),P.x=-(A.min.x-E)/(A.max.x-A.min.x),P.y=-(A.min.y-C)/(A.max.y-A.min.y),R.x=E,R.y=C,h.area=S.area,h.parent=h,h.position.x=E,h.position.y=C,h.positionPrev.x=E,h.positionPrev.y=C,e.setMass(h,S.mass),e.setInertia(h,S.inertia),e.setPosition(h,S.centre)}},e.setCentre=function(h,f,v){v?(h.positionPrev.x+=f.x,h.positionPrev.y+=f.y,h.position.x+=f.x,h.position.y+=f.y):(h.positionPrev.x=f.x-(h.position.x-h.positionPrev.x),h.positionPrev.y=f.y-(h.position.y-h.positionPrev.y),h.position.x=f.x,h.position.y=f.y)},e.setPosition=function(h,f){var v=s.sub(f,h.position);h.positionPrev.x+=v.x,h.positionPrev.y+=v.y;for(var m=0;m<h.parts.length;m++){var g=h.parts[m];g.position.x+=v.x,g.position.y+=v.y,l.translate(g.vertices,v),o.update(g.bounds,g.vertices,h.velocity)}},e.setAngle=function(h,f){var v=f-h.angle;h.anglePrev+=v;for(var m=0;m<h.parts.length;m++){var g=h.parts[m];g.angle+=v,l.rotate(g.vertices,v,h.position),n.rotate(g.axes,v),o.update(g.bounds,g.vertices,h.velocity),m>0&&s.rotateAbout(g.position,v,h.position,g.position)}},e.setVelocity=function(h,f){h.positionPrev.x=h.position.x-f.x,h.positionPrev.y=h.position.y-f.y,h.velocity.x=f.x,h.velocity.y=f.y,h.speed=s.magnitude(h.velocity)},e.setAngularVelocity=function(h,f){h.anglePrev=h.angle-f,h.angularVelocity=f,h.angularSpeed=Math.abs(h.angularVelocity)},e.translate=function(h,f){e.setPosition(h,s.add(h.position,f))},e.rotate=function(h,f,v){if(!v)e.setAngle(h,h.angle+f);else{var m=Math.cos(f),g=Math.sin(f),x=h.position.x-v.x,y=h.position.y-v.y;e.setPosition(h,{x:v.x+(x*m-y*g),y:v.y+(x*g+y*m)}),e.setAngle(h,h.angle+f)}},e.scale=function(h,f,v,m){var g=0,x=0;m=m||h.position;for(var y=0;y<h.parts.length;y++){var T=h.parts[y];T.scale.x=f,T.scale.y=v,l.scale(T.vertices,f,v,m),T.axes=n.fromVertices(T.vertices),T.area=l.area(T.vertices),e.setMass(T,h.density*T.area),l.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),e.setInertia(T,e._inertiaScale*l.inertia(T.vertices,T.mass)),l.translate(T.vertices,{x:T.position.x,y:T.position.y}),y>0&&(g+=T.area,x+=T.inertia),T.position.x=m.x+(T.position.x-m.x)*f,T.position.y=m.y+(T.position.y-m.y)*v,o.update(T.bounds,T.vertices,h.velocity)}h.parts.length>1&&(h.area=g,h.isStatic||(e.setMass(h,h.density*g),e.setInertia(h,x))),h.circleRadius&&(f===v?h.circleRadius*=f:h.circleRadius=null)},e.update=function(h,f,v,m){var g=Math.pow(f*v*h.timeScale,2),x=1-h.frictionAir*v*h.timeScale,y=h.position.x-h.positionPrev.x,T=h.position.y-h.positionPrev.y;h.velocity.x=y*x*m+h.force.x/h.mass*g,h.velocity.y=T*x*m+h.force.y/h.mass*g,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.position.x+=h.velocity.x,h.position.y+=h.velocity.y,h.angularVelocity=(h.angle-h.anglePrev)*x*m+h.torque/h.inertia*g,h.anglePrev=h.angle,h.angle+=h.angularVelocity,h.speed=s.magnitude(h.velocity),h.angularSpeed=Math.abs(h.angularVelocity);for(var S=0;S<h.parts.length;S++){var E=h.parts[S];l.translate(E.vertices,h.velocity),S>0&&(E.position.x+=h.velocity.x,E.position.y+=h.velocity.y),h.angularVelocity!==0&&(l.rotate(E.vertices,h.angularVelocity,h.position),n.rotate(E.axes,h.angularVelocity),S>0&&s.rotateAbout(E.position,h.angularVelocity,h.position,E.position)),o.update(E.bounds,E.vertices,h.velocity)}},e.applyForce=function(h,f,v){h.force.x+=v.x,h.force.y+=v.y;var m={x:f.x-h.position.x,y:f.y-h.position.y};h.torque+=m.x*v.y-m.y*v.x},e._totalProperties=function(h){for(var f={mass:0,area:0,inertia:0,centre:{x:0,y:0}},v=h.parts.length===1?0:1;v<h.parts.length;v++){var m=h.parts[v],g=m.mass!==1/0?m.mass:1;f.mass+=g,f.area+=m.area,f.inertia+=m.inertia,f.centre=s.add(f.centre,s.mult(m.position,g))}return f.centre=s.div(f.centre,f.mass),f}})()},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y+e.height-e.height*e.originY};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x+e.width-e.width*e.originX};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a,o){r===void 0&&(r=0),a===void 0&&(a=0),o===void 0&&(o=1);var n,u=0,h=e.length;if(o===1)for(n=a;n<h;n++)e[n][l]+=s+u*r,u++;else for(n=a;n>=0;n--)e[n][l]+=s+u*r,u++;return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(307),s=t(172),r=t(56),a=t(173),o=t(3),n=new e({initialize:function(h,f,v,m){h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),this.type=r.LINE,this.x1=h,this.y1=f,this.x2=v,this.y2=m},getPoint:function(u,h){return l(this,u,h)},getPoints:function(u,h,f){return s(this,u,h,f)},getRandomPoint:function(u){return a(this,u)},setTo:function(u,h,f,v){return u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=0),this.x1=u,this.y1=h,this.x2=f,this.y2=v,this},getPointA:function(u){return u===void 0&&(u=new o),u.set(this.x1,this.y1),u},getPointB:function(u){return u===void 0&&(u=new o),u.set(this.x2,this.y2),u},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(u){this.x1<=this.x2?this.x1=u:this.x2=u}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(u){this.x1>this.x2?this.x1=u:this.x2=u}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(u){this.y1<=this.y2?this.y1=u:this.y2=u}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(u){this.y1>this.y2?this.y1=u:this.y2=u}}});i.exports=n},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=s||l.fillColor,o=r||l.fillAlpha,n=(a&16711680)>>>16,u=(a&65280)>>>8,h=a&255;e.fillStyle="rgba("+n+","+u+","+h+","+o+")"};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a,o,n){var u=[];n.forEach(function(f){f&&u.push(f)}),this.loader=r,this.type=a,this.key=o,this.multiKeyIndex=r.multiKeyIndex++,this.files=u,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=r.baseURL,this.path=r.path,this.prefix=r.prefix;for(var h=0;h<u.length;h++)u[h].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var r=this.files.indexOf(s);r!==-1&&this.pending--},onFileFailed:function(s){var r=this.files.indexOf(s);r!==-1&&this.failed++}});i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=e-s,o=l-r;return Math.sqrt(a*a+o*o)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={BOOT:t(922),DESTROY:t(923),DRAG_END:t(924),DRAG_ENTER:t(925),DRAG:t(926),DRAG_LEAVE:t(927),DRAG_OVER:t(928),DRAG_START:t(929),DROP:t(930),GAME_OUT:t(931),GAME_OVER:t(932),GAMEOBJECT_DOWN:t(933),GAMEOBJECT_DRAG_END:t(934),GAMEOBJECT_DRAG_ENTER:t(935),GAMEOBJECT_DRAG:t(936),GAMEOBJECT_DRAG_LEAVE:t(937),GAMEOBJECT_DRAG_OVER:t(938),GAMEOBJECT_DRAG_START:t(939),GAMEOBJECT_DROP:t(940),GAMEOBJECT_MOVE:t(941),GAMEOBJECT_OUT:t(942),GAMEOBJECT_OVER:t(943),GAMEOBJECT_POINTER_DOWN:t(944),GAMEOBJECT_POINTER_MOVE:t(945),GAMEOBJECT_POINTER_OUT:t(946),GAMEOBJECT_POINTER_OVER:t(947),GAMEOBJECT_POINTER_UP:t(948),GAMEOBJECT_POINTER_WHEEL:t(949),GAMEOBJECT_UP:t(950),GAMEOBJECT_WHEEL:t(951),MANAGER_BOOT:t(952),MANAGER_PROCESS:t(953),MANAGER_UPDATE:t(954),POINTER_DOWN:t(955),POINTER_DOWN_OUTSIDE:t(956),POINTER_MOVE:t(957),POINTER_OUT:t(958),POINTER_OVER:t(959),POINTER_UP:t(960),POINTER_UP_OUTSIDE:t(961),POINTER_WHEEL:t(962),POINTERLOCK_CHANGE:t(963),PRE_UPDATE:t(964),SHUTDOWN:t(965),START:t(966),UPDATE:t(967)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.y=l+e.height*e.originY,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x=l+e.width*e.originX,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x=l-e.width+e.width*e.originX,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.y=l-e.height+e.height*e.originY,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e.width<=0||e.height<=0?!1:e.x<=l&&e.x+e.width>=l&&e.y<=s&&e.y+e.height>=s};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(175),s=t(9),r=t(374),a=t(2),o=t(69),n=t(91),u=t(141),h=t(12),f=t(375),v=new e({Extends:s,initialize:function(g){s.call(this);var x=g.game,y=x.renderer,T=y.gl;this.name=a(g,"name","WebGLPipeline"),this.game=x,this.renderer=y,this.manager,this.gl=T,this.view=x.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=a(g,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=a(g,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=g,this.glReset=!1},boot:function(){var m,g=this.gl,x=this.config,y=this.renderer;this.isPostFX||(this.projectionMatrix=new o().identity());var T=this.renderTargets,S=a(x,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var E=y.width,C=y.height;if(typeof S=="number")for(m=0;m<S;m++)T.push(new u(y,E,C,1,0,!0));else if(Array.isArray(S))for(m=0;m<S.length;m++){var A=a(S[m],"scale",1),P=a(S[m],"minFilter",0),R=a(S[m],"autoClear",1);T.push(new u(y,E,C,A,P,R))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(x);var M=this.shaders,L=0;for(m=0;m<M.length;m++)M[m].vertexSize>L&&(L=M[m].vertexSize);var O=a(x,"batchSize",y.config.batchSize);this.vertexCapacity=O*6;var I=new ArrayBuffer(this.vertexCapacity*L);this.vertexData=I,this.bytes=new Uint8Array(I),this.vertexViewF32=new Float32Array(I),this.vertexViewU32=new Uint32Array(I);var w=a(x,"vertices",null);for(w?(this.vertexViewF32.set(w),this.vertexBuffer=y.createVertexBuffer(I,g.STATIC_DRAW)):this.vertexBuffer=y.createVertexBuffer(I.byteLength,g.DYNAMIC_DRAW),this.setVertexBuffer(),m=M.length-1;m>=0;m--)M[m].rebind();this.hasBooted=!0,y.on(n.RESIZE,this.resize,this),y.on(n.PRE_RENDER,this.onPreRender,this),y.on(n.RENDER,this.onRender,this),y.on(n.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(m,g){var x=this.renderer;if(m!==this.currentShader||x.currentProgram!==this.currentShader.program){this.flush(),x.resetTextures();var y=this.setVertexBuffer();y&&!g&&(g=!0),m.bind(g,!1),this.currentShader=m}return this},getShaderByName:function(m){for(var g=this.shaders,x=0;x<g.length;x++)if(g[x].name===m)return g[x]},setShadersFromConfig:function(m){var g,x=this.shaders,y=this.renderer;for(g=0;g<x.length;g++)x[g].destroy();var T="vertShader",S="fragShader",E="attributes",C=a(m,T,null),A=h.parseFragmentShaderMaxTextures(a(m,S,null),y.maxTextures),P=a(m,E,null),R=a(m,"shaders",[]),M=R.length;if(M===0)C&&A&&(this.shaders=[new f(this,"default",C,A,l(P))]);else{var L=[];for(g=0;g<M;g++){var O=R[g],I=a(O,"name","default"),w=a(O,T,C),G=h.parseFragmentShaderMaxTextures(a(O,S,A),y.maxTextures),V=a(O,E,P);w&&G&&L.push(new f(this,I,w,G,l(V)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(m,g){return g===void 0&&(g=m.frame),this.currentUnit=this.renderer.setTextureSource(g.source),this.currentUnit},shouldFlush:function(m){return m===void 0&&(m=0),this.vertexCount+m>this.vertexCapacity},resize:function(m,g){(m!==this.width||g!==this.height)&&this.flush(),this.width=m,this.height=g;for(var x=this.renderTargets,y=0;y<x.length;y++)x[y].resize(m,g);return this.setProjectionMatrix(m,g),this.emit(r.RESIZE,m,g,this),this.onResize(m,g),this},setProjectionMatrix:function(m,g){var x=this.projectionMatrix;if(!x)return this;this.projectionWidth=m,this.projectionHeight=g,x.ortho(0,m,g,0,-1e3,1e3);for(var y=this.shaders,T="uProjectionMatrix",S=0;S<y.length;S++){var E=y[S];E.hasUniform(T)&&(E.resetUniform(T),E.setMatrix4fv(T,!1,x.val,E))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,g=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==g)&&this.setProjectionMatrix(m,g)}},bind:function(m){if(m===void 0&&(m=this.currentShader),this.glReset)return this.rebind(m);var g=this.setVertexBuffer();return m.bind(g),this.currentShader=m,this.emit(r.BIND,this,m),this.onActive(m),this},rebind:function(m){this.setVertexBuffer();for(var g=this.shaders,x=g.length-1;x>=0;x--){var y=g[x].rebind();(!m||y===m)&&(this.currentShader=y)}return this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var m=this.gl,g=this.vertexBuffer;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==g?(m.bindBuffer(m.ARRAY_BUFFER,g),!0):!1},preBatch:function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},postBatch:function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(m){if(m===void 0&&(m=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var g=this.gl,x=this.vertexCount,y=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),x===this.vertexCapacity?g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.DYNAMIC_DRAW):g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,x*y)),g.drawArrays(this.topology,0,x)),this.vertexCount=0,this.emit(r.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(m,g,x,y,T,S,E){var C=this.vertexViewF32,A=this.vertexViewU32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++P]=m,C[++P]=g,C[++P]=x,C[++P]=y,C[++P]=T,C[++P]=S,A[++P]=E,this.vertexCount++},batchQuad:function(m,g,x,y,T,S,E,C,A,P,R,M,L,O,I,w,G,V,X,W){W===void 0&&(W=this.currentUnit);var D=!1;return this.shouldFlush(6)&&(this.flush(),D=!0,W=this.setTexture2D(X)),this.batchVert(g,x,P,R,W,V,O),this.batchVert(y,T,P,L,W,V,w),this.batchVert(S,E,M,L,W,V,G),this.batchVert(g,x,P,R,W,V,O),this.batchVert(S,E,M,L,W,V,G),this.batchVert(C,A,M,R,W,V,I),this.onBatch(m),D},batchTri:function(m,g,x,y,T,S,E,C,A,P,R,M,L,O,I,w,G){G===void 0&&(G=this.currentUnit);var V=!1;return this.shouldFlush(3)&&(this.flush(),V=!0,G=this.setTexture2D(w)),this.batchVert(g,x,C,A,G,I,M),this.batchVert(y,T,C,R,G,I,L),this.batchVert(S,E,P,R,G,I,O),this.onBatch(m),V},drawFillRect:function(m,g,x,y,T,S,E,C){E===void 0&&(E=this.renderer.whiteTexture.glTexture),C===void 0&&(C=!0),m=Math.floor(m),g=Math.floor(g);var A=Math.floor(m+x),P=Math.floor(g+y),R=this.setTexture2D(E),M=h.getTintAppendFloatAlphaAndSwap(T,S),L=0,O=0,I=1,w=1;C&&(O=1,w=0),this.batchQuad(null,m,g,m,P,A,P,A,g,L,O,I,w,M,M,M,M,0,E,R)},setTexture2D:function(m){return m===void 0&&(m=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(m),this.currentUnit},bindTexture:function(m,g){g===void 0&&(g=0);var x=this.gl;return x.activeTexture(x.TEXTURE0+g),x.bindTexture(x.TEXTURE_2D,m),this},bindRenderTarget:function(m,g){return this.bindTexture(m.texture,g)},setTime:function(m){return this.set1f(m,this.game.loop.getDuration()),this},set1f:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set1f(m,g),this},set2f:function(m,g,x,y){return y===void 0&&(y=this.currentShader),y.set2f(m,g,x),this},set3f:function(m,g,x,y,T){return T===void 0&&(T=this.currentShader),T.set3f(m,g,x,y),this},set4f:function(m,g,x,y,T,S){return S===void 0&&(S=this.currentShader),S.set4f(m,g,x,y,T),this},set1fv:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set1fv(m,g),this},set2fv:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set2fv(m,g),this},set3fv:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set3fv(m,g),this},set4fv:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set4fv(m,g),this},set1iv:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set1iv(m,g),this},set2iv:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set2iv(m,g),this},set3iv:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set3iv(m,g),this},set4iv:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set4iv(m,g),this},set1i:function(m,g,x){return x===void 0&&(x=this.currentShader),x.set1i(m,g),this},set2i:function(m,g,x,y){return y===void 0&&(y=this.currentShader),y.set2i(m,g,x),this},set3i:function(m,g,x,y,T){return T===void 0&&(T=this.currentShader),T.set3i(m,g,x,y),this},set4i:function(m,g,x,y,T,S){return S===void 0&&(S=this.currentShader),S.set4i(m,g,x,y,T),this},setMatrix2fv:function(m,g,x,y){return y===void 0&&(y=this.currentShader),y.setMatrix2fv(m,g,x),this},setMatrix3fv:function(m,g,x,y){return y===void 0&&(y=this.currentShader),y.setMatrix3fv(m,g,x),this},setMatrix4fv:function(m,g,x,y){return y===void 0&&(y=this.currentShader),y.setMatrix4fv(m,g,x),this},destroy:function(){this.emit(r.DESTROY,this);var m,g=this.shaders;for(m=0;m<g.length;m++)g[m].destroy();var x=this.renderTargets;for(m=0;m<x.length;m++)x[m].destroy();this.gl.deleteBuffer(this.vertexBuffer);var y=this.renderer;return y.off(n.RESIZE,this.resize,this),y.off(n.PRE_RENDER,this.onPreRender,this),y.off(n.RENDER,this.onRender,this),y.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});i.exports=v},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function e(F,B,b){b=b||2;var z=B&&B.length,N=z?B[0]*b:F.length,U=l(F,0,N,b,!0),Y=[];if(!U||U.next===U.prev)return Y;var K,Z,j,q,k,H,$;if(z&&(U=h(F,B,U,b)),F.length>80*b){K=j=F[0],Z=q=F[1];for(var J=b;J<N;J+=b)k=F[J],H=F[J+1],k<K&&(K=k),H<Z&&(Z=H),k>j&&(j=k),H>q&&(q=H);$=Math.max(j-K,q-Z),$=$!==0?1/$:0}return r(U,Y,b,K,Z,$),Y}function l(F,B,b,z,N){var U,Y;if(N===D(F,B,b,z)>0)for(U=B;U<b;U+=z)Y=V(U,F[U],F[U+1],Y);else for(U=b-z;U>=B;U-=z)Y=V(U,F[U],F[U+1],Y);return Y&&P(Y,Y.next)&&(X(Y),Y=Y.next),Y}function s(F,B){if(!F)return F;B||(B=F);var b=F,z;do if(z=!1,!b.steiner&&(P(b,b.next)||A(b.prev,b,b.next)===0)){if(X(b),b=B=b.prev,b===b.next)break;z=!0}else b=b.next;while(z||b!==B);return B}function r(F,B,b,z,N,U,Y){if(!!F){!Y&&U&&x(F,z,N,U);for(var K=F,Z,j;F.prev!==F.next;){if(Z=F.prev,j=F.next,U?o(F,z,N,U):a(F)){B.push(Z.i/b),B.push(F.i/b),B.push(j.i/b),X(F),F=j.next,K=j.next;continue}if(F=j,F===K){Y?Y===1?(F=n(s(F),B,b),r(F,B,b,z,N,U,2)):Y===2&&u(F,B,b,z,N,U):r(s(F),B,b,z,N,U,1);break}}}}function a(F){var B=F.prev,b=F,z=F.next;if(A(B,b,z)>=0)return!1;for(var N=F.next.next;N!==F.prev;){if(E(B.x,B.y,b.x,b.y,z.x,z.y,N.x,N.y)&&A(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function o(F,B,b,z){var N=F.prev,U=F,Y=F.next;if(A(N,U,Y)>=0)return!1;for(var K=N.x<U.x?N.x<Y.x?N.x:Y.x:U.x<Y.x?U.x:Y.x,Z=N.y<U.y?N.y<Y.y?N.y:Y.y:U.y<Y.y?U.y:Y.y,j=N.x>U.x?N.x>Y.x?N.x:Y.x:U.x>Y.x?U.x:Y.x,q=N.y>U.y?N.y>Y.y?N.y:Y.y:U.y>Y.y?U.y:Y.y,k=T(K,Z,B,b,z),H=T(j,q,B,b,z),$=F.prevZ,J=F.nextZ;$&&$.z>=k&&J&&J.z<=H;){if($!==F.prev&&$!==F.next&&E(N.x,N.y,U.x,U.y,Y.x,Y.y,$.x,$.y)&&A($.prev,$,$.next)>=0||($=$.prevZ,J!==F.prev&&J!==F.next&&E(N.x,N.y,U.x,U.y,Y.x,Y.y,J.x,J.y)&&A(J.prev,J,J.next)>=0))return!1;J=J.nextZ}for(;$&&$.z>=k;){if($!==F.prev&&$!==F.next&&E(N.x,N.y,U.x,U.y,Y.x,Y.y,$.x,$.y)&&A($.prev,$,$.next)>=0)return!1;$=$.prevZ}for(;J&&J.z<=H;){if(J!==F.prev&&J!==F.next&&E(N.x,N.y,U.x,U.y,Y.x,Y.y,J.x,J.y)&&A(J.prev,J,J.next)>=0)return!1;J=J.nextZ}return!0}function n(F,B,b){var z=F;do{var N=z.prev,U=z.next.next;!P(N,U)&&R(N,z,z.next,U)&&I(N,U)&&I(U,N)&&(B.push(N.i/b),B.push(z.i/b),B.push(U.i/b),X(z),X(z.next),z=F=U),z=z.next}while(z!==F);return s(z)}function u(F,B,b,z,N,U){var Y=F;do{for(var K=Y.next.next;K!==Y.prev;){if(Y.i!==K.i&&C(Y,K)){var Z=G(Y,K);Y=s(Y,Y.next),Z=s(Z,Z.next),r(Y,B,b,z,N,U),r(Z,B,b,z,N,U);return}K=K.next}Y=Y.next}while(Y!==F)}function h(F,B,b,z){var N=[],U,Y,K,Z,j;for(U=0,Y=B.length;U<Y;U++)K=B[U]*z,Z=U<Y-1?B[U+1]*z:F.length,j=l(F,K,Z,z,!1),j===j.next&&(j.steiner=!0),N.push(S(j));for(N.sort(f),U=0;U<N.length;U++)v(N[U],b),b=s(b,b.next);return b}function f(F,B){return F.x-B.x}function v(F,B){if(B=m(F,B),B){var b=G(B,F);s(B,B.next),s(b,b.next)}}function m(F,B){var b=B,z=F.x,N=F.y,U=-1/0,Y;do{if(N<=b.y&&N>=b.next.y&&b.next.y!==b.y){var K=b.x+(N-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(K<=z&&K>U){if(U=K,K===z){if(N===b.y)return b;if(N===b.next.y)return b.next}Y=b.x<b.next.x?b:b.next}}b=b.next}while(b!==B);if(!Y)return null;if(z===U)return Y;var Z=Y,j=Y.x,q=Y.y,k=1/0,H;b=Y;do z>=b.x&&b.x>=j&&z!==b.x&&E(N<q?z:U,N,j,q,N<q?U:z,N,b.x,b.y)&&(H=Math.abs(N-b.y)/(z-b.x),I(b,F)&&(H<k||H===k&&(b.x>Y.x||b.x===Y.x&&g(Y,b)))&&(Y=b,k=H)),b=b.next;while(b!==Z);return Y}function g(F,B){return A(F.prev,F,B.prev)<0&&A(B.next,F,F.next)<0}function x(F,B,b,z){var N=F;do N.z===null&&(N.z=T(N.x,N.y,B,b,z)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==F);N.prevZ.nextZ=null,N.prevZ=null,y(N)}function y(F){var B,b,z,N,U,Y,K,Z,j=1;do{for(b=F,F=null,U=null,Y=0;b;){for(Y++,z=b,K=0,B=0;B<j&&(K++,z=z.nextZ,!!z);B++);for(Z=j;K>0||Z>0&&z;)K!==0&&(Z===0||!z||b.z<=z.z)?(N=b,b=b.nextZ,K--):(N=z,z=z.nextZ,Z--),U?U.nextZ=N:F=N,N.prevZ=U,U=N;b=z}U.nextZ=null,j*=2}while(Y>1);return F}function T(F,B,b,z,N){return F=32767*(F-b)*N,B=32767*(B-z)*N,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,F|B<<1}function S(F){var B=F,b=F;do(B.x<b.x||B.x===b.x&&B.y<b.y)&&(b=B),B=B.next;while(B!==F);return b}function E(F,B,b,z,N,U,Y,K){return(N-Y)*(B-K)-(F-Y)*(U-K)>=0&&(F-Y)*(z-K)-(b-Y)*(B-K)>=0&&(b-Y)*(U-K)-(N-Y)*(z-K)>=0}function C(F,B){return F.next.i!==B.i&&F.prev.i!==B.i&&!O(F,B)&&(I(F,B)&&I(B,F)&&w(F,B)&&(A(F.prev,F,B.prev)||A(F,B.prev,B))||P(F,B)&&A(F.prev,F,F.next)>0&&A(B.prev,B,B.next)>0)}function A(F,B,b){return(B.y-F.y)*(b.x-B.x)-(B.x-F.x)*(b.y-B.y)}function P(F,B){return F.x===B.x&&F.y===B.y}function R(F,B,b,z){var N=L(A(F,B,b)),U=L(A(F,B,z)),Y=L(A(b,z,F)),K=L(A(b,z,B));return!!(N!==U&&Y!==K||N===0&&M(F,b,B)||U===0&&M(F,z,B)||Y===0&&M(b,F,z)||K===0&&M(b,B,z))}function M(F,B,b){return B.x<=Math.max(F.x,b.x)&&B.x>=Math.min(F.x,b.x)&&B.y<=Math.max(F.y,b.y)&&B.y>=Math.min(F.y,b.y)}function L(F){return F>0?1:F<0?-1:0}function O(F,B){var b=F;do{if(b.i!==F.i&&b.next.i!==F.i&&b.i!==B.i&&b.next.i!==B.i&&R(b,b.next,F,B))return!0;b=b.next}while(b!==F);return!1}function I(F,B){return A(F.prev,F,F.next)<0?A(F,B,F.next)>=0&&A(F,F.prev,B)>=0:A(F,B,F.prev)<0||A(F,F.next,B)<0}function w(F,B){var b=F,z=!1,N=(F.x+B.x)/2,U=(F.y+B.y)/2;do b.y>U!=b.next.y>U&&b.next.y!==b.y&&N<(b.next.x-b.x)*(U-b.y)/(b.next.y-b.y)+b.x&&(z=!z),b=b.next;while(b!==F);return z}function G(F,B){var b=new W(F.i,F.x,F.y),z=new W(B.i,B.x,B.y),N=F.next,U=B.prev;return F.next=B,B.prev=F,b.next=N,N.prev=b,z.next=b,b.prev=z,U.next=z,z.prev=U,z}function V(F,B,b,z){var N=new W(F,B,b);return z?(N.next=z.next,N.prev=z,z.next.prev=N,z.next=N):(N.prev=N,N.next=N),N}function X(F){F.next.prev=F.prev,F.prev.next=F.next,F.prevZ&&(F.prevZ.nextZ=F.nextZ),F.nextZ&&(F.nextZ.prevZ=F.prevZ)}function W(F,B,b){this.i=F,this.x=B,this.y=b,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(F,B,b,z){var N=B&&B.length,U=N?B[0]*b:F.length,Y=Math.abs(D(F,0,U,b));if(N)for(var K=0,Z=B.length;K<Z;K++){var j=B[K]*b,q=K<Z-1?B[K+1]*b:F.length;Y-=Math.abs(D(F,j,q,b))}var k=0;for(K=0;K<z.length;K+=3){var H=z[K]*b,$=z[K+1]*b,J=z[K+2]*b;k+=Math.abs((F[H]-F[J])*(F[$+1]-F[H+1])-(F[H]-F[$])*(F[J+1]-F[H+1]))}return Y===0&&k===0?0:Math.abs((k-Y)/Y)};function D(F,B,b,z){for(var N=0,U=B,Y=b-z;U<b;U+=z)N+=(F[Y]-F[U])*(F[U+1]+F[Y+1]),Y=U;return N}e.flatten=function(F){for(var B=F[0][0].length,b={vertices:[],holes:[],dimensions:B},z=0,N=0;N<F.length;N++){for(var U=0;U<F[N].length;U++)for(var Y=0;Y<B;Y++)b.vertices.push(F[N][U][Y]);N>0&&(z+=F[N-1].length,b.holes.push(z))}return b},i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=s||l.strokeColor,o=r||l.strokeAlpha,n=(a&16711680)>>>16,u=(a&65280)>>>8,h=a&255;e.strokeStyle="rgba("+n+","+u+","+h+","+o+")",e.lineWidth=l.lineWidth};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(6),n=t(7),u=new e({Extends:s,initialize:function(f,v,m,g,x){var y="json";if(n(v)){var T=v;v=a(T,"key"),m=a(T,"url"),g=a(T,"xhrSettings"),y=a(T,"extension",y),x=a(T,"dataKey",x)}var S={type:"json",cache:f.cacheManager.json,extension:y,responseType:"text",key:v,url:m,xhrSettings:g,config:x};s.call(this,f,S),n(m)&&(x?this.data=o(m,x):this.data=m,this.state=l.FILE_POPULATED)},onProcess:function(){if(this.state!==l.FILE_POPULATED){this.state=l.FILE_PROCESSING;try{var h=JSON.parse(this.xhrLoader.responseText)}catch(v){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),v}var f=this.config;typeof f=="string"?this.data=o(h,f,h):this.data=h}this.onProcessComplete()}});r.register("json",function(h,f,v,m){if(Array.isArray(h))for(var g=0;g<h.length;g++)this.addFile(new u(this,h[g]));else this.addFile(new u(this,h,f,m,v));return this}),i.exports=u},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),l=t(26),s=function(r,a,o,n,u){for(var h=null,f=null,v=null,m=null,g=l(r,a,o,n,null,u),x=0;x<g.length;x++){var y=g[x];y&&(y.collides?(h=e(y.x,y.y-1,!0,u),f=e(y.x,y.y+1,!0,u),v=e(y.x-1,y.y,!0,u),m=e(y.x+1,y.y,!0,u),y.faceTop=!(h&&h.collides),y.faceBottom=!(f&&f.collides),y.faceLeft=!(v&&v.collides),y.faceRight=!(m&&m.collides)):y.resetFaces())}};i.exports=s},function(i,d,t){var e={};i.exports=e;var l=t(83),s=t(32);(function(){e.create=function(r,a){for(var o=[],n=0;n<r.length;n++){var u=r[n],h={x:u.x,y:u.y,index:n,body:a,isInternal:!1,contact:null,offset:null};h.contact={vertex:h,normalImpulse:0,tangentImpulse:0},o.push(h)}return o},e.fromPath=function(r,a){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return r.replace(o,function(u,h,f){n.push({x:parseFloat(h),y:parseFloat(f)})}),e.create(n,a)},e.centre=function(r){for(var a=e.area(r,!0),o={x:0,y:0},n,u,h,f=0;f<r.length;f++)h=(f+1)%r.length,n=l.cross(r[f],r[h]),u=l.mult(l.add(r[f],r[h]),n),o=l.add(o,u);return l.div(o,6*a)},e.mean=function(r){for(var a={x:0,y:0},o=0;o<r.length;o++)a.x+=r[o].x,a.y+=r[o].y;return l.div(a,r.length)},e.area=function(r,a){for(var o=0,n=r.length-1,u=0;u<r.length;u++)o+=(r[n].x-r[u].x)*(r[n].y+r[u].y),n=u;return a?o/2:Math.abs(o)/2},e.inertia=function(r,a){for(var o=0,n=0,u=r,h,f,v=0;v<u.length;v++)f=(v+1)%u.length,h=Math.abs(l.cross(u[f],u[v])),o+=h*(l.dot(u[f],u[f])+l.dot(u[f],u[v])+l.dot(u[v],u[v])),n+=h;return a/6*(o/n)},e.translate=function(r,a,o){var n;if(o)for(n=0;n<r.length;n++)r[n].x+=a.x*o,r[n].y+=a.y*o;else for(n=0;n<r.length;n++)r[n].x+=a.x,r[n].y+=a.y;return r},e.rotate=function(r,a,o){if(a!==0){for(var n=Math.cos(a),u=Math.sin(a),h=0;h<r.length;h++){var f=r[h],v=f.x-o.x,m=f.y-o.y;f.x=o.x+(v*n-m*u),f.y=o.y+(v*u+m*n)}return r}},e.contains=function(r,a){for(var o=0;o<r.length;o++){var n=r[o],u=r[(o+1)%r.length];if((a.x-n.x)*(u.y-n.y)+(a.y-n.y)*(n.x-u.x)>0)return!1}return!0},e.scale=function(r,a,o,n){if(a===1&&o===1)return r;n=n||e.centre(r);for(var u,h,f=0;f<r.length;f++)u=r[f],h=l.sub(u,n),r[f].x=n.x+h.x*a,r[f].y=n.y+h.y*o;return r},e.chamfer=function(r,a,o,n,u){typeof a=="number"?a=[a]:a=a||[8],o=typeof o!="undefined"?o:-1,n=n||2,u=u||14;for(var h=[],f=0;f<r.length;f++){var v=r[f-1>=0?f-1:r.length-1],m=r[f],g=r[(f+1)%r.length],x=a[f<a.length?f:a.length-1];if(x===0){h.push(m);continue}var y=l.normalise({x:m.y-v.y,y:v.x-m.x}),T=l.normalise({x:g.y-m.y,y:m.x-g.x}),S=Math.sqrt(2*Math.pow(x,2)),E=l.mult(s.clone(y),x),C=l.normalise(l.mult(l.add(y,T),.5)),A=l.sub(m,l.mult(C,S)),P=o;o===-1&&(P=Math.pow(x,.32)*1.75),P=s.clamp(P,n,u),P%2===1&&(P+=1);for(var R=Math.acos(l.dot(y,T)),M=R/P,L=0;L<P;L++)h.push(l.add(l.rotate(E,M*L),A))}return h},e.clockwiseSort=function(r){var a=e.mean(r);return r.sort(function(o,n){return l.angle(a,o)-l.angle(a,n)}),r},e.isConvex=function(r){var a=0,o=r.length,n,u,h,f;if(o<3)return null;for(n=0;n<o;n++)if(u=(n+1)%o,h=(n+2)%o,f=(r[u].x-r[n].x)*(r[h].y-r[u].y),f-=(r[u].y-r[n].y)*(r[h].x-r[u].x),f<0?a|=1:f>0&&(a|=2),a===3)return!1;return a!==0?!0:null},e.hull=function(r){var a=[],o=[],n,u;for(r=r.slice(0),r.sort(function(h,f){var v=h.x-f.x;return v!==0?v:h.y-f.y}),u=0;u<r.length;u+=1){for(n=r[u];o.length>=2&&l.cross3(o[o.length-2],o[o.length-1],n)<=0;)o.pop();o.push(n)}for(u=r.length-1;u>=0;u-=1){for(n=r[u];a.length>=2&&l.cross3(a[a.length-2],a[a.length-1],n)<=0;)a.pop();a.push(n)}return a.pop(),o.pop(),a.concat(o)}})()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(66),s=t(300),r=t(301),a=t(56),o=t(170),n=new e({initialize:function(h,f,v){h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=0),this.type=a.CIRCLE,this.x=h,this.y=f,this._radius=v,this._diameter=v*2},contains:function(u,h){return l(this,u,h)},getPoint:function(u,h){return s(this,u,h)},getPoints:function(u,h,f){return r(this,u,h,f)},getRandomPoint:function(u){return o(this,u)},setTo:function(u,h,f){return this.x=u,this.y=h,this._radius=f,this._diameter=f*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(u,h){return h===void 0&&(h=u),this.x=u,this.y=h,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this._diameter=u*2}},diameter:{get:function(){return this._diameter},set:function(u){this._diameter=u,this._radius=u*.5}},left:{get:function(){return this.x-this._radius},set:function(u){this.x=u+this._radius}},right:{get:function(){return this.x+this._radius},set:function(u){this.x=u-this._radius}},top:{get:function(){return this.y-this._radius},set:function(u){this.y=u+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(u){this.y=u-this._radius}}});i.exports=n},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(e.radius>0&&l>=e.left&&l<=e.right&&s>=e.top&&s<=e.bottom){var r=(e.x-l)*(e.x-l),a=(e.y-s)*(e.y-s);return r+a<=e.radius*e.radius}else return!1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=s-l;return l+((e-l)%r+r)%r};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(39),s=1e-6,r=new e({initialize:function(v){this.val=new Float32Array(16),v?this.copy(v):this.identity()},clone:function(){return new r(this)},set:function(f){return this.copy(f)},setValues:function(f,v,m,g,x,y,T,S,E,C,A,P,R,M,L,O){var I=this.val;return I[0]=f,I[1]=v,I[2]=m,I[3]=g,I[4]=x,I[5]=y,I[6]=T,I[7]=S,I[8]=E,I[9]=C,I[10]=A,I[11]=P,I[12]=R,I[13]=M,I[14]=L,I[15]=O,this},copy:function(f){var v=f.val;return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},fromArray:function(f){return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(f,v,m){var g=a.fromQuat(m),x=g.val,y=v.x,T=v.y,S=v.z;return this.setValues(x[0]*y,x[1]*y,x[2]*y,0,x[4]*T,x[5]*T,x[6]*T,0,x[8]*S,x[9]*S,x[10]*S,0,f.x,f.y,f.z,1)},xyz:function(f,v,m){this.identity();var g=this.val;return g[12]=f,g[13]=v,g[14]=m,this},scaling:function(f,v,m){this.zero();var g=this.val;return g[0]=f,g[5]=v,g[10]=m,g[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var f=this.val,v=f[1],m=f[2],g=f[3],x=f[6],y=f[7],T=f[11];return f[1]=f[4],f[2]=f[8],f[3]=f[12],f[4]=v,f[6]=f[9],f[7]=f[13],f[8]=m,f[9]=x,f[11]=f[14],f[12]=g,f[13]=y,f[14]=T,this},getInverse:function(f){return this.copy(f),this.invert()},invert:function(){var f=this.val,v=f[0],m=f[1],g=f[2],x=f[3],y=f[4],T=f[5],S=f[6],E=f[7],C=f[8],A=f[9],P=f[10],R=f[11],M=f[12],L=f[13],O=f[14],I=f[15],w=v*T-m*y,G=v*S-g*y,V=v*E-x*y,X=m*S-g*T,W=m*E-x*T,D=g*E-x*S,F=C*L-A*M,B=C*O-P*M,b=C*I-R*M,z=A*O-P*L,N=A*I-R*L,U=P*I-R*O,Y=w*U-G*N+V*z+X*b-W*B+D*F;return Y?(Y=1/Y,this.setValues((T*U-S*N+E*z)*Y,(g*N-m*U-x*z)*Y,(L*D-O*W+I*X)*Y,(P*W-A*D-R*X)*Y,(S*b-y*U-E*B)*Y,(v*U-g*b+x*B)*Y,(O*V-M*D-I*G)*Y,(C*D-P*V+R*G)*Y,(y*N-T*b+E*F)*Y,(m*b-v*N-x*F)*Y,(M*W-L*V+I*w)*Y,(A*V-C*W-R*w)*Y,(T*B-y*z-S*F)*Y,(v*z-m*B+g*F)*Y,(L*G-M*X-O*w)*Y,(C*X-A*G+P*w)*Y)):this},adjoint:function(){var f=this.val,v=f[0],m=f[1],g=f[2],x=f[3],y=f[4],T=f[5],S=f[6],E=f[7],C=f[8],A=f[9],P=f[10],R=f[11],M=f[12],L=f[13],O=f[14],I=f[15];return this.setValues(T*(P*I-R*O)-A*(S*I-E*O)+L*(S*R-E*P),-(m*(P*I-R*O)-A*(g*I-x*O)+L*(g*R-x*P)),m*(S*I-E*O)-T*(g*I-x*O)+L*(g*E-x*S),-(m*(S*R-E*P)-T*(g*R-x*P)+A*(g*E-x*S)),-(y*(P*I-R*O)-C*(S*I-E*O)+M*(S*R-E*P)),v*(P*I-R*O)-C*(g*I-x*O)+M*(g*R-x*P),-(v*(S*I-E*O)-y*(g*I-x*O)+M*(g*E-x*S)),v*(S*R-E*P)-y*(g*R-x*P)+C*(g*E-x*S),y*(A*I-R*L)-C*(T*I-E*L)+M*(T*R-E*A),-(v*(A*I-R*L)-C*(m*I-x*L)+M*(m*R-x*A)),v*(T*I-E*L)-y*(m*I-x*L)+M*(m*E-x*T),-(v*(T*R-E*A)-y*(m*R-x*A)+C*(m*E-x*T)),-(y*(A*O-P*L)-C*(T*O-S*L)+M*(T*P-S*A)),v*(A*O-P*L)-C*(m*O-g*L)+M*(m*P-g*A),-(v*(T*O-S*L)-y*(m*O-g*L)+M*(m*S-g*T)),v*(T*P-S*A)-y*(m*P-g*A)+C*(m*S-g*T))},determinant:function(){var f=this.val,v=f[0],m=f[1],g=f[2],x=f[3],y=f[4],T=f[5],S=f[6],E=f[7],C=f[8],A=f[9],P=f[10],R=f[11],M=f[12],L=f[13],O=f[14],I=f[15],w=v*T-m*y,G=v*S-g*y,V=v*E-x*y,X=m*S-g*T,W=m*E-x*T,D=g*E-x*S,F=C*L-A*M,B=C*O-P*M,b=C*I-R*M,z=A*O-P*L,N=A*I-R*L,U=P*I-R*O;return w*U-G*N+V*z+X*b-W*B+D*F},multiply:function(f){var v=this.val,m=v[0],g=v[1],x=v[2],y=v[3],T=v[4],S=v[5],E=v[6],C=v[7],A=v[8],P=v[9],R=v[10],M=v[11],L=v[12],O=v[13],I=v[14],w=v[15],G=f.val,V=G[0],X=G[1],W=G[2],D=G[3];return v[0]=V*m+X*T+W*A+D*L,v[1]=V*g+X*S+W*P+D*O,v[2]=V*x+X*E+W*R+D*I,v[3]=V*y+X*C+W*M+D*w,V=G[4],X=G[5],W=G[6],D=G[7],v[4]=V*m+X*T+W*A+D*L,v[5]=V*g+X*S+W*P+D*O,v[6]=V*x+X*E+W*R+D*I,v[7]=V*y+X*C+W*M+D*w,V=G[8],X=G[9],W=G[10],D=G[11],v[8]=V*m+X*T+W*A+D*L,v[9]=V*g+X*S+W*P+D*O,v[10]=V*x+X*E+W*R+D*I,v[11]=V*y+X*C+W*M+D*w,V=G[12],X=G[13],W=G[14],D=G[15],v[12]=V*m+X*T+W*A+D*L,v[13]=V*g+X*S+W*P+D*O,v[14]=V*x+X*E+W*R+D*I,v[15]=V*y+X*C+W*M+D*w,this},multiplyLocal:function(f){var v=this.val,m=f.val;return this.setValues(v[0]*m[0]+v[1]*m[4]+v[2]*m[8]+v[3]*m[12],v[0]*m[1]+v[1]*m[5]+v[2]*m[9]+v[3]*m[13],v[0]*m[2]+v[1]*m[6]+v[2]*m[10]+v[3]*m[14],v[0]*m[3]+v[1]*m[7]+v[2]*m[11]+v[3]*m[15],v[4]*m[0]+v[5]*m[4]+v[6]*m[8]+v[7]*m[12],v[4]*m[1]+v[5]*m[5]+v[6]*m[9]+v[7]*m[13],v[4]*m[2]+v[5]*m[6]+v[6]*m[10]+v[7]*m[14],v[4]*m[3]+v[5]*m[7]+v[6]*m[11]+v[7]*m[15],v[8]*m[0]+v[9]*m[4]+v[10]*m[8]+v[11]*m[12],v[8]*m[1]+v[9]*m[5]+v[10]*m[9]+v[11]*m[13],v[8]*m[2]+v[9]*m[6]+v[10]*m[10]+v[11]*m[14],v[8]*m[3]+v[9]*m[7]+v[10]*m[11]+v[11]*m[15],v[12]*m[0]+v[13]*m[4]+v[14]*m[8]+v[15]*m[12],v[12]*m[1]+v[13]*m[5]+v[14]*m[9]+v[15]*m[13],v[12]*m[2]+v[13]*m[6]+v[14]*m[10]+v[15]*m[14],v[12]*m[3]+v[13]*m[7]+v[14]*m[11]+v[15]*m[15])},premultiply:function(f){return this.multiplyMatrices(f,this)},multiplyMatrices:function(f,v){var m=f.val,g=v.val,x=m[0],y=m[4],T=m[8],S=m[12],E=m[1],C=m[5],A=m[9],P=m[13],R=m[2],M=m[6],L=m[10],O=m[14],I=m[3],w=m[7],G=m[11],V=m[15],X=g[0],W=g[4],D=g[8],F=g[12],B=g[1],b=g[5],z=g[9],N=g[13],U=g[2],Y=g[6],K=g[10],Z=g[14],j=g[3],q=g[7],k=g[11],H=g[15];return this.setValues(x*X+y*B+T*U+S*j,E*X+C*B+A*U+P*j,R*X+M*B+L*U+O*j,I*X+w*B+G*U+V*j,x*W+y*b+T*Y+S*q,E*W+C*b+A*Y+P*q,R*W+M*b+L*Y+O*q,I*W+w*b+G*Y+V*q,x*D+y*z+T*K+S*k,E*D+C*z+A*K+P*k,R*D+M*z+L*K+O*k,I*D+w*z+G*K+V*k,x*F+y*N+T*Z+S*H,E*F+C*N+A*Z+P*H,R*F+M*N+L*Z+O*H,I*F+w*N+G*Z+V*H)},translate:function(f){return this.translateXYZ(f.x,f.y,f.z)},translateXYZ:function(f,v,m){var g=this.val;return g[12]=g[0]*f+g[4]*v+g[8]*m+g[12],g[13]=g[1]*f+g[5]*v+g[9]*m+g[13],g[14]=g[2]*f+g[6]*v+g[10]*m+g[14],g[15]=g[3]*f+g[7]*v+g[11]*m+g[15],this},scale:function(f){return this.scaleXYZ(f.x,f.y,f.z)},scaleXYZ:function(f,v,m){var g=this.val;return g[0]=g[0]*f,g[1]=g[1]*f,g[2]=g[2]*f,g[3]=g[3]*f,g[4]=g[4]*v,g[5]=g[5]*v,g[6]=g[6]*v,g[7]=g[7]*v,g[8]=g[8]*m,g[9]=g[9]*m,g[10]=g[10]*m,g[11]=g[11]*m,this},makeRotationAxis:function(f,v){var m=Math.cos(v),g=Math.sin(v),x=1-m,y=f.x,T=f.y,S=f.z,E=x*y,C=x*T;return this.setValues(E*y+m,E*T-g*S,E*S+g*T,0,E*T+g*S,C*T+m,C*S-g*y,0,E*S-g*T,C*S+g*y,x*S*S+m,0,0,0,0,1)},rotate:function(f,v){var m=this.val,g=v.x,x=v.y,y=v.z,T=Math.sqrt(g*g+x*x+y*y);if(Math.abs(T)<s)return this;T=1/T,g*=T,x*=T,y*=T;var S=Math.sin(f),E=Math.cos(f),C=1-E,A=m[0],P=m[1],R=m[2],M=m[3],L=m[4],O=m[5],I=m[6],w=m[7],G=m[8],V=m[9],X=m[10],W=m[11],D=m[12],F=m[13],B=m[14],b=m[15],z=g*g*C+E,N=x*g*C+y*S,U=y*g*C-x*S,Y=g*x*C-y*S,K=x*x*C+E,Z=y*x*C+g*S,j=g*y*C+x*S,q=x*y*C-g*S,k=y*y*C+E;return this.setValues(A*z+L*N+G*U,P*z+O*N+V*U,R*z+I*N+X*U,M*z+w*N+W*U,A*Y+L*K+G*Z,P*Y+O*K+V*Z,R*Y+I*K+X*Z,M*Y+w*K+W*Z,A*j+L*q+G*k,P*j+O*q+V*k,R*j+I*q+X*k,M*j+w*q+W*k,D,F,B,b)},rotateX:function(f){var v=this.val,m=Math.sin(f),g=Math.cos(f),x=v[4],y=v[5],T=v[6],S=v[7],E=v[8],C=v[9],A=v[10],P=v[11];return v[4]=x*g+E*m,v[5]=y*g+C*m,v[6]=T*g+A*m,v[7]=S*g+P*m,v[8]=E*g-x*m,v[9]=C*g-y*m,v[10]=A*g-T*m,v[11]=P*g-S*m,this},rotateY:function(f){var v=this.val,m=Math.sin(f),g=Math.cos(f),x=v[0],y=v[1],T=v[2],S=v[3],E=v[8],C=v[9],A=v[10],P=v[11];return v[0]=x*g-E*m,v[1]=y*g-C*m,v[2]=T*g-A*m,v[3]=S*g-P*m,v[8]=x*m+E*g,v[9]=y*m+C*g,v[10]=T*m+A*g,v[11]=S*m+P*g,this},rotateZ:function(f){var v=this.val,m=Math.sin(f),g=Math.cos(f),x=v[0],y=v[1],T=v[2],S=v[3],E=v[4],C=v[5],A=v[6],P=v[7];return v[0]=x*g+E*m,v[1]=y*g+C*m,v[2]=T*g+A*m,v[3]=S*g+P*m,v[4]=E*g-x*m,v[5]=C*g-y*m,v[6]=A*g-T*m,v[7]=P*g-S*m,this},fromRotationTranslation:function(f,v){var m=f.x,g=f.y,x=f.z,y=f.w,T=m+m,S=g+g,E=x+x,C=m*T,A=m*S,P=m*E,R=g*S,M=g*E,L=x*E,O=y*T,I=y*S,w=y*E;return this.setValues(1-(R+L),A+w,P-I,0,A-w,1-(C+L),M+O,0,P+I,M-O,1-(C+R),0,v.x,v.y,v.z,1)},fromQuat:function(f){var v=f.x,m=f.y,g=f.z,x=f.w,y=v+v,T=m+m,S=g+g,E=v*y,C=v*T,A=v*S,P=m*T,R=m*S,M=g*S,L=x*y,O=x*T,I=x*S;return this.setValues(1-(P+M),C+I,A-O,0,C-I,1-(E+M),R+L,0,A+O,R-L,1-(E+P),0,0,0,0,1)},frustum:function(f,v,m,g,x,y){var T=1/(v-f),S=1/(g-m),E=1/(x-y);return this.setValues(x*2*T,0,0,0,0,x*2*S,0,0,(v+f)*T,(g+m)*S,(y+x)*E,-1,0,0,y*x*2*E,0)},perspective:function(f,v,m,g){var x=1/Math.tan(f/2),y=1/(m-g);return this.setValues(x/v,0,0,0,0,x,0,0,0,0,(g+m)*y,-1,0,0,2*g*m*y,0)},perspectiveLH:function(f,v,m,g){return this.setValues(2*m/f,0,0,0,0,2*m/v,0,0,0,0,-g/(m-g),1,0,0,m*g/(m-g),0)},ortho:function(f,v,m,g,x,y){var T=f-v,S=m-g,E=x-y;return T=T===0?T:1/T,S=S===0?S:1/S,E=E===0?E:1/E,this.setValues(-2*T,0,0,0,0,-2*S,0,0,0,0,2*E,0,(f+v)*T,(g+m)*S,(y+x)*E,1)},lookAtRH:function(f,v,m){var g=this.val;return h.subVectors(f,v),h.getLengthSquared()===0&&(h.z=1),h.normalize(),n.crossVectors(m,h),n.getLengthSquared()===0&&(Math.abs(m.z)===1?h.x+=1e-4:h.z+=1e-4,h.normalize(),n.crossVectors(m,h)),n.normalize(),u.crossVectors(h,n),g[0]=n.x,g[1]=n.y,g[2]=n.z,g[4]=u.x,g[5]=u.y,g[6]=u.z,g[8]=h.x,g[9]=h.y,g[10]=h.z,this},lookAt:function(f,v,m){var g=f.x,x=f.y,y=f.z,T=m.x,S=m.y,E=m.z,C=v.x,A=v.y,P=v.z;if(Math.abs(g-C)<s&&Math.abs(x-A)<s&&Math.abs(y-P)<s)return this.identity();var R=g-C,M=x-A,L=y-P,O=1/Math.sqrt(R*R+M*M+L*L);R*=O,M*=O,L*=O;var I=S*L-E*M,w=E*R-T*L,G=T*M-S*R;O=Math.sqrt(I*I+w*w+G*G),O?(O=1/O,I*=O,w*=O,G*=O):(I=0,w=0,G=0);var V=M*G-L*w,X=L*I-R*G,W=R*w-M*I;return O=Math.sqrt(V*V+X*X+W*W),O?(O=1/O,V*=O,X*=O,W*=O):(V=0,X=0,W=0),this.setValues(I,V,R,0,w,X,M,0,G,W,L,0,-(I*g+w*x+G*y),-(V*g+X*x+W*y),-(R*g+M*x+L*y),1)},yawPitchRoll:function(f,v,m){this.zero(),a.zero(),o.zero();var g=this.val,x=a.val,y=o.val,T=Math.sin(m),S=Math.cos(m);return g[10]=1,g[15]=1,g[0]=S,g[1]=T,g[4]=-T,g[5]=S,T=Math.sin(v),S=Math.cos(v),x[0]=1,x[15]=1,x[5]=S,x[10]=S,x[9]=-T,x[6]=T,T=Math.sin(f),S=Math.cos(f),y[5]=1,y[15]=1,y[0]=S,y[2]=-T,y[8]=T,y[10]=S,this.multiplyLocal(a),this.multiplyLocal(o),this},setWorldMatrix:function(f,v,m,g,x){return this.yawPitchRoll(f.y,f.x,f.z),a.scaling(m.x,m.y,m.z),o.xyz(v.x,v.y,v.z),this.multiplyLocal(a),this.multiplyLocal(o),g&&this.multiplyLocal(g),x&&this.multiplyLocal(x),this},multiplyToMat4:function(f,v){var m=this.val,g=f.val,x=m[0],y=m[1],T=m[2],S=m[3],E=m[4],C=m[5],A=m[6],P=m[7],R=m[8],M=m[9],L=m[10],O=m[11],I=m[12],w=m[13],G=m[14],V=m[15],X=g[0],W=g[1],D=g[2],F=g[3],B=g[4],b=g[5],z=g[6],N=g[7],U=g[8],Y=g[9],K=g[10],Z=g[11],j=g[12],q=g[13],k=g[14],H=g[15];return v.setValues(X*x+W*E+D*R+F*I,W*y+W*C+D*M+F*w,D*T+W*A+D*L+F*G,F*S+W*P+D*O+F*V,B*x+b*E+z*R+N*I,B*y+b*C+z*M+N*w,B*T+b*A+z*L+N*G,B*S+b*P+z*O+N*V,U*x+Y*E+K*R+Z*I,U*y+Y*C+K*M+Z*w,U*T+Y*A+K*L+Z*G,U*S+Y*P+K*O+Z*V,j*x+q*E+k*R+H*I,j*y+q*C+k*M+H*w,j*T+q*A+k*L+H*G,j*S+q*P+k*O+H*V)},fromRotationXYTranslation:function(f,v,m){var g=v.x,x=v.y,y=v.z,T=Math.sin(f.x),S=Math.cos(f.x),E=Math.sin(f.y),C=Math.cos(f.y),A=g,P=x,R=y,M=-T,L=0-M*E,O=0-S*E,I=M*C,w=S*C;return m||(A=C*g+E*y,P=L*g+S*x+I*y,R=O*g+T*x+w*y),this.setValues(C,L,O,0,0,S,T,0,E,I,w,0,A,P,R,1)},getMaxScaleOnAxis:function(){var f=this.val,v=f[0]*f[0]+f[1]*f[1]+f[2]*f[2],m=f[4]*f[4]+f[5]*f[5]+f[6]*f[6],g=f[8]*f[8]+f[9]*f[9]+f[10]*f[10];return Math.sqrt(Math.max(v,m,g))}}),a=new r,o=new r,n=new l,u=new l,h=new l;i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={COMPLETE:t(987),DECODED:t(988),DECODED_ALL:t(989),DESTROY:t(990),DETUNE:t(991),GLOBAL_DETUNE:t(992),GLOBAL_MUTE:t(993),GLOBAL_RATE:t(994),GLOBAL_VOLUME:t(995),LOOP:t(996),LOOPED:t(997),MUTE:t(998),PAN:t(999),PAUSE_ALL:t(1e3),PAUSE:t(1001),PLAY:t(1002),RATE:t(1003),RESUME_ALL:t(1004),RESUME:t(1005),SEEK:t(1006),STOP_ALL:t(1007),STOP:t(1008),UNLOCKED:t(1009),VOLUME:t(1010)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function u(h,f,v,m,g){var x="png",y;if(o(f)){var T=f;f=a(T,"key"),v=a(T,"url"),y=a(T,"normalMap"),m=a(T,"xhrSettings"),x=a(T,"extension",x),g=a(T,"frameConfig")}Array.isArray(v)&&(y=v[1],v=v[0]);var S={type:"image",cache:h.textureManager,extension:x,responseType:"blob",key:f,url:v,xhrSettings:m,config:g};if(s.call(this,h,S),y){var E=new u(h,this.key,y,m,g);E.type="normalMap",this.setLink(E),h.addFile(E)}},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){s.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(u.data),u.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var u,h=this.linkFile;h&&h.state===l.FILE_COMPLETE?(this.type==="image"?u=this.cache.addImage(this.key,this.data,h.data):u=this.cache.addImage(h.key,h.data,this.data),this.pendingDestroy(u),h.pendingDestroy(u)):h||(u=this.cache.addImage(this.key,this.data),this.pendingDestroy(u))}});r.register("image",function(u,h,f){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new n(this,u[v]));else this.addFile(new n(this,u,h,f));return this}),i.exports=n},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),l=t(0),s=t(11),r=t(15),a=t(1065),o=new l({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,a],initialize:function(u,h,f,v,m){r.call(this,u,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(v,m),this.setPosition(h,f),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,u){this.anims.update(n,u)},play:function(n,u){return this.anims.play(n,u)},playReverse:function(n,u){return this.anims.playReverse(n,u)},playAfterDelay:function(n,u){return this.anims.playAfterDelay(n,u)},playAfterRepeat:function(n,u){return this.anims.playAfterRepeat(n,u)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});i.exports=o},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){if(!(l>=e.length)){for(var s=e.length-1,r=e[l],a=l;a<s;a++)e[a]=e[a+1];return e.length=s,r}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ADDED_TO_SCENE:t(643),DESTROY:t(644),REMOVED_FROM_SCENE:t(645),VIDEO_COMPLETE:t(646),VIDEO_CREATED:t(647),VIDEO_ERROR:t(648),VIDEO_LOOP:t(649),VIDEO_PLAY:t(650),VIDEO_SEEKED:t(651),VIDEO_SEEKING:t(652),VIDEO_STOP:t(653),VIDEO_TIMEOUT:t(654),VIDEO_UNLOCKED:t(655)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){return s===void 0&&(s=0),l===0?e:(e-=s,e=l*Math.floor(e/l),r?(s+e)/l:s+e)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l={};for(var s in e)Array.isArray(e[s])?l[s]=e[s].slice(0):l[s]=e[s];return l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=e.length;if(l<0||l>a||l>=s||s>a||l+s>a){if(r)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(r,a){return String(r).localeCompare(a)}function e(r,a){var o=r.length;if(o<=1)return r;for(var n=new Array(o),u=1;u<o;u*=2){l(r,a,u,n);var h=r;r=n,n=h}return r}function l(r,a,o,n){var u=r.length,h=0,f=o*2,v,m,g,x,y;for(v=0;v<u;v+=f)for(m=v+o,g=m+o,m>u&&(m=u),g>u&&(g=u),x=v,y=m;;)if(x<m&&y<g)a(r[x],r[y])<=0?n[h++]=r[x++]:n[h++]=r[y++];else if(x<m)n[h++]=r[x++];else if(y<g)n[h++]=r[y++];else break}var s=function(r,a){a===void 0&&(a=t);var o=e(r,a);return o!==r&&l(o,null,r.length,r),r};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(134),l=t(205),s=function(r,a){var o=e.Power0;if(typeof r=="string")if(e.hasOwnProperty(r))o=e[r];else{var n="";r.indexOf(".")&&(n=r.substr(r.indexOf(".")+1),n.toLowerCase()==="in"?n="easeIn":n.toLowerCase()==="out"?n="easeOut":n.toLowerCase()==="inout"&&(n="easeInOut")),r=l(r.substr(0,r.indexOf(".")+1)+n),e.hasOwnProperty(r)&&(o=e[r])}else typeof r=="function"?o=r:Array.isArray(r)&&r.length;if(!a)return o;var u=a.slice(0);return u.unshift(0),function(h){return u[0]=h,o.apply(this,u)}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),l=function(s,r,a,o,n){var u=s.strokeTint,h=e.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*a);u.TL=h,u.TR=h,u.BL=h,u.BR=h;var f=r.pathData,v=f.length-1,m=r.lineWidth,g=m/2,x=f[0]-o,y=f[1]-n;r.closePath||(v-=2);for(var T=2;T<v;T+=2){var S=f[T]-o,E=f[T+1]-n;s.batchLine(x,y,S,E,g,g,m,T-2,r.closePath?T===v-1:!1),x=S,y=E}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(115),s=t(476),r=t(477),a=t(56),o=t(47),n=t(181),u=new e({initialize:function(f,v,m,g,x,y){f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=0),y===void 0&&(y=0),this.type=a.TRIANGLE,this.x1=f,this.y1=v,this.x2=m,this.y2=g,this.x3=x,this.y3=y},contains:function(h,f){return l(this,h,f)},getPoint:function(h,f){return s(this,h,f)},getPoints:function(h,f,v){return r(this,h,f,v)},getRandomPoint:function(h){return n(this,h)},setTo:function(h,f,v,m,g,x){return h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=0),this.x1=h,this.y1=f,this.x2=v,this.y2=m,this.x3=g,this.y3=x,this},getLineA:function(h){return h===void 0&&(h=new o),h.setTo(this.x1,this.y1,this.x2,this.y2),h},getLineB:function(h){return h===void 0&&(h=new o),h.setTo(this.x2,this.y2,this.x3,this.y3),h},getLineC:function(h){return h===void 0&&(h=new o),h.setTo(this.x3,this.y3,this.x1,this.y1),h},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(h){var f=0;this.x1<=this.x2&&this.x1<=this.x3?f=this.x1-h:this.x2<=this.x1&&this.x2<=this.x3?f=this.x2-h:f=this.x3-h,this.x1-=f,this.x2-=f,this.x3-=f}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(h){var f=0;this.x1>=this.x2&&this.x1>=this.x3?f=this.x1-h:this.x2>=this.x1&&this.x2>=this.x3?f=this.x2-h:f=this.x3-h,this.x1-=f,this.x2-=f,this.x3-=f}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(h){var f=0;this.y1<=this.y2&&this.y1<=this.y3?f=this.y1-h:this.y2<=this.y1&&this.y2<=this.y3?f=this.y2-h:f=this.y3-h,this.y1-=f,this.y2-=f,this.y3-=f}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(h){var f=0;this.y1>=this.y2&&this.y1>=this.y3?f=this.y1-h:this.y2>=this.y1&&this.y2>=this.y3?f=this.y2-h:f=this.y3-h,this.y1-=f,this.y2-=f,this.y3-=f}}});i.exports=u},function(i,d){var t={};i.exports=t,function(){t.create=function(e,l){return{x:e||0,y:l||0}},t.clone=function(e){return{x:e.x,y:e.y}},t.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},t.rotate=function(e,l,s){var r=Math.cos(l),a=Math.sin(l);s||(s={});var o=e.x*r-e.y*a;return s.y=e.x*a+e.y*r,s.x=o,s},t.rotateAbout=function(e,l,s,r){var a=Math.cos(l),o=Math.sin(l);r||(r={});var n=s.x+((e.x-s.x)*a-(e.y-s.y)*o);return r.y=s.y+((e.x-s.x)*o+(e.y-s.y)*a),r.x=n,r},t.normalise=function(e){var l=t.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},t.dot=function(e,l){return e.x*l.x+e.y*l.y},t.cross=function(e,l){return e.x*l.y-e.y*l.x},t.cross3=function(e,l,s){return(l.x-e.x)*(s.y-e.y)-(l.y-e.y)*(s.x-e.x)},t.add=function(e,l,s){return s||(s={}),s.x=e.x+l.x,s.y=e.y+l.y,s},t.sub=function(e,l,s){return s||(s={}),s.x=e.x-l.x,s.y=e.y-l.y,s},t.mult=function(e,l){return{x:e.x*l,y:e.y*l}},t.div=function(e,l){return{x:e.x/l,y:e.y/l}},t.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},t.neg=function(e){return{x:-e.x,y:-e.y}},t.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]}()},function(i,d){var t={};i.exports=t,function(){t.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&t.update(l,e),l},t.update=function(e,l,s){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<l.length;r++){var a=l[r];a.x>e.max.x&&(e.max.x=a.x),a.x<e.min.x&&(e.min.x=a.x),a.y>e.max.y&&(e.max.y=a.y),a.y<e.min.y&&(e.min.y=a.y)}s&&(s.x>0?e.max.x+=s.x:e.min.x+=s.x,s.y>0?e.max.y+=s.y:e.min.y+=s.y)},t.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},t.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},t.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},t.shift=function(e,l){var s=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+s,e.min.y=l.y,e.max.y=l.y+r}}()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),l=t(0),s=t(11),r=t(502),a=new l({Mixins:[s.Alpha,s.Flip,s.Visible],initialize:function(n,u,h,f,v,m,g,x){this.layer=n,this.index=u,this.x=h,this.y=f,this.width=v,this.height=m,this.right,this.bottom,this.baseWidth=g!==void 0?g:v,this.baseHeight=x!==void 0?x:m,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(o,n){return!(o<this.pixelX||n<this.pixelY||o>this.right||n>this.bottom)},copy:function(o){return this.index=o.index,this.alpha=o.alpha,this.properties=o.properties,this.visible=o.visible,this.setFlip(o.flipX,o.flipY),this.tint=o.tint,this.rotation=o.rotation,this.collideUp=o.collideUp,this.collideDown=o.collideDown,this.collideLeft=o.collideLeft,this.collideRight=o.collideRight,this.collisionCallback=o.collisionCallback,this.collisionCallbackContext=o.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(o){var n=this.tilemapLayer;return n?n.tileToWorldX(this.x,o):this.x*this.baseWidth},getRight:function(o){var n=this.tilemapLayer;return n?this.getLeft(o)+this.width*n.scaleX:this.getLeft(o)+this.width},getTop:function(o){var n=this.tilemapLayer;return n?n.tileToWorldY(this.y,o)-(this.height-this.baseHeight)*n.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(o){var n=this.tilemapLayer;return n?this.getTop(o)+this.height*n.scaleY:this.getTop(o)+this.height},getBounds:function(o,n){return n===void 0&&(n=new r),n.x=this.getLeft(),n.y=this.getTop(),n.width=this.getRight()-n.x,n.height=this.getBottom()-n.y,n},getCenterX:function(o){return(this.getLeft(o)+this.getRight(o))/2},getCenterY:function(o){return(this.getTop(o)+this.getBottom(o))/2},intersects:function(o,n,u,h){return!(u<=this.pixelX||h<=this.pixelY||o>=this.right||n>=this.bottom)},isInteresting:function(o,n){return o&&n?this.canCollide||this.hasInterestingFace:o?this.collides:n?this.hasInterestingFace:!1},resetCollision:function(o){if(o===void 0&&(o=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,o){var n=this.tilemapLayer;n&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(o,n,u,h,f){if(n===void 0&&(n=o),u===void 0&&(u=o),h===void 0&&(h=o),f===void 0&&(f=!0),this.collideLeft=o,this.collideRight=n,this.collideUp=u,this.collideDown=h,this.faceLeft=o,this.faceRight=n,this.faceTop=u,this.faceBottom=h,f){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(o,n){return o===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=o,this.collisionCallbackContext=n),this},setSize:function(o,n,u,h){return o!==void 0&&(this.width=o),n!==void 0&&(this.height=n),u!==void 0&&(this.baseWidth=u),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var o=this.layer.orientation;if(o===e.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(o===e.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(o===e.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(o===e.HEXAGONAL){var n=this.layer.hexSideLength,u=(this.baseHeight-n)/2+n;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*u}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var o=this.layer.tilemapLayer;if(o){var n=o.gidMap[this.index];if(n)return n}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var o=this.tilemapLayer;return o?o.tilemap:null}}});i.exports=a},function(i,d,t){var e={};i.exports=e;var l=t(64),s=t(32),r=t(41),a=t(84),o=t(83),n=t(1393);(function(){e.rectangle=function(u,h,f,v,m){m=m||{};var g={label:"Rectangle Body",position:{x:u,y:h},vertices:l.fromPath("L 0 0 L "+f+" 0 L "+f+" "+v+" L 0 "+v)};if(m.chamfer){var x=m.chamfer;g.vertices=l.chamfer(g.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete m.chamfer}return r.create(s.extend({},g,m))},e.trapezoid=function(u,h,f,v,m,g){g=g||{},m*=.5;var x=(1-m*2)*f,y=f*m,T=y+x,S=T+y,E;m<.5?E="L 0 0 L "+y+" "+-v+" L "+T+" "+-v+" L "+S+" 0":E="L 0 0 L "+T+" "+-v+" L "+S+" 0";var C={label:"Trapezoid Body",position:{x:u,y:h},vertices:l.fromPath(E)};if(g.chamfer){var A=g.chamfer;C.vertices=l.chamfer(C.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete g.chamfer}return r.create(s.extend({},C,g))},e.circle=function(u,h,f,v,m){v=v||{};var g={label:"Circle Body",circleRadius:f};m=m||25;var x=Math.ceil(Math.max(10,Math.min(m,f)));return x%2===1&&(x+=1),e.polygon(u,h,x,f,s.extend({},g,v))},e.polygon=function(u,h,f,v,m){if(m=m||{},f<3)return e.circle(u,h,v,m);for(var g=2*Math.PI/f,x="",y=g*.5,T=0;T<f;T+=1){var S=y+T*g,E=Math.cos(S)*v,C=Math.sin(S)*v;x+="L "+E.toFixed(3)+" "+C.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:u,y:h},vertices:l.fromPath(x)};if(m.chamfer){var P=m.chamfer;A.vertices=l.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete m.chamfer}return r.create(s.extend({},A,m))},e.fromVertices=function(u,h,f,v,m,g,x){var y,T,S,E,C,A;for(v=v||{},T=[],m=typeof m!="undefined"?m:!1,g=typeof g!="undefined"?g:.01,x=typeof x!="undefined"?x:10,n||s.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),s.isArray(f[0])||(f=[f]),A=0;A<f.length;A+=1)if(E=f[A],S=l.isConvex(E),S||!n)S?E=l.clockwiseSort(E):E=l.hull(E),T.push({position:{x:u,y:h},vertices:E});else{var P=E.map(function(O){return[O.x,O.y]});n.makeCCW(P),g!==!1&&n.removeCollinearPoints(P,g);var R=n.quickDecomp(P);for(C=0;C<R.length;C++){var M=R[C],L=M.map(function(O){return{x:O[0],y:O[1]}});x>0&&l.area(L)<x||T.push({position:l.centre(L),vertices:L})}}for(C=0;C<T.length;C++)T[C]=r.create(s.extend(T[C],v));return m&&e.flagCoincidentParts(T,5),T.length>1?(y=r.create(s.extend({parts:T.slice(0)},v)),r.setPosition(y,{x:u,y:h}),y):T[0]},e.flagCoincidentParts=function(u,h){h===void 0&&(h=5);for(var f=0;f<u.length;f++)for(var v=u[f],m=f+1;m<u.length;m++){var g=u[m];if(a.overlaps(v.bounds,g.bounds))for(var x=v.vertices,y=g.vertices,T=0;T<v.vertices.length;T++)for(var S=0;S<g.vertices.length;S++){var E=o.magnitudeSquared(o.sub(x[(T+1)%x.length],y[S])),C=o.magnitudeSquared(o.sub(x[T],y[(S+1)%y.length]));E<h&&C<h&&(x[T].isInternal=!0,y[S].isInternal=!0)}}return u}})()},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX+e.width*.5};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.width*e.originX;return e.x=l+s-e.width*.5,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY+e.height*.5};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.height*e.originY;return e.y=l+s-e.height*.5,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={POST_RENDER:t(628),PRE_RENDER:t(629),RENDER:t(630),RESIZE:t(631)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),l=function(s,r,a,o){o===void 0&&(o=s);var n;if(!Array.isArray(r))return n=s.indexOf(r),n!==-1?(e(s,n),a&&a.call(o,r),r):null;for(var u=r.length-1,h=[];u>=0;){var f=r[u];n=s.indexOf(f),n!==-1&&(e(s,n),h.push(f),a&&a.call(o,f)),u--}return h};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(199),s=t(10),r=t(3),a=new e({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(o,n){return n===void 0&&(n=32),o.strokePoints(this.getPoints(n))},getBounds:function(o,n){o||(o=new s),n===void 0&&(n=16);var u=this.getLength();n>u&&(n=u/2);var h=Math.max(1,Math.round(u/n));return l(this.getSpacedPoints(h),o)},getDistancePoints:function(o){var n=this.getLength(),u=Math.max(1,n/o);return this.getSpacedPoints(u)},getEndPoint:function(o){return o===void 0&&(o=new r),this.getPointAt(1,o)},getLength:function(){var o=this.getLengths();return o[o.length-1]},getLengths:function(o){if(o===void 0&&(o=this.arcLengthDivisions),this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],u,h=this.getPoint(0,this._tmpVec2A),f=0;n.push(0);for(var v=1;v<=o;v++)u=this.getPoint(v/o,this._tmpVec2B),f+=u.distance(h),n.push(f),h.copy(u);return this.cacheArcLengths=n,n},getPointAt:function(o,n){var u=this.getUtoTmapping(o);return this.getPoint(u,n)},getPoints:function(o,n,u){u===void 0&&(u=[]),o||(n?o=this.getLength()/n:o=this.defaultDivisions);for(var h=0;h<=o;h++)u.push(this.getPoint(h/o));return u},getRandomPoint:function(o){return o===void 0&&(o=new r),this.getPoint(Math.random(),o)},getSpacedPoints:function(o,n,u){u===void 0&&(u=[]),o||(n?o=this.getLength()/n:o=this.defaultDivisions);for(var h=0;h<=o;h++){var f=this.getUtoTmapping(h/o,null,o);u.push(this.getPoint(f))}return u},getStartPoint:function(o){return o===void 0&&(o=new r),this.getPointAt(0,o)},getTangent:function(o,n){n===void 0&&(n=new r);var u=1e-4,h=o-u,f=o+u;return h<0&&(h=0),f>1&&(f=1),this.getPoint(h,this._tmpVec2A),this.getPoint(f,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(o,n){var u=this.getUtoTmapping(o);return this.getTangent(u,n)},getTFromDistance:function(o,n){return o<=0?0:this.getUtoTmapping(0,o,n)},getUtoTmapping:function(o,n,u){var h=this.getLengths(u),f=0,v=h.length,m;n?m=Math.min(n,h[v-1]):m=o*h[v-1];for(var g=0,x=v-1,y;g<=x;)if(f=Math.floor(g+(x-g)/2),y=h[f]-m,y<0)g=f+1;else if(y>0)x=f-1;else{x=f;break}if(f=x,h[f]===m)return f/(v-1);var T=h[f],S=h[f+1],E=S-T,C=(m-T)/E;return(f+C)/(v-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ADD:t(968),COMPLETE:t(969),FILE_COMPLETE:t(970),FILE_KEY_COMPLETE:t(971),FILE_LOAD_ERROR:t(972),FILE_LOAD:t(973),FILE_PROGRESS:t(974),POST_PROCESS:t(975),PROGRESS:t(976),START:t(977)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r,a){a===void 0&&(a=new e);var o=s.x1,n=s.y1,u=s.x2,h=s.y2,f=r.x1,v=r.y1,m=r.x2,g=r.y2,x=(m-f)*(n-v)-(g-v)*(o-f),y=(u-o)*(n-v)-(h-n)*(o-f),T=(g-v)*(u-o)-(m-f)*(h-n);if(T===0)return!1;var S=x/T,E=y/T;return S>=0&&S<=1&&E>=0&&E<=1?(a.x=o+S*(u-o),a.y=n+S*(h-n),!0):!1};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=function(s,r,a){return s=e(s,0,1),(a-r)*s+r};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e&&e.hasOwnProperty(l)?e[l]:s};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(315),s=new e({initialize:function(a,o){this.parent=a,this.events=o,o||(this.events=a.events?a.events:a),this.list={},this.values={},this._frozen=!1,!a.hasOwnProperty("sys")&&this.events&&this.events.once(l.DESTROY,this.destroy,this)},get:function(r){var a=this.list;if(Array.isArray(r)){for(var o=[],n=0;n<r.length;n++)o.push(a[r[n]]);return o}else return a[r]},getAll:function(){var r={};for(var a in this.list)this.list.hasOwnProperty(a)&&(r[a]=this.list[a]);return r},query:function(r){var a={};for(var o in this.list)this.list.hasOwnProperty(o)&&o.match(r)&&(a[o]=this.list[o]);return a},set:function(r,a){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,a);for(var o in r)this.setValue(o,r[o]);return this},inc:function(r,a){if(this._frozen)return this;a===void 0&&(a=1);var o=this.get(r);return o===void 0&&(o=0),this.set(r,o+a),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,a){if(this._frozen)return this;if(this.has(r))this.values[r]=a;else{var o=this,n=this.list,u=this.events,h=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return n[r]},set:function(f){if(!o._frozen){var v=n[r];n[r]=f,u.emit(l.CHANGE_DATA,h,r,f,v),u.emit(l.CHANGE_DATA_KEY+r,h,f,v)}}}),n[r]=a,u.emit(l.SET_DATA,h,r,a)}return this},each:function(r,a){for(var o=[this.parent,null,void 0],n=1;n<arguments.length;n++)o.push(arguments[n]);for(var u in this.list)o[1]=u,o[2]=this.list[u],r.apply(a,o);return this},merge:function(r,a){a===void 0&&(a=!0);for(var o in r)r.hasOwnProperty(o)&&(a||!a&&!this.has(o))&&this.setValue(o,r[o]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var a=0;a<r.length;a++)this.removeValue(r[a]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var a=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(l.REMOVE_DATA,this.parent,r,a)}return this},pop:function(r){var a=void 0;return!this._frozen&&this.has(r)&&(a=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(l.REMOVE_DATA,this.parent,r,a)),a},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(l.CHANGE_DATA),this.events.off(l.SET_DATA),this.events.off(l.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var a in this.list)this.list[a]!==void 0&&r++;return r}}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r){if(this.entries={},this.size=0,Array.isArray(r))for(var a=0;a<r.length;a++)this.set(r[a][0],r[a][1])},set:function(s,r){return this.has(s)||this.size++,this.entries[s]=r,this},get:function(s){if(this.has(s))return this.entries[s]},getArray:function(){var s=[],r=this.entries;for(var a in r)s.push(r[a]);return s},has:function(s){return this.entries.hasOwnProperty(s)},delete:function(s){return this.has(s)&&(delete this.entries[s],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(s){delete this.entries[s]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var s=[],r=this.entries;for(var a in r)s.push(r[a]);return s},dump:function(){var s=this.entries;console.group("Map");for(var r in s)console.log(r,s[r]);console.groupEnd()},each:function(s){var r=this.entries;for(var a in r)if(s(a,r[a])===!1)break;return this},contains:function(s){var r=this.entries;for(var a in r)if(r[a]===s)return!0;return!1},merge:function(s,r){r===void 0&&(r=!1);var a=this.entries,o=s.entries;for(var n in o)a.hasOwnProperty(n)&&r?a[n]=o[n]:this.set(n,o[n]);return this}});i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e<<16|l<<8|s};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ENTER_FULLSCREEN:t(800),FULLSCREEN_FAILED:t(801),FULLSCREEN_UNSUPPORTED:t(802),LEAVE_FULLSCREEN:t(803),ORIENTATION_CHANGE:t(804),RESIZE:t(805)}},function(i,d,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var l={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return l;var r=navigator.userAgent;/Windows/.test(r)?l.windows=!0:/Mac OS/.test(r)&&!/like Mac OS/.test(r)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(l.iOS=!0,l.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),l.iOSVersion=parseInt(RegExp.$1,10)):l.macOS=!0:/Android/.test(r)?l.android=!0:/Linux/.test(r)?l.linux=!0:/iP[ao]d|iPhone/i.test(r)?(l.iOS=!0,navigator.appVersion.match(/OS (\d+)/),l.iOSVersion=parseInt(RegExp.$1,10),l.iPhone=r.toLowerCase().indexOf("iphone")!==-1,l.iPad=r.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(r)||/\bKF[A-Z][A-Z]+/.test(r)||/Silk.*Mobile Safari/.test(r)?l.kindle=!0:/CrOS/.test(r)&&(l.chromeOS=!0),(/Windows Phone/i.test(r)||/IEMobile/i.test(r))&&(l.android=!1,l.iOS=!1,l.macOS=!1,l.windows=!0,l.windowsPhone=!0);var a=/Silk/.test(r);return(l.windows||l.macOS||l.linux&&!a||l.chromeOS)&&(l.desktop=!0),(l.windowsPhone||/Windows NT/i.test(r)&&/Touch/i.test(r))&&(l.desktop=!1),navigator.standalone&&(l.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(l.cordova=!0),window.ejecta!==void 0&&(l.ejecta=!0)),typeof e!="undefined"&&e.versions&&e.versions.node&&(l.node=!0),l.node&&typeof e.versions=="object"&&(l.nodeWebkit=!!e.versions["node-webkit"],l.electron=!!e.versions.electron),/Crosswalk/.test(r)&&(l.crosswalk=!0),l.pixelRatio=window.devicePixelRatio||1,l}i.exports=s()}).call(this,t(807))},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ADD:t(861),ERROR:t(862),LOAD:t(863),READY:t(864),REMOVE:t(865)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(59),s=t(2),r=t(878),a=t(879),o=t(25),n=t(12),u=t(107),h=t(58),f=new e({Extends:h,initialize:function(m){var g=m.game.renderer,x=s(m,"fragShader",r);m.fragShader=n.parseFragmentShaderMaxTextures(x,g.maxTextures),m.vertShader=s(m,"vertShader",a),m.attributes=s(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),h.call(this,m),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){h.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(v,m,g){this.manager.set(this,v);var x=this._tempMatrix1,y=this._tempMatrix2,T=this._tempMatrix3,S=v.frame,E=S.glTexture,C=S.u0,A=S.v0,P=S.u1,R=S.v1,M=S.x,L=S.y,O=S.cutWidth,I=S.cutHeight,w=S.customPivot,G=v.displayOriginX,V=v.displayOriginY,X=-G+M,W=-V+L;if(v.isCropped){var D=v._crop;(D.flipX!==v.flipX||D.flipY!==v.flipY)&&S.updateCropUVs(D,v.flipX,v.flipY),C=D.u0,A=D.v0,P=D.u1,R=D.v1,O=D.width,I=D.height,M=D.x,L=D.y,X=-G+M,W=-V+L}var F=1,B=1;v.flipX&&(w||(X+=-S.realWidth+G*2),F=-1),(v.flipY||S.source.isGLTexture&&!E.flipY)&&(w||(W+=-S.realHeight+V*2),B=-1),y.applyITRS(v.x,v.y,v.rotation,v.scaleX*F,v.scaleY*B),x.copyFrom(m.matrix),g?(x.multiplyWithOffset(g,-m.scrollX*v.scrollFactorX,-m.scrollY*v.scrollFactorY),y.e=v.x,y.f=v.y):(y.e-=m.scrollX*v.scrollFactorX,y.f-=m.scrollY*v.scrollFactorY),x.multiply(y,T);var b=X+O,z=W+I,N=m.roundPixels,U=T.getXRound(X,W,N),Y=T.getYRound(X,W,N),K=T.getXRound(X,z,N),Z=T.getYRound(X,z,N),j=T.getXRound(b,z,N),q=T.getYRound(b,z,N),k=T.getXRound(b,W,N),H=T.getYRound(b,W,N),$=n.getTintAppendFloatAlpha,J=m.alpha,et=$(v.tintTopLeft,J*v._alphaTL),_=$(v.tintTopRight,J*v._alphaTR),it=$(v.tintBottomLeft,J*v._alphaBL),Q=$(v.tintBottomRight,J*v._alphaBR);this.shouldFlush(6)&&this.flush();var st=this.setGameObject(v,S);this.manager.preBatch(v),this.batchQuad(v,U,Y,K,Z,j,q,k,H,C,A,P,R,et,_,it,Q,v.tintFill,E,st),this.manager.postBatch(v)},batchTexture:function(v,m,g,x,y,T,S,E,C,A,P,R,M,L,O,I,w,G,V,X,W,D,F,B,b,z,N,U,Y,K,Z,j){this.manager.set(this,v);var q=this._tempMatrix1,k=this._tempMatrix2,H=this._tempMatrix3,$=G/g+N,J=V/x+U,et=(G+X)/g+N,_=(V+W)/x+U,it=S,Q=E,st=-I,nt=-w;if(v.isCropped){var tt=v._crop,ut=tt.width,ot=tt.height;it=ut,Q=ot,S=ut,E=ot,G=tt.x,V=tt.y;var at=G,ht=V;R&&(at=X-tt.x-ut),M&&(ht=W-tt.y-ot),$=at/g+N,J=ht/x+U,et=(at+ut)/g+N,_=(ht+ot)/x+U,st=-I+G,nt=-w+V}M=M^(!Z&&m.isRenderTexture?1:0),R&&(it*=-1,st+=S),M&&(Q*=-1,nt+=E);var ft=st+it,vt=nt+Q;k.applyITRS(y,T,P,C,A),q.copyFrom(Y.matrix),K?(q.multiplyWithOffset(K,-Y.scrollX*L,-Y.scrollY*O),k.e=y,k.f=T):(k.e-=Y.scrollX*L,k.f-=Y.scrollY*O),q.multiply(k,H);var ct=Y.roundPixels,mt=H.getXRound(st,nt,ct),bt=H.getYRound(st,nt,ct),kt=H.getXRound(st,vt,ct),fe=H.getYRound(st,vt,ct),te=H.getXRound(ft,vt,ct),de=H.getYRound(ft,vt,ct),Dt=H.getXRound(ft,nt,ct),ce=H.getYRound(ft,nt,ct);j===void 0&&(j=this.renderer.setTexture2D(m)),v&&this.manager.preBatch(v),this.batchQuad(v,mt,bt,kt,fe,te,de,Dt,ce,$,J,et,_,D,F,B,b,z,m,j),v&&this.manager.postBatch(v)},batchTextureFrame:function(v,m,g,x,y,T,S){this.manager.set(this);var E=this._tempMatrix1.copyFrom(T),C=this._tempMatrix2,A=m+v.width,P=g+v.height;S?E.multiply(S,C):C=E;var R=C.getX(m,g),M=C.getY(m,g),L=C.getX(m,P),O=C.getY(m,P),I=C.getX(A,P),w=C.getY(A,P),G=C.getX(A,g),V=C.getY(A,g),X=this.renderer.setTextureSource(v.source);x=n.getTintAppendFloatAlpha(x,y),this.batchQuad(null,R,M,L,O,I,w,G,V,v.u0,v.v0,v.u1,v.v1,x,x,x,x,0,v.glTexture,X)},batchFillRect:function(v,m,g,x,y,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(y,S);var E=v+g,C=m+x,A=S.getX(v,m),P=S.getY(v,m),R=S.getX(v,C),M=S.getY(v,C),L=S.getX(E,C),O=S.getY(E,C),I=S.getX(E,m),w=S.getY(E,m),G=this.fillTint;this.batchQuad(null,A,P,R,M,L,O,I,w,0,0,1,1,G.TL,G.TR,G.BL,G.BR,2)},batchFillTriangle:function(v,m,g,x,y,T,S,E){this.renderer.pipelines.set(this);var C=this.calcMatrix;E&&E.multiply(S,C);var A=C.getX(v,m),P=C.getY(v,m),R=C.getX(g,x),M=C.getY(g,x),L=C.getX(y,T),O=C.getY(y,T),I=this.fillTint;this.batchTri(null,A,P,R,M,L,O,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(v,m,g,x,y,T,S,E,C){var A=this.tempTriangle;A[0].x=v,A[0].y=m,A[0].width=S,A[1].x=g,A[1].y=x,A[1].width=S,A[2].x=y,A[2].y=T,A[2].width=S,A[3].x=v,A[3].y=m,A[3].width=S,this.batchStrokePath(A,S,!1,E,C)},batchFillPath:function(v,m,g){this.renderer.pipelines.set(this);var x=this.calcMatrix;g&&g.multiply(m,x);for(var y=v.length,T=this.polygonCache,S,E,C=this.fillTint.TL,A=this.fillTint.TR,P=this.fillTint.BL,R=0;R<y;++R)E=v[R],T.push(E.x,E.y);S=l(T),y=S.length;for(var M=0;M<y;M+=3){var L=S[M+0]*2,O=S[M+1]*2,I=S[M+2]*2,w=T[L+0],G=T[L+1],V=T[O+0],X=T[O+1],W=T[I+0],D=T[I+1],F=x.getX(w,G),B=x.getY(w,G),b=x.getX(V,X),z=x.getY(V,X),N=x.getX(W,D),U=x.getY(W,D);this.batchTri(null,F,B,b,z,N,U,0,0,1,1,C,A,P,2)}T.length=0},batchStrokePath:function(v,m,g,x,y){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=v.length-1,S=0;S<T;S++){var E=v[S],C=v[S+1];this.batchLine(E.x,E.y,C.x,C.y,E.width/2,C.width/2,m,S,!g&&S===T-1,x,y)}},batchLine:function(v,m,g,x,y,T,S,E,C,A,P){this.renderer.pipelines.set(this);var R=this.calcMatrix;P&&P.multiply(A,R);var M=g-v,L=x-m,O=Math.sqrt(M*M+L*L),I=y*(x-m)/O,w=y*(v-g)/O,G=T*(x-m)/O,V=T*(v-g)/O,X=g-G,W=x-V,D=v-I,F=m-w,B=g+G,b=x+V,z=v+I,N=m+w,U=R.getX(X,W),Y=R.getY(X,W),K=R.getX(D,F),Z=R.getY(D,F),j=R.getX(B,b),q=R.getY(B,b),k=R.getX(z,N),H=R.getY(z,N),$=this.strokeTint,J=$.TL,et=$.TR,_=$.BL,it=$.BR;if(this.batchQuad(null,k,H,K,Z,U,Y,j,q,0,0,1,1,J,et,_,it,2),!(S<=2)){var Q=this.prevQuad,st=this.firstQuad;E>0&&Q[4]?this.batchQuad(null,k,H,K,Z,Q[0],Q[1],Q[2],Q[3],0,0,1,1,J,et,_,it,2):(st[0]=k,st[1]=H,st[2]=K,st[3]=Z,st[4]=1),C&&st[4]?this.batchQuad(null,U,Y,j,q,st[0],st[1],st[2],st[3],0,0,1,1,J,et,_,it,2):(Q[0]=U,Q[1]=Y,Q[2]=j,Q[3]=q,Q[4]=1)}}});i.exports=f},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(18),s=t(17),r=new e({initialize:function(o,n,u,h,f,v,m){this.texture=o,this.name=n,this.source=o.source[u],this.sourceIndex=u,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(v,m,h,f)},setSize:function(a,o,n,u){n===void 0&&(n=0),u===void 0&&(u=0),this.cutX=n,this.cutY=u,this.cutWidth=a,this.cutHeight=o,this.width=a,this.height=o,this.halfWidth=Math.floor(a*.5),this.halfHeight=Math.floor(o*.5),this.centerX=Math.floor(a/2),this.centerY=Math.floor(o/2);var h=this.data,f=h.cut;f.x=n,f.y=u,f.w=a,f.h=o,f.r=n+a,f.b=u+o,h.sourceSize.w=a,h.sourceSize.h=o,h.spriteSourceSize.w=a,h.spriteSourceSize.h=o,h.radius=.5*Math.sqrt(a*a+o*o);var v=h.drawImage;return v.x=n,v.y=u,v.width=a,v.height=o,this.updateUVs()},setTrim:function(a,o,n,u,h,f){var v=this.data,m=v.spriteSourceSize;return v.trim=!0,v.sourceSize.w=a,v.sourceSize.h=o,m.x=n,m.y=u,m.w=h,m.h=f,m.r=n+h,m.b=u+f,this.x=n,this.y=u,this.width=h,this.height=f,this.halfWidth=h*.5,this.halfHeight=f*.5,this.centerX=Math.floor(h/2),this.centerY=Math.floor(f/2),this.updateUVs()},setCropUVs:function(a,o,n,u,h,f,v){var m=this.cutX,g=this.cutY,x=this.cutWidth,y=this.cutHeight,T=this.realWidth,S=this.realHeight;o=l(o,0,T),n=l(n,0,S),u=l(u,0,T-o),h=l(h,0,S-n);var E=m+o,C=g+n,A=u,P=h,R=this.data;if(R.trim){var M=R.spriteSourceSize;u=l(u,0,x-o),h=l(h,0,y-n);var L=o+u,O=n+h,I=!(M.r<o||M.b<n||M.x>L||M.y>O);if(I){var w=Math.max(M.x,o),G=Math.max(M.y,n),V=Math.min(M.r,L)-w,X=Math.min(M.b,O)-G;A=V,P=X,f?E=m+(x-(w-M.x)-V):E=m+(w-M.x),v?C=g+(y-(G-M.y)-X):C=g+(G-M.y),o=w,n=G,u=V,h=X}else E=0,C=0,A=0,P=0}else f&&(E=m+(x-o-u)),v&&(C=g+(y-n-h));var W=this.source.width,D=this.source.height;return a.u0=Math.max(0,E/W),a.v0=Math.max(0,C/D),a.u1=Math.min(1,(E+A)/W),a.v1=Math.min(1,(C+P)/D),a.x=o,a.y=n,a.cx=E,a.cy=C,a.cw=A,a.ch=P,a.width=u,a.height=h,a.flipX=f,a.flipY=v,a},updateCropUVs:function(a,o,n){return this.setCropUVs(a,a.x,a.y,a.width,a.height,o,n)},setUVs:function(a,o,n,u,h,f){var v=this.data.drawImage;return v.width=a,v.height=o,this.u0=n,this.v0=u,this.u1=h,this.v1=f,this},updateUVs:function(){var a=this.cutX,o=this.cutY,n=this.cutWidth,u=this.cutHeight,h=this.data.drawImage;h.width=n,h.height=u;var f=this.source.width,v=this.source.height;return this.u0=a/f,this.v0=o/v,this.u1=(a+n)/f,this.v1=(o+u)/v,this},updateUVsInverted:function(){var a=this.source.width,o=this.source.height;return this.u0=(this.cutX+this.cutHeight)/a,this.v0=this.cutY/o,this.u1=this.cutX/a,this.v1=(this.cutY+this.cutWidth)/o,this},clone:function(){var a=new r(this.texture,this.name,this.sourceIndex);return a.cutX=this.cutX,a.cutY=this.cutY,a.cutWidth=this.cutWidth,a.cutHeight=this.cutHeight,a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,a.halfWidth=this.halfWidth,a.halfHeight=this.halfHeight,a.centerX=this.centerX,a.centerY=this.centerY,a.rotated=this.rotated,a.data=s(!0,a.data,this.data),a.updateUVs(),a},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),l=t(0),s=t(1),r=t(79),a=new l({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(o,n){return n?e.Add(this.list,o):e.Add(this.list,o,0,this.addCallback,this)},addAt:function(o,n,u){return u?e.AddAt(this.list,o,n):e.AddAt(this.list,o,n,0,this.addCallback,this)},getAt:function(o){return this.list[o]},getIndex:function(o){return this.list.indexOf(o)},sort:function(o,n){return o?(n===void 0&&(n=function(u,h){return u[o]-h[o]}),r(this.list,n),this):this},getByName:function(o){return e.GetFirst(this.list,"name",o)},getRandom:function(o,n){return e.GetRandom(this.list,o,n)},getFirst:function(o,n,u,h){return e.GetFirst(this.list,o,n,u,h)},getAll:function(o,n,u,h){return e.GetAll(this.list,o,n,u,h)},count:function(o,n){return e.CountAllMatching(this.list,o,n)},swap:function(o,n){e.Swap(this.list,o,n)},moveTo:function(o,n){return e.MoveTo(this.list,o,n)},moveAbove:function(o,n){return e.MoveAbove(this.list,o,n)},moveBelow:function(o,n){return e.MoveBelow(this.list,o,n)},remove:function(o,n){return n?e.Remove(this.list,o):e.Remove(this.list,o,this.removeCallback,this)},removeAt:function(o,n){return n?e.RemoveAt(this.list,o):e.RemoveAt(this.list,o,this.removeCallback,this)},removeBetween:function(o,n,u){return u?e.RemoveBetween(this.list,o,n):e.RemoveBetween(this.list,o,n,this.removeCallback,this)},removeAll:function(o){for(var n=this.list.length;n--;)this.remove(this.list[n],o);return this},bringToTop:function(o){return e.BringToTop(this.list,o)},sendToBack:function(o){return e.SendToBack(this.list,o)},moveUp:function(o){return e.MoveUp(this.list,o),o},moveDown:function(o){return e.MoveDown(this.list,o),o},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(o,n){return e.Replace(this.list,o,n)},exists:function(o){return this.list.indexOf(o)>-1},setAll:function(o,n,u,h){return e.SetAll(this.list,o,n,u,h),this},each:function(o,n){for(var u=[null],h=2;h<arguments.length;h++)u.push(arguments[h]);for(h=0;h<this.list.length;h++)u[0]=this.list[h],o.apply(n,u)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(112),s=t(445),r=t(446),a=t(56),o=t(180),n=new e({initialize:function(h,f,v,m){h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),this.type=a.ELLIPSE,this.x=h,this.y=f,this.width=v,this.height=m},contains:function(u,h){return l(this,u,h)},getPoint:function(u,h){return s(this,u,h)},getPoints:function(u,h,f){return r(this,u,h,f)},getRandomPoint:function(u){return o(this,u)},setTo:function(u,h,f,v){return this.x=u,this.y=h,this.width=f,this.height=v,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(u,h){return h===void 0&&(h=u),this.x=u,this.y=h,this},setSize:function(u,h){return h===void 0&&(h=u),this.width=u,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(u){this.x=u+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(u){this.y=u+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});i.exports=n},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(e.width<=0||e.height<=0)return!1;var r=(l-e.x)/e.width,a=(s-e.y)/e.height;return r*=r,a*=a,r+a<.25};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(275),l=t(0),s=t(75),r=t(9),a=t(207),o=t(2),n=t(6),u=t(7),h=t(437),f=t(149),v=t(73),m=new l({Extends:r,initialize:function(x,y,T){r.call(this),T?y&&!Array.isArray(y)&&(y=[y]):Array.isArray(y)?u(y[0])&&(T=y,y=null):u(y)&&(T=y,y=null),this.scene=x,this.children=new f,this.isParent=!0,this.type="Group",this.classType=o(T,"classType",v),this.name=o(T,"name",""),this.active=o(T,"active",!0),this.maxSize=o(T,"maxSize",-1),this.defaultKey=o(T,"defaultKey",null),this.defaultFrame=o(T,"defaultFrame",null),this.runChildUpdate=o(T,"runChildUpdate",!1),this.createCallback=o(T,"createCallback",null),this.removeCallback=o(T,"removeCallback",null),this.createMultipleCallback=o(T,"createMultipleCallback",null),this.internalCreateCallback=o(T,"internalCreateCallback",null),this.internalRemoveCallback=o(T,"internalRemoveCallback",null),y&&this.addMultiple(y),T&&this.createMultiple(T),this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(g,x,y,T,S,E){if(g===void 0&&(g=0),x===void 0&&(x=0),y===void 0&&(y=this.defaultKey),T===void 0&&(T=this.defaultFrame),S===void 0&&(S=!0),E===void 0&&(E=!0),this.isFull())return null;var C=new this.classType(this.scene,g,x,y,T);return C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList(),C.visible=S,C.setActive(E),this.add(C),C},createMultiple:function(g){if(this.isFull())return[];Array.isArray(g)||(g=[g]);var x=[];if(g[0].key)for(var y=0;y<g.length;y++){var T=this.createFromConfig(g[y]);x=x.concat(T)}return x},createFromConfig:function(g){if(this.isFull())return[];this.classType=o(g,"classType",this.classType);var x=o(g,"key",void 0),y=o(g,"frame",null),T=o(g,"visible",!0),S=o(g,"active",!0),E=[];if(x===void 0)return E;Array.isArray(x)||(x=[x]),Array.isArray(y)||(y=[y]);var C=o(g,"repeat",0),A=o(g,"randomKey",!1),P=o(g,"randomFrame",!1),R=o(g,"yoyo",!1),M=o(g,"quantity",!1),L=o(g,"frameQuantity",1),O=o(g,"max",0),I=h(x,y,{max:O,qty:M||L,random:A,randomB:P,repeat:C,yoyo:R});g.createCallback&&(this.createCallback=g.createCallback),g.removeCallback&&(this.removeCallback=g.removeCallback);for(var w=0;w<I.length;w++){var G=this.create(0,0,I[w].a,I[w].b,T,S);if(!G)break;E.push(G)}var V=n(g,"setXY.x",0),X=n(g,"setXY.y",0),W=n(g,"setXY.stepX",0),D=n(g,"setXY.stepY",0);e.SetXY(E,V,X,W,D);var F=n(g,"setRotation.value",0),B=n(g,"setRotation.step",0);e.SetRotation(E,F,B);var b=n(g,"setScale.x",1),z=n(g,"setScale.y",b),N=n(g,"setScale.stepX",0),U=n(g,"setScale.stepY",0);e.SetScale(E,b,z,N,U);var Y=n(g,"setOrigin.x",.5),K=n(g,"setOrigin.y",Y),Z=n(g,"setOrigin.stepX",0),j=n(g,"setOrigin.stepY",0);e.SetOrigin(E,Y,K,Z,j);var q=n(g,"setAlpha.value",1),k=n(g,"setAlpha.step",0);e.SetAlpha(E,q,k);var H=n(g,"setDepth.value",0),$=n(g,"setDepth.step",0);e.SetDepth(E,H,$);var J=n(g,"setScrollFactor.x",1),et=n(g,"setScrollFactor.y",J),_=n(g,"setScrollFactor.stepX",0),it=n(g,"setScrollFactor.stepY",0);e.SetScrollFactor(E,J,et,_,it);var Q=o(g,"hitArea",null),st=o(g,"hitAreaCallback",null);Q&&e.SetHitArea(E,Q,st);var nt=o(g,"gridAlign",!1);return nt&&e.GridAlign(E,nt),this.createMultipleCallback&&this.createMultipleCallback.call(this,E),E},preUpdate:function(g,x){if(!(!this.runChildUpdate||this.children.size===0))for(var y=this.children.entries.slice(),T=0;T<y.length;T++){var S=y[T];S.active&&S.update(g,x)}},add:function(g,x){return x===void 0&&(x=!1),this.isFull()?this:(this.children.set(g),this.internalCreateCallback&&this.internalCreateCallback.call(this,g),this.createCallback&&this.createCallback.call(this,g),x&&(g.addToDisplayList(this.scene.sys.displayList),g.addToUpdateList()),g.on(s.DESTROY,this.remove,this),this)},addMultiple:function(g,x){if(x===void 0&&(x=!1),Array.isArray(g))for(var y=0;y<g.length;y++)this.add(g[y],x);return this},remove:function(g,x,y){return x===void 0&&(x=!1),y===void 0&&(y=!1),this.children.contains(g)?(this.children.delete(g),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,g),this.removeCallback&&this.removeCallback.call(this,g),g.off(s.DESTROY,this.remove,this),y?g.destroy():x&&(g.removeFromDisplayList(),g.removeFromUpdateList()),this):this},clear:function(g,x){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var y=this.children,T=0;T<y.size;T++){var S=y.entries[T];S.off(s.DESTROY,this.remove,this),x?S.destroy():g&&(S.removeFromDisplayList(),S.removeFromUpdateList())}return this.children.clear(),this},contains:function(g){return this.children.contains(g)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(g,x,y,T){return a(this.children.entries,g,x,y,T)},getFirst:function(g,x,y,T,S,E,C){return this.getHandler(!0,1,g,x,y,T,S,E,C)},getFirstNth:function(g,x,y,T,S,E,C,A){return this.getHandler(!0,g,x,y,T,S,E,C,A)},getLast:function(g,x,y,T,S,E,C){return this.getHandler(!1,1,g,x,y,T,S,E,C)},getLastNth:function(g,x,y,T,S,E,C,A){return this.getHandler(!1,g,x,y,T,S,E,C,A)},getHandler:function(g,x,y,T,S,E,C,A,P){y===void 0&&(y=!1),T===void 0&&(T=!1);var R,M,L=0,O=this.children.entries;if(g)for(M=0;M<O.length;M++)if(R=O[M],R.active===y){if(L++,L===x)break}else R=null;else for(M=O.length-1;M>=0;M--)if(R=O[M],R.active===y){if(L++,L===x)break}else R=null;return R?(typeof S=="number"&&(R.x=S),typeof E=="number"&&(R.y=E),R):T?this.create(S,E,C,A,P):null},get:function(g,x,y,T,S){return this.getFirst(!1,!0,g,x,y,T,S)},getFirstAlive:function(g,x,y,T,S,E){return this.getFirst(!0,g,x,y,T,S,E)},getFirstDead:function(g,x,y,T,S,E){return this.getFirst(!1,g,x,y,T,S,E)},playAnimation:function(g,x){return e.PlayAnimation(this.children.entries,g,x),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(g){g===void 0&&(g=!0);for(var x=0,y=0;y<this.children.size;y++)this.children.entries[y].active===g&&x++;return x},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var g=this.getTotalUsed(),x=this.maxSize===-1?999999999999:this.maxSize;return x-g},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},propertyValueSet:function(g,x,y,T,S){return e.PropertyValueSet(this.children.entries,g,x,y,T,S),this},propertyValueInc:function(g,x,y,T,S){return e.PropertyValueInc(this.children.entries,g,x,y,T,S),this},setX:function(g,x){return e.SetX(this.children.entries,g,x),this},setY:function(g,x){return e.SetY(this.children.entries,g,x),this},setXY:function(g,x,y,T){return e.SetXY(this.children.entries,g,x,y,T),this},incX:function(g,x){return e.IncX(this.children.entries,g,x),this},incY:function(g,x){return e.IncY(this.children.entries,g,x),this},incXY:function(g,x,y,T){return e.IncXY(this.children.entries,g,x,y,T),this},shiftPosition:function(g,x,y){return e.ShiftPosition(this.children.entries,g,x,y),this},angle:function(g,x){return e.Angle(this.children.entries,g,x),this},rotate:function(g,x){return e.Rotate(this.children.entries,g,x),this},rotateAround:function(g,x){return e.RotateAround(this.children.entries,g,x),this},rotateAroundDistance:function(g,x,y){return e.RotateAroundDistance(this.children.entries,g,x,y),this},setAlpha:function(g,x){return e.SetAlpha(this.children.entries,g,x),this},setTint:function(g,x,y,T){return e.SetTint(this.children.entries,g,x,y,T),this},setOrigin:function(g,x,y,T){return e.SetOrigin(this.children.entries,g,x,y,T),this},scaleX:function(g,x){return e.ScaleX(this.children.entries,g,x),this},scaleY:function(g,x){return e.ScaleY(this.children.entries,g,x),this},scaleXY:function(g,x,y,T){return e.ScaleXY(this.children.entries,g,x,y,T),this},setDepth:function(g,x){return e.SetDepth(this.children.entries,g,x),this},setBlendMode:function(g){return e.SetBlendMode(this.children.entries,g),this},setHitArea:function(g,x){return e.SetHitArea(this.children.entries,g,x),this},shuffle:function(){return e.Shuffle(this.children.entries),this},kill:function(g){this.children.contains(g)&&g.setActive(!1)},killAndHide:function(g){this.children.contains(g)&&(g.setActive(!1),g.setVisible(!1))},setVisible:function(g,x,y){return e.SetVisible(this.children.entries,g,x,y),this},toggleVisible:function(){return e.ToggleVisible(this.children.entries),this},destroy:function(g,x){g===void 0&&(g=!1),x===void 0&&(x=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(s.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(x,g),this.scene=void 0,this.children=void 0)}});i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),l=function(s,r,a,o,n,u){for(var h=e.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*o),f=a.pathData,v=a.pathIndexes,m=0;m<v.length;m+=3){var g=v[m]*2,x=v[m+1]*2,y=v[m+2]*2,T=f[g+0]-n,S=f[g+1]-u,E=f[x+0]-n,C=f[x+1]-u,A=f[y+0]-n,P=f[y+1]-u,R=r.getX(T,S),M=r.getY(T,S),L=r.getX(E,C),O=r.getY(E,C),I=r.getX(A,P),w=r.getY(A,P);s.batchTri(a,R,M,L,O,I,w,0,0,1,1,h,h,h,2)}};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=e.x3-e.x1,a=e.y3-e.y1,o=e.x2-e.x1,n=e.y2-e.y1,u=l-e.x1,h=s-e.y1,f=r*r+a*a,v=r*o+a*n,m=r*u+a*h,g=o*o+n*n,x=o*u+n*h,y=f*g-v*v,T=y===0?0:1/y,S=(g*m-v*x)*T,E=(f*x-v*m)*T;return S>=0&&E>=0&&S+E<1};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(10),s=t(3);function r(o,n,u,h){var f=o-u,v=n-h,m=f*f+v*v;return Math.sqrt(m)}var a=new e({initialize:function(n,u,h){this.vertex1=n,this.vertex2=u,this.vertex3=h,this.bounds=new l,this._inCenter=new s},getInCenter:function(o){o===void 0&&(o=!0);var n=this.vertex1,u=this.vertex2,h=this.vertex3,f,v,m,g,x,y;o?(f=n.x,v=n.y,m=u.x,g=u.y,x=h.x,y=h.y):(f=n.vx,v=n.vy,m=u.vx,g=u.vy,x=h.vx,y=h.vy);var T=r(x,y,m,g),S=r(f,v,x,y),E=r(m,g,f,v),C=T+S+E;return this._inCenter.set((f*T+m*S+x*E)/C,(v*T+g*S+y*E)/C)},contains:function(o,n,u){var h=this.vertex1,f=this.vertex2,v=this.vertex3,m=h.vx,g=h.vy,x=f.vx,y=f.vy,T=v.vx,S=v.vy;if(u){var E=u.a,C=u.b,A=u.c,P=u.d,R=u.e,M=u.f;m=h.vx*E+h.vy*A+R,g=h.vx*C+h.vy*P+M,x=f.vx*E+f.vy*A+R,y=f.vx*C+f.vy*P+M,T=v.vx*E+v.vy*A+R,S=v.vx*C+v.vy*P+M}var L=T-m,O=S-g,I=x-m,w=y-g,G=o-m,V=n-g,X=L*L+O*O,W=L*I+O*w,D=L*G+O*V,F=I*I+w*w,B=I*G+w*V,b=X*F-W*W,z=b===0?0:1/b,N=(F*D-W*B)*z,U=(X*B-W*D)*z;return N>=0&&U>=0&&N+U<1},isCounterClockwise:function(o){var n=this.vertex1,u=this.vertex2,h=this.vertex3,f=(u.vx-n.vx)*(h.vy-n.vy)-(u.vy-n.vy)*(h.vx-n.vx);return o<=0?f>=0:f<0},load:function(o,n,u,h,f){return u=this.vertex1.load(o,n,u,h,f),u=this.vertex2.load(o,n,u,h,f),u=this.vertex3.load(o,n,u,h,f),u},transformCoordinatesLocal:function(o,n,u,h){return this.vertex1.transformCoordinatesLocal(o,n,u,h),this.vertex2.transformCoordinatesLocal(o,n,u,h),this.vertex3.transformCoordinatesLocal(o,n,u,h),this},updateBounds:function(){var o=this.vertex1,n=this.vertex2,u=this.vertex3,h=this.bounds;return h.x=Math.min(o.vx,n.vx,u.vx),h.y=Math.min(o.vy,n.vy,u.vy),h.width=Math.max(o.vx,n.vx,u.vx)-h.x,h.height=Math.max(o.vy,n.vy,u.vy)-h.y,this},isInView:function(o,n,u,h,f,v,m,g,x,y,T){var S=this.vertex1.update(f,v,m,g,x,y,T,h),E=this.vertex2.update(f,v,m,g,x,y,T,h),C=this.vertex3.update(f,v,m,g,x,y,T,h);if(S.ta<=0&&E.ta<=0&&C.ta<=0||n&&!this.isCounterClockwise(u))return!1;var A=this.bounds;A.x=Math.min(S.tx,E.tx,C.tx),A.y=Math.min(S.ty,E.ty,C.ty),A.width=Math.max(S.tx,E.tx,C.tx)-A.x,A.height=Math.max(S.ty,E.ty,C.ty)-A.y;var P=o.x+o.width,R=o.y+o.height;return A.width<=0||A.height<=0||o.width<=0||o.height<=0?!1:!(A.right<o.x||A.bottom<o.y||A.x>P||A.y>R)},translate:function(o,n){n===void 0&&(n=0);var u=this.vertex1,h=this.vertex2,f=this.vertex3;return u.x+=o,u.y+=n,h.x+=o,h.y+=n,f.x+=o,f.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(o){var n=this.getInCenter();this.translate(o-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(o){var n=this.getInCenter();this.translate(0,o-n.y)}},alpha:{get:function(){var o=this.vertex1,n=this.vertex2,u=this.vertex3;return(o.alpha+n.alpha+u.alpha)/3},set:function(o){this.vertex1.alpha=o,this.vertex2.alpha=o,this.vertex3.alpha=o}},depth:{get:function(){var o=this.vertex1,n=this.vertex2,u=this.vertex3;return(o.vz+n.vz+u.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(12),s=t(39),r=new e({Extends:s,initialize:function(o,n,u,h,f,v,m,g,x,y){v===void 0&&(v=16777215),m===void 0&&(m=1),g===void 0&&(g=0),x===void 0&&(x=0),y===void 0&&(y=0),s.call(this,o,n,u),this.vx=0,this.vy=0,this.vz=0,this.nx=g,this.ny=x,this.nz=y,this.u=h,this.v=f,this.color=v,this.alpha=m,this.tx=0,this.ty=0,this.ta=0},setUVs:function(a,o){return this.u=a,this.v=o,this},transformCoordinatesLocal:function(a,o,n,u){var h=this.x,f=this.y,v=this.z,m=a.val,g=h*m[0]+f*m[4]+v*m[8]+m[12],x=h*m[1]+f*m[5]+v*m[9]+m[13],y=h*m[2]+f*m[6]+v*m[10]+m[14],T=h*m[3]+f*m[7]+v*m[11]+m[15];this.vx=g/T*o,this.vy=-(x/T)*n,u<=0?this.vz=y/T:this.vz=-(y/T)},update:function(a,o,n,u,h,f,v,m){var g=this.vx*a+this.vy*n+h,x=this.vx*o+this.vy*u+f;return v&&(g=Math.round(g),x=Math.round(x)),this.tx=g,this.ty=x,this.ta=this.alpha*m,this},load:function(a,o,n,u,h){return a[++n]=this.tx,a[++n]=this.ty,a[++n]=this.u,a[++n]=this.v,a[++n]=u,a[++n]=h,o[++n]=l.getTintAppendFloatAlpha(this.color,this.ta),n}});i.exports=r},function(i,d,t){var e={};i.exports=e;var l=t(166),s=t(32),r=t(84),a=t(41);(function(){e.create=function(o){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},o)},e.setModified=function(o,n,u,h){if(l.trigger(o,"compositeModified",o),o.isModified=n,u&&o.parent&&e.setModified(o.parent,n,u,h),h)for(var f=0;f<o.composites.length;f++){var v=o.composites[f];e.setModified(v,n,u,h)}},e.add=function(o,n){var u=[].concat(n);l.trigger(o,"beforeAdd",{object:n});for(var h=0;h<u.length;h++){var f=u[h];switch(f.type){case"body":if(f.parent!==f){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(o,f);break;case"constraint":e.addConstraint(o,f);break;case"composite":e.addComposite(o,f);break;case"mouseConstraint":e.addConstraint(o,f.constraint);break}}return l.trigger(o,"afterAdd",{object:n}),o},e.remove=function(o,n,u){var h=[].concat(n);l.trigger(o,"beforeRemove",{object:n});for(var f=0;f<h.length;f++){var v=h[f];switch(v.type){case"body":e.removeBody(o,v,u);break;case"constraint":e.removeConstraint(o,v,u);break;case"composite":e.removeComposite(o,v,u);break;case"mouseConstraint":e.removeConstraint(o,v.constraint);break}}return l.trigger(o,"afterRemove",{object:n}),o},e.addComposite=function(o,n){return o.composites.push(n),n.parent=o,e.setModified(o,!0,!0,!1),o},e.removeComposite=function(o,n,u){var h=o.composites.indexOf(n);if(h!==-1&&(e.removeCompositeAt(o,h),e.setModified(o,!0,!0,!1)),u)for(var f=0;f<o.composites.length;f++)e.removeComposite(o.composites[f],n,!0);return o},e.removeCompositeAt=function(o,n){return o.composites.splice(n,1),e.setModified(o,!0,!0,!1),o},e.addBody=function(o,n){return o.bodies.push(n),e.setModified(o,!0,!0,!1),o},e.removeBody=function(o,n,u){var h=o.bodies.indexOf(n);if(h!==-1&&(e.removeBodyAt(o,h),e.setModified(o,!0,!0,!1)),u)for(var f=0;f<o.composites.length;f++)e.removeBody(o.composites[f],n,!0);return o},e.removeBodyAt=function(o,n){return o.bodies.splice(n,1),e.setModified(o,!0,!0,!1),o},e.addConstraint=function(o,n){return o.constraints.push(n),e.setModified(o,!0,!0,!1),o},e.removeConstraint=function(o,n,u){var h=o.constraints.indexOf(n);if(h!==-1&&e.removeConstraintAt(o,h),u)for(var f=0;f<o.composites.length;f++)e.removeConstraint(o.composites[f],n,!0);return o},e.removeConstraintAt=function(o,n){return o.constraints.splice(n,1),e.setModified(o,!0,!0,!1),o},e.clear=function(o,n,u){if(u)for(var h=0;h<o.composites.length;h++)e.clear(o.composites[h],n,!0);return n?o.bodies=o.bodies.filter(function(f){return f.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,e.setModified(o,!0,!0,!1),o},e.allBodies=function(o){for(var n=[].concat(o.bodies),u=0;u<o.composites.length;u++)n=n.concat(e.allBodies(o.composites[u]));return n},e.allConstraints=function(o){for(var n=[].concat(o.constraints),u=0;u<o.composites.length;u++)n=n.concat(e.allConstraints(o.composites[u]));return n},e.allComposites=function(o){for(var n=[].concat(o.composites),u=0;u<o.composites.length;u++)n=n.concat(e.allComposites(o.composites[u]));return n},e.get=function(o,n,u){var h,f;switch(u){case"body":h=e.allBodies(o);break;case"constraint":h=e.allConstraints(o);break;case"composite":h=e.allComposites(o).concat(o);break}return h?(f=h.filter(function(v){return v.id.toString()===n.toString()}),f.length===0?null:f[0]):null},e.move=function(o,n,u){return e.remove(o,n),e.add(u,n),o},e.rebase=function(o){for(var n=e.allBodies(o).concat(e.allConstraints(o)).concat(e.allComposites(o)),u=0;u<n.length;u++)n[u].id=s.nextId();return e.setModified(o,!0,!0,!1),o},e.translate=function(o,n,u){for(var h=u?e.allBodies(o):o.bodies,f=0;f<h.length;f++)a.translate(h[f],n);return e.setModified(o,!0,!0,!1),o},e.rotate=function(o,n,u,h){for(var f=Math.cos(n),v=Math.sin(n),m=h?e.allBodies(o):o.bodies,g=0;g<m.length;g++){var x=m[g],y=x.position.x-u.x,T=x.position.y-u.y;a.setPosition(x,{x:u.x+(y*f-T*v),y:u.y+(y*v+T*f)}),a.rotate(x,n)}return e.setModified(o,!0,!0,!1),o},e.scale=function(o,n,u,h,f){for(var v=f?e.allBodies(o):o.bodies,m=0;m<v.length;m++){var g=v[m],x=g.position.x-h.x,y=g.position.y-h.y;a.setPosition(g,{x:h.x+x*n,y:h.y+y*u}),a.scale(g,n,u)}return e.setModified(o,!0,!0,!1),o},e.bounds=function(o){for(var n=e.allBodies(o),u=[],h=0;h<n.length;h+=1){var f=n[h];u.push(f.bounds.min,f.bounds.max)}return r.create(u)}})()},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e>=0&&e<s.width&&l>=0&&l<s.height};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(29),s=t(2),r=new e({initialize:function(o){o===void 0&&(o={}),this.name=s(o,"name","layer"),this.x=s(o,"x",0),this.y=s(o,"y",0),this.width=s(o,"width",0),this.height=s(o,"height",0),this.tileWidth=s(o,"tileWidth",0),this.tileHeight=s(o,"tileHeight",0),this.baseTileWidth=s(o,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(o,"baseTileHeight",this.tileHeight),this.orientation=s(o,"orientation",l.ORTHOGONAL),this.widthInPixels=s(o,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(o,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(o,"alpha",1),this.visible=s(o,"visible",!0),this.properties=s(o,"properties",[]),this.indexes=s(o,"indexes",[]),this.collideIndexes=s(o,"collideIndexes",[]),this.callbacks=s(o,"callbacks",[]),this.bodies=s(o,"bodies",[]),this.data=s(o,"data",[]),this.tilemapLayer=s(o,"tilemapLayer",null),this.hexSideLength=s(o,"hexSideLength",0)}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(29),s=t(2),r=new e({initialize:function(o){o===void 0&&(o={}),this.name=s(o,"name","map"),this.width=s(o,"width",0),this.height=s(o,"height",0),this.infinite=s(o,"infinite",!1),this.tileWidth=s(o,"tileWidth",0),this.tileHeight=s(o,"tileHeight",0),this.widthInPixels=s(o,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(o,"heightInPixels",this.height*this.tileHeight),this.format=s(o,"format",null),this.orientation=s(o,"orientation",l.ORTHOGONAL),this.renderOrder=s(o,"renderOrder","right-down"),this.version=s(o,"version","1"),this.properties=s(o,"properties",{}),this.layers=s(o,"layers",[]),this.images=s(o,"images",[]),this.objects=s(o,"objects",{}),this.collision=s(o,"collision",{}),this.tilesets=s(o,"tilesets",[]),this.imageCollections=s(o,"imageCollections",[]),this.tiles=s(o,"tiles",[]),this.hexSideLength=s(o,"hexSideLength",0)}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a,o,n,u,h,f,v){(o===void 0||o<=0)&&(o=32),(n===void 0||n<=0)&&(n=32),u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f={}),v===void 0&&(v={}),this.name=r,this.firstgid=a,this.tileWidth=o,this.tileHeight=n,this.tileMargin=u,this.tileSpacing=h,this.tileProperties=f,this.tileData=v,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var r=this.getTileData(s);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){return this.image=s,this.glTexture=s.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(s,r){return s!==void 0&&(this.tileWidth=s),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,r){return s!==void 0&&(this.tileMargin=s),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,r){var a=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),o=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(a%1!==0||o%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),a=Math.floor(a),o=Math.floor(o),this.rows=a,this.columns=o,this.total=a*o,this.texCoordinates.length=0;for(var n=this.tileMargin,u=this.tileMargin,h=0;h<this.rows;h++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:n,y:u}),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,u+=this.tileHeight+this.tileSpacing}return this}});i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return s===void 0&&(s=1e-4),Math.abs(e-l)<s};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(15),r=t(1068),a=new e({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,r],initialize:function(n,u,h,f,v){s.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(f,v),this.setPosition(u,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.hasOwnProperty(l)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),l=function(s,r){var a=e(s);for(var o in r)a.hasOwnProperty(o)||(a[o]=r[o]);return a};i.exports=l},function(i,d,t){var e={};i.exports=e;var l=t(64),s=t(83),r=t(165),a=t(84),o=t(271),n=t(32);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(u){var h=u;h.bodyA&&!h.pointA&&(h.pointA={x:0,y:0}),h.bodyB&&!h.pointB&&(h.pointB={x:0,y:0});var f=h.bodyA?s.add(h.bodyA.position,h.pointA):h.pointA,v=h.bodyB?s.add(h.bodyB.position,h.pointB):h.pointB,m=s.magnitude(s.sub(f,v));h.length=typeof h.length!="undefined"?h.length:m,h.id=h.id||n.nextId(),h.label=h.label||"Constraint",h.type="constraint",h.stiffness=h.stiffness||(h.length>0?1:.7),h.damping=h.damping||0,h.angularStiffness=h.angularStiffness||0,h.angleA=h.bodyA?h.bodyA.angle:h.angleA,h.angleB=h.bodyB?h.bodyB.angle:h.angleB,h.plugin={};var g={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return h.length===0&&h.stiffness>.1?(g.type="pin",g.anchors=!1):h.stiffness<.9&&(g.type="spring"),h.render=n.extend(g,h.render),h},e.preSolveAll=function(u){for(var h=0;h<u.length;h+=1){var f=u[h],v=f.constraintImpulse;f.isStatic||v.x===0&&v.y===0&&v.angle===0||(f.position.x+=v.x,f.position.y+=v.y,f.angle+=v.angle)}},e.solveAll=function(u,h){for(var f=0;f<u.length;f+=1){var v=u[f],m=!v.bodyA||v.bodyA&&v.bodyA.isStatic,g=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(m||g)&&e.solve(u[f],h)}for(f=0;f<u.length;f+=1)v=u[f],m=!v.bodyA||v.bodyA&&v.bodyA.isStatic,g=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!m&&!g&&e.solve(u[f],h)},e.solve=function(u,h){var f=u.bodyA,v=u.bodyB,m=u.pointA,g=u.pointB;if(!(!f&&!v)){f&&!f.isStatic&&(s.rotate(m,f.angle-u.angleA,m),u.angleA=f.angle),v&&!v.isStatic&&(s.rotate(g,v.angle-u.angleB,g),u.angleB=v.angle);var x=m,y=g;if(f&&(x=s.add(f.position,m)),v&&(y=s.add(v.position,g)),!(!x||!y)){var T=s.sub(x,y),S=s.magnitude(T);S<e._minLength&&(S=e._minLength);var E=(S-u.length)/S,C=u.stiffness<1?u.stiffness*h:u.stiffness,A=s.mult(T,E*C),P=(f?f.inverseMass:0)+(v?v.inverseMass:0),R=(f?f.inverseInertia:0)+(v?v.inverseInertia:0),M=P+R,L,O,I,w,G;if(u.damping){var V=s.create();I=s.div(T,S),G=s.sub(v&&s.sub(v.position,v.positionPrev)||V,f&&s.sub(f.position,f.positionPrev)||V),w=s.dot(I,G)}f&&!f.isStatic&&(O=f.inverseMass/P,f.constraintImpulse.x-=A.x*O,f.constraintImpulse.y-=A.y*O,f.position.x-=A.x*O,f.position.y-=A.y*O,u.damping&&(f.positionPrev.x-=u.damping*I.x*w*O,f.positionPrev.y-=u.damping*I.y*w*O),L=s.cross(m,A)/M*e._torqueDampen*f.inverseInertia*(1-u.angularStiffness),f.constraintImpulse.angle-=L,f.angle-=L),v&&!v.isStatic&&(O=v.inverseMass/P,v.constraintImpulse.x+=A.x*O,v.constraintImpulse.y+=A.y*O,v.position.x+=A.x*O,v.position.y+=A.y*O,u.damping&&(v.positionPrev.x+=u.damping*I.x*w*O,v.positionPrev.y+=u.damping*I.y*w*O),L=s.cross(g,A)/M*e._torqueDampen*v.inverseInertia*(1-u.angularStiffness),v.constraintImpulse.angle+=L,v.angle+=L)}}},e.postSolveAll=function(u){for(var h=0;h<u.length;h++){var f=u[h],v=f.constraintImpulse;if(!(f.isStatic||v.x===0&&v.y===0&&v.angle===0)){r.set(f,!1);for(var m=0;m<f.parts.length;m++){var g=f.parts[m];l.translate(g.vertices,v),m>0&&(g.position.x+=v.x,g.position.y+=v.y),v.angle!==0&&(l.rotate(g.vertices,v.angle,f.position),o.rotate(g.axes,v.angle),m>0&&s.rotateAbout(g.position,v.angle,f.position,g.position)),a.update(g.bounds,g.vertices,f.velocity)}v.angle*=e._warming,v.x*=e._warming,v.y*=e._warming}}},e.pointAWorld=function(u){return{x:(u.bodyA?u.bodyA.position.x:0)+u.pointA.x,y:(u.bodyA?u.bodyA.position.y:0)+u.pointA.y}},e.pointBWorld=function(u){return{x:(u.bodyB?u.bodyB.position.x:0)+u.pointB.x,y:(u.bodyB?u.bodyB.position.y:0)+u.pointB.y}}})()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),l=t(65),s=t(66),r=t(0),a=t(11),o=t(15),n=t(10),u=t(57),h=new r({Extends:o,Mixins:[a.Depth,a.GetBounds,a.Origin,a.Transform,a.ScrollFactor,a.Visible],initialize:function(v,m,g,x,y){x===void 0&&(x=1),y===void 0&&(y=x),o.call(this,v,"Zone"),this.setPosition(m,g),this.width=x,this.height=y,this.blendMode=e.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(f){this.scaleX=f/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(f){this.scaleY=f/this.height}},setSize:function(f,v,m){m===void 0&&(m=!0),this.width=f,this.height=v,this.updateDisplayOrigin();var g=this.input;return m&&g&&!g.customHitArea&&(g.hitArea.width=f,g.hitArea.height=v),this},setDisplaySize:function(f,v){return this.displayWidth=f,this.displayHeight=v,this},setCircleDropZone:function(f){return this.setDropZone(new l(0,0,f),s)},setRectangleDropZone:function(f,v){return this.setDropZone(new n(0,0,f,v),u)},setDropZone:function(f,v){return f===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(f,v,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(f,v,m){m.addToRenderList(v)},renderWebGL:function(f,v,m){m.addToRenderList(v)}});i.exports=h},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(e.width+e.height)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var l=e.length-1;l>0;l--){var s=Math.floor(Math.random()*(l+1)),r=e[l];e[l]=e[s],e[s]=r}return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ADD_ANIMATION:t(724),ANIMATION_COMPLETE:t(725),ANIMATION_COMPLETE_KEY:t(726),ANIMATION_REPEAT:t(727),ANIMATION_RESTART:t(728),ANIMATION_START:t(729),ANIMATION_STOP:t(730),ANIMATION_UPDATE:t(731),PAUSE_ALL:t(732),REMOVE_ANIMATION:t(733),RESUME_ALL:t(734)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(36),r=t(9),a=t(37),o=t(10),n=t(25),u=t(187),h=t(3),f=new e({Extends:r,Mixins:[l.Alpha,l.Visible],initialize:function(m,g,x,y){m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=0),y===void 0&&(y=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new o,this.dirty=!0,this._x=m,this._y=g,this._width=x,this._height=y,this._bounds=new o,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new h(x/2,y/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(v){this.renderList.push(v)},setOrigin:function(v,m){return v===void 0&&(v=.5),m===void 0&&(m=v),this.originX=v,this.originY=m,this},getScroll:function(v,m,g){g===void 0&&(g=new h);var x=this.width*.5,y=this.height*.5;return g.x=v-x,g.y=m-y,this.useBounds&&(g.x=this.clampX(g.x),g.y=this.clampY(g.y)),g},centerOnX:function(v){var m=this.width*.5;return this.midPoint.x=v,this.scrollX=v-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(v){var m=this.height*.5;return this.midPoint.y=v,this.scrollY=v-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(v,m){return this.centerOnX(v),this.centerOnY(m),this},centerToBounds:function(){if(this.useBounds){var v=this._bounds,m=this.width*.5,g=this.height*.5;this.midPoint.set(v.centerX,v.centerY),this.scrollX=v.centerX-m,this.scrollY=v.centerY-g}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(v){if(this.disableCull)return v;var m=this.matrix.matrix,g=m[0],x=m[1],y=m[2],T=m[3],S=g*T-x*y;if(!S)return v;var E=m[4],C=m[5],A=this.scrollX,P=this.scrollY,R=this.width,M=this.height,L=this.y,O=L+M,I=this.x,w=I+R,G=this.culledObjects,V=v.length;S=1/S,G.length=0;for(var X=0;X<V;++X){var W=v[X];if(!W.hasOwnProperty("width")||W.parentContainer){G.push(W);continue}var D=W.width,F=W.height,B=W.x-A*W.scrollFactorX-D*W.originX,b=W.y-P*W.scrollFactorY-F*W.originY,z=B*g+b*y+E,N=B*x+b*T+C,U=(B+D)*g+(b+F)*y+E,Y=(B+D)*x+(b+F)*T+C;U>I&&z<w&&Y>L&&N<O&&G.push(W)}return G},getWorldPoint:function(v,m,g){g===void 0&&(g=new h);var x=this.matrix.matrix,y=x[0],T=x[1],S=x[2],E=x[3],C=x[4],A=x[5],P=y*E-T*S;if(!P)return g.x=v,g.y=m,g;P=1/P;var R=E*P,M=-T*P,L=-S*P,O=y*P,I=(S*A-E*C)*P,w=(T*C-y*A)*P,G=Math.cos(this.rotation),V=Math.sin(this.rotation),X=this.zoomX,W=this.zoomY,D=this.scrollX,F=this.scrollY,B=v+(D*G-F*V)*X,b=m+(D*V+F*G)*W;return g.x=B*R+b*L+I,g.y=B*M+b*O+w,g},ignore:function(v){var m=this.id;Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++){var x=v[g];Array.isArray(x)?this.ignore(x):x.isParent?this.ignore(x.getChildren()):x.cameraFilter|=m}return this},preRender:function(){this.renderList.length=0;var v=this.width,m=this.height,g=v*.5,x=m*.5,y=this.zoomX,T=this.zoomY,S=this.matrix,E=v*this.originX,C=m*this.originY,A=this.scrollX,P=this.scrollY;this.useBounds&&(A=this.clampX(A),P=this.clampY(P)),this.roundPixels&&(E=Math.round(E),C=Math.round(C)),this.scrollX=A,this.scrollY=P;var R=A+g,M=P+x;this.midPoint.set(R,M);var L=v/y,O=m/T;this.worldView.setTo(R-L/2,M-O/2,L,O),S.applyITRS(this.x+E,this.y+C,this.rotation,y,T),S.translate(-E,-C)},clampX:function(v){var m=this._bounds,g=this.displayWidth,x=m.x+(g-this.width)/2,y=Math.max(x,x+m.width-g);return v<x?v=x:v>y&&(v=y),v},clampY:function(v){var m=this._bounds,g=this.displayHeight,x=m.y+(g-this.height)/2,y=Math.max(x,x+m.height-g);return v<x?v=x:v>y&&(v=y),v},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(v){return v===void 0&&(v=0),this.rotation=s(v),this},setBackgroundColor:function(v){return v===void 0&&(v="rgba(0,0,0,0)"),this.backgroundColor=u(v),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(v,m,g,x,y){return y===void 0&&(y=!1),this._bounds.setTo(v,m,g,x),this.dirty=!0,this.useBounds=!0,y?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(v){v===void 0&&(v=new o);var m=this._bounds;return v.setTo(m.x,m.y,m.width,m.height),v},setName:function(v){return v===void 0&&(v=""),this.name=v,this},setPosition:function(v,m){return m===void 0&&(m=v),this.x=v,this.y=m,this},setRotation:function(v){return v===void 0&&(v=0),this.rotation=v,this},setRoundPixels:function(v){return this.roundPixels=v,this},setScene:function(v){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=v;var m=v.sys;return this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras,this.updateSystem(),this},setScroll:function(v,m){return m===void 0&&(m=v),this.scrollX=v,this.scrollY=m,this},setSize:function(v,m){return m===void 0&&(m=v),this.width=v,this.height=m,this},setViewport:function(v,m,g,x){return this.x=v,this.y=m,this.width=g,this.height=x,this},setZoom:function(v,m){return v===void 0&&(v=1),m===void 0&&(m=v),v===0&&(v=.001),m===0&&(m=.001),this.zoomX=v,this.zoomY=m,this},setMask:function(v,m){return m===void 0&&(m=!0),this.mask=v,this._maskCamera=m?this.cameraManager.default:this,this},clearMask:function(v){return v===void 0&&(v=!1),v&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var v={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(v.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),v},update:function(){},updateSystem:function(){if(!!this.scaleManager){var v=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;v&&!this._customViewport?m.customViewports++:!v&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=v}},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(v){this._x=v,this.updateSystem()}},y:{get:function(){return this._y},set:function(v){this._y=v,this.updateSystem()}},width:{get:function(){return this._width},set:function(v){this._width=v,this.updateSystem()}},height:{get:function(){return this._height},set:function(v){this._height=v,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(v){this._scrollX=v,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(v){this._scrollY=v,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(v){this._zoomX=v,this._zoomY=v,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(v){this._zoomX=v,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(v){this._zoomY=v,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});i.exports=f},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(334),l=t(335),s=t(336),r=t(337),a=t(338),o=t(339),n=t(340),u=t(341),h=t(342),f=t(343),v=t(344),m=t(345);i.exports={Power0:n,Power1:u.Out,Power2:r.Out,Power3:h.Out,Power4:f.Out,Linear:n,Quad:u.Out,Cubic:r.Out,Quart:h.Out,Quint:f.Out,Sine:v.Out,Expo:o.Out,Circ:s.Out,Elastic:a.Out,Back:e.Out,Bounce:l.Out,Stepped:m,"Quad.easeIn":u.In,"Cubic.easeIn":r.In,"Quart.easeIn":h.In,"Quint.easeIn":f.In,"Sine.easeIn":v.In,"Expo.easeIn":o.In,"Circ.easeIn":s.In,"Elastic.easeIn":a.In,"Back.easeIn":e.In,"Bounce.easeIn":l.In,"Quad.easeOut":u.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":h.Out,"Quint.easeOut":f.Out,"Sine.easeOut":v.Out,"Expo.easeOut":o.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":a.Out,"Back.easeOut":e.Out,"Bounce.easeOut":l.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":h.InOut,"Quint.easeInOut":f.InOut,"Sine.easeInOut":v.InOut,"Expo.easeInOut":o.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":e.InOut,"Bounce.easeInOut":l.InOut}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return(l-e)*s+e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),l={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function s(){var r=navigator.userAgent;return/Edge\/\d+/.test(r)?l.edge=!0:/Chrome\/(\d+)/.test(r)&&!e.windowsPhone?(l.chrome=!0,l.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(r)?(l.firefox=!0,l.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(r)&&e.iOS?l.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(r)?(l.ie=!0,l.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(r)?l.opera=!0:/Safari/.test(r)&&!e.windowsPhone?l.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(l.ie=!0,l.trident=!0,l.tridentVersion=parseInt(RegExp.$1,10),l.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(l.silk=!0),l}i.exports=s()},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return Math.random()*(l-e)+e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e>0&&(e&e-1)===0&&l>0&&(l&l-1)===0};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){return s===void 0&&(s=0),l===0?e:(e-=s,e=l*Math.ceil(e/l),r?(s+e)/l:s+e)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a,o,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=a||0,this.z=o||0,this.w=n||0)},clone:function(){return new l(this.x,this.y,this.z,this.w)},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this.w=s.w||0,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z&&this.w===s.w},set:function(s,r,a,o){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=r||0,this.z=a||0,this.w=o||0),this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this.w+=s.w||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this.w-=s.w||0,this},scale:function(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this},length:function(){var s=this.x,r=this.y,a=this.z,o=this.w;return Math.sqrt(s*s+r*r+a*a+o*o)},lengthSq:function(){var s=this.x,r=this.y,a=this.z,o=this.w;return s*s+r*r+a*a+o*o},normalize:function(){var s=this.x,r=this.y,a=this.z,o=this.w,n=s*s+r*r+a*a+o*o;return n>0&&(n=1/Math.sqrt(n),this.x=s*n,this.y=r*n,this.z=a*n,this.w=o*n),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z+this.w*s.w},lerp:function(s,r){r===void 0&&(r=0);var a=this.x,o=this.y,n=this.z,u=this.w;return this.x=a+r*(s.x-a),this.y=o+r*(s.y-o),this.z=n+r*(s.z-n),this.w=u+r*(s.w-u),this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this.w*=s.w||1,this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this.w/=s.w||1,this},distance:function(s){var r=s.x-this.x,a=s.y-this.y,o=s.z-this.z||0,n=s.w-this.w||0;return Math.sqrt(r*r+a*a+o*o+n*n)},distanceSq:function(s){var r=s.x-this.x,a=s.y-this.y,o=s.z-this.z||0,n=s.w-this.w||0;return r*r+a*a+o*o+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(s){var r=this.x,a=this.y,o=this.z,n=this.w,u=s.val;return this.x=u[0]*r+u[4]*a+u[8]*o+u[12]*n,this.y=u[1]*r+u[5]*a+u[9]*o+u[13]*n,this.z=u[2]*r+u[6]*a+u[10]*o+u[14]*n,this.w=u[3]*r+u[7]*a+u[11]*o+u[15]*n,this},transformQuat:function(s){var r=this.x,a=this.y,o=this.z,n=s.x,u=s.y,h=s.z,f=s.w,v=f*r+u*o-h*a,m=f*a+h*r-n*o,g=f*o+n*a-u*r,x=-n*r-u*a-h*o;return this.x=v*f+x*-n+m*-h-g*-u,this.y=m*f+x*-u+g*-n-v*-h,this.z=g*f+x*-h+v*-u-m*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});l.prototype.sub=l.prototype.subtract,l.prototype.mul=l.prototype.multiply,l.prototype.div=l.prototype.divide,l.prototype.dist=l.prototype.distance,l.prototype.distSq=l.prototype.distanceSq,l.prototype.len=l.prototype.length,l.prototype.lenSq=l.prototype.lengthSq,i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(91),s=new e({initialize:function(a,o,n,u,h,f,v){u===void 0&&(u=1),h===void 0&&(h=0),f===void 0&&(f=!0),v===void 0&&(v=!1),this.renderer=a,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=u,this.minFilter=h,this.autoClear=f,this.autoResize=!1,this.resize(o,n),v&&this.setAutoResize(!0)},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(l.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(l.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,a){var o=r*this.scale,n=a*this.scale;if(o!==this.width||n!==this.height){var u=this.renderer;u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),r*=this.scale,a*=this.scale,r=Math.round(r),a=Math.round(a),r<=0&&(r=1),a<=0&&(a=1),this.texture=u.createTextureFromSource(null,r,a,this.minFilter),this.framebuffer=u.createFramebuffer(r,a,this.texture,!1),this.width=r,this.height=a}return this},bind:function(r,a,o){if(r===void 0&&(r=!1),r&&this.renderer.flush(),a&&o&&this.resize(a,o),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),r&&this.adjustViewport(),this.autoClear){var n=this.renderer.gl;n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT)}},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,a=r.gl;r.pushFramebuffer(this.framebuffer),a.disable(a.SCISSOR_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var a=this.renderer;return r&&a.flush(),a.popFramebuffer()},destroy:function(){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),r.off(l.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s;if(l)typeof l=="string"?s=document.getElementById(l):typeof l=="object"&&l.nodeType===1&&(s=l);else if(e.parentElement||l===null)return e;return s||(s=document.body),s.appendChild(e),e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(77),s=t(9),r=t(70),a=t(22),o=t(1),n=t(207),u=t(428),h=new e({Extends:s,initialize:function(v){s.call(this),this.game=v,this.jsonCache=v.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,v.events.on(a.BLUR,this.onGameBlur,this),v.events.on(a.FOCUS,this.onGameFocus,this),v.events.on(a.PRE_STEP,this.update,this),v.events.once(a.DESTROY,this.destroy,this)},add:o,addAudioSprite:function(f,v){v===void 0&&(v={});var m=this.add(f,v);m.spritemap=this.jsonCache.get(f).spritemap;for(var g in m.spritemap)if(!!m.spritemap.hasOwnProperty(g)){var x=l(v),y=m.spritemap[g];x.loop=y.hasOwnProperty("loop")?y.loop:!1,m.addMarker({name:g,start:y.start,duration:y.end-y.start,config:x})}return m},get:function(f){return u(this.sounds,"key",f)},getAll:function(f){return n(this.sounds,"key",f)},play:function(f,v){var m=this.add(f);return m.once(r.COMPLETE,m.destroy,m),v?v.name?(m.addMarker(v),m.play(v.name)):m.play(v):m.play()},playAudioSprite:function(f,v,m){var g=this.addAudioSprite(f);return g.once(r.COMPLETE,g.destroy,g),g.play(v,m)},remove:function(f){var v=this.sounds.indexOf(f);return v!==-1?(f.destroy(),this.sounds.splice(v,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var v=0,m=this.sounds.length-1;m>=0;m--){var g=this.sounds[m];g.key===f&&(g.destroy(),this.sounds.splice(m,1),v++)}return v},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(r.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(f){var v=0;return this.getAll(f).forEach(function(m){m.stop()&&v++}),v},unlock:o,onBlur:o,onFocus:o,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(f,v){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(g){g.update(f,v)})},destroy:function(){this.game.events.off(a.BLUR,this.onGameBlur,this),this.game.events.off(a.FOCUS,this.onGameFocus,this),this.game.events.off(a.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(f,v){var m=this;this.sounds.forEach(function(g,x){g&&!g.pendingRemove&&f.call(v||m,g,x,m.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(v){v.calculateRate()}),this.emit(r.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(v){v.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,f)}}});i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(9),s=t(70),r=t(17),a=t(1),o=new e({Extends:l,initialize:function(u,h,f){l.call(this),this.manager=u,this.key=h,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,f),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=r(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=r(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var u=this.markers[n];return u?(this.markers[n]=null,u):null},play:function(n,u){if(n===void 0&&(n=""),typeof n=="object"&&(u=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,u),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var n=1.0005777895065548,u=this.currentConfig.detune+this.manager.detune,h=Math.pow(n,u);this.totalRate=this.currentConfig.rate*this.manager.rate*h},destroy:function(){this.pendingRemove||(this.emit(s.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(209),l=t(435),s=function(r,a){if(a===void 0&&(a=90),!e(r))return null;if(typeof a!="string"&&(a=(a%360+360)%360),a===90||a===-270||a==="rotateLeft")r=l(r),r.reverse();else if(a===-90||a===270||a==="rotateRight")r.reverse(),r=l(r);else if(Math.abs(a)===180||a==="rotate180"){for(var o=0;o<r.length;o++)r[o].reverse();r.reverse()}return r};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(18),s=t(11),r=t(15),a=t(1043),o=t(1044),n=t(212),u=t(10),h=t(1045),f=new e({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,h],initialize:function(m,g,x,y,T,S,E){T===void 0&&(T=""),E===void 0&&(E=0),r.call(this,m,"BitmapText"),this.font=y;var C=this.scene.sys.cache.bitmapFont.get(y);C||console.warn("Invalid BitmapText key: "+y),this.fontData=C.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._align=E,this._bounds=a(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=C.fromAtlas,this.setTexture(C.texture,C.frame),this.setPosition(g,x),this.setOrigin(0,0),this.initPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=f.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=f.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=f.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(v){return this._fontSize=v,this._dirty=!0,this},setLetterSpacing:function(v){return v===void 0&&(v=0),this._letterSpacing=v,this._dirty=!0,this},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this.text&&(this._text=v.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(v,m,g,x){return v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=.5),this.dropShadowX=v,this.dropShadowY=m,this.dropShadowColor=g,this.dropShadowAlpha=x,this},setCharacterTint:function(v,m,g,x,y,T,S){v===void 0&&(v=0),m===void 0&&(m=1),g===void 0&&(g=!1),x===void 0&&(x=-1),y===void 0&&(y=x,T=x,S=x);var E=this.text.length;m===-1&&(m=E),v<0&&(v=E+v),v=l(v,0,E-1);for(var C=l(v+m,v,E),A=this.charColors,P=v;P<C;P++){var R=A[P];if(x===-1)A[P]=null;else{var M=g?1:0;R?(R.tintEffect=M,R.tintTL=x,R.tintTR=y,R.tintBL=T,R.tintBR=S):A[P]={tintEffect:M,tintTL:x,tintTR:y,tintBL:T,tintBR:S}}}return this},setWordTint:function(v,m,g,x,y,T,S){m===void 0&&(m=1);for(var E=this.getTextBounds(),C=E.words,A=typeof v=="number",P=0,R=0;R<C.length;R++){var M=C[R];if((A&&R===v||!A&&M.word===v)&&(this.setCharacterTint(M.i,M.word.length,g,x,y,T,S),P++,P===m))return this}return this},getTextBounds:function(v){var m=this._bounds;return(this._dirty||v||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(a(this,v,!0,m),this._dirty=!1),m},getCharacterAt:function(v,m,g){for(var x=this.getLocalPoint(v,m,null,g),y=this.getTextBounds(),T=y.characters,S=new u,E=0;E<T.length;E++){var C=T[E];if(S.setTo(C.x,C.t,C.r-C.x,C.b),S.contains(x.x,x.y))return C}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(v,m,g){if(m===void 0&&(m=this._fontSize),g===void 0&&(g=this._align),v!==this.font){var x=this.scene.sys.cache.bitmapFont.get(v);x&&(this.font=v,this.fontData=x.data,this._fontSize=m,this._align=g,this.fromAtlas=x.fromAtlas===!0,this.setTexture(x.texture,x.frame),a(this,!1,!0,this._bounds))}return this},setMaxWidth:function(v,m){return this._maxWidth=v,this._dirty=!0,m!==void 0&&(this.wordWrapCharCode=m),this},align:{set:function(v){this._align=v,this._dirty=!0},get:function(){return this._align}},text:{set:function(v){this.setText(v)},get:function(){return this._text}},fontSize:{set:function(v){this._fontSize=v,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(v){this._letterSpacing=v,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(v){this._maxWidth=v,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var v=s.ToJSON(this),m={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return v.data=m,v},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});f.ALIGN_LEFT=0,f.ALIGN_CENTER=1,f.ALIGN_RIGHT=2,f.ParseFromAtlas=o,f.ParseXMLBitmapFont=n,i.exports=f},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var a=0;a<r.length;a++)this.set(r[a])},set:function(s){return this.entries.indexOf(s)===-1&&this.entries.push(s),this},get:function(s,r){for(var a=0;a<this.entries.length;a++){var o=this.entries[a];if(o[s]===r)return o}},getArray:function(){return this.entries.slice(0)},delete:function(s){var r=this.entries.indexOf(s);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var s=0;s<this.entries.length;s++){var r=this.entries[s];console.log(r)}console.groupEnd()},each:function(s,r){var a,o=this.entries.slice(),n=o.length;if(r)for(a=0;a<n&&s.call(r,o[a],a)!==!1;a++);else for(a=0;a<n&&s(o[a],a)!==!1;a++);return this},iterate:function(s,r){var a,o=this.entries.length;if(r)for(a=0;a<o&&s.call(r,this.entries[a],a)!==!1;a++);else for(a=0;a<o&&s(this.entries[a],a)!==!1;a++);return this},iterateLocal:function(s){var r,a=[];for(r=1;r<arguments.length;r++)a.push(arguments[r]);var o=this.entries.length;for(r=0;r<o;r++){var n=this.entries[r];n[s].apply(n,a)}return this},clear:function(){return this.entries.length=0,this},contains:function(s){return this.entries.indexOf(s)>-1},union:function(s){var r=new l;return s.entries.forEach(function(a){r.set(a)}),this.entries.forEach(function(a){r.set(a)}),r},intersect:function(s){var r=new l;return this.entries.forEach(function(a){s.contains(a)&&r.set(a)}),r},difference:function(s){var r=new l;return this.entries.forEach(function(a){s.contains(a)||r.set(a)}),r},size:{get:function(){return this.entries.length},set:function(s){return s<this.entries.length?this.entries.length=s:this.entries.length}}});i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(15),r=t(189),a=t(92),o=t(1182),n=new e({Extends:s,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.GetBounds,l.Mask,l.Pipeline,l.ScrollFactor,l.Transform,l.Visible,o],initialize:function(h,f,v,m,g,x,y){m===void 0&&(m=16777215),g===void 0&&(g=128),x===void 0&&(x=1),y===void 0&&(y=.1),s.call(this,h,"PointLight"),this.initPipeline(a.POINTLIGHT_PIPELINE),this.setPosition(f,v),this.color=r(m),this.intensity=x,this.attenuation=y,this.width=g*2,this.height=g*2,this._radius=g},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this.width=u*2,this.height=u*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});i.exports=n},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=l.width/2,r=l.height/2,a=Math.abs(e.x-l.x-s),o=Math.abs(e.y-l.y-r),n=s+e.radius,u=r+e.radius;if(a>n||o>u)return!1;if(a<=s||o<=r)return!0;var h=a-s,f=o-r,v=h*h,m=f*f,g=e.radius*e.radius;return v+m<=g};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.width<=0||e.height<=0||l.width<=0||l.height<=0?!1:!(e.right<l.x||e.bottom<l.y||e.x>l.right||e.y>l.bottom)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),l={},s={};s.register=function(r,a,o,n,u){l[r]={plugin:a,mapping:o,settingsKey:n,configKey:u}},s.getPlugin=function(r){return l[r]},s.install=function(r){var a=r.scene.sys,o=a.settings.input,n=a.game.config;for(var u in l){var h=l[u].plugin,f=l[u].mapping,v=l[u].settingsKey,m=l[u].configKey;e(o,v,n[m])&&(r[f]=new h(r))}},s.remove=function(r){l.hasOwnProperty(r)&&delete l[r]},i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ANY_KEY_DOWN:t(1323),ANY_KEY_UP:t(1324),COMBO_MATCH:t(1325),DOWN:t(1326),KEY_DOWN:t(1327),KEY_UP:t(1328),UP:t(1329)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.url?e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:l+e.url:!1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a,o){return e===void 0&&(e=""),l===void 0&&(l=!0),s===void 0&&(s=""),r===void 0&&(r=""),a===void 0&&(a=0),o===void 0&&(o=!1),{responseType:e,async:l,user:s,password:r,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:o}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(243),s=t(73),r=new e({Extends:s,Mixins:[l.Acceleration,l.Angular,l.Bounce,l.Debug,l.Drag,l.Enable,l.Friction,l.Gravity,l.Immovable,l.Mass,l.Pushable,l.Size,l.Velocity],initialize:function(o,n,u,h,f){s.call(this,o,n,u,h,f),this.body=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),l=function(s,r,a,o){if(a===void 0&&(a=!1),e(s,r,o)){var n=o.data[r][s]||null;return n?n.index===-1?a?n:null:n:null}else return null};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=e.data,o=e.width,n=e.height,u=e.tilemapLayer,h=Math.max(0,l.left),f=Math.min(o,l.right),v=Math.max(0,l.top),m=Math.min(n,l.bottom),g,x,y;if(s===0)for(x=v;x<m;x++)for(g=h;a[x]&&g<f;g++)y=a[x][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&r.push(y);else if(s===1)for(x=v;x<m;x++)for(g=f;a[x]&&g>=h;g--)y=a[x][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&r.push(y);else if(s===2)for(x=m;x>=v;x--)for(g=h;a[x]&&g<f;g++)y=a[x][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&r.push(y);else if(s===3)for(x=m;x>=v;x--)for(g=f;a[x]&&g>=h;g--)y=a[x][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&r.push(y);return u.tilesDrawn=r.length,u.tilesTotal=o*n,r};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=s.collideIndexes.indexOf(e);l&&r===-1?s.collideIndexes.push(e):!l&&r!==-1&&s.collideIndexes.splice(r,1)};i.exports=t},function(i,d,t){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),l=function(s,r,a){if(!r)return{i:0,layers:s.layers,name:"",opacity:1,visible:!0,x:0,y:0};var o=r.x+e(r,"startx",0)*s.tilewidth+e(r,"offsetx",0),n=r.y+e(r,"starty",0)*s.tileheight+e(r,"offsety",0);return{i:0,layers:r.layers,name:a.name+r.name+"/",opacity:a.opacity*r.opacity,visible:a.visible&&r.visible,x:a.x+o,y:a.y+n}};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r;if(e.hasOwnProperty(l)){var a=typeof e[l];a==="function"?r=function(o,n,u,h,f,v){return e[l](o,n,u,h,f,v)}:r=function(){return e[l]}}else typeof s=="function"?r=s:r=function(){return s};return r};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),l=t(13),s=t(99),r=t(80),a=t(162),o=t(583),n=t(263),u=t(6),h=t(264),f=t(266),v=t(268),m=function(g,x,y){y===void 0&&(y=e);for(var T=y.targets?y.targets:n(x),S=o(x),E=a(x,"delay",y.delay),C=a(x,"duration",y.duration),A=u(x,"easeParams",y.easeParams),P=r(u(x,"ease",y.ease),A),R=a(x,"hold",y.hold),M=a(x,"repeat",y.repeat),L=a(x,"repeatDelay",y.repeatDelay),O=s(x,"yoyo",y.yoyo),I=s(x,"flipX",y.flipX),w=s(x,"flipY",y.flipY),G=[],V=0;V<S.length;V++)for(var X=S[V].key,W=S[V].value,D=0;D<T.length;D++){var F=h(X,W),B=v(T[D],D,X,F.getEnd,F.getStart,F.getActive,r(u(W,"ease",P),u(W,"easeParams",A)),a(W,"delay",E),a(W,"duration",C),s(W,"yoyo",O),a(W,"hold",R),a(W,"repeat",M),a(W,"repeatDelay",L),s(W,"flipX",I),s(W,"flipY",w));G.push(B)}var b=new f(g,G,T);b.offset=l(x,"offset",null),b.completeDelay=l(x,"completeDelay",0),b.loop=Math.round(l(x,"loop",0)),b.loopDelay=Math.round(l(x,"loopDelay",0)),b.paused=s(x,"paused",!1),b.useFrames=s(x,"useFrames",!1);for(var z=u(x,"callbackScope",b),N=[b,null],U=f.TYPES,Y=0;Y<U.length;Y++){var K=U[Y],Z=u(x,K,!1);if(Z){var j=u(x,K+"Scope",z),q=u(x,K+"Params",[]);b.setCallback(K,Z,N.concat(q),j)}}return b};i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(102),s=t(2),r=t(132),a=t(185),o=new e({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(n){var u=this.parent;if(n===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var f=n[h];this.nextAnim===null?this.nextAnim=f:this.nextAnimsQueue.push(f)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(n){this.isPlaying&&this.stop();var u=this.animationManager,h=typeof n=="string"?n:s(n,"key",null),f=this.exists(h)?this.get(h):u.get(h);if(!f)console.warn("Missing animation: "+h);else{this.currentAnim=f;var v=f.getTotalFrames(),m=s(n,"frameRate",f.frameRate),g=s(n,"duration",f.duration);f.calculateDuration(this,v,g,m),this.delay=s(n,"delay",f.delay),this.repeat=s(n,"repeat",f.repeat),this.repeatDelay=s(n,"repeatDelay",f.repeatDelay),this.yoyo=s(n,"yoyo",f.yoyo),this.showOnStart=s(n,"showOnStart",f.showOnStart),this.hideOnComplete=s(n,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=s(n,"skipMissedFrames",f.skipMissedFrames),this.timeScale=s(n,"timeScale",this.timeScale);var x=s(n,"startFrame",0);x>f.getTotalFrames()&&(x=0);var y=f.frames[x];x===0&&!this.forward&&(y=f.getLastFrame()),this.currentFrame=y}return this.parent},pause:function(n){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),n!==void 0&&this.setCurrentFrame(n),this.parent},resume:function(n){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),n!==void 0&&this.setCurrentFrame(n),this.parent},playAfterDelay:function(n,u){if(!this.isPlaying)this.delayCounter=u,this.play(n,!0);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.nextAnim=n,this._pendingStop=1,this._pendingStopValue=u}return this.parent},playAfterRepeat:function(n,u){if(u===void 0&&(u=1),!this.isPlaying)this.play(n);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=n,this._pendingStop=2,this._pendingStopValue=u}return this.parent},play:function(n,u){u===void 0&&(u=!1);var h=this.currentAnim,f=this.parent,v=typeof n=="string"?n:n.key;if(u&&this.isPlaying&&h.key===v)return f;if(h&&this.isPlaying){var m=this.animationManager.getMix(h.key,n);if(m>0)return this.playAfterDelay(n,m)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(n)},playReverse:function(n,u){u===void 0&&(u=!1);var h=typeof n=="string"?n:n.key;return u&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(n))},startAnimation:function(n){this.load(n);var u=this.currentAnim,h=this.parent;return u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0&&this.handleStart()),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(n,u){var h=this.currentAnim,f=this.currentFrame,v=this.parent,m=f.textureFrame;v.emit(n,h,f,v,m),u&&v.emit(u+h.key,h,f,v,m)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var n=this.currentFrame;if(!n)return 0;var u=n.progress;return this.inReverse&&(u*=-1),u},setProgress:function(n){return this.forward||(n=1-n),this.setCurrentFrame(this.currentAnim.getFrameByProgress(n)),this.parent},setRepeat:function(n){return this.repeatCounter=n===-1?Number.MAX_VALUE:n,this.parent},globalRemove:function(n,u){u===void 0&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(n,u){n===void 0&&(n=!1),u===void 0&&(u=!1);var h=this.currentAnim,f=this.parent;return h?(u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!n,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var n=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(n)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var n=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(n)}return this.parent},stopAfterDelay:function(n){return this._pendingStop=1,this._pendingStopValue=n,this.parent},stopAfterRepeat:function(n){return n===void 0&&(n=1),this.repeatCounter!==-1&&n>this.repeatCounter&&(n=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=n,this.parent},stopOnFrame:function(n){return this._pendingStop=3,this._pendingStopValue=n,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(n,u){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=u*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?h.nextFrame(this):h.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(n){var u=this.parent;return this.currentFrame=n,u.texture=n.frame.texture,u.frame=n.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),n.setAlpha&&(u.alpha=n.alpha),u.setSizeToFrame(),u._originComponent&&(n.frame.customPivot?u.setOrigin(n.frame.pivotX,n.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===n&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(n){return this.anims?this.anims.get(n):null},exists:function(n){return this.anims?this.anims.has(n):!1},create:function(n){var u=n.key,h=!1;return u&&(h=this.get(u),h||(h=new a(this,u,n),this.anims||(this.anims=new l),this.anims.set(u,h))),h},generateFrameNames:function(n,u){return this.animationManager.generateFrameNames(n,u)},generateFrameNumbers:function(n,u){return this.animationManager.generateFrameNumbers(n,u)},remove:function(n){var u=this.get(n);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(n)),u},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});i.exports=o},function(i,d,t){var e={};i.exports=e;var l=t(166);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(s,r){for(var a=r*r*r,o=0;o<s.length;o++){var n=s[o],u=n.speed*n.speed+n.angularSpeed*n.angularSpeed;if(n.force.x!==0||n.force.y!==0){e.set(n,!1);continue}var h=Math.min(n.motion,u),f=Math.max(n.motion,u);n.motion=e._minBias*h+(1-e._minBias)*f,n.sleepThreshold>0&&n.motion<e._motionSleepThreshold*a?(n.sleepCounter+=1,n.sleepCounter>=n.sleepThreshold&&e.set(n,!0)):n.sleepCounter>0&&(n.sleepCounter-=1)}},e.afterCollisions=function(s,r){for(var a=r*r*r,o=0;o<s.length;o++){var n=s[o];if(!!n.isActive){var u=n.collision,h=u.bodyA.parent,f=u.bodyB.parent;if(!(h.isSleeping&&f.isSleeping||h.isStatic||f.isStatic)&&(h.isSleeping||f.isSleeping)){var v=h.isSleeping&&!h.isStatic?h:f,m=v===h?f:h;!v.isStatic&&m.motion>e._motionWakeThreshold*a&&e.set(v,!1)}}}},e.set=function(s,r){var a=s.isSleeping;r?(s.isSleeping=!0,s.sleepCounter=s.sleepThreshold,s.positionImpulse.x=0,s.positionImpulse.y=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.speed=0,s.angularSpeed=0,s.motion=0,a||l.trigger(s,"sleepStart")):(s.isSleeping=!1,s.sleepCounter=0,a&&l.trigger(s,"sleepEnd"))}})()},function(i,d,t){var e={};i.exports=e;var l=t(32);(function(){e.on=function(s,r,a){for(var o=r.split(" "),n,u=0;u<o.length;u++)n=o[u],s.events=s.events||{},s.events[n]=s.events[n]||[],s.events[n].push(a);return a},e.off=function(s,r,a){if(!r){s.events={};return}typeof r=="function"&&(a=r,r=l.keys(s.events).join(" "));for(var o=r.split(" "),n=0;n<o.length;n++){var u=s.events[o[n]],h=[];if(a&&u)for(var f=0;f<u.length;f++)u[f]!==a&&h.push(u[f]);s.events[o[n]]=h}},e.trigger=function(s,r,a){var o,n,u,h,f=s.events;if(f&&l.keys(f).length>0){a||(a={}),o=r.split(" ");for(var v=0;v<o.length;v++)if(n=o[v],u=f[n],u){h=l.clone(a,!1),h.name=n,h.source=s;for(var m=0;m<u.length;m++)u[m].apply(s,[h])}}}})()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(175),l=t(92),s=t(74),r={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(a){a===void 0&&(a=l.MULTI_PIPELINE);var o=this.scene.sys.renderer;if(!o)return!1;var n=o.pipelines;if(this.postPipelines=[],this.pipelineData={},n){var u=n.get(a);if(u)return this.defaultPipeline=u,this.pipeline=u,!0}return!1},setPipeline:function(a,o,n){var u=this.scene.sys.renderer;if(!u)return this;var h=u.pipelines;if(h){var f=h.get(a);f&&(this.pipeline=f),o&&(this.pipelineData=n?e(o):o)}return this},setPostPipeline:function(a,o,n){var u=this.scene.sys.renderer;if(!u)return this;var h=u.pipelines;if(h){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++){var v=h.getPostPipeline(a[f],this);v&&this.postPipelines.push(v)}o&&(this.pipelineData=n?e(o):o)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(a,o){var n=this.pipelineData;return o===void 0?delete n[a]:n[a]=o,this},getPostPipeline:function(a){for(var o=this.postPipelines,n=[],u=0;u<o.length;u++){var h=o[u];(typeof a=="string"&&h.name===a||h instanceof a)&&n.push(h)}return n.length===1?n[0]:n},resetPipeline:function(a,o){return a===void 0&&(a=!1),o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,a&&(this.postPipelines=[],this.hasPostPipeline=!1),o&&(this.pipelineData={}),this.pipeline!==null},resetPostPipeline:function(a){a===void 0&&(a=!1);for(var o=this.postPipelines,n=0;n<o.length;n++)o[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,a&&(this.pipelineData={})},removePostPipeline:function(a){for(var o=this.postPipelines,n=o.length-1;n>=0;n--){var u=o[n];(typeof a=="string"&&u.name===a||typeof a!="string"&&u instanceof a)&&(u.destroy(),s(o,n))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DEFAULT:0,LINEAR:0,NEAREST:1};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r,a){return a===void 0&&(a=new e),a.x=s.x+s.radius*Math.cos(r),a.y=s.y+s.radius*Math.sin(r),a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){r===void 0&&(r=new e);var a=2*Math.PI*Math.random(),o=Math.random()+Math.random(),n=o>1?2-o:o,u=n*Math.cos(a),h=n*Math.sin(a);return r.x=s.x+u*s.radius,r.y=s.y+h*s.radius,r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),l=t(4),s=function(r,a,o){if(o===void 0&&(o=new l),a<=0||a>=1)return o.x=r.x,o.y=r.y,o;var n=e(r)*a;return a>.5?(n-=r.width+r.height,n<=r.width?(o.x=r.right-n,o.y=r.bottom):(o.x=r.x,o.y=r.bottom-(n-r.width))):n<=r.width?(o.x=r.x+n,o.y=r.y):(o.x=r.right,o.y=r.y+(n-r.width)),o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),l=t(4),s=function(r,a,o,n){n===void 0&&(n=[]),!a&&o>0&&(a=e(r)/o);for(var u=r.x1,h=r.y1,f=r.x2,v=r.y2,m=0;m<a;m++){var g=m/a,x=u+(f-u)*g,y=h+(v-h)*g;n.push(new l(x,y))}return n};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){r===void 0&&(r=new e);var a=Math.random();return r.x=s.x1+a*(s.x2-s.x1),r.y=s.y1+a*(s.y2-s.y1),r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){return r===void 0&&(r=new e),r.x=s.x+Math.random()*s.width,r.y=s.y+Math.random()*s.height,r};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l,s,r;if(typeof e!="object"||e===null)return e;l=Array.isArray(e)?[]:{};for(r in e)s=e[r],l[r]=t(s);return l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(l.textureKey=e.texture.key,l.frameKey=e.frame.name),l};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=function(s,r,a,o,n,u,h,f){f===void 0&&(f=new e);var v=Math.sin(n),m=Math.cos(n),g=m*u,x=v*u,y=-v*h,T=m*h,S=1/(g*T+y*-x);return f.x=T*S*s+-y*S*r+(o*y-a*T)*S,f.y=g*S*r+-x*S*s+(-o*g+a*x)*S,f};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l===void 0&&(l=1);for(var s=null,r=0;r<l;r++)s=e.shift(),e.push(s);return s};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l===void 0&&(l=1);for(var s=null,r=0;r<l;r++)s=e.pop(),e.unshift(s);return s};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){r===void 0&&(r=new e);var a=Math.random()*Math.PI*2,o=Math.sqrt(Math.random());return r.x=s.x+o*Math.cos(a)*s.width/2,r.y=s.y+o*Math.sin(a)*s.height/2,r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){r===void 0&&(r=new e);var a=s.x2-s.x1,o=s.y2-s.y1,n=s.x3-s.x1,u=s.y3-s.y1,h=Math.random(),f=Math.random();return h+f>=1&&(h=1-h,f=1-f),r.x=s.x1+(a*h+n*f),r.y=s.y1+(o*h+u*f),r};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a){var o=r+Math.atan2(e.y-s,e.x-l);return e.x=l+a*Math.cos(o),e.y=s+a*Math.sin(o),e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e=Math.max(0,Math.min(1,(e-l)/(s-l))),e*e*e*(e*(e*6-15)+10)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e<=l?0:e>=s?1:(e=(e-l)/(s-l),e*e*(3-2*e))};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=t(0),s=t(132),r=t(318),a=t(319),o=t(6),n=t(320),u=new l({initialize:function(f,v,m){this.manager=f,this.key=v,this.type="frame",this.frames=this.getFrames(f.textureManager,o(m,"frames",[]),o(m,"defaultTextureKey",null),o(m,"sortFrames",!0)),this.frameRate=o(m,"frameRate",null),this.duration=o(m,"duration",null),this.msPerFrame,this.skipMissedFrames=o(m,"skipMissedFrames",!0),this.delay=o(m,"delay",0),this.repeat=o(m,"repeat",0),this.repeatDelay=o(m,"repeatDelay",0),this.yoyo=o(m,"yoyo",!1),this.showOnStart=o(m,"showOnStart",!1),this.hideOnComplete=o(m,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(h,f,v,m){v===null&&m===null?(h.frameRate=24,h.duration=24/f*1e3):v&&m===null?(h.duration=v,h.frameRate=f/(v/1e3)):(h.frameRate=m,h.duration=f/m*1e3),h.msPerFrame=1e3/h.frameRate},addFrame:function(h){return this.addFrameAt(this.frames.length,h)},addFrameAt:function(h,f){var v=this.getFrames(this.manager.textureManager,f);if(v.length>0){if(h===0)this.frames=v.concat(this.frames);else if(h===this.frames.length)this.frames=this.frames.concat(v);else{var m=this.frames.slice(0,h),g=this.frames.slice(h);this.frames=m.concat(v,g)}this.updateFrameSequence()}return this},checkFrame:function(h){return h>=0&&h<this.frames.length},getFirstTick:function(h){h.accumulator=0,h.nextTick=h.msPerFrame+h.currentFrame.duration},getFrameAt:function(h){return this.frames[h]},getFrames:function(h,f,v,m){m===void 0&&(m=!0);var g=[],x,y,T=1,S,E;if(typeof f=="string"){E=f;var C=h.get(E),A=C.getFrameNames();m&&n(A),f=[],A.forEach(function(I){f.push({key:E,frame:I})})}if(!Array.isArray(f)||f.length===0)return g;for(S=0;S<f.length;S++){var P=f[S],R=o(P,"key",v);if(!!R){var M=o(P,"frame",0),L=h.getFrame(R,M);y=new a(R,M,T,L),y.duration=o(P,"duration",0),y.isFirst=!x,x&&(x.nextFrame=y,y.prevFrame=x),g.push(y),x=y,T++}}if(g.length>0){y.isLast=!0,y.nextFrame=g[0],g[0].prevFrame=y;var O=1/(g.length-1);for(S=0;S<g.length;S++)g[S].progress=S*O}return g},getNextTick:function(h){h.accumulator-=h.nextTick,h.nextTick=h.msPerFrame+h.currentFrame.duration},getFrameByProgress:function(h){return h=e(h,0,1),r(h,this.frames,"progress")},nextFrame:function(h){var f=h.currentFrame;f.isLast?h.yoyo?this.handleYoyoFrame(h,!1):h.repeatCounter>0?h.inReverse&&h.forward?h.forward=!1:this.repeatAnimation(h):h.complete():this.updateAndGetNextTick(h,f.nextFrame)},handleYoyoFrame:function(h,f){if(f||(f=!1),h.inReverse===!f&&h.repeatCounter>0){(h.repeatDelay===0||h.pendingRepeat)&&(h.forward=f),this.repeatAnimation(h);return}if(h.inReverse!==f&&h.repeatCounter===0){h.complete();return}h.forward=f;var v=f?h.currentFrame.nextFrame:h.currentFrame.prevFrame;this.updateAndGetNextTick(h,v)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(h){var f=h.currentFrame;f.isFirst?h.yoyo?this.handleYoyoFrame(h,!0):h.repeatCounter>0?h.inReverse&&!h.forward?this.repeatAnimation(h):(h.forward=!0,this.repeatAnimation(h)):h.complete():this.updateAndGetNextTick(h,f.prevFrame)},updateAndGetNextTick:function(h,f){h.setCurrentFrame(f),this.getNextTick(h)},removeFrame:function(h){var f=this.frames.indexOf(h);return f!==-1&&this.removeFrameAt(f),this},removeFrameAt:function(h){return this.frames.splice(h,1),this.updateFrameSequence(),this},repeatAnimation:function(h){if(h._pendingStop===2){if(h._pendingStopValue===0)return h.stop();h._pendingStopValue--}h.repeatDelay>0&&!h.pendingRepeat?(h.pendingRepeat=!0,h.accumulator-=h.nextTick,h.nextTick+=h.repeatDelay):(h.repeatCounter--,h.forward?h.setCurrentFrame(h.currentFrame.nextFrame):h.setCurrentFrame(h.currentFrame.prevFrame),h.isPlaying&&(this.getNextTick(h),h.handleRepeat()))},toJSON:function(){var h={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(f){h.frames.push(f.toJSON())}),h},updateFrameSequence:function(){for(var h=this.frames.length,f=1/(h-1),v,m=0;m<h;m++)v=this.frames[m],v.index=m+1,v.isFirst=!1,v.isLast=!1,v.progress=m*f,m===0?(v.isFirst=!0,h===1?(v.isLast=!0,v.nextFrame=v,v.prevFrame=v):(v.isLast=!1,v.prevFrame=this.frames[h-1],v.nextFrame=this.frames[m+1])):m===h-1&&h>1?(v.isLast=!0,v.prevFrame=this.frames[h-2],v.nextFrame=this.frames[0]):h>1&&(v.prevFrame=this.frames[m-1],v.nextFrame=this.frames[m+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var h=0;h<this.frames.length;h++)this.frames[h].destroy();this.frames=[],this.manager=null}});i.exports=u},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){l===void 0&&(l=0),s===void 0&&(s=" "),r===void 0&&(r=3),e=e.toString();var a=0;if(l+1>=e.length)switch(r){case 1:e=new Array(l+1-e.length).join(s)+e;break;case 3:var o=Math.ceil((a=l-e.length)/2),n=a-o;e=new Array(n+1).join(s)+e+new Array(o+1).join(s);break;default:e=e+new Array(l+1-e.length).join(s);break}return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(327),l=t(189),s=t(331),r=t(332),a=function(o){var n=typeof o;switch(n){case"string":return o.substr(0,3).toLowerCase()==="rgb"?r(o):e(o);case"number":return l(o);case"object":return s(o)}};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103);function l(r,a,o,n){var u=(r+a*6)%6,h=Math.min(u,4-u,1);return Math.round(255*(n-n*o*Math.max(0,h)))}var s=function(r,a,o,n){a===void 0&&(a=1),o===void 0&&(o=1);var u=l(5,r,a,o),h=l(3,r,a,o),f=l(1,r,a,o);return n?n.setTo?n.setTo(u,h,f,n.alpha,!1):(n.r=u,n.g=h,n.b=f,n.color=e(u,h,f),n):{r:u,g:h,b:f,color:e(u,h,f)}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),l=t(330),s=function(r){var a=l(r);return new e(a.r,a.g,a.b,a.a)};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e.x=l-e.width/2,e.y=s-e.height/2,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),l=t(136),s=t(31),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function a(){var n=new ArrayBuffer(4),u=new Uint8Array(n),h=new Uint32Array(n);return u[0]=161,u[1]=178,u[2]=195,u[3]=212,h[0]===3569595041?!0:h[0]===2712847316?!1:null}function o(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var n=!1,u=function(){if(window.WebGLRenderingContext)try{var h=s.createWebGL(this),f=h.getContext("webgl")||h.getContext("experimental-webgl"),v=s.create2D(this),m=v.getContext("2d"),g=m.createImageData(1,1);return n=g.data instanceof Uint8ClampedArray,s.remove(h),s.remove(v),!!f}catch{return!1}return!1};return r.webGL=u(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,l.firefox&&l.firefoxVersion<21&&(r.getUserMedia=!1),!e.iOS&&(l.ie||l.firefox||l.chrome)&&(r.canvasBitBltShift=!0),(l.safari||l.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint32Array!="undefined"&&(r.littleEndian=a()),r.support32bit=typeof ArrayBuffer!="undefined"&&typeof Uint8ClampedArray!="undefined"&&typeof Int32Array!="undefined"&&r.littleEndian!==null&&n,r}i.exports=o()},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="",e=function(){var l=function(o){for(var n=["i","webkitI","msI","mozI","oI"],u=0;u<n.length;u++){var h=n[u]+"mageSmoothingEnabled";if(h in o)return h}return null},s=function(o){return t===""&&(t=l(o)),t&&(o[t]=!0),o},r=function(o){return t===""&&(t=l(o)),t&&(o[t]=!1),o},a=function(o){return t!==null?o[t]:null};return{disable:r,enable:s,getPrefix:l,isEnabled:a}};i.exports=e()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=t(17),s={Angle:t(812),Distance:t(821),Easing:t(826),Fuzzy:t(827),Interpolation:t(830),Pow2:t(835),Snap:t(837),RandomDataGenerator:t(839),Average:t(840),Bernstein:t(356),Between:t(195),CatmullRom:t(194),CeilTo:t(841),Clamp:t(18),DegToRad:t(36),Difference:t(842),Euler:t(843),Factorial:t(357),FloatBetween:t(137),FloorTo:t(844),FromPercent:t(98),GetSpeed:t(845),IsEven:t(846),IsEvenStrict:t(847),Linear:t(135),MaxAdd:t(848),Median:t(849),MinSub:t(850),Percent:t(851),RadToDeg:t(196),RandomXY:t(852),RandomXYZ:t(853),RandomXYZW:t(854),Rotate:t(362),RotateAround:t(308),RotateAroundDistance:t(182),RotateTo:t(855),RoundAwayFromZero:t(363),RoundTo:t(856),SinCosTableGenerator:t(857),SmootherStep:t(183),SmoothStep:t(184),ToXY:t(858),TransformXY:t(177),Within:t(859),Wrap:t(68),Vector2:t(3),Vector3:t(39),Vector4:t(140),Matrix3:t(364),Matrix4:t(69),Quaternion:t(365),RotateVec3:t(860)};s=l(!1,s,e),i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a){var o=(r-l)*.5,n=(a-s)*.5,u=e*e,h=e*u;return(2*s-2*r+o+n)*h+(-3*s+3*r-2*o-n)*u+o*e+s};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return Math.floor(Math.random()*(l-e+1)+e)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=function(s){return s*e.RAD_TO_DEG};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(s){return this._matrix=s,this._dirty=!0,this},reset:function(){var s=this._matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=0,s[6]=1,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=0,s[12]=1,s[13]=0,s[14]=0,s[15]=0,s[16]=0,s[17]=0,s[18]=1,s[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var s=new Float32Array(this._matrix);s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._data=s,this._dirty=!1}return this._data},brightness:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var a=s;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],r)},saturate:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var a=s*2/3+1,o=(a-1)*-.5;return this.multiply([a,o,o,0,0,o,a,o,0,0,o,o,a,0,0,0,0,0,1,0],r)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1),s=s/180*Math.PI;var a=Math.cos(s),o=Math.sin(s),n=.213,u=.715,h=.072;return this.multiply([n+a*(1-n)+o*-n,u+a*-u+o*-u,h+a*-h+o*(1-h),0,0,n+a*-n+o*.143,u+a*(1-u)+o*.14,h+a*-h+o*-.283,0,0,n+a*-n+o*-(1-n),u+a*-u+o*u,h+a*(1-h)+o*h,0,0,0,0,0,1,0],r)},grayscale:function(s,r){return s===void 0&&(s=1),r===void 0&&(r=!1),this.saturate(-s,r)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],s)},contrast:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var a=s+1,o=-.5*(a-1);return this.multiply([a,0,0,0,o,0,a,0,0,o,0,0,a,0,o,0,0,0,1,0],r)},negative:function(s){return s===void 0&&(s=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],s)},night:function(s,r){return s===void 0&&(s=.1),r===void 0&&(r=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],r)},lsd:function(s){return s===void 0&&(s=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],s)},brown:function(s){return s===void 0&&(s=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],s)},multiply:function(s,r){r||this.reset();for(var a=this._matrix,o=[],n=0;n<20;n++)o[n]=a[n];return a[0]=o[0]*s[0]+o[1]*s[5]+o[2]*s[10]+o[3]*s[15],a[1]=o[0]*s[1]+o[1]*s[6]+o[2]*s[11]+o[3]*s[16],a[2]=o[0]*s[2]+o[1]*s[7]+o[2]*s[12]+o[3]*s[17],a[3]=o[0]*s[3]+o[1]*s[8]+o[2]*s[13]+o[3]*s[18],a[4]=o[0]*s[4]+o[1]*s[9]+o[2]*s[14]+o[3]*s[19]+o[4],a[5]=o[5]*s[0]+o[6]*s[5]+o[7]*s[10]+o[8]*s[15],a[6]=o[5]*s[1]+o[6]*s[6]+o[7]*s[11]+o[8]*s[16],a[7]=o[5]*s[2]+o[6]*s[7]+o[7]*s[12]+o[8]*s[17],a[8]=o[5]*s[3]+o[6]*s[8]+o[7]*s[13]+o[8]*s[18],a[9]=o[5]*s[4]+o[6]*s[9]+o[7]*s[14]+o[8]*s[19]+o[9],a[10]=o[10]*s[0]+o[11]*s[5]+o[12]*s[10]+o[13]*s[15],a[11]=o[10]*s[1]+o[11]*s[6]+o[12]*s[11]+o[13]*s[16],a[12]=o[10]*s[2]+o[11]*s[7]+o[12]*s[12]+o[13]*s[17],a[13]=o[10]*s[3]+o[11]*s[8]+o[12]*s[13]+o[13]*s[18],a[14]=o[10]*s[4]+o[11]*s[9]+o[12]*s[14]+o[13]*s[19]+o[14],a[15]=o[15]*s[0]+o[16]*s[5]+o[17]*s[10]+o[18]*s[15],a[16]=o[15]*s[1]+o[16]*s[6]+o[17]*s[11]+o[18]*s[16],a[17]=o[15]*s[2]+o[16]*s[7]+o[17]*s[12]+o[18]*s[17],a[18]=o[15]*s[3]+o[16]*s[8]+o[17]*s[13]+o[18]*s[18],a[19]=o[15]*s[4]+o[16]*s[9]+o[17]*s[14]+o[18]*s[19]+o[19],this._dirty=!0,this}});i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=t(14),s=function(r,a){if(a===void 0&&(a=new e),r.length===0)return a;for(var o=Number.MAX_VALUE,n=Number.MAX_VALUE,u=l.MIN_SAFE_INTEGER,h=l.MIN_SAFE_INTEGER,f,v,m,g=0;g<r.length;g++)f=r[g],Array.isArray(f)?(v=f[0],m=f[1]):(v=f.x,m=f.y),o=Math.min(o,v),n=Math.min(n,m),u=Math.max(u,v),h=Math.max(h,m);return a.x=o,a.y=n,a.width=u-o,a.height=h-n,a};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(1),s=new e({initialize:function(a,o,n){this._rgb=[0,0,0],this.onChangeCallback=l,this.dirty=!1,this.set(a,o,n)},set:function(r,a,o){return r===void 0&&(r=0),a===void 0&&(a=0),o===void 0&&(o=0),this._rgb=[r,a,o],this.onChange(),this},equals:function(r,a,o){var n=this._rgb;return n.r===r&&n.g===a&&n.b===o},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={CENTER:t(403),ORIENTATION:t(404),SCALE_MODE:t(405),ZOOM:t(406)};i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){e.parentNode&&e.parentNode.removeChild(e)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(144),s=t(197),r=t(20),a=t(419),o=t(420),n=t(33),u=t(1),h=t(421),f=new e({initialize:function(m,g){this.scene=m,this.game,this.renderer,this.config=g,this.settings=h.create(g),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=u},init:function(v){this.settings.status=l.INIT,this.sceneUpdate=u,this.game=v,this.renderer=v.renderer,this.canvas=v.canvas,this.context=v.context;var m=v.plugins;this.plugins=m,m.addToScene(this,s.Global,[s.CoreScene,o(this),a(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(v,m){var g=this.events;g.emit(r.PRE_UPDATE,v,m),g.emit(r.UPDATE,v,m),this.sceneUpdate.call(this.scene,v,m),g.emit(r.POST_UPDATE,v,m)},render:function(v){var m=this.displayList;m.depthSort(),this.events.emit(r.PRE_RENDER,v),this.cameras.render(v,m),this.events.emit(r.RENDER,v)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(v){var m=this.events,g=this.settings;return this.settings.active&&(g.status=l.PAUSED,g.active=!1,m.emit(r.PAUSE,this,v)),this},resume:function(v){var m=this.events,g=this.settings;return this.settings.active||(g.status=l.RUNNING,g.active=!0,m.emit(r.RESUME,this,v)),this},sleep:function(v){var m=this.events,g=this.settings;return g.status=l.SLEEPING,g.active=!1,g.visible=!1,m.emit(r.SLEEP,this,v),this},wake:function(v){var m=this.events,g=this.settings;return g.status=l.RUNNING,g.active=!0,g.visible=!0,m.emit(r.WAKE,this,v),g.isTransition&&m.emit(r.TRANSITION_WAKE,g.transitionFrom,g.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===l.SLEEPING},isActive:function(){return this.settings.status===l.RUNNING},isPaused:function(){return this.settings.status===l.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(v){return this.settings.visible=v,this},setActive:function(v,m){return v?this.resume(m):this.pause(m)},start:function(v){var m=this.events,g=this.settings;v&&(g.data=v),g.status=l.START,g.active=!0,g.visible=!0,m.emit(r.START,this),m.emit(r.READY,this,v)},shutdown:function(v){var m=this.events,g=this.settings;m.off(r.TRANSITION_INIT),m.off(r.TRANSITION_START),m.off(r.TRANSITION_COMPLETE),m.off(r.TRANSITION_OUT),g.status=l.SHUTDOWN,g.active=!1,g.visible=!1,this.renderer===n.WEBGL&&this.renderer.resetTextures(!0),m.emit(r.SHUTDOWN,this,v)},destroy:function(){var v=this.events,m=this.settings;m.status=l.DESTROYED,m.active=!1,m.visible=!1,v.emit(r.DESTROY,this),v.removeAllListeners();for(var g=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],x=0;x<g.length;x++)this[g[x]]=null}});i.exports=f},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e&&e[0].toUpperCase()+e.slice(1)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),l=t(0),s=t(109),r=t(424),a="Texture.frame missing: ",o=new l({initialize:function(u,h,f,v,m){Array.isArray(f)||(f=[f]),this.manager=u,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var g=0;g<f.length;g++)this.source.push(new r(this,f[g],v,m))},add:function(n,u,h,f,v,m){if(this.has(n))return null;var g=new s(this,n,u,h,f,v,m);return this.frames[n]=g,this.firstFrame==="__BASE"&&(this.firstFrame=n),this.frameTotal++,g},remove:function(n){if(this.has(n)){var u=this.get(n);return u.destroy(),delete this.frames[n],!0}return!1},has:function(n){return this.frames[n]},get:function(n){n||(n=this.firstFrame);var u=this.frames[n];return u||(console.warn(a+n),u=this.frames[this.firstFrame]),u},getTextureSourceIndex:function(n){for(var u=0;u<this.source.length;u++)if(this.source[u]===n)return u;return-1},getFramesFromTextureSource:function(n,u){u===void 0&&(u=!1);var h=[];for(var f in this.frames)if(!(f==="__BASE"&&!u)){var v=this.frames[f];v.sourceIndex===n&&h.push(v)}return h},getFrameNames:function(n){n===void 0&&(n=!1);var u=Object.keys(this.frames);if(!n){var h=u.indexOf("__BASE");h!==-1&&u.splice(h,1)}return u},getSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var u=this.frames[n];return u?u.source.image:(console.warn(a+n),this.frames.__BASE.source.image)},getDataSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var u=this.frames[n],h;return u?h=u.sourceIndex:(console.warn(a+n),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(n){Array.isArray(n)||(n=[n]);for(var u=0;u<n.length;u++){var h=this.source[u];this.dataSource.push(new r(this,n[u],h.width,h.height))}},setFilter:function(n){var u;for(u=0;u<this.source.length;u++)this.source[u].setFilter(n);for(u=0;u<this.dataSource.length;u++)this.dataSource[u].setFilter(n)},destroy:function(){var n;for(n=0;n<this.source.length;n++)this.source[n].destroy();for(n=0;n<this.dataSource.length;n++)this.dataSource[n].destroy();for(var u in this.frames){var h=this.frames[u];h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var f=this.manager.game.renderer;f&&f.type===e.WEBGL&&f.resetTextures(!0),this.manager=null}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),l=function(s,r,a,o,n){o===void 0&&(o=0),n===void 0&&(n=s.length);var u=[];if(e(s,o,n))for(var h=o;h<n;h++){var f=s[h];(!r||r&&a===void 0&&f.hasOwnProperty(r)||r&&a!==void 0&&f[r]===a)&&u.push(f)}return u};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Matrix:t(1013),Add:t(1021),AddAt:t(1022),BringToTop:t(1023),CountAllMatching:t(1024),Each:t(1025),EachInRange:t(1026),FindClosestInSorted:t(318),GetAll:t(207),GetFirst:t(428),GetRandom:t(210),MoveDown:t(1027),MoveTo:t(1028),MoveUp:t(1029),MoveAbove:t(1030),MoveBelow:t(1031),NumberArray:t(322),NumberArrayStep:t(1032),QuickSelect:t(436),Range:t(437),Remove:t(93),RemoveAt:t(1033),RemoveBetween:t(1034),RemoveRandomElement:t(1035),Replace:t(1036),RotateLeft:t(178),RotateRight:t(179),SafeRange:t(78),SendToBack:t(1037),SetAll:t(1038),Shuffle:t(131),SortByDigits:t(320),SpliceOne:t(74),StableSort:t(79),Swap:t(1039)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!Array.isArray(e)||e.length<2||!Array.isArray(e[0]))return!1;for(var l=e[0].length,s=1;s<e.length;s++)if(e[s].length!==l)return!1;return!0};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){l===void 0&&(l=0),s===void 0&&(s=e.length);var r=l+Math.floor(Math.random()*s);return e[r]===void 0?null:e[r]};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(9),s=t(438),r=new e({Extends:l,initialize:function(){l.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(a){return this._pending.push(a),this._toProcess++,a},remove:function(a){return this._destroy.push(a),this._toProcess++,a},removeAll:function(){for(var a=this._active,o=this._destroy,n=a.length;n--;)o.push(a[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var a=this._destroy,o=this._active,n,u;for(n=0;n<a.length;n++){u=a[n];var h=o.indexOf(u);h!==-1&&(o.splice(h,1),this.emit(s.PROCESS_QUEUE_REMOVE,u))}for(a.length=0,a=this._pending,n=0;n<a.length;n++)u=a[n],(!this.checkQueue||this.checkQueue&&o.indexOf(u)===-1)&&(o.push(u),this.emit(s.PROCESS_QUEUE_ADD,u));return a.length=0,this._toProcess=0,o},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(l,s){return parseInt(l.getAttribute(s),10)}var e=function(l,s,r,a,o){r===void 0&&(r=0),a===void 0&&(a=0);var n=s.cutX,u=s.cutY,h=s.source.width,f=s.source.height,v=s.sourceIndex,m={},g=l.getElementsByTagName("info")[0],x=l.getElementsByTagName("common")[0];m.font=g.getAttribute("face"),m.size=t(g,"size"),m.lineHeight=t(x,"lineHeight")+a,m.chars={};var y=l.getElementsByTagName("char"),T=s!==void 0&&s.trimmed;if(T)var S=s.height,E=s.width;for(var C=0;C<y.length;C++){var A=y[C],P=t(A,"id"),R=String.fromCharCode(P),M=t(A,"x"),L=t(A,"y"),O=t(A,"width"),I=t(A,"height");T&&(M<E&&(E=M),L<S&&(S=L)),T&&S!==0&&E!==0&&(M-=s.x,L-=s.y);var w=(n+M)/h,G=(u+L)/f,V=(n+M+O)/h,X=(u+L+I)/f;if(m.chars[P]={x:M,y:L,width:O,height:I,centerX:Math.floor(O/2),centerY:Math.floor(I/2),xOffset:t(A,"xoffset"),yOffset:t(A,"yoffset"),xAdvance:t(A,"xadvance")+r,data:{},kerning:{},u0:w,v0:G,u1:V,v1:X},o&&O!==0&&I!==0){var W=o.add(R,v,M,L,O,I);W&&W.setUVs(O,I,w,G,V,X)}}var D=l.getElementsByTagName("kerning");for(C=0;C<D.length;C++){var F=D[C],B=t(F,"first"),b=t(F,"second"),z=t(F,"amount");m.chars[b].kerning[B]=z}return m};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1049),l=t(440),s=t(0),r=t(11),a=t(109),o=t(15),n=t(110),u=new s({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,e],initialize:function(f,v,m,g,x){o.call(this,f,"Blitter"),this.setTexture(g,x),this.setPosition(v,m),this.initPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(h,f,v,m,g){m===void 0&&(m=!0),g===void 0&&(g=this.children.length),v===void 0?v=this.frame:v instanceof a||(v=this.texture.get(v));var x=new l(this,h,f,v,m);return this.children.addAt(x,g,!1),this.dirty=!0,x},createFromCallback:function(h,f,v,m){for(var g=this.createMultiple(f,v,m),x=0;x<g.length;x++){var y=g[x];h.call(this,y,x)}return g},createMultiple:function(h,f,v){f===void 0&&(f=this.frame.name),v===void 0&&(v=!0),Array.isArray(f)||(f=[f]);var m=[],g=this;return f.forEach(function(x){for(var y=0;y<h;y++)m.push(g.create(0,0,x,v))}),m},childCanRender:function(h){return h.visible&&h.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),l=t(35),s=t(0),r=t(11),a=t(75),o=t(15),n=t(10),u=t(1052),h=t(441),f=t(3),v=new s({Extends:o,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.Pipeline,r.Transform,r.Visible,u],initialize:function(g,x,y,T){o.call(this,g,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=g.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(x,y),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),T&&this.add(T)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(m){return m===void 0&&(m=!0),this.exclusive=m,this},getBounds:function(m){if(m===void 0&&(m=new n),m.setTo(this.x,this.y,0,0),this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix(),x=g.transformPoint(this.x,this.y);m.setTo(x.x,x.y,0,0)}if(this.list.length>0){var y=this.list,T=new n,S=!1;m.setEmpty();for(var E=0;E<y.length;E++){var C=y[E];C.getBounds&&(C.getBounds(T),S?h(T,m,m):(m.setTo(T.x,T.y,T.width,T.height),S=!0))}}return m},addHandler:function(m){m.once(a.DESTROY,this.remove,this),this.exclusive&&(m.parentContainer&&m.parentContainer.remove(m),m.removeFromDisplayList(),m.parentContainer=this)},removeHandler:function(m){m.off(a.DESTROY,this.remove),this.exclusive&&(m.parentContainer=null,m.addToDisplayList())},pointToContainer:function(m,g){g===void 0&&(g=new f),this.parentContainer?this.parentContainer.pointToContainer(m,g):g=new f(m.x,m.y);var x=this.tempTransformMatrix;return x.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),x.invert(),x.transformPoint(m.x,m.y,g),g},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(m){return e.Add(this.list,m,this.maxSize,this.addHandler,this),this},addAt:function(m,g){return e.AddAt(this.list,m,g,this.maxSize,this.addHandler,this),this},getAt:function(m){return this.list[m]},getIndex:function(m){return this.list.indexOf(m)},sort:function(m,g){return m?(g===void 0&&(g=function(x,y){return x[m]-y[m]}),e.StableSort(this.list,g),this):this},getByName:function(m){return e.GetFirst(this.list,"name",m)},getRandom:function(m,g){return e.GetRandom(this.list,m,g)},getFirst:function(m,g,x,y){return e.GetFirst(this.list,m,g,x,y)},getAll:function(m,g,x,y){return e.GetAll(this.list,m,g,x,y)},count:function(m,g,x,y){return e.CountAllMatching(this.list,m,g,x,y)},swap:function(m,g){return e.Swap(this.list,m,g),this},moveTo:function(m,g){return e.MoveTo(this.list,m,g),this},moveAbove:function(m,g){return e.MoveAbove(this.list,m,g),this},moveBelow:function(m,g){return e.MoveBelow(this.list,m,g),this},remove:function(m,g){var x=e.Remove(this.list,m,this.removeHandler,this);if(g&&x){Array.isArray(x)||(x=[x]);for(var y=0;y<x.length;y++)x[y].destroy()}return this},removeAt:function(m,g){var x=e.RemoveAt(this.list,m,this.removeHandler,this);return g&&x&&x.destroy(),this},removeBetween:function(m,g,x){var y=e.RemoveBetween(this.list,m,g,this.removeHandler,this);if(x)for(var T=0;T<y.length;T++)y[T].destroy();return this},removeAll:function(m){var g=e.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(m)for(var x=0;x<g.length;x++)g[x].destroy();return this},bringToTop:function(m){return e.BringToTop(this.list,m),this},sendToBack:function(m){return e.SendToBack(this.list,m),this},moveUp:function(m){return e.MoveUp(this.list,m),this},moveDown:function(m){return e.MoveDown(this.list,m),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(m,g,x){var y=e.Replace(this.list,m,g);return y&&(this.addHandler(g),this.removeHandler(m),x&&m.destroy()),this},exists:function(m){return this.list.indexOf(m)>-1},setAll:function(m,g,x,y){return e.SetAll(this.list,m,g,x,y),this},each:function(m,g){var x=[null],y,T=this.list.slice(),S=T.length;for(y=2;y<arguments.length;y++)x.push(arguments[y]);for(y=0;y<S;y++)x[0]=T[y],m.apply(g,x);return this},iterate:function(m,g){var x=[null],y;for(y=2;y<arguments.length;y++)x.push(arguments[y]);for(y=0;y<this.list.length;y++)x[0]=this.list[y],m.apply(g,x);return this},setScrollFactor:function(m,g,x){return g===void 0&&(g=m),x===void 0&&(x=!1),this.scrollFactorX=m,this.scrollFactorY=g,x&&(e.SetAll(this.list,"scrollFactorX",m),e.SetAll(this.list,"scrollFactorY",g)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});i.exports=v},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),l=t(0),s=t(1057),r=new l({Extends:e,Mixins:[s],initialize:function(o,n,u,h,f,v,m){e.call(this,o,n,u,h,f,v,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(a,o){return this.cropWidth=a,this.cropHeight=o,this},setDisplayCallback:function(a){return this.displayCallback=a,this},setScrollX:function(a){return this.scrollX=a,this},setScrollY:function(a){return this.scrollY=a,this}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),l=t(0),s=t(217),r=t(303),a=t(304),o=t(305),n=t(309),u=t(167),h=t(312),f=t(313),v=t(314),m=t(111),g=t(15),x=t(2),y=t(6),T=t(14),S=t(1063),E=new l({Extends:g,Mixins:[r,a,o,n,u,f,v,h,S],initialize:function(A,P){var R=y(P,"x",0),M=y(P,"y",0);g.call(this,A,"Graphics"),this.setPosition(R,M),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(P)},setDefaultStyles:function(C){return y(C,"lineStyle",null)&&(this.defaultStrokeWidth=y(C,"lineStyle.width",1),this.defaultStrokeColor=y(C,"lineStyle.color",16777215),this.defaultStrokeAlpha=y(C,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),y(C,"fillStyle",null)&&(this.defaultFillColor=y(C,"fillStyle.color",16777215),this.defaultFillAlpha=y(C,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(C,A,P){return P===void 0&&(P=1),this.commandBuffer.push(s.LINE_STYLE,C,A,P),this._lineWidth=C,this},fillStyle:function(C,A){return A===void 0&&(A=1),this.commandBuffer.push(s.FILL_STYLE,C,A),this},fillGradientStyle:function(C,A,P,R,M,L,O,I){return M===void 0&&(M=1),L===void 0&&(L=M),O===void 0&&(O=M),I===void 0&&(I=M),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,M,L,O,I,C,A,P,R),this},lineGradientStyle:function(C,A,P,R,M,L){return L===void 0&&(L=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,C,L,A,P,R,M),this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(C){return this.fillCircle(C.x,C.y,C.radius)},strokeCircleShape:function(C){return this.strokeCircle(C.x,C.y,C.radius)},fillCircle:function(C,A,P){return this.beginPath(),this.arc(C,A,P,0,T.PI2),this.fillPath(),this},strokeCircle:function(C,A,P){return this.beginPath(),this.arc(C,A,P,0,T.PI2),this.strokePath(),this},fillRectShape:function(C){return this.fillRect(C.x,C.y,C.width,C.height)},strokeRectShape:function(C){return this.strokeRect(C.x,C.y,C.width,C.height)},fillRect:function(C,A,P,R){return this.commandBuffer.push(s.FILL_RECT,C,A,P,R),this},strokeRect:function(C,A,P,R){var M=this._lineWidth/2,L=C-M,O=C+M;return this.beginPath(),this.moveTo(C,A),this.lineTo(C,A+R),this.strokePath(),this.beginPath(),this.moveTo(C+P,A),this.lineTo(C+P,A+R),this.strokePath(),this.beginPath(),this.moveTo(L,A),this.lineTo(O+P,A),this.strokePath(),this.beginPath(),this.moveTo(L,A+R),this.lineTo(O+P,A+R),this.strokePath(),this},fillRoundedRect:function(C,A,P,R,M){M===void 0&&(M=20);var L=M,O=M,I=M,w=M;return typeof M!="number"&&(L=x(M,"tl",20),O=x(M,"tr",20),I=x(M,"bl",20),w=x(M,"br",20)),this.beginPath(),this.moveTo(C+L,A),this.lineTo(C+P-O,A),this.arc(C+P-O,A+O,O,-T.TAU,0),this.lineTo(C+P,A+R-w),this.arc(C+P-w,A+R-w,w,0,T.TAU),this.lineTo(C+I,A+R),this.arc(C+I,A+R-I,I,T.TAU,Math.PI),this.lineTo(C,A+L),this.arc(C+L,A+L,L,-Math.PI,-T.TAU),this.fillPath(),this},strokeRoundedRect:function(C,A,P,R,M){M===void 0&&(M=20);var L=M,O=M,I=M,w=M;return typeof M!="number"&&(L=x(M,"tl",20),O=x(M,"tr",20),I=x(M,"bl",20),w=x(M,"br",20)),this.beginPath(),this.moveTo(C+L,A),this.lineTo(C+P-O,A),this.moveTo(C+P-O,A),this.arc(C+P-O,A+O,O,-T.TAU,0),this.lineTo(C+P,A+R-w),this.moveTo(C+P,A+R-w),this.arc(C+P-w,A+R-w,w,0,T.TAU),this.lineTo(C+I,A+R),this.moveTo(C+I,A+R),this.arc(C+I,A+R-I,I,T.TAU,Math.PI),this.lineTo(C,A+L),this.moveTo(C,A+L),this.arc(C+L,A+L,L,-Math.PI,-T.TAU),this.strokePath(),this},fillPointShape:function(C,A){return this.fillPoint(C.x,C.y,A)},fillPoint:function(C,A,P){return!P||P<1?P=1:(C-=P/2,A-=P/2),this.commandBuffer.push(s.FILL_RECT,C,A,P,P),this},fillTriangleShape:function(C){return this.fillTriangle(C.x1,C.y1,C.x2,C.y2,C.x3,C.y3)},strokeTriangleShape:function(C){return this.strokeTriangle(C.x1,C.y1,C.x2,C.y2,C.x3,C.y3)},fillTriangle:function(C,A,P,R,M,L){return this.commandBuffer.push(s.FILL_TRIANGLE,C,A,P,R,M,L),this},strokeTriangle:function(C,A,P,R,M,L){return this.commandBuffer.push(s.STROKE_TRIANGLE,C,A,P,R,M,L),this},strokeLineShape:function(C){return this.lineBetween(C.x1,C.y1,C.x2,C.y2)},lineBetween:function(C,A,P,R){return this.beginPath(),this.moveTo(C,A),this.lineTo(P,R),this.strokePath(),this},lineTo:function(C,A){return this.commandBuffer.push(s.LINE_TO,C,A),this},moveTo:function(C,A){return this.commandBuffer.push(s.MOVE_TO,C,A),this},strokePoints:function(C,A,P,R){A===void 0&&(A=!1),P===void 0&&(P=!1),R===void 0&&(R=C.length),this.beginPath(),this.moveTo(C[0].x,C[0].y);for(var M=1;M<R;M++)this.lineTo(C[M].x,C[M].y);return A&&this.lineTo(C[0].x,C[0].y),P&&this.closePath(),this.strokePath(),this},fillPoints:function(C,A,P,R){A===void 0&&(A=!1),P===void 0&&(P=!1),R===void 0&&(R=C.length),this.beginPath(),this.moveTo(C[0].x,C[0].y);for(var M=1;M<R;M++)this.lineTo(C[M].x,C[M].y);return A&&this.lineTo(C[0].x,C[0].y),P&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(C,A){A===void 0&&(A=32);var P=C.getPoints(A);return this.strokePoints(P,!0)},strokeEllipse:function(C,A,P,R,M){M===void 0&&(M=32);var L=new m(C,A,P,R),O=L.getPoints(M);return this.strokePoints(O,!0)},fillEllipseShape:function(C,A){A===void 0&&(A=32);var P=C.getPoints(A);return this.fillPoints(P,!0)},fillEllipse:function(C,A,P,R,M){M===void 0&&(M=32);var L=new m(C,A,P,R),O=L.getPoints(M);return this.fillPoints(O,!0)},arc:function(C,A,P,R,M,L,O){return L===void 0&&(L=!1),O===void 0&&(O=0),this.commandBuffer.push(s.ARC,C,A,P,R,M,L,O),this},slice:function(C,A,P,R,M,L,O){return L===void 0&&(L=!1),O===void 0&&(O=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,C,A),this.commandBuffer.push(s.ARC,C,A,P,R,M,L,O),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(C,A){return this.commandBuffer.push(s.TRANSLATE,C,A),this},scaleCanvas:function(C,A){return this.commandBuffer.push(s.SCALE,C,A),this},rotateCanvas:function(C){return this.commandBuffer.push(s.ROTATE,C),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(C,A,P){var R=this.scene.sys,M=R.game.renderer;A===void 0&&(A=R.scale.width),P===void 0&&(P=R.scale.height),E.TargetCamera.setScene(this.scene),E.TargetCamera.setViewport(0,0,A,P),E.TargetCamera.scrollX=this.x,E.TargetCamera.scrollY=this.y;var L,O;if(typeof C=="string")if(R.textures.exists(C)){L=R.textures.get(C);var I=L.getSourceImage();I instanceof HTMLCanvasElement&&(O=I.getContext("2d"))}else L=R.textures.createCanvas(C,A,P),O=L.getSourceImage().getContext("2d");else C instanceof HTMLCanvasElement&&(O=C.getContext("2d"));return O&&(this.renderCanvas(M,this,E.TargetCamera,null,O,!1),L&&L.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});E.TargetCamera=new e,i.exports=E},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r,a){a===void 0&&(a=new e);var o=s.width/2,n=s.height/2;return a.x=s.x+o*Math.cos(r),a.y=s.y+n*Math.sin(r),a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),l=t(0),s=t(11),r=t(176),a=t(101),o=t(9),n=t(75),u=t(110),h=t(1071),f=t(20),v=t(79),m=new l({Extends:u,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.Visible,o,h],initialize:function(x,y){u.call(this,x),o.call(this),this.scene=x,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=x.sys,this.events=x.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(e.SKIP_CHECK),y&&this.add(y),x.sys.queueDepthSort()},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},setState:function(g){return this.state=g,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(g,x){return this.data||(this.data=new a(this)),this.data.set(g,x),this},incData:function(g,x){return this.data||(this.data=new a(this)),this.data.inc(g,x),this},toggleData:function(g){return this.data||(this.data=new a(this)),this.data.toggle(g),this},getData:function(g){return this.data||(this.data=new a(this)),this.data.get(g)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(g){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&g.id)},getIndexList:function(){for(var g=this,x=this.parentContainer,y=[];x&&(y.unshift(x.getIndex(g)),g=x,x.parentContainer);)x=x.parentContainer;return y.unshift(this.displayList.getIndex(g)),y},addChildCallback:function(g){g.displayList&&g.displayList!==this&&g.removeFromDisplayList(),g.displayList||(this.queueDepthSort(),g.displayList=this,g.emit(n.ADDED_TO_SCENE,g,this.scene),this.events.emit(f.ADDED_TO_SCENE,g,this.scene))},removeChildCallback:function(g){this.queueDepthSort(),g.displayList=null,g.emit(n.REMOVED_FROM_SCENE,g,this.scene),this.events.emit(f.REMOVED_FROM_SCENE,g,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(v(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(g,x){return g._depth-x._depth},getChildren:function(){return this.list},destroy:function(){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var g=this.list.length;g--;)this.list[g].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(15),r=t(450),a=t(110),o=t(452),n=t(1075),u=new e({Extends:s,Mixins:[l.Depth,l.Mask,l.Pipeline,l.Transform,l.Visible,n],initialize:function(f,v,m,g){if(s.call(this,f,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],m!==null&&(typeof m=="object"||Array.isArray(m))&&(g=m,m=null),this.setTexture(v,m),this.initPipeline(),this.emitters=new a(this),this.wells=new a(this),g){Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)this.createEmitter(g[x])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(h,f){return this.texture=this.scene.sys.textures.get(h),this.setFrame(f)},setFrame:function(h){this.frame=this.texture.get(h);var f=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),v=[];return f.forEach(function(m){v.push(m.name)}),this.frameNames=v,this.defaultFrame=this.frame,this},setEmitterFrames:function(h,f){Array.isArray(h)||(h=[h]);var v=f.frames;v.length=0;for(var m=0;m<h.length;m++){var g=h[m];this.frameNames.indexOf(g)!==-1&&v.push(this.texture.get(g))}return v.length>0?f.defaultFrame=v[0]:f.defaultFrame=this.defaultFrame,this},addEmitter:function(h){return this.emitters.add(h)},createEmitter:function(h){return this.addEmitter(new o(this,h))},removeEmitter:function(h){return this.emitters.remove(h,!0)},addGravityWell:function(h){return this.wells.add(h)},createGravityWell:function(h){return this.addGravityWell(new r(h))},emitParticle:function(h,f,v){for(var m=this.emitters.list,g=0;g<m.length;g++){var x=m[g];x.active&&x.emitParticle(h,f,v)}return this},emitParticleAt:function(h,f,v){return this.emitParticle(v,h,f)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(h,f){f*=this.timeScale;for(var v=this.emitters.list,m=0;m<v.length;m++){var g=v[m];g.active&&g.preUpdate(h,f)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),l=t(133),s=t(31),r=t(0),a=t(11),o=t(33),n=t(109),u=t(15),h=t(1),f=t(92),v=t(1079),m=t(141),g=t(12),x=t(222),y=new r({Extends:u,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,v],initialize:function(S,E,C,A,P,R,M){E===void 0&&(E=0),C===void 0&&(C=0),A===void 0&&(A=32),P===void 0&&(P=32),u.call(this,S,"RenderTexture"),this.renderer=S.sys.renderer,this.textureManager=S.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,R===void 0?(this.canvas=s.create2D(this,A,P),this.texture=S.sys.textures.addCanvas(x(),this.canvas),this.frame=this.texture.get()):(this.texture=S.sys.textures.get(R),this.frame=this.texture.get(M),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new l(0,0,A,P),this.renderTarget=null;var L=this.renderer;L?L.type===o.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new m(L,A,P,1,0,!1)):L.type===o.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=h,this.camera.setScene(S),this.setPosition(E,C),R===void 0&&this.setSize(A,P),this.setOrigin(0,0),this.initPipeline(f.SINGLE_PIPELINE)},setSize:function(T,S){return this.resize(T,S)},resize:function(T,S){S===void 0&&(S=T);var E=this.frame;if(T!==this.width||S!==this.height){if(E.name==="__BASE"){this.canvas.width=T,this.canvas.height=S,this.texture.width=T,this.texture.height=S;var C=this.renderTarget;C&&(C.resize(T,S),E.glTexture=C.texture,E.source.isRenderTexture=!0,E.source.isGLTexture=!0,E.source.glTexture=C.texture),this.camera.setSize(T,S),E.source.width=T,E.source.height=S,E.setSize(T,S),this.width=T,this.height=S}}else{var A=this.texture.getSourceImage();E.cutX+T>A.width&&(T=A.width-E.cutX),E.cutY+S>A.height&&(S=A.height-E.cutY),E.setSize(T,S,E.cutX,E.cutY)}this.updateDisplayOrigin();var P=this.input;return P&&!P.customHitArea&&(P.hitArea.width=T,P.hitArea.height=S),this},setGlobalTint:function(T){return this.globalTint=T,this},setGlobalAlpha:function(T){return this.globalAlpha=T,this},saveTexture:function(T){return this.textureManager.renameTexture(this.texture.key,T),this._saved=!0,this.texture},fill:function(T,S,E,C,A,P){var R=this.frame,M=this.camera,L=this.renderer;S===void 0&&(S=1),E===void 0&&(E=0),C===void 0&&(C=0),A===void 0&&(A=R.cutWidth),P===void 0&&(P=R.cutHeight);var O=(T>>16&255)/255,I=(T>>8&255)/255,w=(T&255)/255,G=this.renderTarget;if(M.preRender(),G){G.bind(!0);var V=this.pipeline;V.manager.set(V);var X=G.width,W=G.height,D=L.width,F=L.height,B=D/X,b=F/W;V.drawFillRect(E*B,C*b,A*B,P*b,g.getTintFromFloats(w,I,O,1),S),G.unbind(!0)}else{var z=this.context;L.setContext(z),z.fillStyle="rgba("+O+","+I+","+w+","+S+")",z.fillRect(E+R.cutX,C+R.cutY,A,P),L.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var T=this.renderTarget;if(T)T.clear();else{var S=this.context;S.save(),S.setTransform(1,0,0,1,0,0),S.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),S.restore()}this.dirty=!1}return this},erase:function(T,S,E){return this._eraseMode=!0,this.draw(T,S,E,1,16777215),this._eraseMode=!1,this},draw:function(T,S,E,C,A){return this.beginDraw(),this.batchDraw(T,S,E,C,A),this.endDraw(),this},drawFrame:function(T,S,E,C,A,P){return this.beginDraw(),this.batchDrawFrame(T,S,E,C,A,P),this.endDraw(),this},beginDraw:function(){var T=this.camera,S=this.renderer,E=this.renderTarget;return T.preRender(),E?S.beginCapture(E.width,E.height):S.setContext(this.context),this},batchDraw:function(T,S,E,C,A){return C===void 0&&(C=this.globalAlpha),A===void 0?A=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):A=(A>>16)+(A&65280)+((A&255)<<16),Array.isArray(T)||(T=[T]),this.batchList(T,S,E,C,A),this},batchDrawFrame:function(T,S,E,C,A,P){E===void 0&&(E=0),C===void 0&&(C=0),A===void 0&&(A=this.globalAlpha),P===void 0?P=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):P=(P>>16)+(P&65280)+((P&255)<<16);var R=this.textureManager.getFrame(T,S);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,E,C,P,A,this.camera.matrix,null):this.batchTextureFrame(R,E+this.frame.cutX,C+this.frame.cutY,A,P)),this},endDraw:function(T){T===void 0&&(T=this._eraseMode);var S=this.renderer,E=this.renderTarget;if(E){var C=S.endCapture(),A=S.pipelines.setUtility();A.blitFrame(C,E,1,!1,!1,T),S.resetScissor(),S.resetViewport()}else S.setContext();return this.dirty=!0,this},batchList:function(T,S,E,C,A){for(var P=0;P<T.length;P++){var R=T[P];!R||R===this||(R.renderWebGL||R.renderCanvas?this.drawGameObject(R,S,E):R.isParent||R.list?this.batchGroup(R.getChildren(),S,E):typeof R=="string"?this.batchTextureFrameKey(R,null,S,E,C,A):R instanceof n?this.batchTextureFrame(R,S,E,C,A):Array.isArray(R)&&this.batchList(R,S,E,C,A))}},batchGroup:function(T,S,E){S===void 0&&(S=0),E===void 0&&(E=0),S+=this.frame.cutX,E+=this.frame.cutY;for(var C=0;C<T.length;C++){var A=T[C];if(A.willRender(this.camera)){var P=A.x+S,R=A.y+E;this.drawGameObject(A,P,R)}}},batchGameObjectWebGL:function(T,S,E){S===void 0&&(S=T.x),E===void 0&&(E=T.y);var C=T.x,A=T.y;T.setPosition(S+this.frame.cutX,E+this.frame.cutY),T.renderDirect?T.renderDirect(this.renderer,T,this.camera):T.renderWebGL(this.renderer,T,this.camera),T.setPosition(C,A)},batchGameObjectCanvas:function(T,S,E){S===void 0&&(S=T.x),E===void 0&&(E=T.y);var C=T.x,A=T.y;if(this._eraseMode){var P=T.blendMode;T.blendMode=e.ERASE}T.setPosition(S+this.frame.cutX,E+this.frame.cutY),T.renderCanvas(this.renderer,T,this.camera,null),T.setPosition(C,A),this._eraseMode&&(T.blendMode=P)},batchTextureFrameKey:function(T,S,E,C,A,P){var R=this.textureManager.getFrame(T,S);R&&this.batchTextureFrame(R,E,C,A,P)},batchTextureFrame:function(T,S,E,C,A){S===void 0&&(S=0),E===void 0&&(E=0),S+=this.frame.cutX,E+=this.frame.cutY;var P=this.renderTarget;if(P)this.pipeline.batchTextureFrame(T,S,E,A,C,this.camera.matrix,null);else{var R=this.context,M=T.canvasData,L=T.source.image,O=this.camera.matrix;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=C,O.setToContext(R),R.drawImage(L,M.x,M.y,M.width,M.height,S,E,M.width,M.height),R.restore()}},snapshotArea:function(T,S,E,C,A,P,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,A,!1,T,S,E,C,P,R):this.renderer.snapshotCanvas(this.canvas,A,!1,T,S,E,C,P,R),this},snapshot:function(T,S,E){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,0,0,this.width,this.height,S,E):this.renderer.snapshotCanvas(this.canvas,T,!1,0,0,this.width,this.height,S,E),this},snapshotPixel:function(T,S,E){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!0,T,S):this.renderer.snapshotCanvas(this.canvas,E,!0,T,S),this},preDestroy:function(){this._saved||(s.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});i.exports=y},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var l=Math.random()*16|0,s=e==="x"?l:l&3|8;return s.toString(16)})};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),l=t(0),s=t(11),r=t(15),a=t(92),o=t(1085),n=t(3),u=new l({Extends:r,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Flip,s.Mask,s.Pipeline,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,o],initialize:function(f,v,m,g,x,y,T,S,E){g===void 0&&(g="__DEFAULT"),y===void 0&&(y=2),T===void 0&&(T=!0),r.call(this,f,"Rope"),this.anims=new e(this),this.points=y,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=g==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(g,x),this.setPosition(v,m),this.setSizeToFrame(),this.initPipeline(a.ROPE_PIPELINE),Array.isArray(y)&&this.resizeArrays(y.length),this.setPoints(y,S,E),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(h,f){var v=this.anims.currentFrame;this.anims.update(h,f),this.anims.currentFrame!==v&&(this.updateUVs(),this.updateVertices())},play:function(h,f,v){return this.anims.play(h,f,v),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(h,f,v){return h===void 0&&(h=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(h,f,v))},setVertical:function(h,f,v){return h===void 0&&(h=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(h,f,v)):this},setTintFill:function(h){return h===void 0&&(h=!1),this.tintFill=h,this},setAlphas:function(h,f){var v=this.points.length;if(v<1)return this;var m=this.alphas;h===void 0?h=[1]:!Array.isArray(h)&&f===void 0&&(h=[h]);var g,x=0;if(f!==void 0)for(g=0;g<v;g++)x=g*2,m[x]=h,m[x+1]=f;else if(h.length===v)for(g=0;g<v;g++)x=g*2,m[x]=h[g],m[x+1]=h[g];else{var y=h[0];for(g=0;g<v;g++)x=g*2,h.length>x&&(y=h[x]),m[x]=y,h.length>x+1&&(y=h[x+1]),m[x+1]=y}return this},setColors:function(h){var f=this.points.length;if(f<1)return this;var v=this.colors;h===void 0?h=[16777215]:Array.isArray(h)||(h=[h]);var m,g=0;if(h.length===f)for(m=0;m<f;m++)g=m*2,v[g]=h[m],v[g+1]=h[m];else{var x=h[0];for(m=0;m<f;m++)g=m*2,h.length>g&&(x=h[g]),v[g]=x,h.length>g+1&&(x=h[g+1]),v[g+1]=x}return this},setPoints:function(h,f,v){if(h===void 0&&(h=2),typeof h=="number"){var m=h;m<2&&(m=2),h=[];var g,x,y;if(this.horizontal)for(y=-this.frame.halfWidth,x=this.frame.width/(m-1),g=0;g<m;g++)h.push({x:y+g*x,y:0});else for(y=-this.frame.halfHeight,x=this.frame.height/(m-1),g=0;g<m;g++)h.push({x:0,y:y+g*x})}var T=h.length,S=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(h.unshift({x:0,y:0}),T++),S!==T&&this.resizeArrays(T),this.points=h,this.updateUVs(),f!=null&&this.setColors(f),v!=null&&this.setAlphas(v),this)},updateUVs:function(){for(var h=this.uv,f=this.points.length,v=this.frame.u0,m=this.frame.v0,g=this.frame.u1,x=this.frame.v1,y=(g-v)/(f-1),T=(x-m)/(f-1),S=0;S<f;S++){var E=S*4,C,A,P,R;this.horizontal?(this._flipX?(C=g-S*y,P=g-S*y):(C=v+S*y,P=v+S*y),this._flipY?(A=x,R=m):(A=m,R=x)):(this._flipX?(C=v,P=g):(C=g,P=v),this._flipY?(A=x-S*T,R=x-S*T):(A=m+S*T,R=m+S*T)),h[E+0]=C,h[E+1]=A,h[E+2]=P,h[E+3]=R}return this},resizeArrays:function(h){var f=this.colors,v=this.alphas;this.vertices=new Float32Array(h*4),this.uv=new Float32Array(h*4),f=new Uint32Array(h*2),v=new Float32Array(h*2);for(var m=0;m<h*2;m++)f[m]=16777215,v[m]=1;return this.colors=f,this.alphas=v,this.dirty=!0,this},updateVertices:function(){var h=this._perp,f=this.points,v=this.vertices,m=f.length;if(this.dirty=!1,!(m<1)){for(var g,x=f[0],y=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<m;T++){var S=f[T],E=T*4;T<m-1?g=f[T+1]:g=S,h.x=g.y-x.y,h.y=-(g.x-x.x);var C=h.length();h.x/=C,h.y/=C,h.x*=y,h.y*=y,v[E]=S.x+h.x,v[E+1]=S.y+h.y,v[E+2]=S.x-h.x,v[E+3]=S.y-h.y,x=S}return this}},setDebug:function(h,f){return this.debugGraphic=h,!h&&!f?this.debugCallback=null:f?this.debugCallback=f:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(h,f,v){var m=h.debugGraphic,g=v[0],x=v[1],y=v[2],T=v[3];m.lineBetween(g,x,y,T);for(var S=4;S<f;S+=4){var E=v[S+0],C=v[S+1],A=v[S+2],P=v[S+3];m.lineBetween(g,x,E,C),m.lineBetween(y,T,A,P),m.lineBetween(y,T,E,C),m.lineBetween(E,C,A,P),g=E,x=C,y=A,T=P}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(h){return this._flipX=h,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(h){return this._flipY=h,this.updateUVs()}}});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),l=t(31),s=t(0),r=t(11),a=t(22),o=t(15),n=t(458),u=t(6),h=t(202),f=t(1088),v=t(459),m=new s({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,f],initialize:function(x,y,T,S,E){y===void 0&&(y=0),T===void 0&&(T=0),o.call(this,x,"Text"),this.renderer=x.sys.renderer,this.setPosition(y,T),this.setOrigin(0,0),this.initPipeline(),this.canvas=l.create(this),this.context=this.canvas.getContext("2d"),this.style=new v(this,E),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=x.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),E&&E.padding&&this.setPadding(E.padding),E&&E.lineSpacing&&this.setLineSpacing(E.lineSpacing),x.sys.game.events.on(a.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",e(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(g){var x=this.style;if(x.wordWrapCallback){var y=x.wordWrapCallback.call(x.wordWrapCallbackScope,g,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return x.wordWrapWidth?x.wordWrapUseAdvanced?this.advancedWordWrap(g,this.context,this.style.wordWrapWidth):this.basicWordWrap(g,this.context,this.style.wordWrapWidth):g},advancedWordWrap:function(g,x,y){for(var T="",S=g.replace(/ +/gi," ").split(this.splitRegExp),E=S.length,C=0;C<E;C++){var A=S[C],P="";A=A.replace(/^ *|\s*$/gi,"");var R=x.measureText(A).width;if(R<y){T+=A+`
`;continue}for(var M=y,L=A.split(" "),O=0;O<L.length;O++){var I=L[O],w=I+" ",G=x.measureText(w).width;if(G>M){if(O===0){for(var V=w;V.length&&(V=V.slice(0,-1),G=x.measureText(V).width,!(G<=M)););if(!V.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var X=I.substr(V.length);L[O]=X,P+=V}var W=L[O].length?O:O+1,D=L.slice(W).join(" ").replace(/[ \n]*$/gi,"");S[C+1]=D+" "+(S[C+1]||""),E=S.length;break}else P+=w,M-=G}T+=P.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(g,x,y){for(var T="",S=g.split(this.splitRegExp),E=S.length-1,C=x.measureText(" ").width,A=0;A<=E;A++){for(var P=y,R=S[A].split(" "),M=R.length-1,L=0;L<=M;L++){var O=R[L],I=x.measureText(O).width,w=I;L<M&&(w+=C),w>P&&L>0&&(T+=`
`,P=y),T+=O,L<M?(T+=" ",P-=w):P-=I}A<E&&(T+=`
`)}return T},getWrappedText:function(g){g===void 0&&(g=this._text),this.style.syncFont(this.canvas,this.context);var x=this.runWordWrap(g);return x.split(this.splitRegExp)},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this._text&&(this._text=g.toString(),this.updateText()),this},setStyle:function(g){return this.style.setStyle(g)},setFont:function(g){return this.style.setFont(g)},setFontFamily:function(g){return this.style.setFontFamily(g)},setFontSize:function(g){return this.style.setFontSize(g)},setFontStyle:function(g){return this.style.setFontStyle(g)},setFixedSize:function(g,x){return this.style.setFixedSize(g,x)},setBackgroundColor:function(g){return this.style.setBackgroundColor(g)},setFill:function(g){return this.style.setFill(g)},setColor:function(g){return this.style.setColor(g)},setStroke:function(g,x){return this.style.setStroke(g,x)},setShadow:function(g,x,y,T,S,E){return this.style.setShadow(g,x,y,T,S,E)},setShadowOffset:function(g,x){return this.style.setShadowOffset(g,x)},setShadowColor:function(g){return this.style.setShadowColor(g)},setShadowBlur:function(g){return this.style.setShadowBlur(g)},setShadowStroke:function(g){return this.style.setShadowStroke(g)},setShadowFill:function(g){return this.style.setShadowFill(g)},setWordWrapWidth:function(g,x){return this.style.setWordWrapWidth(g,x)},setWordWrapCallback:function(g,x){return this.style.setWordWrapCallback(g,x)},setAlign:function(g){return this.style.setAlign(g)},setResolution:function(g){return this.style.setResolution(g)},setLineSpacing:function(g){return this.lineSpacing=g,this.updateText()},setPadding:function(g,x,y,T){if(typeof g=="object"){var S=g,E=u(S,"x",null);E!==null?(g=E,y=E):(g=u(S,"left",0),y=u(S,"right",g));var C=u(S,"y",null);C!==null?(x=C,T=C):(x=u(S,"top",0),T=u(S,"bottom",x))}else g===void 0&&(g=0),x===void 0&&(x=g),y===void 0&&(y=g),T===void 0&&(T=x);return this.padding.left=g,this.padding.top=x,this.padding.right=y,this.padding.bottom=T,this.updateText()},setMaxLines:function(g){return this.style.setMaxLines(g)},updateText:function(){var g=this.canvas,x=this.context,y=this.style,T=y.resolution,S=y.metrics;y.syncFont(g,x);var E=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(E=this.runWordWrap(this._text));var C=E.split(this.splitRegExp),A=n(this,S,C),P=this.padding,R;y.fixedWidth===0?(this.width=A.width+P.left+P.right,R=A.width):(this.width=y.fixedWidth,R=this.width-P.left-P.right,R<A.width&&(R=A.width)),y.fixedHeight===0?this.height=A.height+P.top+P.bottom:this.height=y.fixedHeight;var M=this.width,L=this.height;this.updateDisplayOrigin(),M*=T,L*=T,M=Math.max(M,1),L=Math.max(L,1),g.width!==M||g.height!==L?(g.width=M,g.height=L,this.frame.setSize(M,L),y.syncFont(g,x)):x.clearRect(0,0,M,L),x.save(),x.scale(T,T),y.backgroundColor&&(x.fillStyle=y.backgroundColor,x.fillRect(0,0,M,L)),y.syncStyle(g,x),x.textBaseline="alphabetic",x.translate(P.left,P.top);for(var O,I,w=0;w<A.lines;w++){if(O=y.strokeThickness/2,I=y.strokeThickness/2+w*A.lineHeight+S.ascent,w>0&&(I+=A.lineSpacing*w),y.rtl)O=M-O;else if(y.align==="right")O+=R-A.lineWidths[w];else if(y.align==="center")O+=(R-A.lineWidths[w])/2;else if(y.align==="justify"){var G=.85;if(A.lineWidths[w]/A.width>=G){var V=A.width-A.lineWidths[w],X=x.measureText(" ").width,W=C[w].trim(),D=W.split(" ");V+=(C[w].length-W.length)*X;for(var F=Math.floor(V/X),B=0;F>0;)D[B]+=" ",B=(B+1)%(D.length-1||1),--F;C[w]=D.join(" ")}}this.autoRound&&(O=Math.round(O),I=Math.round(I)),y.strokeThickness&&(this.style.syncShadow(x,y.shadowStroke),x.strokeText(C[w],O,I)),y.color&&(this.style.syncShadow(x,y.shadowFill),x.fillText(C[w],O,I))}x.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(g,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var b=this.input;return b&&!b.customHitArea&&(b.hitArea.width=this.width,b.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(g){this.setText(g)}},toJSON:function(){var g=r.ToJSON(this),x={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return g.data=x,g},preDestroy:function(){this.style.rtl&&h(this.canvas),l.remove(this.canvas),this.texture.destroy()}});i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),l=t(0),s=t(11),r=t(22),a=t(15),o=t(361),n=t(192),u=t(1091),h=t(3),f=8,v=new l({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,u],initialize:function(g,x,y,T,S,E,C){var A=g.sys.renderer;a.call(this,g,"TileSprite");var P=g.sys.textures.get(E),R=P.get(C);!T||!S?(T=R.width,S=R.height):(T=Math.floor(T),S=Math.floor(S)),this._tilePosition=new h,this._tileScale=new h(1,1),this.dirty=!1,this.renderer=A,this.canvas=e.create(this,T,S),this.context=this.canvas.getContext("2d"),this.displayTexture=P,this.displayFrame=R,this._crop=this.resetCropObject(),this.texture=g.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=o(R.width),this.potHeight=o(R.height),this.fillCanvas=e.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(x,y),this.setSize(T,S),this.setFrame(C),this.setOriginFromFrame(),this.initPipeline(),g.sys.game.events.on(r.CONTEXT_RESTORED,function(M){if(!!M){var L=M.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=M.createTexture2D(0,L.LINEAR,L.LINEAR,L.REPEAT,L.REPEAT,L.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}},this)},setTexture:function(m,g){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(g)},setFrame:function(m){var g=this.displayTexture.get(m);return this.potWidth=o(g.width),this.potHeight=o(g.height),this.canvas.width=0,!g.cutWidth||!g.cutHeight?this.renderFlags&=~f:this.renderFlags|=f,this.displayFrame=g,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(m,g){return m!==void 0&&(this.tilePositionX=m),g!==void 0&&(this.tilePositionY=g),this},setTileScale:function(m,g){return m===void 0&&(m=this.tileScaleX),g===void 0&&(g=m),this.tileScaleX=m,this.tileScaleY=g,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var g=this.fillContext,x=this.fillCanvas,y=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=m.cutWidth,T=m.cutHeight),g.clearRect(0,0,y,T),x.width=y,x.height=T,g.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,y,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(x,this.fillPattern):this.fillPattern=g.createPattern(x,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var g=this.context;this.scene.sys.game.config.antialias||n.disable(g);var x=this._tileScale.x,y=this._tileScale.y,T=this._tilePosition.x,S=this._tilePosition.y;g.clearRect(0,0,this.width,this.height),g.save(),g.scale(x,y),g.translate(-T,-S),g.fillStyle=this.fillPattern,g.fillRect(T,S,this.width/x,this.height/y),g.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),e.remove(this.canvas),e.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(m){this._tilePosition.x=m,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(m){this._tilePosition.y=m,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(m){this._tileScale.x=m,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(m){this._tileScale.y=m,this.dirty=!0}}});i.exports=v},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(18),s=t(11),r=t(75),a=t(22),o=t(51),n=t(15),u=t(70),h=t(222),f=t(1094),v=t(14),m=new e({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,f],initialize:function(x,y,T,S){n.call(this,x,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=h(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=v.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(y,T),this.initPipeline(),S&&this.changeSource(S,!1);var E=x.sys.game.events;E.on(a.PAUSE,this.globalPause,this),E.on(a.RESUME,this.globalResume,this);var C=x.sys.sound;C&&C.on(u.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(g,x,y){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var T=this.video;if(!T)return console.warn("Video not loaded"),this;g===void 0&&(g=T.loop);var S=this.scene.sys.sound;S&&S.mute&&this.setMute(!0),isNaN(x)||(this._markerIn=x),!isNaN(y)&&y>x&&(this._markerOut=y),T.loop=g;var E=this._callbacks,C=T.play();return C!==void 0?C.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(T.addEventListener("playing",E.play,!0),T.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),T.addEventListener("ended",E.end,!0),T.addEventListener("timeupdate",E.time,!0),T.addEventListener("seeking",E.seeking,!0),T.addEventListener("seeked",E.seeked,!0),this},changeSource:function(g,x,y,T,S){x===void 0&&(x=!0);var E=this.video;E&&this.stop();var C=this.scene.sys.cache.video.get(g);return C?(this.video=C,this._cacheKey=g,this._codePaused=C.paused,this._codeMuted=C.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,C,C.videoWidth,C.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,C.videoWidth,C.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,C.videoWidth,C.videoHeight)):this.updateTexture(),C.currentTime=0,this._lastUpdate=0,x&&this.play(y,T,S)):this.video=null,this},addMarker:function(g,x,y){return!isNaN(x)&&x>=0&&!isNaN(y)&&(this.markers[g]=[x,y]),this},playMarker:function(g,x){var y=this.markers[g];return y&&this.play(x,y[0],y[1]),this},removeMarker:function(g){return delete this.markers[g],this},snapshot:function(g,x){return g===void 0&&(g=this.width),x===void 0&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,g,x)},snapshotArea:function(g,x,y,T,S,E){g===void 0&&(g=0),x===void 0&&(x=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height),S===void 0&&(S=y),E===void 0&&(E=T);var C=this.video,A=this.snapshotTexture;return A?(A.setSize(S,E),C&&A.context.drawImage(C,g,x,y,T,0,0,S,E)):(A=this.scene.sys.textures.createCanvas(h(),S,E),this.snapshotTexture=A,C&&A.context.drawImage(C,g,x,y,T,0,0,S,E)),A.update()},saveSnapshotTexture:function(g){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,g):this.snapshotTexture=this.scene.sys.textures.createCanvas(g,this.width,this.height),this.snapshotTexture},loadURL:function(g,x,y){y===void 0&&(y=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var T=document.createElement("video");return T.controls=!1,y&&(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")),T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.addEventListener("error",this._callbacks.error,!0),T.src=g,T.load(),this.video=T,this},loadMediaStream:function(g,x,y){y===void 0&&(y=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var T=document.createElement("video");T.controls=!1,y&&(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")),T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.addEventListener("error",this._callbacks.error,!0);try{T.srcObject=g}catch{T.src=window.URL.createObjectURL(g)}return T.load(),this.video=T,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(g){this.scene.sys.input.once(o.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(r.VIDEO_ERROR,this,g)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(g){this.stop(),this.emit(r.VIDEO_ERROR,this,g)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(r.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(r.VIDEO_PLAY,this)},completeHandler:function(){this.emit(r.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(r.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var g=this.video;if(g){var x=g.currentTime;x!==this._lastUpdate&&(this._lastUpdate=x,this.updateTexture(),x>=this._markerOut&&(g.loop?(g.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=x,this.emit(r.VIDEO_LOOP,this)):(this.emit(r.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(r.VIDEO_TIMEOUT,this))},updateTexture:function(){var g=this.video,x=g.videoWidth,y=g.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,g,x,y),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,x,y),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,x,y);else{var T=this.videoTextureSource;T.source!==g&&(T.source=g,T.width=x,T.height=y),T.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(g){var x=this.video;if(x){var y=x.duration;if(y!==1/0&&!isNaN(y)){var T=y*g;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(g){var x=this.video;if(x){if(typeof g=="string"){var y=g[0],T=parseFloat(g.substr(1));y==="+"?g=x.currentTime+T:y==="-"&&(g=x.currentTime-T)}x.currentTime=g,this._lastUpdate=g}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(r.VIDEO_SEEKED,this);var g=this.video;g&&this.updateTexture()},getProgress:function(){var g=this.video;if(g){var x=g.currentTime,y=g.duration;if(y!==1/0&&!isNaN(y))return x/y}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(g){g===void 0&&(g=!0),this._codeMuted=g;var x=this.video;return x&&(x.muted=this._systemMuted?!0:g),this},isMuted:function(){return this._codeMuted},globalMute:function(g,x){this._systemMuted=x;var y=this.video;y&&(y.muted=this._codeMuted?!0:x)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(g){g===void 0&&(g=!0);var x=this.video;return this._codePaused=g,x&&(g?x.paused||x.pause():g||x.paused&&!this._systemPaused&&x.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(g){return g===void 0&&(g=1),this.video&&(this.video.volume=l(g,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(g){return this.video&&(this.video.playbackRate=g),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(g){return g===void 0&&(g=!0),this.video&&(this.video.loop=g),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(g,x){return x===void 0&&(x=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,g),this._key=g,this.flipY=x,this.videoTextureSource&&this.videoTextureSource.setFlipY(x),this.videoTexture},stop:function(){var g=this.video;if(g){var x=this._callbacks;for(var y in x)g.removeEventListener(y,x[y],!0);g.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var g=this.video;if(!!g){for(g.parentNode&&g.parentNode.removeChild(g);g.hasChildNodes();)g.removeChild(g.firstChild);g.removeAttribute("autoplay"),g.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var g=this.scene.sys.game.events;g.off(a.PAUSE,this.globalPause,this),g.off(a.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(u.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(228),s=t(470),r=t(56),a=new e({initialize:function(n){this.type=r.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(o,n){return l(this,o,n)},setTo:function(o){if(this.area=0,this.points=[],typeof o=="string"&&(o=o.split(" ")),!Array.isArray(o))return this;for(var n,u=Number.MAX_VALUE,h=0;h<o.length;h++)n={x:0,y:0},typeof o[h]=="number"||typeof o[h]=="string"?(n.x=parseFloat(o[h]),n.y=parseFloat(o[h+1]),h++):Array.isArray(o[h])?(n.x=o[h][0],n.y=o[h][1]):(n.x=o[h].x,n.y=o[h].y),this.points.push(n),n.y<u&&(u=n.y);return this.calculateArea(u),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var o=0,n,u,h=0;h<this.points.length-1;h++)n=this.points[h],u=this.points[h+1],o+=(u.x-n.x)*(n.y+u.y);return n=this.points[0],u=this.points[this.points.length-1],o+=(n.x-u.x)*(u.y+n.y),this.area=-o*.5,this.area},getPoints:function(o,n,u){return s(this,o,n,u)}});i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){for(var r=!1,a=-1,o=e.points.length-1;++a<e.points.length;o=a){var n=e.points[a].x,u=e.points[a].y,h=e.points[o].x,f=e.points[o].y;(u<=s&&s<f||f<=s&&s<u)&&l<(h-n)*(s-u)/(f-u)+n&&(r=!r)}return r};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(15),r=t(2),a=t(17),o=t(478),n=t(1176),u=t(25),h=new e({Extends:s,Mixins:[l.ComputedSize,l.Depth,l.GetBounds,l.Mask,l.Origin,l.ScrollFactor,l.Transform,l.Visible,n],initialize:function(v,m,g,x,y,T,S,E){g===void 0&&(g=0),x===void 0&&(x=0),y===void 0&&(y=128),T===void 0&&(T=128),s.call(this,v,"Shader"),this.blendMode=-1,this.shader;var C=v.sys.renderer;this.renderer=C,this.gl=C.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=C.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=C.width,this._rendererHeight=C.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(g,x),this.setSize(y,T),this.setOrigin(.5,.5),this.setShader(m,S,E)},willRender:function(f){return this.renderToTexture?!0:!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setRenderToTexture:function(f,v){if(v===void 0&&(v=!1),!this.renderToTexture){var m=this.width,g=this.height,x=this.renderer;this.glTexture=x.createTextureFromSource(null,m,g,0),this.glTexture.flipY=v,this.framebuffer=x.createFramebuffer(m,g,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=g,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),f&&(this.texture=this.scene.sys.textures.addGLTexture(f,this.glTexture,m,g))}return this.shader&&(x.pipelines.clear(),this.load(),this.flush(),x.pipelines.rebind()),this},setShader:function(f,v,m){if(v===void 0&&(v=[]),typeof f=="string"){var g=this.scene.sys.cache.shader;if(!g.has(f))return console.warn("Shader missing: "+f),this;this.shader=g.get(f)}else this.shader=f;var x=this.gl,y=this.renderer;this.program&&x.deleteProgram(this.program);var T=y.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);x.uniformMatrix4fv(x.getUniformLocation(T,"uViewMatrix"),!1,this.viewMatrix),x.uniformMatrix4fv(x.getUniformLocation(T,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(T,"uResolution"),this.width,this.height),this.program=T;var S=new Date,E={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[S.getFullYear(),S.getMonth(),S.getDate(),S.getHours()*60*60+S.getMinutes()*60+S.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=a(!0,{},this.shader.uniforms,E):this.uniforms=E;for(var C=0;C<4;C++)v[C]&&this.setSampler2D("iChannel"+C,v[C],C,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(f){return this.pointer=f,this},projOrtho:function(f,v,m,g){var x=-1e3,y=1e3,T=1/(f-v),S=1/(m-g),E=1/(x-y),C=this.projectionMatrix;C[0]=-2*T,C[5]=-2*S,C[10]=2*E,C[12]=(f+v)*T,C[13]=(g+m)*S,C[14]=(y+x)*E;var A=this.program,P=this.gl,R=this.renderer;R.setProgram(A),P.uniformMatrix4fv(P.getUniformLocation(A,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=m},initUniforms:function(){var f=this.gl,v=this.renderer.glFuncMap,m=this.program;this._textureCount=0;for(var g in this.uniforms){var x=this.uniforms[g],y=x.type,T=v[y];x.uniformLocation=f.getUniformLocation(m,g),y!=="sampler2D"&&(x.glMatrix=T.matrix,x.glValueLength=T.length,x.glFunc=T.func)}},setSampler2DBuffer:function(f,v,m,g,x,y){x===void 0&&(x=0),y===void 0&&(y={});var T=this.uniforms[f];return T.value=v,y.width=m,y.height=g,T.textureData=y,this._textureCount=x,this.initSampler2D(T),this},setSampler2D:function(f,v,m,g){m===void 0&&(m=0);var x=this.scene.sys.textures;if(x.exists(v)){var y=x.getFrame(v);if(y.glTexture&&y.glTexture.isRenderTexture)return this.setSampler2DBuffer(f,y.glTexture,y.width,y.height,m,g);var T=this.uniforms[f],S=y.source;T.textureKey=v,T.source=S.image,T.value=y.glTexture,S.isGLTexture&&(g||(g={}),g.width=S.width,g.height=S.height),g&&(T.textureData=g),this._textureCount=m,this.initSampler2D(T)}return this},setUniform:function(f,v){return o(this.uniforms,f,v),this},getUniform:function(f){return r(this.uniforms,f,null)},setChannel0:function(f,v){return this.setSampler2D("iChannel0",f,0,v)},setChannel1:function(f,v){return this.setSampler2D("iChannel1",f,1,v)},setChannel2:function(f,v){return this.setSampler2D("iChannel2",f,2,v)},setChannel3:function(f,v){return this.setSampler2D("iChannel3",f,3,v)},initSampler2D:function(f){if(!!f.value){var v=this.gl;v.activeTexture(v.TEXTURE0+this._textureCount),v.bindTexture(v.TEXTURE_2D,f.value);var m=f.textureData;if(m&&!f.value.isRenderTexture){var g=v[r(m,"magFilter","linear").toUpperCase()],x=v[r(m,"minFilter","linear").toUpperCase()],y=v[r(m,"wrapS","repeat").toUpperCase()],T=v[r(m,"wrapT","repeat").toUpperCase()],S=v[r(m,"format","rgba").toUpperCase()];if(m.repeat&&(y=v.REPEAT,T=v.REPEAT),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!!m.flipY),m.width){var E=r(m,"width",512),C=r(m,"height",2),A=r(m,"border",0);v.texImage2D(v.TEXTURE_2D,0,S,E,C,A,S,v.UNSIGNED_BYTE,null)}else v.texImage2D(v.TEXTURE_2D,0,S,v.RGBA,v.UNSIGNED_BYTE,f.source);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,g),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,x),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,y),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,T)}this.renderer.setProgram(this.program),v.uniform1i(f.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var f=this.gl,v=this.uniforms,m,g,x,y,T,S=0;for(var E in v)m=v[E],x=m.glFunc,g=m.glValueLength,y=m.uniformLocation,T=m.value,T!==null&&(g===1?m.glMatrix?x.call(f,y,m.transpose,T):x.call(f,y,T):g===2?x.call(f,y,T.x,T.y):g===3?x.call(f,y,T.x,T.y,T.z):g===4?x.call(f,y,T.x,T.y,T.z,T.w):m.type==="sampler2D"&&(f.activeTexture(f.TEXTURE0+S),f.bindTexture(f.TEXTURE_2D,T),f.uniform1i(y,S),S++))},load:function(f){var v=this.gl,m=this.width,g=this.height,x=this.renderer,y=this.program,T=this.viewMatrix;if(!this.renderToTexture){var S=-this._displayOriginX,E=-this._displayOriginY;T[0]=f[0],T[1]=f[1],T[4]=f[2],T[5]=f[3],T[8]=f[4],T[9]=f[5],T[12]=T[0]*S+T[4]*E,T[13]=T[1]*S+T[5]*E}v.useProgram(y),v.uniformMatrix4fv(v.getUniformLocation(y,"uViewMatrix"),!1,T),v.uniform2f(v.getUniformLocation(y,"uResolution"),this.width,this.height);var C=this.uniforms,A=C.resolution;A.value.x=m,A.value.y=g,C.time.value=x.game.loop.getDuration();var P=this.pointer;if(P){var R=C.mouse,M=P.x/m,L=1-P.y/g;R.value.x=M.toFixed(2),R.value.y=L.toFixed(2)}this.syncUniforms()},flush:function(){var f=this.width,v=this.height,m=this.program,g=this.gl,x=this.vertexBuffer,y=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(y.setFramebuffer(this.framebuffer),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT)),g.bindBuffer(g.ARRAY_BUFFER,x);var S=g.getAttribLocation(m,"inPosition");S!==-1&&(g.enableVertexAttribArray(S),g.vertexAttribPointer(S,2,g.FLOAT,!1,T,0));var E=this.vertexViewF32;E[3]=v,E[4]=f,E[5]=v,E[8]=f,E[9]=v,E[10]=f;var C=6;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,C*T)),g.drawArrays(g.TRIANGLES,0,C),this.renderToTexture&&y.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var f=this.gl;f.deleteProgram(this.program),f.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(36),r=t(116),a=t(15),o=t(479),n=t(480),u=t(19),h=t(69),f=t(1179),v=t(79),m=t(39),g=t(117),x=new e({Extends:a,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.Size,l.Texture,l.Transform,l.Visible,l.ScrollFactor,f],initialize:function(T,S,E,C,A,P,R,M,L,O,I,w){S===void 0&&(S=0),E===void 0&&(E=0),C===void 0&&(C="__WHITE"),a.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new h,this.viewPosition=new m,this.viewMatrix=new h,this.projectionMatrix=new h,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var G=T.sys.renderer;this.setPosition(S,E),this.setTexture(C,A),this.setSize(G.width,G.height),this.initPipeline(),this.setPerspective(G.width,G.height),P&&this.addVertices(P,R,M,L,O,I,w)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(y){return this.viewPosition.addScale(m.LEFT,y),this.dirtyCache[10]=1,this},panY:function(y){return this.viewPosition.y+=m.DOWN.y*y,this.dirtyCache[10]=1,this},panZ:function(y){return this.viewPosition.z+=y,this.dirtyCache[10]=1,this},setPerspective:function(y,T,S,E,C){return S===void 0&&(S=45),E===void 0&&(E=.01),C===void 0&&(C=1e3),this.projectionMatrix.perspective(s(S),y/T,E,C),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(y,T,S,E){return y===void 0&&(y=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),S===void 0&&(S=-1e3),E===void 0&&(E=1e3),this.projectionMatrix.ortho(-y,y,-T,T,S,E),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(y){y.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(y,T,S,E,C,A,P,R,M){var L=this.scene.sys.cache.obj.get(y);return L&&n(L,this,T,S,E,C,A,P,R,M),this},sortByDepth:function(y,T){return y.depth-T.depth},depthSort:function(){return v(this.faces,this.sortByDepth),this},addVertex:function(y,T,S,E,C,A,P){var R=new g(y,T,S,E,C,A,P);return this.vertices.push(R),R},addFace:function(y,T,S){var E=new r(y,T,S);return this.faces.push(E),this.dirtyCache[9]=-1,E},addVertices:function(y,T,S,E,C,A,P){var R=o(y,T,S,E,C,A,P);return R&&(this.faces=this.faces.concat(R.faces),this.vertices=this.vertices.concat(R.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(y){return this.faces[y]},getFaceAt:function(y,T,S){S===void 0&&(S=this.scene.sys.cameras.main);for(var E=u(this,S).calc,C=this.faces,A=[],P=0;P<C.length;P++){var R=C[P];R.contains(y,T,E)&&A.push(R)}return v(A,this.sortByDepth)},setDebug:function(y,T){return this.debugGraphic=y,!y&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var y=this.modelPosition,T=this.modelRotation,S=this.modelScale,E=this.dirtyCache,C=y.x,A=y.y,P=y.z,R=T.x,M=T.y,L=T.z,O=S.x,I=S.y,w=S.z,G=this.getFaceCount(),V=E[0],X=E[1],W=E[2],D=E[3],F=E[4],B=E[5],b=E[6],z=E[7],N=E[8],U=E[9];return E[0]=C,E[1]=A,E[2]=P,E[3]=R,E[4]=M,E[5]=L,E[6]=O,E[7]=I,E[8]=w,E[9]=G,V!==C||X!==A||W!==P||D!==R||F!==M||B!==L||b!==O||z!==I||N!==w||U!==G},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var y=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!y[10]&&!this.isDirty())){var T=this.width,S=this.height,E=this.viewMatrix,C=this.viewPosition;y[10]&&(E.identity(),E.translate(C),E.invert(),y[10]=0);var A=this.transformMatrix;A.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var P=C.z,R=this.faces,M=0;M<R.length;M++)R[M].transformCoordinatesLocal(A,T,S,P);this.depthSort()}},renderDebug:function(y,T){for(var S=y.debugGraphic,E=0;E<T.length;E++){var C=T[E],A=C.vertex1.tx,P=C.vertex1.ty,R=C.vertex2.tx,M=C.vertex2.ty,L=C.vertex3.tx,O=C.vertex3.ty;S.strokeTriangle(A,P,R,M,L,O)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});i.exports=x},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(50),l=function(s,r){return e(s.x,s.y,r.x,r.y)<=s.radius+r.radius};i.exports=l},function(i,d,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=t(233),s=function(r,a,o){if(o===void 0&&(o=[]),l(r,a)){var n=r.x1,u=r.y1,h=r.x2,f=r.y2,v=a.x,m=a.y,g=a.radius,x=h-n,y=f-u,T=n-v,S=u-m,E=x*x+y*y,C=2*(x*T+y*S),A=T*T+S*S-g*g,P=C*C-4*E*A,R,M;if(P===0){var L=-C/(2*E);R=n+L*x,M=u+L*y,L>=0&&L<=1&&o.push(new e(R,M))}else if(P>0){var O=(-C-Math.sqrt(P))/(2*E);R=n+O*x,M=u+O*y,O>=0&&O<=1&&o.push(new e(R,M));var I=(-C+Math.sqrt(P))/(2*E);R=n+I*x,M=u+I*y,I>=0&&I<=1&&o.push(new e(R,M))}}return o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),l=t(4),s=new l,r=function(a,o,n){if(n===void 0&&(n=s),e(o,a.x1,a.y1))return n.x=a.x1,n.y=a.y1,!0;if(e(o,a.x2,a.y2))return n.x=a.x2,n.y=a.y2,!0;var u=a.x2-a.x1,h=a.y2-a.y1,f=o.x-a.x1,v=o.y-a.y1,m=u*u+h*h,g=u,x=h;if(m>0){var y=(f*u+v*h)/m;g*=y,x*=y}n.x=a.x1+g,n.y=a.y1+x;var T=g*g+x*x;return T<=m&&g*u+x*h>=0&&e(o,n.x,n.y)};i.exports=r},function(i,d,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=t(96),s=t(488),r=function(a,o,n){if(n===void 0&&(n=[]),s(a,o))for(var u=o.getLineA(),h=o.getLineB(),f=o.getLineC(),v=o.getLineD(),m=[new e,new e,new e,new e],g=[l(u,a,m[0]),l(h,a,m[1]),l(f,a,m[2]),l(v,a,m[3])],x=0;x<4;x++)g[x]&&n.push(m[x]);return n};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s===void 0&&(s=!1),r===void 0&&(r=[]);for(var a=e.x3-e.x1,o=e.y3-e.y1,n=e.x2-e.x1,u=e.y2-e.y1,h=a*a+o*o,f=a*n+o*u,v=n*n+u*u,m=h*v-f*f,g=m===0?0:1/m,x,y,T,S,E,C,A=e.x1,P=e.y1,R=0;R<l.length&&(T=l[R].x-A,S=l[R].y-P,E=a*T+o*S,C=n*T+u*S,x=(v*E-f*C)*g,y=(h*C-f*E)*g,!(x>=0&&y>=0&&x+y<1&&(r.push({x:l[R].x,y:l[R].y}),s)));R++);return r};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=Math.cos(r),o=Math.sin(r),n=e.x1-l,u=e.y1-s;return e.x1=n*a-u*o+l,e.y1=n*o+u*a+s,n=e.x2-l,u=e.y2-s,e.x2=n*a-u*o+l,e.y2=n*o+u*a+s,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height===0?NaN:e.width/e.height};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=Math.cos(r),o=Math.sin(r),n=e.x1-l,u=e.y1-s;return e.x1=n*a-u*o+l,e.y1=n*o+u*a+s,n=e.x2-l,u=e.y2-s,e.x2=n*a-u*o+l,e.y2=n*o+u*a+s,n=e.x3-l,u=e.y3-s,e.x3=n*a-u*o+l,e.y3=n*o+u*a+s,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={BUTTON_DOWN:t(1310),BUTTON_UP:t(1311),CONNECTED:t(1312),DISCONNECTED:t(1313),GAMEPAD_BUTTON_DOWN:t(1314),GAMEPAD_BUTTON_UP:t(1315)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),l=t(156),s=function(r,a){var o=r===void 0?l():e({},r);if(a)for(var n in a)a[n]!==void 0&&(o[n]=a[n]);return o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=t(408),u=new e({Extends:s,initialize:function(f,v,m,g){var x="xml";if(o(v)){var y=v;v=a(y,"key"),m=a(y,"url"),g=a(y,"xhrSettings"),x=a(y,"extension",x)}var T={type:"xml",cache:f.cacheManager.xml,extension:x,responseType:"text",key:v,url:m,xhrSettings:g};s.call(this,f,T)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});r.register("xml",function(h,f,v){if(Array.isArray(h))for(var m=0;m<h.length;m++)this.addFile(new u(this,h[m]));else this.addFile(new u(this,h,f,v));return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m){var g="text",x="txt",y=h.cacheManager.text;if(o(f)){var T=f;f=a(T,"key"),v=a(T,"url"),m=a(T,"xhrSettings"),x=a(T,"extension",x),g=a(T,"type",g),y=a(T,"cache",y)}var S={type:g,cache:y,extension:x,responseType:"text",key:f,url:v,xhrSettings:m};s.call(this,h,S)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(u,h,f){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new n(this,u[v]));else this.addFile(new n(this,u,h,f));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Acceleration:t(1368),Angular:t(1369),Bounce:t(1370),Debug:t(1371),Drag:t(1372),Enable:t(1373),Friction:t(1374),Gravity:t(1375),Immovable:t(1376),Mass:t(1377),OverlapCirc:t(523),OverlapRect:t(244),Pushable:t(1378),Size:t(1379),Velocity:t(1380)}},function(i,d){var t=function(e,l,s,r,a,o,n){o===void 0&&(o=!0),n===void 0&&(n=!1);var u=[],h=[],f=e.treeMinMax;if(f.minX=l,f.minY=s,f.maxX=l+r,f.maxY=s+a,n&&(h=e.staticTree.search(f)),o&&e.useTree)u=e.tree.search(f);else if(o){var v=e.bodies,m={position:{x:l,y:s},left:l,top:s,right:l+r,bottom:s+a,isCircle:!1},g=e.intersects;v.iterate(function(x){g(x,m)&&u.push(x)})}return h.concat(u)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={COLLIDE:t(1381),OVERLAP:t(1382),PAUSE:t(1383),RESUME:t(1384),TILE_COLLIDE:t(1385),TILE_OVERLAP:t(1386),WORLD_BOUNDS:t(1387),WORLD_STEP:t(1388)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),l=function(s,r,a,o){var n=0,u=s.deltaAbsX()+r.deltaAbsX()+o;return s._dx===0&&r._dx===0?(s.embedded=!0,r.embedded=!0):s._dx>r._dx?(n=s.right-r.x,n>u&&!a||s.checkCollision.right===!1||r.checkCollision.left===!1?n=0:(s.touching.none=!1,s.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===e.STATIC_BODY&&!a&&(s.blocked.none=!1,s.blocked.right=!0),s.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.left=!0))):s._dx<r._dx&&(n=s.x-r.width-r.x,-n>u&&!a||s.checkCollision.left===!1||r.checkCollision.right===!1?n=0:(s.touching.none=!1,s.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===e.STATIC_BODY&&!a&&(s.blocked.none=!1,s.blocked.left=!0),s.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.right=!0))),s.overlapX=n,r.overlapX=n,n};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),l=function(s,r,a,o){var n=0,u=s.deltaAbsY()+r.deltaAbsY()+o;return s._dy===0&&r._dy===0?(s.embedded=!0,r.embedded=!0):s._dy>r._dy?(n=s.bottom-r.y,n>u&&!a||s.checkCollision.down===!1||r.checkCollision.up===!1?n=0:(s.touching.none=!1,s.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===e.STATIC_BODY&&!a&&(s.blocked.none=!1,s.blocked.down=!0),s.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.up=!0))):s._dy<r._dy&&(n=s.y-r.bottom,-n>u&&!a||s.checkCollision.up===!1||r.checkCollision.down===!1?n=0:(s.touching.none=!1,s.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===e.STATIC_BODY&&!a&&(s.blocked.none=!1,s.blocked.up=!0),s.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.down=!0))),s.overlapY=n,r.overlapY=n,n};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return!(l.right<=e.left||l.bottom<=e.top||l.position.x>=e.right||l.position.y>=e.bottom)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Bounce:t(1495),Collision:t(1496),Force:t(1497),Friction:t(1498),Gravity:t(1499),Mass:t(1500),Sensor:t(1501),SetBody:t(1502),Sleep:t(1503),Static:t(1520),Transform:t(1521),Velocity:t(1522)}},function(i,d){var t={};i.exports=t,function(){t.create=function(e,l){var s=e.bodyA,r=e.bodyB,a={id:t.id(s,r),bodyA:s,bodyB:r,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:s.isSensor||r.isSensor,timeCreated:l,timeUpdated:l,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(a,e,l),a},t.update=function(e,l,s){if(e.collision=l,l.collided){var r=l.supports,a=e.activeContacts,o=l.parentA,n=l.parentB;e.inverseMass=o.inverseMass+n.inverseMass,e.friction=Math.min(o.friction,n.friction),e.frictionStatic=Math.max(o.frictionStatic,n.frictionStatic),e.restitution=Math.max(o.restitution,n.restitution),e.slop=Math.max(o.slop,n.slop);for(var u=0;u<r.length;u++)a[u]=r[u].contact;var h=r.length;h<a.length&&(a.length=h),e.separation=l.depth,t.setActive(e,!0,s)}else e.isActive===!0&&t.setActive(e,!1,s)},t.setActive=function(e,l,s){l?(e.isActive=!0,e.timeUpdated=s):(e.isActive=!1,e.activeContacts.length=0)},t.id=function(e,l){return e.id<l.id?"A"+e.id+"B"+l.id:"A"+l.id+"B"+e.id}}()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={CalculateFacesAt:t(252),CalculateFacesWithin:t(63),CheckIsoBounds:t(541),Copy:t(1420),CreateFromTiles:t(1421),CullBounds:t(543),CullTiles:t(544),Fill:t(1422),FilterTiles:t(1423),FindByIndex:t(1424),FindTile:t(1425),ForEachTile:t(1426),GetCullTilesFunction:t(1427),GetTileAt:t(158),GetTileAtWorldXY:t(1428),GetTilesWithin:t(26),GetTilesWithinShape:t(1429),GetTilesWithinWorldXY:t(529),GetTileToWorldXFunction:t(1430),GetTileToWorldXYFunction:t(1431),GetTileToWorldYFunction:t(1432),GetWorldToTileXFunction:t(1433),GetWorldToTileXYFunction:t(1434),GetWorldToTileYFunction:t(1435),HasTileAt:t(562),HasTileAtWorldXY:t(1436),HexagonalCullBounds:t(546),HexagonalCullTiles:t(545),HexagonalTileToWorldXY:t(550),HexagonalTileToWorldY:t(554),HexagonalWorldToTileXY:t(556),HexagonalWorldToTileY:t(560),IsInLayerBounds:t(119),IsometricCullTiles:t(547),IsometricTileToWorldXY:t(551),IsometricWorldToTileXY:t(557),PutTileAt:t(257),PutTileAtWorldXY:t(1437),PutTilesAt:t(1438),Randomize:t(1439),RemoveTileAt:t(563),RemoveTileAtWorldXY:t(1440),RenderDebug:t(1441),ReplaceByIndex:t(542),RunCull:t(159),SetCollision:t(1442),SetCollisionBetween:t(1443),SetCollisionByExclusion:t(1444),SetCollisionByProperty:t(1445),SetCollisionFromCollisionGroup:t(1446),SetLayerCollisionIndex:t(160),SetTileCollision:t(72),SetTileIndexCallback:t(1447),SetTileLocationCallback:t(1448),Shuffle:t(1449),StaggeredCullBounds:t(549),StaggeredCullTiles:t(548),StaggeredTileToWorldXY:t(552),StaggeredTileToWorldY:t(555),StaggeredWorldToTileXY:t(558),StaggeredWorldToTileY:t(561),SwapByIndex:t(1450),TileToWorldX:t(253),TileToWorldXY:t(553),TileToWorldY:t(254),WeightedRandomize:t(1451),WorldToTileX:t(255),WorldToTileXY:t(559),WorldToTileY:t(256)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),l=function(s,r,a){var o=e(s,r,!0,a),n=e(s,r-1,!0,a),u=e(s,r+1,!0,a),h=e(s-1,r,!0,a),f=e(s+1,r,!0,a),v=o&&o.collides;return v&&(o.faceTop=!0,o.faceBottom=!0,o.faceLeft=!0,o.faceRight=!0),n&&n.collides&&(v&&(o.faceTop=!1),n.faceBottom=!v),u&&u.collides&&(v&&(o.faceBottom=!1),u.faceTop=!v),h&&h.collides&&(v&&(o.faceLeft=!1),h.faceRight=!v),f&&f.collides&&(v&&(o.faceRight=!1),f.faceLeft=!v),o&&!o.collides&&o.resetFaces(),o};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=s.baseTileWidth,a=s.tilemapLayer,o=0;return a&&(l||(l=a.scene.cameras.main),o=a.x+l.scrollX*(1-a.scrollFactorX),r*=a.scaleX),o+e*r};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=s.baseTileHeight,a=s.tilemapLayer,o=0;return a&&(l||(l=a.scene.cameras.main),o=a.y+l.scrollY*(1-a.scrollFactorY),r*=a.scaleY),o+e*r};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){l===void 0&&(l=!0);var a=r.baseTileWidth,o=r.tilemapLayer;return o&&(s||(s=o.scene.cameras.main),e=e-(o.x+s.scrollX*(1-o.scrollFactorX)),a*=o.scaleX),l?Math.floor(e/a):e/a};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){l===void 0&&(l=!0);var a=r.baseTileHeight,o=r.tilemapLayer;return o&&(s||(s=o.scene.cameras.main),e=e-(o.y+s.scrollY*(1-o.scrollFactorY)),a*=o.scaleY),l?Math.floor(e/a):e/a};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),l=t(119),s=t(252),r=t(72),a=function(o,n,u,h,f){if(h===void 0&&(h=!0),!l(n,u,f))return null;var v=f.data[u][n],m=v&&v.collides;if(o instanceof e)f.data[u][n]===null&&(f.data[u][n]=new e(f,o.index,n,u,f.tileWidth,f.tileHeight)),f.data[u][n].copy(o);else{var g=o;f.data[u][n]===null?f.data[u][n]=new e(f,g,n,u,f.tileWidth,f.tileHeight):f.data[u][n].index=g}var x=f.data[u][n],y=f.collideIndexes.indexOf(x.index)!==-1;return r(x,y),h&&m!==x.collides&&s(n,u,f),x};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),l=function(s){return s=s.toLowerCase(),s==="isometric"?e.ISOMETRIC:s==="staggered"?e.STAGGERED:s==="hexagonal"?e.HEXAGONAL:e.ORTHOGONAL};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),l=t(120),s=t(121),r=t(85),a=function(o,n,u,h,f){for(var v=new l({tileWidth:u,tileHeight:h}),m=new s({name:o,tileWidth:u,tileHeight:h,format:e.ARRAY_2D,layers:[v]}),g=[],x=n.length,y=0,T=0;T<n.length;T++){g[T]=[];for(var S=n[T],E=0;E<S.length;E++){var C=parseInt(S[E],10);isNaN(C)||C===-1?g[T][E]=f?null:new r(v,-1,E,T,u,h):g[T][E]=new r(v,C,E,T,u,h)}y===0&&(y=S.length)}return m.width=v.width=y,m.height=v.height=x,m.widthInPixels=v.widthInPixels=y*u,m.heightInPixels=v.heightInPixels=x*h,v.data=g,m};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(571),l=t(261),s=function(o){return{x:o.x,y:o.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],a=function(o,n,u){n===void 0&&(n=0),u===void 0&&(u=0);var h=e(o,r);if(h.x+=n,h.y+=u,o.gid){var f=l(o.gid);h.gid=f.gid,h.flippedHorizontal=f.flippedHorizontal,h.flippedVertical=f.flippedVertical,h.flippedAntiDiagonal=f.flippedAntiDiagonal}else o.polyline?h.polyline=o.polyline.map(s):o.polygon?h.polygon=o.polygon.map(s):o.ellipse?h.ellipse=o.ellipse:o.text?h.text=o.text:o.point?h.point=!0:h.rectangle=!0;return h};i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=2147483648,e=1073741824,l=536870912,s=function(r){var a=Boolean(r&t),o=Boolean(r&e),n=Boolean(r&l);r=r&~(t|e|l);var u=0,h=!1;return a&&o&&n?(u=Math.PI/2,h=!0):a&&o&&!n?(u=Math.PI,h=!1):a&&!o&&n?(u=Math.PI/2,h=!1):a&&!o&&!n?(u=0,h=!0):!a&&o&&n?(u=3*Math.PI/2,h=!1):!a&&o&&!n?(u=Math.PI,h=!0):!a&&!o&&n?(u=3*Math.PI/2,h=!0):!a&&!o&&!n&&(u=0,h=!1),{gid:r,flippedHorizontal:a,flippedVertical:o,flippedAntiDiagonal:n,rotation:u,flipped:h}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),l=t(121),s=t(564),r=t(580),a=function(o,n,u,h,f,v,m,g){u===void 0&&(u=32),h===void 0&&(h=32),f===void 0&&(f=10),v===void 0&&(v=10),g===void 0&&(g=!1);var x=null;if(Array.isArray(m)){var y=n!==void 0?n:"map";x=s(y,e.ARRAY_2D,m,u,h,g)}else if(n!==void 0){var T=o.cache.tilemap.get(n);T?x=s(n,T.format,T.data,u,h,g):console.warn("No map data found for key "+n)}return x===null&&(x=new l({tileWidth:u,tileHeight:h,width:f,height:v})),new r(o,x)};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),l=function(s){var r=e(s,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a){return!!a.getActive&&typeof a.getActive=="function"}function e(a){return!!a.getStart&&typeof a.getStart=="function"}function l(a){return!!a.getEnd&&typeof a.getEnd=="function"}function s(a){return e(a)||l(a)||t(a)}var r=function(a,o){var n,u=function(C,A,P){return P},h=function(C,A,P){return P},f=null,v=typeof o;if(v==="number")u=function(){return o};else if(v==="string"){var m=o[0],g=parseFloat(o.substr(2));switch(m){case"+":u=function(C,A,P){return P+g};break;case"-":u=function(C,A,P){return P-g};break;case"*":u=function(C,A,P){return P*g};break;case"/":u=function(C,A,P){return P/g};break;default:u=function(){return parseFloat(o)}}}else if(v==="function")u=o;else if(v==="object")if(s(o))t(o)&&(f=o.getActive),l(o)&&(u=o.getEnd),e(o)&&(h=o.getStart);else if(o.hasOwnProperty("value"))n=r(a,o.value);else{var x=o.hasOwnProperty("to"),y=o.hasOwnProperty("from"),T=o.hasOwnProperty("start");if(x&&(y||T)){if(n=r(a,o.to),T){var S=r(a,o.start);n.getActive=S.getEnd}if(y){var E=r(a,o.from);n.getStart=E.getEnd}}}return n||(n={getActive:f,getEnd:u,getStart:h}),n};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(9),s=t(267),r=t(16),a=t(5),o=t(100),n=t(14),u=new e({Extends:l,initialize:function(f,v,m){l.call(this),this.parent=f,this.parentIsTimeline=f.hasOwnProperty("isTimeline"),this.data=v,this.totalData=v.length,this.targets=m,this.totalTargets=m.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=o.PENDING_ADD,this._pausedState=o.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(h){return h===void 0&&(h=0),this.data[h].current},setTimeScale:function(h){return this.timeScale=h,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===o.ACTIVE},isPaused:function(){return this.state===o.PAUSED},hasTarget:function(h){return this.targets.indexOf(h)!==-1},updateTo:function(h,f,v){v===void 0&&(v=!1);for(var m=0;m<this.totalData;m++){var g=this.data[m];g.key===h&&(g.end=f,v&&(g.start=g.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===o.ACTIVE?this.seek(0):this.state===o.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===o.PENDING_ADD?this:this.play()},calcDuration:function(){for(var h=0,f=n.MAX_SAFE_INTEGER,v=this.data,m=0;m<this.totalData;m++){var g=v[m];g.t1=g.duration+g.hold,g.yoyo&&(g.t1+=g.duration),g.t2=g.t1+g.repeatDelay,g.totalDuration=g.delay+g.t1,g.repeat===-1?g.totalDuration+=g.t2*999999999999:g.repeat>0&&(g.totalDuration+=g.t2*g.repeat),g.totalDuration>h&&(h=g.totalDuration),g.delay<f&&(f=g.delay)}this.duration=Math.max(h,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=f},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=o.PENDING_ADD,this._pausedState=o.INIT,!1;for(var h=this.data,f=this.totalTargets,v=0;v<this.totalData;v++){var m=h[v],g=m.target,x=m.gen,y=m.key,T=m.index;m.delay=x.delay(g,y,0,T,f,this),m.duration=Math.max(x.duration(g,y,0,T,f,this),.001),m.hold=x.hold(g,y,0,T,f,this),m.repeat=x.repeat(g,y,0,T,f,this),m.repeatDelay=x.repeatDelay(g,y,0,T,f,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=o.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(s.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=o.LOOP_DELAY):(this.state=o.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=o.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=o.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===o.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=o.PAUSED,this)},play:function(h){h===void 0&&(h=!1);var f=this.state;return f===o.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=o.ACTIVE,this):f===o.ACTIVE||f===o.PENDING_ADD&&this._pausedState===o.PENDING_ADD?this:!this.parentIsTimeline&&(f===o.PENDING_REMOVE||f===o.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(h),this.calculatedOffset===0?this.state=o.ACTIVE:(this.countdown=this.calculatedOffset,this.state=o.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(h),this.state=o.ACTIVE,this.makeActive()),this)},resetTweenData:function(h){for(var f=this.data,v=this.totalData,m=this.totalTargets,g=0;g<v;g++){var x=f[g],y=x.target,T=x.key,S=x.index;x.progress=0,x.elapsed=0,x.repeatCounter=x.repeat===-1?999999999999:x.repeat,h?(x.start=x.getStartValue(y,T,x.start,S,m,this),x.end=x.getEndValue(y,T,x.end,S,m,this),x.current=x.start,x.state=o.PLAYING_FORWARD):x.state=o.PENDING_RENDER,x.delay>0&&(x.elapsed=x.delay,x.state=o.DELAY),x.getActiveValue&&(y[T]=x.getActiveValue(x.target,x.key,x.start))}},resume:function(){return this.state===o.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(h,f){f===void 0&&(f=16.6),this.state===o.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var v=this.data,m=this.totalTargets,g=0;g<this.totalData;g++){var x=v[g],y=x.target,T=x.gen,S=x.key,E=x.index;x.progress=0,x.elapsed=0,x.repeatCounter=x.repeat===-1?999999999999:x.repeat,x.delay=T.delay(y,S,0,E,m,this),x.duration=Math.max(T.duration(y,S,0,E,m,this),.001),x.hold=T.hold(y,S,0,E,m,this),x.repeat=T.repeat(y,S,0,E,m,this),x.repeatDelay=T.repeatDelay(y,S,0,E,m,this),x.current=x.start,x.state=o.PLAYING_FORWARD,this.updateTweenData(this,x,0,E,m),x.delay>0&&(x.elapsed=x.delay,x.state=o.DELAY)}this.calcDuration();var C=!1;this.state===o.PAUSED&&(C=!0,this.state=o.ACTIVE),this.isSeeking=!0;do this.update(0,f);while(this.totalProgress<h);return this.isSeeking=!1,C&&(this.state=o.PAUSED),this},setCallback:function(h,f,v,m){return this.callbacks[h]={func:f,scope:m,params:v},this},complete:function(h){return h===void 0&&(h=0),h?(this.state=o.COMPLETE_DELAY,this.countdown=h):(this.state=o.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(h){return this.state===o.ACTIVE&&h!==void 0&&this.seek(h),this.state!==o.REMOVED&&((this.state===o.PAUSED||this.state===o.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(s.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=o.PENDING_REMOVE),this},update:function(h,f){if(this.state===o.PAUSED)return!1;switch(this.useFrames&&(f=1*this.parent.timeScale),f*=this.timeScale,this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case o.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(s.TWEEN_START,this.callbacks.onStart)));for(var v=!1,m=0;m<this.totalData;m++){var g=this.data[m];this.updateTweenData(this,g,f)&&(v=!0)}v||this.nextState();break;case o.LOOP_DELAY:this.countdown-=f,this.countdown<=0&&(this.state=o.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop));break;case o.OFFSET_DELAY:this.countdown-=f,this.countdown<=0&&(this.state=o.ACTIVE);break;case o.COMPLETE_DELAY:this.countdown-=f,this.countdown<=0&&(this.state=o.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===o.PENDING_REMOVE},dispatchTweenDataEvent:function(h,f,v){this.isSeeking||(this.emit(h,this,v.key,v.target,v.current,v.previous),f&&(f.params[1]=v.target,f.func.apply(f.scope,f.params)))},dispatchTweenEvent:function(h,f){this.isSeeking||(this.emit(h,this,this.targets),f&&(f.params[1]=this.targets,f.func.apply(f.scope,f.params)))},setStateFromEnd:function(h,f,v){return f.yoyo?(f.elapsed=v,f.progress=v/f.duration,f.flipX&&f.target.toggleFlipX(),f.flipY&&f.target.toggleFlipY(),this.dispatchTweenDataEvent(s.TWEEN_YOYO,h.callbacks.onYoyo,f),f.start=f.getStartValue(f.target,f.key,f.start,f.index,h.totalTargets,h),o.PLAYING_BACKWARD):f.repeatCounter>0?(f.repeatCounter--,f.elapsed=v,f.progress=v/f.duration,f.flipX&&f.target.toggleFlipX(),f.flipY&&f.target.toggleFlipY(),f.start=f.getStartValue(f.target,f.key,f.start,f.index,h.totalTargets,h),f.end=f.getEndValue(f.target,f.key,f.start,f.index,h.totalTargets,h),f.repeatDelay>0?(f.elapsed=f.repeatDelay-v,f.current=f.start,f.target[f.key]=f.current,o.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,h.callbacks.onRepeat,f),o.PLAYING_FORWARD)):o.COMPLETE},setStateFromStart:function(h,f,v){return f.repeatCounter>0?(f.repeatCounter--,f.elapsed=v,f.progress=v/f.duration,f.flipX&&f.target.toggleFlipX(),f.flipY&&f.target.toggleFlipY(),f.end=f.getEndValue(f.target,f.key,f.start,f.index,h.totalTargets,h),f.repeatDelay>0?(f.elapsed=f.repeatDelay-v,f.current=f.start,f.target[f.key]=f.current,o.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,h.callbacks.onRepeat,f),o.PLAYING_FORWARD)):o.COMPLETE},updateTweenData:function(h,f,v){var m=f.target;switch(f.state){case o.PLAYING_FORWARD:case o.PLAYING_BACKWARD:if(!m){f.state=o.COMPLETE;break}var g=f.elapsed,x=f.duration,y=0;g+=v,g>x&&(y=g-x,g=x);var T=f.state===o.PLAYING_FORWARD,S=g/x;if(f.elapsed=g,f.progress=S,f.previous=f.current,S===1)T?(f.current=f.end,m[f.key]=f.end,f.hold>0?(f.elapsed=f.hold-y,f.state=o.HOLD_DELAY):f.state=this.setStateFromEnd(h,f,y)):(f.current=f.start,m[f.key]=f.start,f.state=this.setStateFromStart(h,f,y));else{var E=T?f.ease(S):f.ease(1-S);f.current=f.start+(f.end-f.start)*E,m[f.key]=f.current}this.dispatchTweenDataEvent(s.TWEEN_UPDATE,h.callbacks.onUpdate,f);break;case o.DELAY:f.elapsed-=v,f.elapsed<=0&&(f.elapsed=Math.abs(f.elapsed),f.state=o.PENDING_RENDER);break;case o.REPEAT_DELAY:f.elapsed-=v,f.elapsed<=0&&(f.elapsed=Math.abs(f.elapsed),f.state=o.PLAYING_FORWARD,this.dispatchTweenDataEvent(s.TWEEN_REPEAT,h.callbacks.onRepeat,f));break;case o.HOLD_DELAY:f.elapsed-=v,f.elapsed<=0&&(f.state=this.setStateFromEnd(h,f,Math.abs(f.elapsed)));break;case o.PENDING_RENDER:m?(f.start=f.getStartValue(m,f.key,m[f.key],f.index,h.totalTargets,h),f.end=f.getEndValue(m,f.key,f.start,f.index,h.totalTargets,h),f.current=f.start,m[f.key]=f.start,f.state=o.PLAYING_FORWARD):f.state=o.COMPLETE;break}return f.state!==o.COMPLETE}});u.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],a.register("tween",function(h){return this.scene.sys.tweens.add(h)}),r.register("tween",function(h){return this.scene.sys.tweens.create(h)}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={TIMELINE_COMPLETE:t(1466),TIMELINE_LOOP:t(1467),TIMELINE_PAUSE:t(1468),TIMELINE_RESUME:t(1469),TIMELINE_START:t(1470),TIMELINE_UPDATE:t(1471),TWEEN_ACTIVE:t(1472),TWEEN_COMPLETE:t(1473),TWEEN_LOOP:t(1474),TWEEN_REPEAT:t(1475),TWEEN_START:t(1476),TWEEN_STOP:t(1477),TWEEN_UPDATE:t(1478),TWEEN_YOYO:t(1479)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a,o,n,u,h,f,v,m,g,x,y){return{target:e,index:l,key:s,getActiveValue:o,getEndValue:r,getStartValue:a,ease:n,duration:0,totalDuration:0,delay:0,yoyo:f,hold:0,repeat:0,repeatDelay:0,flipX:x,flipY:y,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:u,duration:h,hold:v,repeat:m,repeatDelay:g},state:0}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),l=function(s){return e(s,-Math.PI,Math.PI)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),l=function(s){return e(s,-180,180)};i.exports=l},function(i,d,t){var e={};i.exports=e;var l=t(83),s=t(32);(function(){e.fromVertices=function(r){for(var a={},o=0;o<r.length;o++){var n=(o+1)%r.length,u=l.normalise({x:r[n].y-r[o].y,y:r[o].x-r[n].x}),h=u.y===0?1/0:u.x/u.y;h=h.toFixed(3).toString(),a[h]=u}return s.values(a)},e.rotate=function(r,a){if(a!==0)for(var o=Math.cos(a),n=Math.sin(a),u=0;u<r.length;u++){var h=r[u],f;f=h.x*o-h.y*n,h.y=h.x*n+h.y*o,h.x=f}}})()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={AFTER_ADD:t(1504),AFTER_REMOVE:t(1505),AFTER_UPDATE:t(1506),BEFORE_ADD:t(1507),BEFORE_REMOVE:t(1508),BEFORE_UPDATE:t(1509),COLLISION_ACTIVE:t(1510),COLLISION_END:t(1511),COLLISION_START:t(1512),DRAG_END:t(1513),DRAG:t(1514),DRAG_START:t(1515),PAUSE:t(1516),RESUME:t(1517),SLEEP_END:t(1518),SLEEP_START:t(1519)}},function(i,d,t){var e={};i.exports=e;var l=t(274),s=t(250),r=t(84);(function(){e.collisions=function(a,o){for(var n=[],u=o.pairs.table,h=o.metrics,f=0;f<a.length;f++){var v=a[f][0],m=a[f][1];if(!((v.isStatic||v.isSleeping)&&(m.isStatic||m.isSleeping))&&!!e.canCollide(v.collisionFilter,m.collisionFilter)&&(h.midphaseTests+=1,r.overlaps(v.bounds,m.bounds)))for(var g=v.parts.length>1?1:0;g<v.parts.length;g++)for(var x=v.parts[g],y=m.parts.length>1?1:0;y<m.parts.length;y++){var T=m.parts[y];if(x===v&&T===m||r.overlaps(x.bounds,T.bounds)){var S=s.id(x,T),E=u[S],C;E&&E.isActive?C=E.collision:C=null;var A=l.collides(x,T,C);h.narrowphaseTests+=1,A.reused&&(h.narrowReuseCount+=1),A.collided&&(n.push(A),h.narrowDetections+=1)}}}return n},e.canCollide=function(a,o){return a.group===o.group&&a.group!==0?a.group>0:(a.mask&o.category)!==0&&(o.mask&a.category)!==0}})()},function(i,d,t){var e={};i.exports=e;var l=t(64),s=t(83);(function(){e.collides=function(r,a,o){var n,u,h,f,v=!1;if(o){var m=r.parent,g=a.parent,x=m.speed*m.speed+m.angularSpeed*m.angularSpeed+g.speed*g.speed+g.angularSpeed*g.angularSpeed;v=o&&o.collided&&x<.2,f=o}else f={collided:!1,bodyA:r,bodyB:a};if(o&&v){var y=f.axisBody,T=y===r?a:r,S=[y.axes[o.axisNumber]];if(h=e._overlapAxes(y.vertices,T.vertices,S),f.reused=!0,h.overlap<=0)return f.collided=!1,f}else{if(n=e._overlapAxes(r.vertices,a.vertices,r.axes),n.overlap<=0||(u=e._overlapAxes(a.vertices,r.vertices,a.axes),u.overlap<=0))return f.collided=!1,f;n.overlap<u.overlap?(h=n,f.axisBody=r):(h=u,f.axisBody=a),f.axisNumber=h.axisNumber}f.bodyA=r.id<a.id?r:a,f.bodyB=r.id<a.id?a:r,f.collided=!0,f.depth=h.overlap,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent,r=f.bodyA,a=f.bodyB,s.dot(h.axis,s.sub(a.position,r.position))<0?f.normal={x:h.axis.x,y:h.axis.y}:f.normal={x:-h.axis.x,y:-h.axis.y},f.tangent=s.perp(f.normal),f.penetration=f.penetration||{},f.penetration.x=f.normal.x*f.depth,f.penetration.y=f.normal.y*f.depth;var E=e._findSupports(r,a,f.normal),C=[];if(l.contains(r.vertices,E[0])&&C.push(E[0]),l.contains(r.vertices,E[1])&&C.push(E[1]),C.length<2){var A=e._findSupports(a,r,s.neg(f.normal));l.contains(a.vertices,A[0])&&C.push(A[0]),C.length<2&&l.contains(a.vertices,A[1])&&C.push(A[1])}return C.length<1&&(C=[E[0]]),f.supports=C,f},e._overlapAxes=function(r,a,o){for(var n=s._temp[0],u=s._temp[1],h={overlap:Number.MAX_VALUE},f,v,m=0;m<o.length;m++){if(v=o[m],e._projectToAxis(n,r,v),e._projectToAxis(u,a,v),f=Math.min(n.max-u.min,u.max-n.min),f<=0)return h.overlap=f,h;f<h.overlap&&(h.overlap=f,h.axis=v,h.axisNumber=m)}return h},e._projectToAxis=function(r,a,o){for(var n=s.dot(a[0],o),u=n,h=1;h<a.length;h+=1){var f=s.dot(a[h],o);f>u?u=f:f<n&&(n=f)}r.min=n,r.max=u},e._findSupports=function(r,a,o){for(var n=Number.MAX_VALUE,u=s._temp[0],h=a.vertices,f=r.position,v,m,g,x,y=0;y<h.length;y++)m=h[y],u.x=m.x-f.x,u.y=m.y-f.y,v=-s.dot(o,u),v<n&&(n=v,g=m);var T=g.index-1>=0?g.index-1:h.length-1;m=h[T],u.x=m.x-f.x,u.y=m.y-f.y,n=-s.dot(o,u),x=m;var S=(g.index+1)%h.length;return m=h[S],u.x=m.x-f.x,u.y=m.y-f.y,v=-s.dot(o,u),v<n&&(x=m),[g,x]}})()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={AlignTo:t(601),Angle:t(602),Call:t(603),GetFirst:t(604),GetLast:t(605),GridAlign:t(606),IncAlpha:t(678),IncX:t(679),IncXY:t(680),IncY:t(681),PlaceOnCircle:t(682),PlaceOnEllipse:t(683),PlaceOnLine:t(684),PlaceOnRectangle:t(685),PlaceOnTriangle:t(686),PlayAnimation:t(687),PropertyValueInc:t(46),PropertyValueSet:t(27),RandomCircle:t(688),RandomEllipse:t(689),RandomLine:t(690),RandomRectangle:t(691),RandomTriangle:t(692),Rotate:t(693),RotateAround:t(694),RotateAroundDistance:t(695),ScaleX:t(696),ScaleXY:t(697),ScaleY:t(698),SetAlpha:t(699),SetBlendMode:t(700),SetDepth:t(701),SetHitArea:t(702),SetOrigin:t(703),SetRotation:t(704),SetScale:t(705),SetScaleX:t(706),SetScaleY:t(707),SetScrollFactor:t(708),SetScrollFactorX:t(709),SetScrollFactorY:t(710),SetTint:t(711),SetVisible:t(712),SetX:t(713),SetXY:t(714),SetY:t(715),ShiftPosition:t(716),Shuffle:t(717),SmootherStep:t(718),SmoothStep:t(719),Spread:t(720),ToggleVisible:t(721),WrapInRectangle:t(722)}},function(i,d,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),l=[];l[e.BOTTOM_CENTER]=t(277),l[e.BOTTOM_LEFT]=t(278),l[e.BOTTOM_RIGHT]=t(279),l[e.LEFT_BOTTOM]=t(280),l[e.LEFT_CENTER]=t(281),l[e.LEFT_TOP]=t(282),l[e.RIGHT_BOTTOM]=t(283),l[e.RIGHT_CENTER]=t(284),l[e.RIGHT_TOP]=t(285),l[e.TOP_CENTER]=t(286),l[e.TOP_LEFT]=t(287),l[e.TOP_RIGHT]=t(288);var s=function(r,a,o,n,u){return l[o](r,a,n,u)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),l=t(87),s=t(88),r=t(52),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),s(o,l(n)+u),r(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),l=t(43),s=t(53),r=t(52),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),s(o,l(n)-u),r(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),l=t(44),s=t(54),r=t(52),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),s(o,l(n)+u),r(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),l=t(43),s=t(55),r=t(54),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,l(n)-u),s(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),l=t(43),s=t(90),r=t(54),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,l(n)-u),s(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),l=t(45),s=t(54),r=t(52),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),s(o,e(n)-u),r(o,l(n)-h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),l=t(44),s=t(55),r=t(53),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,l(n)+u),s(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),l=t(44),s=t(90),r=t(53),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,l(n)+u),s(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),l=t(45),s=t(53),r=t(52),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),s(o,e(n)+u),r(o,l(n)-h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),l=t(45),s=t(55),r=t(88),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,e(n)+u),s(o,l(n)-h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),l=t(45),s=t(55),r=t(53),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,e(n)-u),s(o,l(n)-h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),l=t(45),s=t(55),r=t(54),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,e(n)+u),s(o,l(n)-h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),l=[];l[e.BOTTOM_CENTER]=t(290),l[e.BOTTOM_LEFT]=t(291),l[e.BOTTOM_RIGHT]=t(292),l[e.CENTER]=t(293),l[e.LEFT_CENTER]=t(295),l[e.RIGHT_CENTER]=t(296),l[e.TOP_CENTER]=t(297),l[e.TOP_LEFT]=t(298),l[e.TOP_RIGHT]=t(299),l[e.LEFT_BOTTOM]=l[e.BOTTOM_LEFT],l[e.LEFT_TOP]=l[e.TOP_LEFT],l[e.RIGHT_BOTTOM]=l[e.BOTTOM_RIGHT],l[e.RIGHT_TOP]=l[e.TOP_RIGHT];var s=function(r,a,o,n,u){return l[o](r,a,n,u)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),l=t(87),s=t(55),r=t(88),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,l(n)+u),s(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),l=t(43),s=t(55),r=t(53),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,l(n)-u),s(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),l=t(44),s=t(55),r=t(54),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,l(n)+u),s(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(294),l=t(87),s=t(89),r=function(a,o,n,u){return n===void 0&&(n=0),u===void 0&&(u=0),e(a,l(o)+n,s(o)+u),a};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(88),l=t(90),s=function(r,a,o){return e(r,a),l(r,o)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),l=t(43),s=t(90),r=t(53),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,l(n)-u),s(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),l=t(44),s=t(90),r=t(54),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),r(o,l(n)+u),s(o,e(n)+h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),l=t(45),s=t(88),r=t(52),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),s(o,e(n)+u),r(o,l(n)-h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),l=t(45),s=t(53),r=t(52),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),s(o,e(n)-u),r(o,l(n)-h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),l=t(45),s=t(54),r=t(52),a=function(o,n,u,h){return u===void 0&&(u=0),h===void 0&&(h=0),s(o,e(n)+u),r(o,l(n)-h),o};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(169),l=t(98),s=t(14),r=t(4),a=function(o,n,u){u===void 0&&(u=new r);var h=l(n,0,s.PI2);return e(o,h,u)};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(302),l=t(169),s=t(98),r=t(14),a=function(o,n,u,h){h===void 0&&(h=[]),!n&&u>0&&(n=e(o)/u);for(var f=0;f<n;f++){var v=s(f/n,0,r.PI2);h.push(l(o,v))}return h};i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(Math.PI*e.radius)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=2,s={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var a=e(r,0,1);this._alpha=a,a===0?this.renderFlags&=~l:this.renderFlags|=l}}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),l={_blendMode:e.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(s){typeof s=="string"&&(s=e[s]),s|=0,s>=-1&&(this._blendMode=s)}},setBlendMode:function(s){return this.blendMode=s,this}};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(171),l=t(130),s=function(r,a,o,n){n===void 0&&(n=[]),!a&&o>0&&(a=l(r)/o);for(var u=0;u<a;u++){var h=u/a;n.push(e(r,h))}return n};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r,a){return a===void 0&&(a=new e),a.x=s.x1+(s.x2-s.x1)*r,a.y=s.y1+(s.y2-s.y1)*r,a};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=Math.cos(r),o=Math.sin(r),n=e.x-l,u=e.y-s;return e.x=n*a-u*o+l,e.y=n*o+u*a+s,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(310),l=t(311),s={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r){return r===void 0&&(this.texture||this.shader)&&(r=this),new e(this.scene,r)},createGeometryMask:function(r){return r===void 0&&this.type==="Graphics"&&(r=this),new l(this.scene,r)}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(22),s=t(91),r=new e({initialize:function(o,n){var u=o.sys.renderer;this.renderer=u,this.bitmapMask=n,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),o.sys.game.events.on(l.CONTEXT_RESTORED,this.createMask,this),u&&u.on(s.RESIZE,this.createMask,this)},createMask:function(){var a=this.renderer;if(!(!a||!a.gl)){this.mainTexture&&this.clearMask();var o=a.width,n=a.height,u=(o&o-1)===0&&(n&n-1)===0,h=a.gl,f=u?h.REPEAT:h.CLAMP_TO_EDGE,v=h.LINEAR;this.mainTexture=a.createTexture2D(0,v,v,f,f,h.RGBA,null,o,n),this.maskTexture=a.createTexture2D(0,v,v,f,f,h.RGBA,null,o,n),this.mainFramebuffer=a.createFramebuffer(o,n,this.mainTexture,!0),this.maskFramebuffer=a.createFramebuffer(o,n,this.maskTexture,!0)}},clearMask:function(){var a=this.renderer;!a||!a.gl||!this.mainTexture||(a.deleteTexture(this.mainTexture),a.deleteTexture(this.maskTexture),a.deleteFramebuffer(this.mainFramebuffer),a.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,o,n){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,o,n)},postRenderWebGL:function(a,o){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,o)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(s.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a){this.geometryMask=a,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(s){return this.geometryMask=s,this},setInvertAlpha:function(s){return s===void 0&&(s=!0),this.invertAlpha=s,this},preRenderWebGL:function(s,r,a){var o=s.gl;s.flush(),s.maskStack.length===0&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),s.maskCount=0),s.currentCameraMask.mask!==this&&(s.currentMask.mask=this),s.maskStack.push({mask:this,camera:a}),this.applyStencil(s,a,!0),s.maskCount++},applyStencil:function(s,r,a){var o=s.gl,n=this.geometryMask,u=s.maskCount;o.colorMask(!1,!1,!1,!1),a?(o.stencilFunc(o.EQUAL,u,255),o.stencilOp(o.KEEP,o.KEEP,o.INCR)):(o.stencilFunc(o.EQUAL,u+1,255),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),n.renderWebGL(s,n,r),s.flush(),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),a?this.invertAlpha?o.stencilFunc(o.NOTEQUAL,u+1,255):o.stencilFunc(o.EQUAL,u+1,255):this.invertAlpha?o.stencilFunc(o.NOTEQUAL,u,255):o.stencilFunc(o.EQUAL,u,255)},postRenderWebGL:function(s){var r=s.gl;s.maskStack.pop(),s.maskCount--,s.flush();var a=s.currentMask;if(s.maskStack.length===0)a.mask=null,r.disable(r.STENCIL_TEST);else{var o=s.maskStack[s.maskStack.length-1];o.mask.applyStencil(s,o.camera,!1),s.currentCameraMask.mask!==o.mask?(a.mask=o.mask,a.camera=o.camera):a.mask=null}},preRenderCanvas:function(s,r,a){var o=this.geometryMask;s.currentContext.save(),o.renderCanvas(s,o,a,null,null,!0),s.currentContext.clip()},postRenderCanvas:function(s){s.currentContext.restore()},destroy:function(){this.geometryMask=null}});i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,l){return l===void 0&&(l=e),this.scrollFactorX=e,this.scrollFactorY=l,this}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=t(25),s=t(177),r=t(269),a=t(270),o=t(3),n=4,u={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(h){this._scaleX=h,this._scaleY=h,h===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(h){this._scaleX=h,h===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleY:{get:function(){return this._scaleY},set:function(h){this._scaleY=h,h===0?this.renderFlags&=~n:this.renderFlags|=n}},angle:{get:function(){return a(this._rotation*e.RAD_TO_DEG)},set:function(h){this.rotation=a(h)*e.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=r(h)}},setPosition:function(h,f,v,m){return h===void 0&&(h=0),f===void 0&&(f=h),v===void 0&&(v=0),m===void 0&&(m=0),this.x=h,this.y=f,this.z=v,this.w=m,this},copyPosition:function(h){return h.x!==void 0&&(this.x=h.x),h.y!==void 0&&(this.y=h.y),h.z!==void 0&&(this.z=h.z),h.w!==void 0&&(this.w=h.w),this},setRandomPosition:function(h,f,v,m){return h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),this.x=h+Math.random()*v,this.y=f+Math.random()*m,this},setRotation:function(h){return h===void 0&&(h=0),this.rotation=h,this},setAngle:function(h){return h===void 0&&(h=0),this.angle=h,this},setScale:function(h,f){return h===void 0&&(h=1),f===void 0&&(f=h),this.scaleX=h,this.scaleY=f,this},setX:function(h){return h===void 0&&(h=0),this.x=h,this},setY:function(h){return h===void 0&&(h=0),this.y=h,this},setZ:function(h){return h===void 0&&(h=0),this.z=h,this},setW:function(h){return h===void 0&&(h=0),this.w=h,this},getLocalTransformMatrix:function(h){return h===void 0&&(h=new l),h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(h,f){h===void 0&&(h=new l),f===void 0&&(f=new l);var v=this.parentContainer;if(!v)return this.getLocalTransformMatrix(h);for(h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);v;)f.applyITRS(v.x,v.y,v._rotation,v._scaleX,v._scaleY),f.multiply(h,h),v=v.parentContainer;return h},getLocalPoint:function(h,f,v,m){v||(v=new o),m||(m=this.scene.sys.cameras.main);var g=m.scrollX,x=m.scrollY,y=h+g*this.scrollFactorX-g,T=f+x*this.scrollFactorY-x;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(y,T,v):s(y,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,v),this._originComponent&&(v.x+=this._displayOriginX,v.y+=this._displayOriginY),v},getParentRotation:function(){for(var h=0,f=this.parentContainer;f;)h+=f.rotation,f=f.parentContainer;return h}};i.exports=u},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(l){l?(this._visible=!0,this.renderFlags|=t):(this._visible=!1,this.renderFlags&=~t)}},setVisible:function(l){return this.visible=l,this}};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={CHANGE_DATA:t(638),CHANGE_DATA_KEY:t(639),DESTROY:t(640),REMOVE_DATA:t(641),SET_DATA:t(642)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),l=t(4),s=function(r,a,o,n){if(n===void 0&&(n=[]),!a&&!o)return n;a?o=Math.round(e(r)/a):a=e(r)/o;for(var u=r.x,h=r.y,f=0,v=0;v<o;v++)switch(n.push(new l(u,h)),f){case 0:u+=a,u>=r.right&&(f=1,h+=u-r.right,u=r.right);break;case 1:h+=a,h>=r.bottom&&(f=2,u-=h-r.bottom,h=r.bottom);break;case 2:u-=a,u<=r.left&&(f=3,h-=r.left-u,u=r.left);break;case 3:h-=a,h<=r.top&&(f=0,h=r.top);break}return n};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){l===void 0&&(l=1),s===void 0&&(s=[]);var r=Math.round(e.x1),a=Math.round(e.y1),o=Math.round(e.x2),n=Math.round(e.y2),u=Math.abs(o-r),h=Math.abs(n-a),f=r<o?1:-1,v=a<n?1:-1,m=u-h;s.push({x:r,y:a});for(var g=1;!(r===o&&a===n);){var x=m<<1;x>-h&&(m-=h,r+=f),x<u&&(m+=u,a+=v),g%l===0&&s.push({x:r,y:a}),g++}return s};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(l.length){if(l.length===1)return l[0]}else return NaN;var r=1,a,o;if(s){if(e<l[0][s])return l[0];for(;l[r][s]<e;)r++}else for(;l[r]<e;)r++;return r>l.length&&(r=l.length),s?(a=l[r-1][s],o=l[r][s],o-e<=e-a?l[r]:l[r-1]):(a=l[r-1],o=l[r],o-e<=e-a?o:a)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a,o,n,u){u===void 0&&(u=!1),this.textureKey=r,this.textureFrame=a,this.index=o,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=u},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l=/\D/g;return e.sort(function(s,r){return parseInt(s.replace(l,""),10)-parseInt(r.replace(l,""),10)}),e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(185),l=t(0),s=t(102),r=t(9),a=t(132),o=t(22),n=t(2),u=t(6),h=t(186),f=t(322),v=new l({Extends:r,initialize:function(g){r.call(this),this.game=g,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.mixes=new s,this.paused=!1,this.name="AnimationManager",g.events.once(o.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(o.DESTROY,this.destroy,this)},addMix:function(m,g,x){var y=this.anims,T=this.mixes,S=typeof m=="string"?m:m.key,E=typeof g=="string"?g:g.key;if(y.has(S)&&y.has(E)){var C=T.get(S);C||(C={}),C[E]=x,T.set(S,C)}return this},removeMix:function(m,g){var x=this.mixes,y=typeof m=="string"?m:m.key,T=x.get(y);if(T)if(g){var S=typeof g=="string"?g:g.key;T.hasOwnProperty(S)&&delete T[S]}else g||x.delete(y);return this},getMix:function(m,g){var x=this.mixes,y=typeof m=="string"?m:m.key,T=typeof g=="string"?g:g.key,S=x.get(y);return S&&S.hasOwnProperty(T)?S[T]:0},add:function(m,g){return this.anims.has(m)?(console.warn("Animation key exists: "+m),this):(g.key=m,this.anims.set(m,g),this.emit(a.ADD_ANIMATION,m,g),this)},exists:function(m){return this.anims.has(m)},createFromAseprite:function(m,g){var x=[],y=this.game.cache.json.get(m);if(!y)return x;var T=this,S=u(y,"meta",null),E=u(y,"frames",null);if(S&&E){var C=u(S,"frameTags",[]);C.forEach(function(A){var P=[],R=n(A,"name",null),M=n(A,"from",0),L=n(A,"to",0),O=n(A,"direction","forward");if(!!R&&(!g||g&&g.indexOf(R)>-1)){for(var I=[],w=Number.MAX_SAFE_INTEGER,G=M;G<=L;G++){var V=G.toString(),X=E[V];if(X){var W=n(X,"duration",Number.MAX_SAFE_INTEGER);W<w&&(w=W),I.push({frame:V,duration:W})}}I.forEach(function(b){P.push({key:m,frame:b.frame,duration:w-b.duration})});var D=w*P.length;O==="reverse"&&(P=P.reverse());var F={key:R,frames:P,duration:D,yoyo:O==="pingpong"},B=T.create(F);B&&x.push(B)}})}return x},create:function(m){var g=m.key,x=!1;return g&&(x=this.get(g),x||(x=new e(this,g,m),this.anims.set(g,x),this.emit(a.ADD_ANIMATION,g,x))),x},fromJSON:function(m,g){g===void 0&&(g=!1),g&&this.anims.clear(),typeof m=="string"&&(m=JSON.parse(m));var x=[];if(m.hasOwnProperty("anims")&&Array.isArray(m.anims)){for(var y=0;y<m.anims.length;y++)x.push(this.create(m.anims[y]));m.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=m.globalTimeScale)}else m.hasOwnProperty("key")&&m.type==="frame"&&x.push(this.create(m));return x},generateFrameNames:function(m,g){var x=u(g,"prefix",""),y=u(g,"start",0),T=u(g,"end",0),S=u(g,"suffix",""),E=u(g,"zeroPad",0),C=u(g,"outputArray",[]),A=u(g,"frames",!1),P=this.textureManager.get(m);if(!P)return C;var R;if(g)for(A||(A=f(y,T)),R=0;R<A.length;R++){var M=x+h(A[R],E,"0",1)+S;P.has(M)?C.push({key:m,frame:M}):console.warn("generateFrameNames: Frame missing: "+M+" from texture: "+m)}else for(A=P.getFrameNames(),R=0;R<A.length;R++)C.push({key:m,frame:A[R]});return C},generateFrameNumbers:function(m,g){var x=u(g,"start",0),y=u(g,"end",-1),T=u(g,"first",!1),S=u(g,"outputArray",[]),E=u(g,"frames",!1),C=this.textureManager.get(m);if(!C)return S;T&&C.has(T)&&S.push({key:m,frame:T}),E||(y===-1&&(y=C.frameTotal-2),E=f(x,y));for(var A=0;A<E.length;A++)C.has(E[A])?S.push({key:m,frame:E[A]}):console.warn("generateFrameNumbers: Frame "+A+" missing from texture: "+m);return S},get:function(m){return this.anims.get(m)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(m,g){Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)g[x].anims.play(m);return this},staggerPlay:function(m,g,x,y){x===void 0&&(x=0),y===void 0&&(y=!0),Array.isArray(g)||(g=[g]);var T=g.length;y||T--;for(var S=0;S<g.length;S++){var E=x<0?Math.abs(x)*(T-S):x*S;g[S].anims.playAfterDelay(m,E)}return this},remove:function(m){var g=this.get(m);return g&&(this.emit(a.REMOVE_ANIMATION,m,g),this.anims.delete(m),this.removeMix(m)),g},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},toJSON:function(m){var g={anims:[],globalTimeScale:this.globalTimeScale};return m!==void 0&&m!==""?g.anims.push(this.anims.get(m).toJSON()):this.anims.each(function(x,y){g.anims.push(y.toJSON())}),g},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});i.exports=v},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=[],o,n=!1;if((s||r)&&(n=!0,s||(s=""),r||(r="")),l<e)for(o=e;o>=l;o--)n?a.push(s+o.toString()+r):a.push(o);else for(o=e;o<=l;o++)n?a.push(s+o.toString()+r):a.push(o);return a};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(102),s=t(9),r=t(324),a=new e({initialize:function(){this.entries=new l,this.events=new s},add:function(o,n){return this.entries.set(o,n),this.events.emit(r.ADD,this,o,n),this},has:function(o){return this.entries.has(o)},exists:function(o){return this.entries.has(o)},get:function(o){return this.entries.get(o)},remove:function(o){var n=this.get(o);return n&&(this.entries.delete(o),this.events.emit(r.REMOVE,this,o,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ADD:t(736),REMOVE:t(737)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(323),l=t(0),s=t(22),r=new l({initialize:function(o){this.game=o,this.binary=new e,this.bitmapFont=new e,this.json=new e,this.physics=new e,this.shader=new e,this.audio=new e,this.video=new e,this.text=new e,this.html=new e,this.obj=new e,this.tilemap=new e,this.xml=new e,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(a){return this.custom.hasOwnProperty(a)||(this.custom[a]=new e),this.custom[a]},destroy:function(){for(var a=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],o=0;o<a.length;o++)this[a[o]].destroy(),this[a[o]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),l=t(190),s=t(18),r=t(0),a=t(11),o=t(333),n=t(37),u=t(135),h=t(10),f=t(3),v=new r({Extends:e,Mixins:[a.Flip,a.Tint,a.Pipeline],initialize:function(g,x,y,T){e.call(this,g,x,y,T),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new o.Fade(this),this.flashEffect=new o.Flash(this),this.shakeEffect=new o.Shake(this),this.panEffect=new o.Pan(this),this.rotateToEffect=new o.RotateTo(this),this.zoomEffect=new o.Zoom(this),this.lerp=new f(1,1),this.followOffset=new f,this.deadzone=null,this._follow=null},setDeadzone:function(m,g){if(m===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=g):this.deadzone=new h(0,0,m,g),this._follow){var x=this.width/2,y=this.height/2,T=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(T,S),this.scrollX=T-x,this.scrollY=S-y}l(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(m,g,x,y,T,S){return this.fadeEffect.start(!1,m,g,x,y,!0,T,S)},fadeOut:function(m,g,x,y,T,S){return this.fadeEffect.start(!0,m,g,x,y,!0,T,S)},fadeFrom:function(m,g,x,y,T,S,E){return this.fadeEffect.start(!1,m,g,x,y,T,S,E)},fade:function(m,g,x,y,T,S,E){return this.fadeEffect.start(!0,m,g,x,y,T,S,E)},flash:function(m,g,x,y,T,S,E){return this.flashEffect.start(m,g,x,y,T,S,E)},shake:function(m,g,x,y,T){return this.shakeEffect.start(m,g,x,y,T)},pan:function(m,g,x,y,T,S,E){return this.panEffect.start(m,g,x,y,T,S,E)},rotateTo:function(m,g,x,y,T,S,E){return this.rotateToEffect.start(m,g,x,y,T,S,E)},zoomTo:function(m,g,x,y,T,S){return this.zoomEffect.start(m,g,x,y,T,S)},preRender:function(){this.renderList.length=0;var m=this.width,g=this.height,x=m*.5,y=g*.5,T=this.zoom,S=this.matrix,E=m*this.originX,C=g*this.originY,A=this._follow,P=this.deadzone,R=this.scrollX,M=this.scrollY;P&&l(P,this.midPoint.x,this.midPoint.y);var L=!1;if(A&&!this.panEffect.isRunning){var O=A.x-this.followOffset.x,I=A.y-this.followOffset.y;P?(O<P.x?R=u(R,R-(P.x-O),this.lerp.x):O>P.right&&(R=u(R,R+(O-P.right),this.lerp.x)),I<P.y?M=u(M,M-(P.y-I),this.lerp.y):I>P.bottom&&(M=u(M,M+(I-P.bottom),this.lerp.y))):(R=u(R,O-E,this.lerp.x),M=u(M,I-C,this.lerp.y)),L=!0}this.useBounds&&(R=this.clampX(R),M=this.clampY(M)),this.roundPixels&&(E=Math.round(E),C=Math.round(C),R=Math.round(R),M=Math.round(M)),this.scrollX=R,this.scrollY=M;var w=R+x,G=M+y;this.midPoint.set(w,G);var V=m/T,X=g/T,W=w-V/2,D=G-X/2;this.roundPixels&&(W=Math.round(W),D=Math.round(D)),this.worldView.setTo(W,D,V,X),S.applyITRS(this.x+E,this.y+C,this.rotation,T,T),S.translate(-E,-C),this.shakeEffect.preRender(),L&&this.emit(n.FOLLOW_UPDATE,this,A)},setLerp:function(m,g){return m===void 0&&(m=1),g===void 0&&(g=m),this.lerp.set(m,g),this},setFollowOffset:function(m,g){return m===void 0&&(m=0),g===void 0&&(g=0),this.followOffset.set(m,g),this},startFollow:function(m,g,x,y,T,S){g===void 0&&(g=!1),x===void 0&&(x=1),y===void 0&&(y=x),T===void 0&&(T=0),S===void 0&&(S=T),this._follow=m,this.roundPixels=g,x=s(x,0,1),y=s(y,0,1),this.lerp.set(x,y),this.followOffset.set(T,S);var E=this.width/2,C=this.height/2,A=m.x-T,P=m.y-S;return this.midPoint.set(A,P),this.scrollX=A-E,this.scrollY=P-C,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(m,g){this.visible&&(this.rotateToEffect.update(m,g),this.panEffect.update(m,g),this.zoomEffect.update(m,g),this.shakeEffect.update(m,g),this.flashEffect.update(m,g),this.fadeEffect.update(m,g))},destroy:function(){this.resetFX(),e.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});i.exports=v},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),l=function(s){var r=new e;s=s.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(h,f,v,m){return f+f+v+v+m+m});var a=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);if(a){var o=parseInt(a[1],16),n=parseInt(a[2],16),u=parseInt(a[3],16);r.setTo(o,n,u)}return r};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){return r<<24|e<<16|l<<8|s};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){r===void 0&&(r={h:0,s:0,v:0}),e/=255,l/=255,s/=255;var a=Math.min(e,l,s),o=Math.max(e,l,s),n=o-a,u=0,h=o===0?0:n/o,f=o;return o!==a&&(o===e?u=(l-s)/n+(l<s?6:0):o===l?u=(s-e)/n+2:o===s&&(u=(e-l)/n+4),u/=6),r.hasOwnProperty("_h")?(r._h=u,r._s=h,r._v=f):(r.h=u,r.s=h,r.v=f),r};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),l=function(s){return new e(s.r,s.g,s.b,s.a)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),l=function(s){var r=new e,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(s.toLowerCase());if(a){var o=parseInt(a[1],10),n=parseInt(a[2],10),u=parseInt(a[3],10),h=a[4]!==void 0?parseFloat(a[4]):1;r.setTo(o,n,u,h*255)}return r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Fade:t(761),Flash:t(762),Pan:t(763),Shake:t(796),RotateTo:t(797),Zoom:t(798)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(764),Out:t(765),InOut:t(766)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(767),Out:t(768),InOut:t(769)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(770),Out:t(771),InOut:t(772)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(773),Out:t(774),InOut:t(775)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(776),Out:t(777),InOut:t(778)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(779),Out:t(780),InOut:t(781)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports=t(782)},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(783),Out:t(784),InOut:t(785)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(786),Out:t(787),InOut:t(788)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(789),Out:t(790),InOut:t(791)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={In:t(792),Out:t(793),InOut:t(794)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports=t(795)},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(33),s=t(347),r=t(2),a=t(6),o=t(7),n=t(193),u=t(1),h=t(197),f=t(187),v=new e({initialize:function(g){g===void 0&&(g={});var x=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],y="#ffffff";this.width=a(g,"width",1024),this.height=a(g,"height",768),this.zoom=a(g,"zoom",1),this.parent=a(g,"parent",void 0),this.scaleMode=a(g,"scaleMode",0),this.expandParent=a(g,"expandParent",!0),this.autoRound=a(g,"autoRound",!1),this.autoCenter=a(g,"autoCenter",0),this.resizeInterval=a(g,"resizeInterval",500),this.fullscreenTarget=a(g,"fullscreenTarget",null),this.minWidth=a(g,"minWidth",0),this.maxWidth=a(g,"maxWidth",0),this.minHeight=a(g,"minHeight",0),this.maxHeight=a(g,"maxHeight",0);var T=a(g,"scale",null);T&&(this.width=a(T,"width",this.width),this.height=a(T,"height",this.height),this.zoom=a(T,"zoom",this.zoom),this.parent=a(T,"parent",this.parent),this.scaleMode=a(T,"mode",this.scaleMode),this.expandParent=a(T,"expandParent",this.expandParent),this.autoRound=a(T,"autoRound",this.autoRound),this.autoCenter=a(T,"autoCenter",this.autoCenter),this.resizeInterval=a(T,"resizeInterval",this.resizeInterval),this.fullscreenTarget=a(T,"fullscreenTarget",this.fullscreenTarget),this.minWidth=a(T,"min.width",this.minWidth),this.maxWidth=a(T,"max.width",this.maxWidth),this.minHeight=a(T,"min.height",this.minHeight),this.maxHeight=a(T,"max.height",this.maxHeight)),this.renderType=a(g,"type",l.AUTO),this.canvas=a(g,"canvas",null),this.context=a(g,"context",null),this.canvasStyle=a(g,"canvasStyle",null),this.customEnvironment=a(g,"customEnvironment",!1),this.sceneConfig=a(g,"scene",null),this.seed=a(g,"seed",[(Date.now()*Math.random()).toString()]),n.RND=new n.RandomDataGenerator(this.seed),this.gameTitle=a(g,"title",""),this.gameURL=a(g,"url","https://phaser.io"),this.gameVersion=a(g,"version",""),this.autoFocus=a(g,"autoFocus",!0),this.domCreateContainer=a(g,"dom.createContainer",!1),this.domBehindCanvas=a(g,"dom.behindCanvas",!1),this.domPointerEvents=a(g,"dom.pointerEvents","none"),this.inputKeyboard=a(g,"input.keyboard",!0),this.inputKeyboardEventTarget=a(g,"input.keyboard.target",window),this.inputKeyboardCapture=a(g,"input.keyboard.capture",[]),this.inputMouse=a(g,"input.mouse",!0),this.inputMouseEventTarget=a(g,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(g,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(g,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(g,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(g,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(g,"input.touch",s.input.touch),this.inputTouchEventTarget=a(g,"input.touch.target",null),this.inputTouchCapture=a(g,"input.touch.capture",!0),this.inputActivePointers=a(g,"input.activePointers",1),this.inputSmoothFactor=a(g,"input.smoothFactor",0),this.inputWindowEvents=a(g,"input.windowEvents",!0),this.inputGamepad=a(g,"input.gamepad",!1),this.inputGamepadEventTarget=a(g,"input.gamepad.target",window),this.disableContextMenu=a(g,"disableContextMenu",!1),this.audio=a(g,"audio",{}),this.hideBanner=a(g,"banner",null)===!1,this.hidePhaser=a(g,"banner.hidePhaser",!1),this.bannerTextColor=a(g,"banner.text",y),this.bannerBackgroundColor=a(g,"banner.background",x),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(g,"fps",null);var S=a(g,"render",g);this.pipeline=a(S,"pipeline",null),this.antialias=a(S,"antialias",!0),this.antialiasGL=a(S,"antialiasGL",!0),this.mipmapFilter=a(S,"mipmapFilter","LINEAR"),this.desynchronized=a(S,"desynchronized",!1),this.roundPixels=a(S,"roundPixels",!1),this.pixelArt=a(S,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(S,"transparent",!1),this.clearBeforeRender=a(S,"clearBeforeRender",!0),this.preserveDrawingBuffer=a(S,"preserveDrawingBuffer",!1),this.premultipliedAlpha=a(S,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=a(S,"failIfMajorPerformanceCaveat",!1),this.powerPreference=a(S,"powerPreference","default"),this.batchSize=a(S,"batchSize",4096),this.maxTextures=a(S,"maxTextures",-1),this.maxLights=a(S,"maxLights",10);var E=a(g,"backgroundColor",0);this.backgroundColor=f(E),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=a(g,"callbacks.preBoot",u),this.postBoot=a(g,"callbacks.postBoot",u),this.physics=a(g,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(g,"loader.baseURL",""),this.loaderPath=a(g,"loader.path","");var C=s.os.android?6:32;this.loaderMaxParallelDownloads=a(g,"loader.maxParallelDownloads",C),this.loaderCrossOrigin=a(g,"loader.crossOrigin",void 0),this.loaderResponseType=a(g,"loader.responseType",""),this.loaderAsync=a(g,"loader.async",!0),this.loaderUser=a(g,"loader.user",""),this.loaderPassword=a(g,"loader.password",""),this.loaderTimeout=a(g,"loader.timeout",0),this.loaderWithCredentials=a(g,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=a(g,"plugins",null),P=h.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:o(A)&&(this.installGlobalPlugins=r(A,"global",[]),this.installScenePlugins=r(A,"scene",[]),Array.isArray(A.default)?P=A.default:Array.isArray(A.defaultMerge)&&(P=P.concat(A.defaultMerge)))),this.defaultPlugins=P;var R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(g,"images.default",R+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(g,"images.missing",R+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(g,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=l.WEBGL:window.FORCE_CANVAS&&(this.renderType=l.CANVAS))}});i.exports=v},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={os:t(105),browser:t(136),features:t(191),input:t(808),audio:t(809),video:t(810),fullscreen:t(811),canvasFeatures:t(348)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),l={supportInverseAlpha:!1,supportNewBlendModes:!1};function s(){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",u=new Image;return u.onload=function(){var h=new Image;h.onload=function(){var f=e.create(h,6,1),v=f.getContext("2d");if(v.globalCompositeOperation="multiply",v.drawImage(u,0,0),v.drawImage(h,2,0),!v.getImageData(2,0,1,1))return!1;var m=v.getImageData(2,0,1,1).data;e.remove(h),l.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},h.src=o+"/wCKxvRF"+n},u.src=o+"AP804Oa6"+n,!1}function r(){var o=e.create(this,2,1),n=o.getContext("2d");n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var u=n.getImageData(0,0,1,1);if(u===null)return!1;n.putImageData(u,1,0);var h=n.getImageData(1,0,1,1);return h.data[0]===u.data[0]&&h.data[1]===u.data[1]&&h.data[2]===u.data[2]&&h.data[3]===u.data[3]}function a(){return typeof importScripts!="function"&&document!==void 0&&(l.supportNewBlendModes=s(),l.supportInverseAlpha=r()),l}i.exports=a()},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){return Math.atan2(r-l,s-e)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};i.exports=t},function(i,d){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.x-l.x,r=e.y-l.y;return Math.sqrt(s*s+r*r)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=e-s,o=l-r;return a*a+o*o};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return s===void 0&&(s=1e-4),e>l-s};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return s===void 0&&(s=1e-4),e<l+s};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(357),l=function(s,r){return e(s)/e(r)/e(s-r)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(e===0)return 1;for(var l=e;--e;)l*=e;return l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a,o){var n=1-a;return n*n*n*o}function e(a,o){var n=1-a;return 3*n*n*a*o}function l(a,o){return 3*(1-a)*a*a*o}function s(a,o){return a*a*a*o}var r=function(a,o,n,u,h){return t(a,o)+e(a,n)+l(a,u)+s(a,h)};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(r,a){var o=1-r;return o*o*a}function e(r,a){return 2*(1-r)*r*a}function l(r,a){return r*r*a}var s=function(r,a,o,n){return t(r,a)+e(r,o)+l(r,n)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),l=function(s,r,a){return r+(a-r)*e(s,0,1)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l=Math.log(e)/.6931471805599453;return 1<<Math.ceil(l)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.x,r=e.y;return e.x=s*Math.cos(l)-r*Math.sin(l),e.y=s*Math.sin(l)+r*Math.cos(l),e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0?Math.ceil(e):Math.floor(e)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new l(this)},set:function(s){return this.copy(s)},copy:function(s){var r=this.val,a=s.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},fromMat4:function(s){var r=s.val,a=this.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[4],a[4]=r[5],a[5]=r[6],a[6]=r[8],a[7]=r[9],a[8]=r[10],this},fromArray:function(s){var r=this.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this},identity:function(){var s=this.val;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,this},transpose:function(){var s=this.val,r=s[1],a=s[2],o=s[5];return s[1]=s[3],s[2]=s[6],s[3]=r,s[5]=s[7],s[6]=a,s[7]=o,this},invert:function(){var s=this.val,r=s[0],a=s[1],o=s[2],n=s[3],u=s[4],h=s[5],f=s[6],v=s[7],m=s[8],g=m*u-h*v,x=-m*n+h*f,y=v*n-u*f,T=r*g+a*x+o*y;return T?(T=1/T,s[0]=g*T,s[1]=(-m*a+o*v)*T,s[2]=(h*a-o*u)*T,s[3]=x*T,s[4]=(m*r-o*f)*T,s[5]=(-h*r+o*n)*T,s[6]=y*T,s[7]=(-v*r+a*f)*T,s[8]=(u*r-a*n)*T,this):null},adjoint:function(){var s=this.val,r=s[0],a=s[1],o=s[2],n=s[3],u=s[4],h=s[5],f=s[6],v=s[7],m=s[8];return s[0]=u*m-h*v,s[1]=o*v-a*m,s[2]=a*h-o*u,s[3]=h*f-n*m,s[4]=r*m-o*f,s[5]=o*n-r*h,s[6]=n*v-u*f,s[7]=a*f-r*v,s[8]=r*u-a*n,this},determinant:function(){var s=this.val,r=s[0],a=s[1],o=s[2],n=s[3],u=s[4],h=s[5],f=s[6],v=s[7],m=s[8];return r*(m*u-h*v)+a*(-m*n+h*f)+o*(v*n-u*f)},multiply:function(s){var r=this.val,a=r[0],o=r[1],n=r[2],u=r[3],h=r[4],f=r[5],v=r[6],m=r[7],g=r[8],x=s.val,y=x[0],T=x[1],S=x[2],E=x[3],C=x[4],A=x[5],P=x[6],R=x[7],M=x[8];return r[0]=y*a+T*u+S*v,r[1]=y*o+T*h+S*m,r[2]=y*n+T*f+S*g,r[3]=E*a+C*u+A*v,r[4]=E*o+C*h+A*m,r[5]=E*n+C*f+A*g,r[6]=P*a+R*u+M*v,r[7]=P*o+R*h+M*m,r[8]=P*n+R*f+M*g,this},translate:function(s){var r=this.val,a=s.x,o=s.y;return r[6]=a*r[0]+o*r[3]+r[6],r[7]=a*r[1]+o*r[4]+r[7],r[8]=a*r[2]+o*r[5]+r[8],this},rotate:function(s){var r=this.val,a=r[0],o=r[1],n=r[2],u=r[3],h=r[4],f=r[5],v=Math.sin(s),m=Math.cos(s);return r[0]=m*a+v*u,r[1]=m*o+v*h,r[2]=m*n+v*f,r[3]=m*u-v*a,r[4]=m*h-v*o,r[5]=m*f-v*n,this},scale:function(s){var r=this.val,a=s.x,o=s.y;return r[0]=a*r[0],r[1]=a*r[1],r[2]=a*r[2],r[3]=o*r[3],r[4]=o*r[4],r[5]=o*r[5],this},fromQuat:function(s){var r=s.x,a=s.y,o=s.z,n=s.w,u=r+r,h=a+a,f=o+o,v=r*u,m=r*h,g=r*f,x=a*h,y=a*f,T=o*f,S=n*u,E=n*h,C=n*f,A=this.val;return A[0]=1-(x+T),A[3]=m+C,A[6]=g-E,A[1]=m-C,A[4]=1-(v+T),A[7]=y+S,A[2]=g+E,A[5]=y-S,A[8]=1-(v+x),this},normalFromMat4:function(s){var r=s.val,a=this.val,o=r[0],n=r[1],u=r[2],h=r[3],f=r[4],v=r[5],m=r[6],g=r[7],x=r[8],y=r[9],T=r[10],S=r[11],E=r[12],C=r[13],A=r[14],P=r[15],R=o*v-n*f,M=o*m-u*f,L=o*g-h*f,O=n*m-u*v,I=n*g-h*v,w=u*g-h*m,G=x*C-y*E,V=x*A-T*E,X=x*P-S*E,W=y*A-T*C,D=y*P-S*C,F=T*P-S*A,B=R*F-M*D+L*W+O*X-I*V+w*G;return B?(B=1/B,a[0]=(v*F-m*D+g*W)*B,a[1]=(m*X-f*F-g*V)*B,a[2]=(f*D-v*X+g*G)*B,a[3]=(u*D-n*F-h*W)*B,a[4]=(o*F-u*X+h*V)*B,a[5]=(n*X-o*D-h*G)*B,a[6]=(C*w-A*I+P*O)*B,a[7]=(A*L-E*w-P*M)*B,a[8]=(E*I-C*L+P*R)*B,this):null}});i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(364),s=t(1),r=t(39),a=1e-6,o=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),u=new r(1,0,0),h=new r(0,1,0),f=new r,v=new l,m=new e({initialize:function(x,y,T,S){this.onChangeCallback=s,this.set(x,y,T,S)},x:{get:function(){return this._x},set:function(g){this._x=g,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(g){this._y=g,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(g){this._z=g,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(g){this._w=g,this.onChangeCallback(this)}},copy:function(g){return this.set(g)},set:function(g,x,y,T,S){return S===void 0&&(S=!0),typeof g=="object"?(this._x=g.x||0,this._y=g.y||0,this._z=g.z||0,this._w=g.w||0):(this._x=g||0,this._y=x||0,this._z=y||0,this._w=T||0),S&&this.onChangeCallback(this),this},add:function(g){return this._x+=g.x,this._y+=g.y,this._z+=g.z,this._w+=g.w,this.onChangeCallback(this),this},subtract:function(g){return this._x-=g.x,this._y-=g.y,this._z-=g.z,this._w-=g.w,this.onChangeCallback(this),this},scale:function(g){return this._x*=g,this._y*=g,this._z*=g,this._w*=g,this.onChangeCallback(this),this},length:function(){var g=this.x,x=this.y,y=this.z,T=this.w;return Math.sqrt(g*g+x*x+y*y+T*T)},lengthSq:function(){var g=this.x,x=this.y,y=this.z,T=this.w;return g*g+x*x+y*y+T*T},normalize:function(){var g=this.x,x=this.y,y=this.z,T=this.w,S=g*g+x*x+y*y+T*T;return S>0&&(S=1/Math.sqrt(S),this._x=g*S,this._y=x*S,this._z=y*S,this._w=T*S),this.onChangeCallback(this),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w},lerp:function(g,x){x===void 0&&(x=0);var y=this.x,T=this.y,S=this.z,E=this.w;return this.set(y+x*(g.x-y),T+x*(g.y-T),S+x*(g.z-S),E+x*(g.w-E))},rotationTo:function(g,x){var y=g.x*x.x+g.y*x.y+g.z*x.z;return y<-.999999?(f.copy(u).cross(g).length()<a&&f.copy(h).cross(g),f.normalize(),this.setAxisAngle(f,Math.PI)):y>.999999?this.set(0,0,0,1):(f.copy(g).cross(x),this._x=f.x,this._y=f.y,this._z=f.z,this._w=1+y,this.normalize())},setAxes:function(g,x,y){var T=v.val;return T[0]=x.x,T[3]=x.y,T[6]=x.z,T[1]=y.x,T[4]=y.y,T[7]=y.z,T[2]=-g.x,T[5]=-g.y,T[8]=-g.z,this.fromMat3(v).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(g,x){x=x*.5;var y=Math.sin(x);return this.set(y*g.x,y*g.y,y*g.z,Math.cos(x))},multiply:function(g){var x=this.x,y=this.y,T=this.z,S=this.w,E=g.x,C=g.y,A=g.z,P=g.w;return this.set(x*P+S*E+y*A-T*C,y*P+S*C+T*E-x*A,T*P+S*A+x*C-y*E,S*P-x*E-y*C-T*A)},slerp:function(g,x){var y=this.x,T=this.y,S=this.z,E=this.w,C=g.x,A=g.y,P=g.z,R=g.w,M=y*C+T*A+S*P+E*R;M<0&&(M=-M,C=-C,A=-A,P=-P,R=-R);var L=1-x,O=x;if(1-M>a){var I=Math.acos(M),w=Math.sin(I);L=Math.sin((1-x)*I)/w,O=Math.sin(x*I)/w}return this.set(L*y+O*C,L*T+O*A,L*S+O*P,L*E+O*R)},invert:function(){var g=this.x,x=this.y,y=this.z,T=this.w,S=g*g+x*x+y*y+T*T,E=S?1/S:0;return this.set(-g*E,-x*E,-y*E,T*E)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(g){g*=.5;var x=this.x,y=this.y,T=this.z,S=this.w,E=Math.sin(g),C=Math.cos(g);return this.set(x*C+S*E,y*C+T*E,T*C-y*E,S*C-x*E)},rotateY:function(g){g*=.5;var x=this.x,y=this.y,T=this.z,S=this.w,E=Math.sin(g),C=Math.cos(g);return this.set(x*C-T*E,y*C+S*E,T*C+x*E,S*C-y*E)},rotateZ:function(g){g*=.5;var x=this.x,y=this.y,T=this.z,S=this.w,E=Math.sin(g),C=Math.cos(g);return this.set(x*C+y*E,y*C-x*E,T*C+S*E,S*C-T*E)},calculateW:function(){var g=this.x,x=this.y,y=this.z;return this.w=-Math.sqrt(1-g*g-x*x-y*y),this},setFromEuler:function(g,x){var y=g.x/2,T=g.y/2,S=g.z/2,E=Math.cos(y),C=Math.cos(T),A=Math.cos(S),P=Math.sin(y),R=Math.sin(T),M=Math.sin(S);switch(g.order){case"XYZ":{this.set(P*C*A+E*R*M,E*R*A-P*C*M,E*C*M+P*R*A,E*C*A-P*R*M,x);break}case"YXZ":{this.set(P*C*A+E*R*M,E*R*A-P*C*M,E*C*M-P*R*A,E*C*A+P*R*M,x);break}case"ZXY":{this.set(P*C*A-E*R*M,E*R*A+P*C*M,E*C*M+P*R*A,E*C*A-P*R*M,x);break}case"ZYX":{this.set(P*C*A-E*R*M,E*R*A+P*C*M,E*C*M-P*R*A,E*C*A+P*R*M,x);break}case"YZX":{this.set(P*C*A+E*R*M,E*R*A+P*C*M,E*C*M-P*R*A,E*C*A-P*R*M,x);break}case"XZY":{this.set(P*C*A-E*R*M,E*R*A-P*C*M,E*C*M+P*R*A,E*C*A+P*R*M,x);break}}return this},setFromRotationMatrix:function(g){var x=g.val,y=x[0],T=x[4],S=x[8],E=x[1],C=x[5],A=x[9],P=x[2],R=x[6],M=x[10],L=y+C+M,O;return L>0?(O=.5/Math.sqrt(L+1),this.set((R-A)*O,(S-P)*O,(E-T)*O,.25/O)):y>C&&y>M?(O=2*Math.sqrt(1+y-C-M),this.set(.25*O,(T+E)/O,(S+P)/O,(R-A)/O)):C>M?(O=2*Math.sqrt(1+C-y-M),this.set((T+E)/O,.25*O,(A+R)/O,(S-P)/O)):(O=2*Math.sqrt(1+M-y-C),this.set((S+P)/O,(A+R)/O,.25*O,(E-T)/O)),this},fromMat3:function(g){var x=g.val,y=x[0]+x[4]+x[8],T;if(y>0)T=Math.sqrt(y+1),this.w=.5*T,T=.5/T,this._x=(x[7]-x[5])*T,this._y=(x[2]-x[6])*T,this._z=(x[3]-x[1])*T;else{var S=0;x[4]>x[0]&&(S=1),x[8]>x[S*3+S]&&(S=2);var E=o[S],C=o[E];T=Math.sqrt(x[S*3+S]-x[E*3+E]-x[C*3+C]+1),n[S]=.5*T,T=.5/T,n[E]=(x[E*3+S]+x[S*3+E])*T,n[C]=(x[C*3+S]+x[S*3+C])*T,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(x[C*3+E]-x[E*3+C])*T}return this.onChangeCallback(this),this}});i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(367),l=t(31),s=t(33),r=t(191),a=function(o){var n=o.config;if((n.customEnvironment||n.canvas)&&n.renderType===s.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==s.HEADLESS)if(n.renderType===s.CANVAS||n.renderType!==s.CANVAS&&!r.webGL)if(r.canvas)n.renderType=s.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else n.renderType=s.WEBGL;n.antialias||l.disableSmoothing();var u=o.scale.baseSize,h=u.width,f=u.height;if(n.canvas?(o.canvas=n.canvas,o.canvas.width=h,o.canvas.height=f):o.canvas=l.create(o,h,f,n.renderType),n.canvasStyle&&(o.canvas.style=n.canvasStyle),n.antialias||e.setCrisp(o.canvas),n.renderType!==s.HEADLESS){var v,m;v=t(368),m=t(371),n.renderType===s.WEBGL?o.renderer=new m(o):(o.renderer=new v(o),o.context=o.renderer.gameContext)}};i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCrisp:function(e){var l=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return l.forEach(function(s){e.style["image-rendering"]=s}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(37),l=t(369),s=t(0),r=t(33),a=t(9),o=t(91),n=t(370),u=t(104),h=t(106),f=t(25),v=new s({Extends:a,initialize:function(g){a.call(this);var x=g.config;this.config={clearBeforeRender:x.clearBeforeRender,backgroundColor:x.backgroundColor,antialias:x.antialias,roundPixels:x.roundPixels},this.game=g,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=g.canvas;var y={alpha:g.config.transparent,desynchronized:g.config.desynchronized};this.gameContext=x.context?x.context:this.gameCanvas.getContext("2d",y),this.currentContext=this.gameContext,this.antialias=g.config.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(h.READY,this.boot,this)},boot:function(){var m=this.game,g=m.scale.baseSize;this.width=g.width,this.height=g.height,this.isBooted=!0,m.scale.on(u.RESIZE,this.onResize,this),this.resize(g.width,g.height)},onResize:function(m,g){(g.width!==this.width||g.height!==this.height)&&this.resize(g.width,g.height)},resize:function(m,g){this.width=m,this.height=g,this.emit(o.RESIZE,m,g)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(m){return this.currentContext.globalCompositeOperation=m,this},setContext:function(m){return this.currentContext=m||this.gameContext,this},setAlpha:function(m){return this.currentContext.globalAlpha=m,this},preRender:function(){var m=this.gameContext,g=this.config,x=this.width,y=this.height;m.globalAlpha=1,m.globalCompositeOperation="source-over",m.setTransform(1,0,0,1,0,0),g.clearBeforeRender&&(m.clearRect(0,0,x,y),g.transparent||(m.fillStyle=g.backgroundColor.rgba,m.fillRect(0,0,x,y))),m.save(),this.drawCount=0,this.emit(o.PRE_RENDER)},render:function(m,g,x){var y=g.length;this.emit(o.RENDER,m,x);var T=x.x,S=x.y,E=x.width,C=x.height,A=x.renderToTexture?x.context:m.sys.context;A.save(),this.game.scene.customViewports&&(A.beginPath(),A.rect(T,S,E,C),A.clip()),this.currentContext=A;var P=x.mask;P&&P.preRenderCanvas(this,null,x._maskCamera),x.transparent||(A.fillStyle=x.backgroundColor.rgba,A.fillRect(T,S,E,C)),A.globalAlpha=x.alpha,A.globalCompositeOperation="source-over",this.drawCount+=y,x.renderToTexture&&x.emit(e.PRE_RENDER,x),x.matrix.copyToContext(A);for(var R=0;R<y;R++){var M=g[R];M.mask&&M.mask.preRenderCanvas(this,M,x),M.renderCanvas(this,M,x),M.mask&&M.mask.postRenderCanvas(this,M,x)}A.setTransform(1,0,0,1,0,0),A.globalCompositeOperation="source-over",A.globalAlpha=1,x.flashEffect.postRenderCanvas(A),x.fadeEffect.postRenderCanvas(A),x.dirty=!1,P&&P.postRenderCanvas(this),A.restore(),x.renderToTexture&&(x.emit(e.POST_RENDER,x),x.renderToGame&&m.sys.context.drawImage(x.canvas,T,S))},postRender:function(){var m=this.gameContext;m.restore(),this.emit(o.POST_RENDER);var g=this.snapshotState;g.callback&&(l(this.gameCanvas,g),g.callback=null)},snapshotCanvas:function(m,g,x,y,T,S,E,C,A){x===void 0&&(x=!1),this.snapshotArea(y,T,S,E,g,C,A);var P=this.snapshotState;return P.getPixel=x,l(this.canvas,P),P.callback=null,this},snapshot:function(m,g,x){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,m,g,x)},snapshotArea:function(m,g,x,y,T,S,E){var C=this.snapshotState;return C.callback=T,C.type=S,C.encoder=E,C.getPixel=!1,C.x=m,C.y=g,C.width=Math.min(x,this.gameCanvas.width),C.height=Math.min(y,this.gameCanvas.height),this},snapshotPixel:function(m,g,x){return this.snapshotArea(m,g,1,1,x),this.snapshotState.getPixel=!0,this},batchSprite:function(m,g,x,y){var T=x.alpha*m.alpha;if(T!==0){var S=this.currentContext,E=this._tempMatrix1,C=this._tempMatrix2,A=g.canvasData,P=A.x,R=A.y,M=g.cutWidth,L=g.cutHeight,O=g.customPivot,I=g.source.resolution,w=m.displayOriginX,G=m.displayOriginY,V=-w+g.x,X=-G+g.y;if(m.isCropped){var W=m._crop;(W.flipX!==m.flipX||W.flipY!==m.flipY)&&g.updateCropUVs(W,m.flipX,m.flipY),M=W.cw,L=W.ch,P=W.cx,R=W.cy,V=-w+W.x,X=-G+W.y,m.flipX&&(V>=0?V=-(V+M):V<0&&(V=Math.abs(V)-M)),m.flipY&&(X>=0?X=-(X+L):X<0&&(X=Math.abs(X)-L))}var D=1,F=1;m.flipX&&(O||(V+=-g.realWidth+w*2),D=-1),m.flipY&&(O||(X+=-g.realHeight+G*2),F=-1),C.applyITRS(m.x,m.y,m.rotation,m.scaleX*D,m.scaleY*F),E.copyFrom(x.matrix),y?(E.multiplyWithOffset(y,-x.scrollX*m.scrollFactorX,-x.scrollY*m.scrollFactorY),C.e=m.x,C.f=m.y):(C.e-=x.scrollX*m.scrollFactorX,C.f-=x.scrollY*m.scrollFactorY),E.multiply(C),S.save(),E.setToContext(S),S.globalCompositeOperation=this.blendModes[m.blendMode],S.globalAlpha=T,S.imageSmoothingEnabled=!(!this.antialias||g.source.scaleMode),m.mask&&m.mask.preRenderCanvas(this,m,x),S.drawImage(g.source.image,P,R,M,L,V,X,M/I,L/I),m.mask&&m.mask.postRenderCanvas(this,m,x),S.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});i.exports=v},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),l=t(38),s=t(2),r=function(a,o){var n=s(o,"callback"),u=s(o,"type","image/png"),h=s(o,"encoder",.92),f=Math.abs(Math.round(s(o,"x",0))),v=Math.abs(Math.round(s(o,"y",0))),m=s(o,"width",a.width),g=s(o,"height",a.height),x=s(o,"getPixel",!1);if(x){var y=a.getContext("2d"),T=y.getImageData(f,v,1,1),S=T.data;n.call(null,new l(S[0],S[1],S[2],S[3]/255))}else if(f!==0||v!==0||m!==a.width||g!==a.height){var E=e.createWebGL(this,m,g),C=E.getContext("2d");C.drawImage(a,f,v,m,g,0,0,m,g);var A=new Image;A.onerror=function(){n.call(null),e.remove(E)},A.onload=function(){n.call(null,A),e.remove(E)},A.src=E.toDataURL(u,h)}else{var P=new Image;P.onerror=function(){n.call(null)},P.onload=function(){n.call(null,P)},P.src=a.toDataURL(u,h)}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),l=t(348),s=function(){var r=[],a=l.supportNewBlendModes,o="source-over";return r[e.NORMAL]=o,r[e.ADD]="lighter",r[e.MULTIPLY]=a?"multiply":o,r[e.SCREEN]=a?"screen":o,r[e.OVERLAY]=a?"overlay":o,r[e.DARKEN]=a?"darken":o,r[e.LIGHTEN]=a?"lighten":o,r[e.COLOR_DODGE]=a?"color-dodge":o,r[e.COLOR_BURN]=a?"color-burn":o,r[e.HARD_LIGHT]=a?"hard-light":o,r[e.SOFT_LIGHT]=a?"soft-light":o,r[e.DIFFERENCE]=a?"difference":o,r[e.EXCLUSION]=a?"exclusion":o,r[e.HUE]=a?"hue":o,r[e.SATURATION]=a?"saturation":o,r[e.COLOR]=a?"color":o,r[e.LUMINOSITY]=a?"luminosity":o,r[e.ERASE]="destination-out",r[e.SOURCE_IN]="source-in",r[e.SOURCE_OUT]="source-out",r[e.SOURCE_ATOP]="source-atop",r[e.DESTINATION_OVER]="destination-over",r[e.DESTINATION_IN]="destination-in",r[e.DESTINATION_OUT]="destination-out",r[e.DESTINATION_ATOP]="destination-atop",r[e.LIGHTER]="lighter",r[e.COPY]="copy",r[e.XOR]="xor",r};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),l=t(37),s=t(0),r=t(33),a=t(9),o=t(91),n=t(22),u=t(138),h=t(69),f=t(1),v=t(372),m=t(141),g=t(104),x=t(106),y=t(12),T=t(383),S=new s({Extends:a,initialize:function(C){a.call(this);var A=C.config,P={alpha:A.transparent,desynchronized:A.desynchronized,depth:!1,antialias:A.antialiasGL,premultipliedAlpha:A.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:A.failIfMajorPerformanceCaveat,powerPreference:A.powerPreference,preserveDrawingBuffer:A.preserveDrawingBuffer};this.config={clearBeforeRender:A.clearBeforeRender,antialias:A.antialias,backgroundColor:A.backgroundColor,contextCreation:P,roundPixels:A.roundPixels,maxTextures:A.maxTextures,maxTextureSize:A.maxTextureSize,batchSize:A.batchSize,maxLights:A.maxLights,mipmapFilter:A.mipmapFilter},this.game=C,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=C.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=f,this.contextRestoredHandler=f,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(E){var C,A=this.game,P=this.canvas,R=E.backgroundColor;if(A.config.context?C=A.config.context:C=P.getContext("webgl",E.contextCreation)||P.getContext("experimental-webgl",E.contextCreation),!C||C.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=C;var M=this;this.contextLostHandler=function(B){M.contextLost=!0,M.game.events.emit(n.CONTEXT_LOST,M),B.preventDefault()},this.contextRestoredHandler=function(){M.contextLost=!1,M.init(M.config),M.game.events.emit(n.CONTEXT_RESTORED,M)},P.addEventListener("webglcontextlost",this.contextLostHandler,!1),P.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),A.context=C;for(var L=0;L<=27;L++)this.blendModes.push({func:[C.ONE,C.ONE_MINUS_SRC_ALPHA],equation:C.FUNC_ADD});this.blendModes[1].func=[C.ONE,C.DST_ALPHA],this.blendModes[2].func=[C.DST_COLOR,C.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[C.ONE,C.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[C.ZERO,C.ONE_MINUS_SRC_ALPHA],equation:C.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=C.BYTE,this.glFormats[1]=C.SHORT,this.glFormats[2]=C.UNSIGNED_BYTE,this.glFormats[3]=C.UNSIGNED_SHORT,this.glFormats[4]=C.FLOAT,this.glFuncMap={mat2:{func:C.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:C.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:C.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:C.uniform1f,length:1},"1fv":{func:C.uniform1fv,length:1},"1i":{func:C.uniform1i,length:1},"1iv":{func:C.uniform1iv,length:1},"2f":{func:C.uniform2f,length:2},"2fv":{func:C.uniform2fv,length:1},"2i":{func:C.uniform2i,length:2},"2iv":{func:C.uniform2iv,length:1},"3f":{func:C.uniform3f,length:3},"3fv":{func:C.uniform3fv,length:1},"3i":{func:C.uniform3i,length:3},"3iv":{func:C.uniform3iv,length:1},"4f":{func:C.uniform4f,length:4},"4fv":{func:C.uniform4fv,length:1},"4i":{func:C.uniform4i,length:4},"4iv":{func:C.uniform4iv,length:1}};var O=C.getSupportedExtensions();(!E.maxTextures||E.maxTextures===-1)&&(E.maxTextures=C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS)),E.maxTextureSize||(E.maxTextureSize=C.getParameter(C.MAX_TEXTURE_SIZE));var I="WEBGL_compressed_texture_",w="WEBKIT_"+I;this.compression.ETC1=C.getExtension(I+"etc1")||C.getExtension(w+"etc1"),this.compression.PVRTC=C.getExtension(I+"pvrtc")||C.getExtension(w+"pvrtc"),this.compression.S3TC=C.getExtension(I+"s3tc")||C.getExtension(w+"s3tc"),this.supportedExtensions=O;var G="ANGLE_instanced_arrays";this.instancedArraysExtension=O.indexOf(G)>-1?C.getExtension(G):null;var V="OES_vertex_array_object";this.vaoExtension=O.indexOf(V)>-1?C.getExtension(V):null,C.disable(C.DEPTH_TEST),C.disable(C.CULL_FACE),C.enable(C.BLEND),C.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),this.mipmapFilter=C[E.mipmapFilter],this.maxTextures=y.checkShaderMax(C,E.maxTextures),this.textureIndexes=[];var X=this.tempTextures;if(Array.isArray(X))for(var W=0;L<this.maxTextures;W++)C.deleteTexture(X[W]);else X=new Array(this.maxTextures);for(var D=0;D<this.maxTextures;D++){var F=C.createTexture();C.activeTexture(C.TEXTURE0+D),C.bindTexture(C.TEXTURE_2D,F),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,1,1,0,C.RGBA,C.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),X[D]=F,this.textureIndexes.push(D)}return this.tempTextures=X,this.currentActiveTexture=1,this.startActiveTexture++,C.activeTexture(C.TEXTURE1),this.pipelines=new v(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new h().identity(),A.textures.once(x.READY,this.boot,this),this},boot:function(){var E=this.game,C=this.pipelines,A=E.scale.baseSize;this.width=A.width,this.height=A.height,this.isBooted=!0,this.renderTarget=new m(this,this.width,this.height,1,0,!0,!0),C.boot(E.config.pipeline),this.blankTexture=E.textures.getFrame("__DEFAULT"),this.whiteTexture=E.textures.getFrame("__WHITE");var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,null),P.enable(P.SCISSOR_TEST),E.scale.on(g.RESIZE,this.onResize,this),this.resize(A.width,A.height)},onResize:function(E,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},beginCapture:function(E,C){E===void 0&&(E=this.width),C===void 0&&(C=this.height),this.renderTarget.bind(!0,E,C),this.setProjectionMatrix(E,C),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(E,C){var A=this.gl;return this.width=E,this.height=C,this.setProjectionMatrix(E,C),A.viewport(0,0,E,C),this.drawingBufferHeight=A.drawingBufferHeight,A.scissor(0,A.drawingBufferHeight-C,E,C),this.defaultScissor[2]=E,this.defaultScissor[3]=C,this.emit(o.RESIZE,E,C),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(E,C){return(E!==this.projectionWidth||C!==this.projectionHeight)&&(this.projectionWidth=E,this.projectionHeight=C,this.projectionMatrix.ortho(0,E,C,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(E){return this.supportedExtensions?this.supportedExtensions.indexOf(E):!1},getExtension:function(E){return this.hasExtension(E)?(E in this.extensions||(this.extensions[E]=this.gl.getExtension(E)),this.extensions[E]):null},flush:function(){this.pipelines.flush()},pushScissor:function(E,C,A,P,R){R===void 0&&(R=this.drawingBufferHeight);var M=this.scissorStack,L=[E,C,A,P];return M.push(L),this.setScissor(E,C,A,P,R),this.currentScissor=L,L},setScissor:function(E,C,A,P,R){R===void 0&&(R=this.drawingBufferHeight);var M=this.gl,L=this.currentScissor,O=A>0&&P>0;if(L&&O){var I=L[0],w=L[1],G=L[2],V=L[3];O=I!==E||w!==C||G!==A||V!==P}O&&(this.flush(),M.scissor(E,R-C-P,A,P))},resetScissor:function(){var E=this.gl;E.enable(E.SCISSOR_TEST);var C=this.currentScissor;if(C){var A=C[0],P=C[1],R=C[2],M=C[3];R>0&&M>0&&E.scissor(A,this.drawingBufferHeight-P-M,R,M)}},popScissor:function(){var E=this.scissorStack;E.pop();var C=E[E.length-1];C&&this.setScissor(C[0],C[1],C[2],C[3]),this.currentScissor=C},hasActiveStencilMask:function(){var E=this.currentMask.mask,C=this.currentCameraMask.mask;return E&&E.isStencil||C&&C.isStencil},resetViewport:function(){var E=this.gl;E.viewport(0,0,this.width,this.height),this.drawingBufferHeight=E.drawingBufferHeight},setBlendMode:function(E,C){C===void 0&&(C=!1);var A=this.gl,P=this.blendModes[E];return C||E!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==E?(this.flush(),A.enable(A.BLEND),A.blendEquation(P.equation),P.func.length>2?A.blendFuncSeparate(P.func[0],P.func[1],P.func[2],P.func[3]):A.blendFunc(P.func[0],P.func[1]),this.currentBlendMode=E,!0):!1},addBlendMode:function(E,C){var A=this.blendModes.push({func:E,equation:C});return A-1},updateBlendMode:function(E,C,A){return this.blendModes[E]&&(this.blendModes[E].func=C,A&&(this.blendModes[E].equation=A)),this},removeBlendMode:function(E){return E>17&&this.blendModes[E]&&this.blendModes.splice(E,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(E){if(this.pipelines.forceZero())return this.setTextureZero(E.glTexture,!0),0;var C=this.gl,A=this.currentActiveTexture;return E.glIndexCounter<this.startActiveTexture&&(E.glIndexCounter=this.startActiveTexture,A<this.maxTextures?(E.glIndex=A,C.activeTexture(C.TEXTURE0+A),C.bindTexture(C.TEXTURE_2D,E.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,E.glIndexCounter=this.startActiveTexture,E.glIndex=1,C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,E.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,E.glIndex},isNewNormalMap:function(E,C){return this.textureZero!==E||this.normalTexture!==C},setTextureZero:function(E,C){if(this.textureZero!==E){C&&this.flush();var A=this.gl;A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,E),this.textureZero=E}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(E){if(this.normalTexture!==E){var C=this.gl;C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,E),this.normalTexture=E,this.currentActiveTexture===1&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var E=this.gl,C=this.tempTextures,A=0;A<C.length;A++)E.activeTexture(E.TEXTURE0+A),E.bindTexture(E.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(E){if(E===void 0&&(E=!1),!this.isTextureClean){this.flush();var C=this.gl,A=this.tempTextures;if(E){for(var P=0;P<A.length;P++)C.activeTexture(C.TEXTURE0+P),C.bindTexture(C.TEXTURE_2D,A[P]);C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,A[1]),this.isTextureClean=!0}else C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,A[0]),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,A[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(E){if(this.pipelines.forceZero())return this.setTextureZero(E,!0),0;var C=this.gl,A=this.currentActiveTexture;return E.glIndexCounter<this.startActiveTexture&&(E.glIndexCounter=this.startActiveTexture,A<this.maxTextures?(E.glIndex=A,C.activeTexture(C.TEXTURE0+A),C.bindTexture(C.TEXTURE_2D,E),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,E.glIndexCounter=this.startActiveTexture,E.glIndex=1,C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,E),this.currentActiveTexture=2)),this.isTextureClean=!1,E.glIndex},pushFramebuffer:function(E,C,A,P){return E===this.currentFramebuffer?this:(this.fboStack.push(E),this.setFramebuffer(E,C,A,P))},setFramebuffer:function(E,C,A,P){if(C===void 0&&(C=!1),A===void 0&&(A=!1),P===void 0&&(P=!0),E===this.currentFramebuffer)return this;var R=this.gl,M=this.width,L=this.height;return E&&E.renderTexture&&P?(M=E.renderTexture.width,L=E.renderTexture.height):this.flush(),R.bindFramebuffer(R.FRAMEBUFFER,E),P&&R.viewport(0,0,M,L),C&&(E?(this.drawingBufferHeight=L,this.pushScissor(0,0,M,L)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=E,A&&this.resetTextures(),this},popFramebuffer:function(E,C,A){E===void 0&&(E=!1),C===void 0&&(C=!1),A===void 0&&(A=!0);var P=this.fboStack;P.pop();var R=P[P.length-1];return R||(R=null),this.setFramebuffer(R,E,C,A),R},setProgram:function(E){return E!==this.currentProgram?(this.flush(),this.gl.useProgram(E),this.currentProgram=E,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(E,C,A,P){var R=this.gl,M=R.NEAREST,L=R.NEAREST,O=R.CLAMP_TO_EDGE,I=null;C=E?E.width:C,A=E?E.height:A;var w=u(C,A);return w&&(O=R.REPEAT),P===r.ScaleModes.LINEAR&&this.config.antialias&&(M=w?this.mipmapFilter:R.LINEAR,L=R.LINEAR),!E&&typeof C=="number"&&typeof A=="number"?I=this.createTexture2D(0,M,L,O,O,R.RGBA,null,C,A):I=this.createTexture2D(0,M,L,O,O,R.RGBA,E),I},createTexture2D:function(E,C,A,P,R,M,L,O,I,w,G,V){w=w==null?!0:w,G===void 0&&(G=!1),V===void 0&&(V=!1);var X=this.gl,W=X.createTexture();X.activeTexture(X.TEXTURE0);var D=X.getParameter(X.TEXTURE_BINDING_2D);return X.bindTexture(X.TEXTURE_2D,W),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,C),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,A),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,R),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,P),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,w),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,V),L==null?X.texImage2D(X.TEXTURE_2D,E,M,O,I,0,M,X.UNSIGNED_BYTE,null):(G||(O=L.width,I=L.height),X.texImage2D(X.TEXTURE_2D,E,M,M,X.UNSIGNED_BYTE,L)),u(O,I)&&X.generateMipmap(X.TEXTURE_2D),D&&X.bindTexture(X.TEXTURE_2D,D),W.isAlphaPremultiplied=w,W.isRenderTexture=!1,W.width=O,W.height=I,W.glIndex=0,W.glIndexCounter=-1,W},createFramebuffer:function(E,C,A,P){var R=this.gl,M=R.createFramebuffer(),L=0;if(this.setFramebuffer(M),P){var O=R.createRenderbuffer();R.bindRenderbuffer(R.RENDERBUFFER,O),R.renderbufferStorage(R.RENDERBUFFER,R.DEPTH_STENCIL,E,C),R.framebufferRenderbuffer(R.FRAMEBUFFER,R.DEPTH_STENCIL_ATTACHMENT,R.RENDERBUFFER,O)}if(A.isRenderTexture=!0,A.isAlphaPremultiplied=!1,R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,A,0),L=R.checkFramebufferStatus(R.FRAMEBUFFER),L!==R.FRAMEBUFFER_COMPLETE){var I={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+I[L])}return M.renderTexture=A,this.setFramebuffer(null),this.resetTextures(),M},createProgram:function(E,C){var A=this.gl,P=A.createProgram(),R=A.createShader(A.VERTEX_SHADER),M=A.createShader(A.FRAGMENT_SHADER);if(A.shaderSource(R,E),A.shaderSource(M,C),A.compileShader(R),A.compileShader(M),!A.getShaderParameter(R,A.COMPILE_STATUS))throw new Error(`Vertex Shader failed:
`+A.getShaderInfoLog(R));if(!A.getShaderParameter(M,A.COMPILE_STATUS))throw new Error(`Fragment Shader failed:
`+A.getShaderInfoLog(M));if(A.attachShader(P,R),A.attachShader(P,M),A.linkProgram(P),!A.getProgramParameter(P,A.LINK_STATUS))throw new Error(`Link Program failed:
`+A.getProgramInfoLog(P));return A.useProgram(P),P},createVertexBuffer:function(E,C){var A=this.gl,P=A.createBuffer();return A.bindBuffer(A.ARRAY_BUFFER,P),A.bufferData(A.ARRAY_BUFFER,E,C),A.bindBuffer(A.ARRAY_BUFFER,null),P},createIndexBuffer:function(E,C){var A=this.gl,P=A.createBuffer();return A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,P),A.bufferData(A.ELEMENT_ARRAY_BUFFER,E,C),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,null),P},deleteTexture:function(E,C){return C&&this.resetTextures(!0),E&&this.gl.deleteTexture(E),this},deleteFramebuffer:function(E){return E&&(this.gl.deleteFramebuffer(E),e(this.fboStack,E),this.currentFramebuffer===E&&(this.currentFramebuffer=null)),this},deleteProgram:function(E){return E&&this.gl.deleteProgram(E),this},deleteBuffer:function(E){return this.gl.deleteBuffer(E),this},preRenderCamera:function(E){var C=E.x,A=E.y,P=E.width,R=E.height,M=E.backgroundColor;if(E.emit(l.PRE_RENDER,E),this.pipelines.preBatchCamera(E),this.pushScissor(C,A,P,R),E.mask&&(this.currentCameraMask.mask=E.mask,this.currentCameraMask.camera=E._maskCamera,E.mask.preRenderWebGL(this,E,E._maskCamera)),M.alphaGL>0){var L=this.pipelines.setMulti();L.drawFillRect(C,A,P,R,y.getTintFromFloats(M.blueGL,M.greenGL,M.redGL,1),M.alphaGL)}},getCurrentStencilMask:function(){var E=null,C=this.maskStack,A=this.currentCameraMask;return C.length>0?E=C[C.length-1]:A.mask&&A.mask.isStencil&&(E=A),E},postRenderCamera:function(E){var C=E.flashEffect,A=E.fadeEffect;if(C.isRunning||A.isRunning||A.isComplete){var P=this.pipelines.setMulti();C.postRenderWebGL(P,y.getTintFromFloats),A.postRenderWebGL(P,y.getTintFromFloats)}E.dirty=!1,this.popScissor(),E.mask&&(this.currentCameraMask.mask=null,E.mask.postRenderWebGL(this,E._maskCamera)),this.pipelines.postBatchCamera(E),E.emit(l.POST_RENDER,E)},preRender:function(){if(!this.contextLost){var E=this.gl;if(E.bindFramebuffer(E.FRAMEBUFFER,null),this.config.clearBeforeRender){var C=this.config.backgroundColor;E.clearColor(C.redGL,C.greenGL,C.blueGL,C.alphaGL),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT|E.STENCIL_BUFFER_BIT)}E.enable(E.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&E.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(o.PRE_RENDER)}},render:function(E,C,A){if(!this.contextLost){var P=C.length;if(this.emit(o.RENDER,E,A),this.preRenderCamera(A),P===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(A);return}this.currentType="";for(var R=this.currentMask,M=0;M<P;M++){this.finalType=M===P-1;var L=C[M],O=L.mask;R=this.currentMask,R.mask&&R.mask!==O&&R.mask.postRenderWebGL(this,R.camera),O&&R.mask!==O&&O.preRenderWebGL(this,L,A),L.blendMode!==this.currentBlendMode&&this.setBlendMode(L.blendMode);var I=L.type;I!==this.currentType&&(this.newType=!0,this.currentType=I),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=C[M+1].type===this.currentType,L.renderWebGL(this,L,A),this.newType=!1}R=this.currentMask,R.mask&&R.mask.postRenderWebGL(this,R.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(A)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(o.POST_RENDER);var E=this.snapshotState;E.callback&&(T(this.canvas,E),E.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(E,C,A){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,E,C,A)},snapshotArea:function(E,C,A,P,R,M,L){var O=this.snapshotState;return O.callback=R,O.type=M,O.encoder=L,O.getPixel=!1,O.x=E,O.y=C,O.width=Math.min(A,this.gl.drawingBufferWidth),O.height=Math.min(P,this.gl.drawingBufferHeight),this},snapshotPixel:function(E,C,A){return this.snapshotArea(E,C,1,1,A),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(E,C,A,P,R,M,L,O,I,w,G){R===void 0&&(R=!1),M===void 0&&(M=0),L===void 0&&(L=0),O===void 0&&(O=C),I===void 0&&(I=A);var V=this.currentFramebuffer;this.snapshotArea(M,L,O,I,P,w,G);var X=this.snapshotState;return X.getPixel=R,X.isFramebuffer=!0,X.bufferWidth=C,X.bufferHeight=A,this.setFramebuffer(E),T(this.canvas,X),this.setFramebuffer(V),X.callback=null,X.isFramebuffer=!1,this},canvasToTexture:function(E,C,A,P){return A===void 0&&(A=!1),P===void 0&&(P=!1),C?this.updateCanvasTexture(E,C,P):this.createCanvasTexture(E,A,P)},createCanvasTexture:function(E,C,A){C===void 0&&(C=!1),A===void 0&&(A=!1);var P=this.gl,R=P.NEAREST,M=P.NEAREST,L=E.width,O=E.height,I=P.CLAMP_TO_EDGE,w=u(L,O);return!C&&w&&(I=P.REPEAT),this.config.antialias&&(R=w?this.mipmapFilter:P.LINEAR,M=P.LINEAR),this.createTexture2D(0,R,M,I,I,P.RGBA,E,L,O,!0,!1,A)},updateCanvasTexture:function(E,C,A){A===void 0&&(A=!1);var P=this.gl,R=E.width,M=E.height;if(R>0&&M>0){P.activeTexture(P.TEXTURE0);var L=P.getParameter(P.TEXTURE_BINDING_2D);P.bindTexture(P.TEXTURE_2D,C),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,A),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,E),C.width=R,C.height=M,L&&P.bindTexture(P.TEXTURE_2D,L)}return C},createVideoTexture:function(E,C,A){C===void 0&&(C=!1),A===void 0&&(A=!1);var P=this.gl,R=P.NEAREST,M=P.NEAREST,L=E.videoWidth,O=E.videoHeight,I=P.CLAMP_TO_EDGE,w=u(L,O);return!C&&w&&(I=P.REPEAT),this.config.antialias&&(R=w?this.mipmapFilter:P.LINEAR,M=P.LINEAR),this.createTexture2D(0,R,M,I,I,P.RGBA,E,L,O,!0,!0,A)},updateVideoTexture:function(E,C,A){A===void 0&&(A=!1);var P=this.gl,R=E.videoWidth,M=E.videoHeight;if(R>0&&M>0){P.activeTexture(P.TEXTURE0);var L=P.getParameter(P.TEXTURE_BINDING_2D);P.bindTexture(P.TEXTURE_2D,C),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,A),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,E),C.width=R,C.height=M,L&&P.bindTexture(P.TEXTURE_2D,L)}return C},setTextureFilter:function(E,C){var A=this.gl,P=[A.LINEAR,A.NEAREST][C];A.activeTexture(A.TEXTURE0);var R=A.getParameter(A.TEXTURE_BINDING_2D);return A.bindTexture(A.TEXTURE_2D,E),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,P),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,P),R&&A.bindTexture(A.TEXTURE_2D,R),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var E=this.gl,C=this.tempTextures,A=0;A<C.length;A++)E.deleteTexture(C[A]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});i.exports=S},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(92),s=t(102),r=t(373),a=t(376),o=t(377),n=t(108),u=t(378),h=t(379),f=t(380),v=t(381),m=new e({initialize:function(x){this.game=x.game,this.renderer=x,this.classes=new s([[l.UTILITY_PIPELINE,v],[l.MULTI_PIPELINE,n],[l.BITMAPMASK_PIPELINE,r],[l.SINGLE_PIPELINE,f],[l.ROPE_PIPELINE,h],[l.LIGHT_PIPELINE,o],[l.POINTLIGHT_PIPELINE,u],[l.GRAPHICS_PIPELINE,a]]),this.postPipelineClasses=new s,this.pipelines=new s,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(g){var x,y,T=this,S=this.game;if(this.classes.each(function(C,A){x=T.add(C,new A({game:S})),C===l.UTILITY_PIPELINE&&(T.UTILITY_PIPELINE=x,T.fullFrame1=x.fullFrame1,T.fullFrame2=x.fullFrame2,T.halfFrame1=x.halfFrame1,T.halfFrame2=x.halfFrame2)}),this.MULTI_PIPELINE=this.get(l.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(l.BITMAPMASK_PIPELINE),g)for(y in g){var E=g[y];x=new E(S),x.isPostFX?this.postPipelineClasses.set(y,E):this.has(y)||(this.classes.set(y,E),this.add(y,x))}},add:function(g,x){if(x.isPostFX){console.warn(g+" is a Post Pipeline. Use `addPostPipeline` instead");return}var y=this.pipelines,T=this.renderer;return y.has(g)?console.warn("Pipeline exists: "+g):(x.name=g,x.manager=this,y.set(g,x)),x.hasBooted||x.boot(),T.width!==0&&T.height!==0&&x.resize(T.width,T.height),x},addPostPipeline:function(g,x){this.postPipelineClasses.has(g)||this.postPipelineClasses.set(g,x)},flush:function(){this.current&&this.current.flush()},has:function(g){var x=this.pipelines;return typeof g=="string"?x.has(g):!!x.contains(g)},get:function(g){var x=this.pipelines;if(typeof g=="string")return x.get(g);if(x.contains(g))return g},getPostPipeline:function(g,x){var y=this.postPipelineClasses,T;if(typeof g=="string"?T=y.get(g):typeof g=="function"?y.contains(g)&&(T=g):typeof g=="object"&&(T=y.get(g.name)),T){var S=new T(this.game);return x&&(S.gameObject=x),S}},remove:function(g,x,y){x===void 0&&(x=!0),y===void 0&&(y=!0),this.pipelines.delete(g),x&&this.classes.delete(g),y&&this.postPipelineClasses.delete(g)},set:function(g,x,y){if(!g.isPostFX)return this.isCurrent(g,y)||(this.flush(),this.current&&this.current.unbind(),this.current=g,g.bind(y)),g.updateProjectionMatrix(),g.onBind(x),g},preBatch:function(g){if(g.hasPostPipeline){this.flush();for(var x=g.postPipelines,y=x.length-1;y>=0;y--){var T=x[y];T.active&&T.preBatch(g)}}},postBatch:function(g){if(g.hasPostPipeline){this.flush();for(var x=g.postPipelines,y=0;y<x.length;y++){var T=x[y];T.active&&T.postBatch(g)}}},preBatchCamera:function(g){if(g.hasPostPipeline){this.flush();for(var x=g.postPipelines,y=x.length-1;y>=0;y--){var T=x[y];T.active&&T.preBatch(g)}}},postBatchCamera:function(g){if(g.hasPostPipeline){this.flush();for(var x=g.postPipelines,y=0;y<x.length;y++){var T=x[y];T.active&&T.postBatch(g)}}},isCurrent:function(g,x){var y=this.renderer,T=this.current;return T&&!x&&(x=T.currentShader),!(T!==g||x.program!==y.currentProgram)},copyFrame:function(g,x,y,T,S){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(g,x,y,T,S),this},copyToGame:function(g){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(g),this},drawFrame:function(g,x,y,T){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(g,x,y,T),this},blendFrames:function(g,x,y,T,S){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(g,x,y,T,S),this},blendFramesAdditive:function(g,x,y,T,S){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(g,x,y,T,S),this},clearFrame:function(g,x){return this.UTILITY_PIPELINE.clearFrame(g,x),this},blitFrame:function(g,x,y,T,S,E){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(g,x,y,T,S,E),this},copyFrameRect:function(g,x,y,T,S,E,C,A){return this.UTILITY_PIPELINE.copyFrameRect(g,x,y,T,S,E,C,A),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(g){return this.UTILITY_PIPELINE.bind(g)},rebind:function(g){g===void 0&&this.previous&&(g=this.previous);var x=this.renderer,y=x.gl;y.disable(y.DEPTH_TEST),y.disable(y.CULL_FACE),x.hasActiveStencilMask()?y.clear(y.DEPTH_BUFFER_BIT):(y.disable(y.STENCIL_TEST),y.clear(y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT)),y.viewport(0,0,x.width,x.height),x.currentProgram=null,x.setBlendMode(0,!0);var T=this.pipelines.entries;for(var S in T)T[S].glReset=!0;g&&(this.current=g,g.rebind()),x.resetTextures()},clear:function(){var g=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,g.currentProgram=null,g.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(2),s=t(866),r=t(867),a=t(107),o=t(58),n=new e({Extends:o,initialize:function(h){h.fragShader=l(h,"fragShader",s),h.vertShader=l(h,"vertShader",r),h.batchSize=l(h,"batchSize",1),h.vertices=l(h,"vertices",[-1,1,-1,-7,7,1]),h.attributes=l(h,"attributes",[{name:"inPosition",size:2,type:a.FLOAT}]),o.call(this,h)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(u,h){o.prototype.resize.call(this,u,h),this.set2f("uResolution",u,h)},beginMask:function(u,h,f){var v=this.gl;if(u.bitmapMask&&v){var m=this.renderer;m.flush(),m.pushFramebuffer(u.mainFramebuffer),v.disable(v.STENCIL_TEST),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),m.currentCameraMask.mask!==u&&(m.currentMask.mask=u,m.currentMask.camera=f)}},endMask:function(u,h){var f=this.gl,v=this.renderer,m=u.bitmapMask;if(m&&f){v.flush(),v.pushFramebuffer(u.maskFramebuffer),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),v.setBlendMode(0,!0),m.renderWebGL(v,m,h),v.flush(),v.popFramebuffer(),v.popFramebuffer();var g=v.getCurrentStencilMask();g?(f.enable(f.STENCIL_TEST),g.mask.applyStencil(v,g.camera,!0)):v.currentMask.mask=null,v.pipelines.set(this),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,u.maskTexture),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,u.mainTexture),this.set1i("uInvertMaskAlpha",u.invertAlpha),f.drawArrays(this.topology,0,3),v.resetTextures()}}});i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={AFTER_FLUSH:t(868),BEFORE_FLUSH:t(869),BIND:t(870),BOOT:t(871),DESTROY:t(872),REBIND:t(873),RESIZE:t(874)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(2),s=t(107),r=new e({initialize:function(o,n,u,h,f){this.pipeline=o,this.name=n,this.renderer=o.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(u,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(a){var o=0,n=0,u=[];this.vertexComponentCount=0;for(var h=0;h<a.length;h++){var f=a[h],v=f.name,m=l(f,"size",1),g=l(f,"type",s.FLOAT),x=g.enum,y=g.size,T=!!f.normalized;u.push({name:v,size:m,type:x,normalized:T,offset:n,enabled:!1,location:-1}),y===4?o+=m:o++,n+=m*y}this.vertexSize=n,this.vertexComponentCount=o,this.attributes=u},bind:function(a,o){return a===void 0&&(a=!1),o===void 0&&(o=!1),o&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var o=this.gl,n=this.vertexSize,u=this.attributes,h=this.program,f=0;f<u.length;f++){var v=u[f],m=v.size,g=v.type,x=v.offset,y=v.enabled,T=v.location,S=!!v.normalized;if(a){var E=o.getAttribLocation(h,v.name);E>=0?(o.enableVertexAttribArray(E),o.vertexAttribPointer(E,m,g,S,n,x),v.enabled=!0,v.location=E):E!==-1&&o.disableVertexAttribArray(E)}else y?o.vertexAttribPointer(T,m,g,S,n,x):!y&&T>-1&&(o.disableVertexAttribArray(T),v.location=-1)}return this},createUniforms:function(){var a=this.gl,o=this.program,n=this.uniforms,u,h,f,v=a.getProgramParameter(o,a.ACTIVE_UNIFORMS);for(u=0;u<v;u++){var m=a.getActiveUniform(o,u);if(m){h=m.name,f=a.getUniformLocation(o,h),f!==null&&(n[h]={name:h,location:f,value1:null,value2:null,value3:null,value4:null});var g=h.indexOf("[");g>0&&(h=h.substr(0,g),n.hasOwnProperty(h)||(f=a.getUniformLocation(o,h),f!==null&&(n[h]={name:h,location:f,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var o=this.uniforms[a];return o&&(o.value1=null,o.value2=null,o.value3=null,o.value4=null),this},setUniform1:function(a,o,n,u){var h=this.uniforms[o];return h?((u||h.value1!==n)&&(h.value1=n,this.renderer.setProgram(this.program),a.call(this.gl,h.location,n),this.pipeline.currentShader=this),this):this},setUniform2:function(a,o,n,u,h){var f=this.uniforms[o];return f?((h||f.value1!==n||f.value2!==u)&&(f.value1=n,f.value2=u,this.renderer.setProgram(this.program),a.call(this.gl,f.location,n,u),this.pipeline.currentShader=this),this):this},setUniform3:function(a,o,n,u,h,f){var v=this.uniforms[o];return v?((f||v.value1!==n||v.value2!==u||v.value3!==h)&&(v.value1=n,v.value2=u,v.value3=h,this.renderer.setProgram(this.program),a.call(this.gl,v.location,n,u,h),this.pipeline.currentShader=this),this):this},setUniform4:function(a,o,n,u,h,f,v){var m=this.uniforms[o];return m?((v||m.value1!==n||m.value2!==u||m.value3!==h||m.value4!==f)&&(m.value1=n,m.value2=u,m.value3=h,m.value4=f,this.renderer.setProgram(this.program),a.call(this.gl,m.location,n,u,h,f),this.pipeline.currentShader=this),this):this},set1f:function(a,o){return this.setUniform1(this.gl.uniform1f,a,o)},set2f:function(a,o,n){return this.setUniform2(this.gl.uniform2f,a,o,n)},set3f:function(a,o,n,u){return this.setUniform3(this.gl.uniform3f,a,o,n,u)},set4f:function(a,o,n,u,h){return this.setUniform4(this.gl.uniform4f,a,o,n,u,h)},set1fv:function(a,o){return this.setUniform1(this.gl.uniform1fv,a,o,!0)},set2fv:function(a,o){return this.setUniform1(this.gl.uniform2fv,a,o,!0)},set3fv:function(a,o){return this.setUniform1(this.gl.uniform3fv,a,o,!0)},set4fv:function(a,o){return this.setUniform1(this.gl.uniform4fv,a,o,!0)},set1iv:function(a,o){return this.setUniform1(this.gl.uniform1iv,a,o,!0)},set2iv:function(a,o){return this.setUniform1(this.gl.uniform2iv,a,o,!0)},set3iv:function(a,o){return this.setUniform1(this.gl.uniform3iv,a,o,!0)},set4iv:function(a,o){return this.setUniform1(this.gl.uniform4iv,a,o,!0)},set1i:function(a,o){return this.setUniform1(this.gl.uniform1i,a,o)},set2i:function(a,o,n){return this.setUniform2(this.gl.uniform2i,a,o,n)},set3i:function(a,o,n,u){return this.setUniform3(this.gl.uniform3i,a,o,n,u)},set4i:function(a,o,n,u,h){return this.setUniform4(this.gl.uniform4i,a,o,n,u,h)},setMatrix2fv:function(a,o,n){return this.setUniform2(this.gl.uniformMatrix2fv,a,o,n,!0)},setMatrix3fv:function(a,o,n){return this.setUniform2(this.gl.uniformMatrix3fv,a,o,n,!0)},setMatrix4fv:function(a,o,n){return this.setUniform2(this.gl.uniformMatrix4fv,a,o,n,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(59),s=t(2),r=t(875),a=t(876),o=t(25),n=t(107),u=t(58),h=new e({Extends:u,initialize:function(v){v.fragShader=s(v,"fragShader",r),v.vertShader=s(v,"vertShader",a),v.attributes=s(v,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:n.UNSIGNED_BYTE,normalized:!0}]),u.call(this,v),this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(f,v,m,g,x,y){this.renderer.pipelines.set(this);var T=this.calcMatrix;y&&y.multiply(x,T);var S=f+m,E=v+g,C=T.getX(f,v),A=T.getY(f,v),P=T.getX(f,E),R=T.getY(f,E),M=T.getX(S,E),L=T.getY(S,E),O=T.getX(S,v),I=T.getY(S,v),w=this.fillTint;this.batchQuad(C,A,P,R,M,L,O,I,w.TL,w.TR,w.BL,w.BR)},batchFillTriangle:function(f,v,m,g,x,y,T,S){this.renderer.pipelines.set(this);var E=this.calcMatrix;S&&S.multiply(T,E);var C=E.getX(f,v),A=E.getY(f,v),P=E.getX(m,g),R=E.getY(m,g),M=E.getX(x,y),L=E.getY(x,y),O=this.fillTint;this.batchTri(C,A,P,R,M,L,O.TL,O.TR,O.BL)},batchStrokeTriangle:function(f,v,m,g,x,y,T,S,E){var C=this.tempTriangle;C[0].x=f,C[0].y=v,C[0].width=T,C[1].x=m,C[1].y=g,C[1].width=T,C[2].x=x,C[2].y=y,C[2].width=T,C[3].x=f,C[3].y=v,C[3].width=T,this.batchStrokePath(C,T,!1,S,E)},batchFillPath:function(f,v,m){this.renderer.pipelines.set(this);var g=this.calcMatrix;m&&m.multiply(v,g);for(var x=f.length,y=this.polygonCache,T,S,E=this.fillTint.TL,C=this.fillTint.TR,A=this.fillTint.BL,P=0;P<x;++P)S=f[P],y.push(S.x,S.y);T=l(y),x=T.length;for(var R=0;R<x;R+=3){var M=T[R+0]*2,L=T[R+1]*2,O=T[R+2]*2,I=y[M+0],w=y[M+1],G=y[L+0],V=y[L+1],X=y[O+0],W=y[O+1],D=g.getX(I,w),F=g.getY(I,w),B=g.getX(G,V),b=g.getY(G,V),z=g.getX(X,W),N=g.getY(X,W);this.batchTri(D,F,B,b,z,N,E,C,A)}y.length=0},batchStrokePath:function(f,v,m,g,x){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var y=f.length-1,T=0;T<y;T++){var S=f[T],E=f[T+1];this.batchLine(S.x,S.y,E.x,E.y,S.width/2,E.width/2,v,T,!m&&T===y-1,g,x)}},batchLine:function(f,v,m,g,x,y,T,S,E,C,A){this.renderer.pipelines.set(this);var P=this.calcMatrix;A&&A.multiply(C,P);var R=m-f,M=g-v,L=Math.sqrt(R*R+M*M),O=x*(g-v)/L,I=x*(f-m)/L,w=y*(g-v)/L,G=y*(f-m)/L,V=m-w,X=g-G,W=f-O,D=v-I,F=m+w,B=g+G,b=f+O,z=v+I,N=P.getX(V,X),U=P.getY(V,X),Y=P.getX(W,D),K=P.getY(W,D),Z=P.getX(F,B),j=P.getY(F,B),q=P.getX(b,z),k=P.getY(b,z),H=this.strokeTint,$=H.TL,J=H.TR,et=H.BL,_=H.BR;if(this.batchQuad(q,k,Y,K,N,U,Z,j,$,J,et,_),!(T<=2)){var it=this.prevQuad,Q=this.firstQuad;S>0&&it[4]?this.batchQuad(q,k,Y,K,it[0],it[1],it[2],it[3],$,J,et,_):(Q[0]=q,Q[1]=k,Q[2]=Y,Q[3]=K,Q[4]=1),E&&Q[4]?this.batchQuad(N,U,Z,j,Q[0],Q[1],Q[2],Q[3],$,J,et,_):(it[0]=N,it[1]=U,it[2]=Z,it[3]=j,it[4]=1)}},batchVert:function(f,v,m){var g=this.vertexViewF32,x=this.vertexViewU32,y=this.vertexCount*this.currentShader.vertexComponentCount-1;g[++y]=f,g[++y]=v,x[++y]=m,this.vertexCount++},batchQuad:function(f,v,m,g,x,y,T,S,E,C,A,P){var R=!1;return this.shouldFlush(6)&&(this.flush(),R=!0),this.batchVert(f,v,E),this.batchVert(m,g,A),this.batchVert(x,y,P),this.batchVert(f,v,E),this.batchVert(x,y,P),this.batchVert(T,S,C),R},batchTri:function(f,v,m,g,x,y,T,S,E){var C=!1;return this.shouldFlush(3)&&(this.flush(),C=!0),this.batchVert(f,v,T),this.batchVert(m,g,S),this.batchVert(x,y,E),C},destroy:function(){return u.prototype.destroy.call(this),this.polygonCache=null,this}});i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(2),s=t(877),r=t(108),a=t(3),o=t(58),n=10,u=new a,h=new e({Extends:r,initialize:function(v){n=v.game.renderer.config.maxLights;for(var m=l(v,"fragShader",s),g=[],x=1;x<=n;x++)g.push({name:"lights"+x,fragShader:m.replace("%LIGHT_COUNT%",x.toString())});v.shaders=g,r.call(this,v),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){o.prototype.boot.call(this);var f=this.gl,v=f.createTexture();f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,v),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,1,1,0,f.RGBA,f.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:v};for(var m=0;m<this.shaders.length;m++)this["lightShader"+(m+1)]=this.shaders[m]},onRender:function(f,v){var m=f.sys.lights;if(this.lightsActive=!1,!(!m||!m.active)){var g=m.getLights(v),x=g.length;if(x!==0){this.lightsActive=!0,this.setShader(this["lightShader"+x],!0);var y,T=this.renderer,S=T.height,E=v.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",v.x,v.y,v.rotation,v.zoom),this.set3f("uAmbientLightColor",m.ambientColor.r,m.ambientColor.g,m.ambientColor.b),y=0;y<x;y++){var C=g[y].light,A=C.color,P="uLights["+y+"].";E.transformPoint(C.x,C.y,u),this.set2f(P+"position",u.x-v.scrollX*C.scrollFactorX*v.zoom,S-(u.y-v.scrollY*C.scrollFactorY*v.zoom)),this.set3f(P+"color",A.r,A.g,A.b),this.set1f(P+"intensity",C.intensity),this.set1f(P+"radius",C.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(f){if(f!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var v=this.inverseRotationMatrix;if(f){var m=-f,g=Math.cos(m),x=Math.sin(m);v[1]=x,v[3]=-x,v[0]=v[4]=g}else v[0]=v[4]=1,v[1]=v[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,v),this.currentNormalMapRotation=f}},setTexture2D:function(f,v){var m=this.renderer;f===void 0&&(f=m.tempTextures[0]);var g=this.getNormalMap(v);m.isNewNormalMap(f,g)&&(this.flush(),m.setTextureZero(f),m.setNormalMap(g));var x=v?v.rotation:0;return this.setNormalMapRotation(x),this.currentUnit=0,0},setGameObject:function(f,v){v===void 0&&(v=f.frame);var m=this.renderer,g=v.glTexture,x=this.getNormalMap(f);return m.isNewNormalMap()&&(this.flush(),m.setTextureZero(g),m.setNormalMap(x)),this.setNormalMapRotation(f.rotation),this.currentUnit=0,0},getNormalMap:function(f){var v;return f?f.displayTexture?v=f.displayTexture.dataSource[f.displayFrame.sourceIndex]:f.texture?v=f.texture.dataSource[f.frame.sourceIndex]:f.tileset&&(Array.isArray(f.tileset)?v=f.tileset[0].image.dataSource[0]:v=f.tileset.image.dataSource[0]):v=this.defaultNormalMap,v||(v=this.defaultNormalMap),v.glTexture},batchSprite:function(f,v,m){this.lightsActive&&r.prototype.batchSprite.call(this,f,v,m)},batchTexture:function(f,v,m,g,x,y,T,S,E,C,A,P,R,M,L,O,I,w,G,V,X,W,D,F,B,b,z,N,U,Y,K,Z){this.lightsActive&&r.prototype.batchTexture.call(this,f,v,m,g,x,y,T,S,E,C,A,P,R,M,L,O,I,w,G,V,X,W,D,F,B,b,z,N,U,Y,K,Z)},batchTextureFrame:function(f,v,m,g,x,y,T){this.lightsActive&&r.prototype.batchTextureFrame.call(this,f,v,m,g,x,y,T)}});h.LIGHT_COUNT=n,i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(2),s=t(880),r=t(881),a=t(58),o=new e({Extends:a,initialize:function(u){u.vertShader=l(u,"vertShader",r),u.fragShader=l(u,"fragShader",s),u.attributes=l(u,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),a.call(this,u)},onRender:function(n,u){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",u.zoom)},batchPointLight:function(n,u,h,f,v,m,g,x,y,T,S,E){var C=n.color,A=n.intensity,P=n.radius,R=n.attenuation,M=C.r*A,L=C.g*A,O=C.b*A,I=u.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(h,f,S,E,P,R,M,L,O,I),this.batchLightVert(v,m,S,E,P,R,M,L,O,I),this.batchLightVert(g,x,S,E,P,R,M,L,O,I),this.batchLightVert(h,f,S,E,P,R,M,L,O,I),this.batchLightVert(g,x,S,E,P,R,M,L,O,I),this.batchLightVert(y,T,S,E,P,R,M,L,O,I)},batchLightVert:function(n,u,h,f,v,m,g,x,y,T){var S=this.vertexViewF32,E=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++E]=n,S[++E]=u,S[++E]=h,S[++E]=f,S[++E]=v,S[++E]=m,S[++E]=g,S[++E]=x,S[++E]=y,S[++E]=T,this.vertexCount++}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(2),s=t(108),r=new e({Extends:s,initialize:function(o){o.topology=5,o.batchSize=l(o,"batchSize",256),s.call(this,o)}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(2),s=t(108),r=t(882),a=t(883),o=t(58),n=new e({Extends:s,initialize:function(h){h.fragShader=l(h,"fragShader",r),h.vertShader=l(h,"vertShader",a),h.forceZero=!0,s.call(this,h)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0)}});i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(884),l=t(35),s=t(0),r=t(198),a=t(885),o=t(886),n=t(2),u=t(887),h=t(382),f=t(58),v=new s({Extends:f,initialize:function(g){g.renderTarget=n(g,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),g.vertShader=n(g,"vertShader",h),g.shaders=n(g,"shaders",[{name:"Copy",fragShader:o},{name:"AddBlend",fragShader:e},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:a}]),g.attributes=n(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),g.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],g.batchSize=1,f.call(this,g),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){f.prototype.boot.call(this);var m=this.shaders,g=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=g[0],this.fullFrame2=g[1],this.halfFrame1=g[2],this.halfFrame2=g[3]},copyFrame:function(m,g,x,y,T){x===void 0&&(x=1),y===void 0&&(y=!0),T===void 0&&(T=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,m.texture),g?(S.viewport(0,0,g.width,g.height),S.bindFramebuffer(S.FRAMEBUFFER,g.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,g.texture,0)):S.viewport(0,0,m.width,m.height),y&&(T?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(m,g,x,y,T,S){x===void 0&&(x=1),y===void 0&&(y=!0),T===void 0&&(T=!0),S===void 0&&(S=!1);var E=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,m.texture),m.height>g.height)E.viewport(0,0,m.width,m.height),this.setTargetUVs(m,g);else{var C=g.height-m.height;E.viewport(0,C,m.width,m.height)}if(E.bindFramebuffer(E.FRAMEBUFFER,g.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,g.texture,0),y&&(T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),S){var A=this.renderer.currentBlendMode;this.renderer.setBlendMode(l.ERASE)}E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),S&&this.renderer.setBlendMode(A),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(m,g,x,y,T,S,E,C){E===void 0&&(E=!0),C===void 0&&(C=!0);var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,m.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,m.texture,0),E&&(C?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,g.texture),A.copyTexSubImage2D(A.TEXTURE_2D,0,0,0,x,y,T,S),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},copyToGame:function(m){var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,m.texture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(m,g,x,y){x===void 0&&(x=!0),y===void 0&&(y=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",y.getData()),this.set1f("uAlpha",y.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,m.texture),g?(T.viewport(0,0,g.width,g.height),T.bindFramebuffer(T.FRAMEBUFFER,g.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,g.texture,0)):T.viewport(0,0,m.width,m.height),x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(m,g,x,y,T,S){y===void 0&&(y=1),T===void 0&&(T=!0),S===void 0&&(S=this.linearShader);var E=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",y),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,m.texture),E.activeTexture(E.TEXTURE1),E.bindTexture(E.TEXTURE_2D,g.texture),x?(E.bindFramebuffer(E.FRAMEBUFFER,x.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,x.texture,0),E.viewport(0,0,x.width,x.height)):E.viewport(0,0,m.width,m.height),T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFramesAdditive:function(m,g,x,y,T){this.blendFrames(m,g,x,y,T,this.addShader)},clearFrame:function(m,g){g===void 0&&(g=!0);var x=this.gl;x.viewport(0,0,m.width,m.height),x.bindFramebuffer(x.FRAMEBUFFER,m.framebuffer),g?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT);var y=this.renderer.currentFramebuffer;x.bindFramebuffer(x.FRAMEBUFFER,y)},setUVs:function(m,g,x,y,T,S,E,C){var A=this.vertexViewF32;A[2]=m,A[3]=g,A[6]=x,A[7]=y,A[10]=T,A[11]=S,A[14]=m,A[15]=g,A[18]=T,A[19]=S,A[22]=E,A[23]=C},setTargetUVs:function(m,g){var x=g.height/m.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});i.exports=v},function(i,d){i.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join(`
`)},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),l=t(38),s=t(2),r=function(a,o){var n=a.getContext("experimental-webgl"),u=s(o,"callback"),h=s(o,"type","image/png"),f=s(o,"encoder",.92),v=s(o,"x",0),m=s(o,"y",0),g=s(o,"getPixel",!1),x=s(o,"isFramebuffer",!1),y=x?s(o,"bufferWidth",1):n.drawingBufferWidth,T=x?s(o,"bufferHeight",1):n.drawingBufferHeight;if(g){var S=new Uint8Array(4),E=x?m:T-m;n.readPixels(v,E,1,1,n.RGBA,n.UNSIGNED_BYTE,S),u.call(null,new l(S[0],S[1],S[2],S[3]/255))}else{var C=s(o,"width",y),A=s(o,"height",T),P=C*A*4,R=new Uint8Array(P);n.readPixels(v,T-m-A,C,A,n.RGBA,n.UNSIGNED_BYTE,R);for(var M=e.createWebGL(this,C,A),L=M.getContext("2d"),O=L.getImageData(0,0,C,A),I=O.data,w=0;w<A;w++)for(var G=0;G<C;G++){var V=((A-w-1)*C+G)*4,X=(w*C+G)*4;I[X+0]=R[V+0],I[X+1]=R[V+1],I[X+2]=R[V+2],I[X+3]=R[V+3]}L.putImageData(O,0,0);var W=new Image;W.onerror=function(){u.call(null),e.remove(M)},W.onload=function(){u.call(null,W),e.remove(M)},W.src=M.toDataURL(h,f)}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),l=function(s){var r=s.config;if(!r.hideBanner){var a="WebGL";r.renderType===e.CANVAS?a="Canvas":r.renderType===e.HEADLESS&&(a="Headless");var o=r.audio,n=s.device.audio,u;if(n.webAudio&&!o.disableWebAudio?u="Web Audio":o.noAudio||!n.webAudio&&!n.audioData?u="No Audio":u="HTML5 Audio",s.device.browser.ie)window.console&&console.log("Phaser v"+e.VERSION+" / https://phaser.io");else{var h="",f=[h];if(Array.isArray(r.bannerBackgroundColor)){var v;r.bannerBackgroundColor.forEach(function(g){h=h.concat("%c "),f.push("background: "+g),v=g}),f[f.length-1]="color: "+r.bannerTextColor+"; background: "+v}else h=h.concat("%c "),f.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);f.push("background: transparent"),r.gameTitle&&(h=h.concat(r.gameTitle),r.gameVersion&&(h=h.concat(" v"+r.gameVersion)),r.hidePhaser||(h=h.concat(" / ")));var m="";r.hidePhaser||(h=h.concat("Phaser v"+e.VERSION+m+" ("+a+" | "+u+")")),h=h.concat(" %c "+r.gameURL),f[0]=h,console.log.apply(console,f)}}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(6),s=t(1),r=t(386),a=new e({initialize:function(n,u){this.game=n,this.raf=new r,this.started=!1,this.running=!1,this.minFps=l(u,"min",5),this.targetFps=l(u,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=l(u,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=l(u,"deltaHistory",10),this.panicMax=l(u,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=l(u,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var o=window.performance.now();this.time=o,this.lastTime=o,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(o){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=o,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var o=window.performance.now();this.now=o;var n=o-this.lastTime;n<0&&(n=0),this.rawDelta=n;var u=this.deltaIndex,h=this.deltaHistory,f=this.deltaSmoothingMax,v=n,m=n;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,v=Math.min(v,this._target)),v>this._min&&(v=h[u],v=Math.min(v,this._min)),h[u]=v,this.deltaIndex++,this.deltaIndex>f&&(this.deltaIndex=0),m=0;for(var g=0;g<f;g++)m+=h[g];m/=f}this.delta=m,this.time+=this.rawDelta,o>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0),this.framesThisSecond++;var x=m/this._target;this.callback(o,m,x),this.lastTime=o,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(o){this.running||(o&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=s,this.raf=null,this.game=null}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(1),s=new e({initialize:function(){this.isRunning=!1,this.callback=l,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var a=this;this.step=function o(){var n=window.performance.now();a.lastTime=a.tick,a.tick=n,a.callback(n),a.timeOutID=window.requestAnimationFrame(o)},this.stepTimeout=function o(){var n=Date.now(),u=Math.min(Math.max(a.target*2+a.tick-n,0),a.target);a.lastTime=a.tick,a.tick=n,a.callback(n),a.timeOutID=window.setTimeout(o,u)}},start:function(r,a,o){this.isRunning||(this.callback=r,this.isSetTimeOut=a,this.target=o,this.isRunning=!0,this.timeOutID=a?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=l}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(22),l=function(s){var r,a=s.events;if(document.hidden!==void 0)r="visibilitychange";else{var o=["webkit","moz","ms"];o.forEach(function(u){document[u+"Hidden"]!==void 0&&(document.hidden=function(){return document[u+"Hidden"]},r=u+"visibilitychange")})}var n=function(u){document.hidden||u.type==="pause"?a.emit(e.HIDDEN):a.emit(e.VISIBLE)};r&&document.addEventListener(r,n,!1),window.onblur=function(){a.emit(e.BLUR)},window.onfocus=function(){a.emit(e.FOCUS)},window.focus&&s.config.autoFocus&&window.focus()};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(389),l=t(31),s=t(6),r=function(a){var o=s(a,"data",[]),n=s(a,"canvas",null),u=s(a,"palette",e),h=s(a,"pixelWidth",1),f=s(a,"pixelHeight",h),v=s(a,"resizeCanvas",!0),m=s(a,"clearCanvas",!0),g=s(a,"preRender",null),x=s(a,"postRender",null),y=Math.floor(Math.abs(o[0].length*h)),T=Math.floor(Math.abs(o.length*f));n||(n=l.create2D(this,y,T),v=!1,m=!1),v&&(n.width=y,n.height=T);var S=n.getContext("2d");m&&S.clearRect(0,0,y,T),g&&g(n,S);for(var E=0;E<o.length;E++)for(var C=o[E],A=0;A<C.length;A++){var P=C[A];P!=="."&&P!==" "&&(S.fillStyle=u[P],S.fillRect(A*h,E*f,h,f))}return x&&x(n,S),n};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(358),s=t(94),r=t(3),a=new e({Extends:s,initialize:function(n,u,h,f){s.call(this,"CubicBezierCurve"),Array.isArray(n)&&(f=new r(n[6],n[7]),h=new r(n[4],n[5]),u=new r(n[2],n[3]),n=new r(n[0],n[1])),this.p0=n,this.p1=u,this.p2=h,this.p3=f},getStartPoint:function(o){return o===void 0&&(o=new r),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,n){n===void 0&&(n=new r);var u=this.p0,h=this.p1,f=this.p2,v=this.p3;return n.set(l(o,u.x,h.x,f.x,v.x),l(o,u.y,h.y,f.y,v.y))},draw:function(o,n){n===void 0&&(n=32);var u=this.getPoints(n);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var h=1;h<u.length;h++)o.lineTo(u[h].x,u[h].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(o){var n=o.points,u=new r(n[0],n[1]),h=new r(n[2],n[3]),f=new r(n[4],n[5]),v=new r(n[6],n[7]);return new a(u,h,f,v)},i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(94),s=t(36),r=t(6),a=t(196),o=t(3),n=new e({Extends:l,initialize:function(h,f,v,m,g,x,y,T){if(typeof h=="object"){var S=h;h=r(S,"x",0),f=r(S,"y",0),v=r(S,"xRadius",0),m=r(S,"yRadius",v),g=r(S,"startAngle",0),x=r(S,"endAngle",360),y=r(S,"clockwise",!1),T=r(S,"rotation",0)}else m===void 0&&(m=v),g===void 0&&(g=0),x===void 0&&(x=360),y===void 0&&(y=!1),T===void 0&&(T=0);l.call(this,"EllipseCurve"),this.p0=new o(h,f),this._xRadius=v,this._yRadius=m,this._startAngle=s(g),this._endAngle=s(x),this._clockwise=y,this._rotation=s(T)},getStartPoint:function(u){return u===void 0&&(u=new o),this.getPoint(0,u)},getResolution:function(u){return u*2},getPoint:function(u,h){h===void 0&&(h=new o);for(var f=Math.PI*2,v=this._endAngle-this._startAngle,m=Math.abs(v)<Number.EPSILON;v<0;)v+=f;for(;v>f;)v-=f;v<Number.EPSILON&&(m?v=0:v=f),this._clockwise&&!m&&(v===f?v=-f:v=v-f);var g=this._startAngle+u*v,x=this.p0.x+this._xRadius*Math.cos(g),y=this.p0.y+this._yRadius*Math.sin(g);if(this._rotation!==0){var T=Math.cos(this._rotation),S=Math.sin(this._rotation),E=x-this.p0.x,C=y-this.p0.y;x=E*T-C*S+this.p0.x,y=E*S+C*T+this.p0.y}return h.set(x,y)},setXRadius:function(u){return this.xRadius=u,this},setYRadius:function(u){return this.yRadius=u,this},setWidth:function(u){return this.xRadius=u/2,this},setHeight:function(u){return this.yRadius=u/2,this},setStartAngle:function(u){return this.startAngle=u,this},setEndAngle:function(u){return this.endAngle=u,this},setClockwise:function(u){return this.clockwise=u,this},setRotation:function(u){return this.rotation=u,this},x:{get:function(){return this.p0.x},set:function(u){this.p0.x=u}},y:{get:function(){return this.p0.y},set:function(u){this.p0.y=u}},xRadius:{get:function(){return this._xRadius},set:function(u){this._xRadius=u}},yRadius:{get:function(){return this._yRadius},set:function(u){this._yRadius=u}},startAngle:{get:function(){return a(this._startAngle)},set:function(u){this._startAngle=s(u)}},endAngle:{get:function(){return a(this._endAngle)},set:function(u){this._endAngle=s(u)}},clockwise:{get:function(){return this._clockwise},set:function(u){this._clockwise=u}},angle:{get:function(){return a(this._rotation)},set:function(u){this._rotation=s(u)}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});n.fromJSON=function(u){return new n(u)},i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(94),s=t(199),r=t(10),a=t(3),o=new e({Extends:l,initialize:function(u,h){l.call(this,"LineCurve"),Array.isArray(u)&&(h=new a(u[2],u[3]),u=new a(u[0],u[1])),this.p0=u,this.p1=h,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new r),s([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new a),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,u){return u===void 0&&(u=new a),n===1?u.copy(this.p1):(u.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),u)},getPointAt:function(n,u){return this.getPoint(n,u)},getTangent:function(n,u){return u===void 0&&(u=new a),u.copy(this.p1).subtract(this.p0).normalize(),u},getUtoTmapping:function(n,u,h){var f;if(u){var v=this.getLengths(h),m=v[v.length-1],g=Math.min(u,m);f=g/m}else f=n;return f},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});o.fromJSON=function(n){var u=n.points,h=new a(u[0],u[1]),f=new a(u[2],u[3]);return new o(h,f)},i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(3),s=new e({initialize:function(a,o){this.active=!1,this.p0=new l(a,o)},getPoint:function(r,a){return a===void 0&&(a=new l),a.copy(this.p0)},getPointAt:function(r,a){return this.getPoint(r,a)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(94),s=t(359),r=t(3),a=new e({Extends:l,initialize:function(n,u,h){l.call(this,"QuadraticBezier"),Array.isArray(n)&&(h=new r(n[4],n[5]),u=new r(n[2],n[3]),n=new r(n[0],n[1])),this.p0=n,this.p1=u,this.p2=h},getStartPoint:function(o){return o===void 0&&(o=new r),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,n){n===void 0&&(n=new r);var u=this.p0,h=this.p1,f=this.p2;return n.set(s(o,u.x,h.x,f.x),s(o,u.y,h.y,f.y))},draw:function(o,n){n===void 0&&(n=32);var u=this.getPoints(n);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var h=1;h<u.length;h++)o.lineTo(u[h].x,u[h].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(o){var n=o.points,u=new r(n[0],n[1]),h=new r(n[2],n[3]),f=new r(n[4],n[5]);return new a(u,h,f)},i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),l=t(0),s=t(94),r=t(3),a=new l({Extends:s,initialize:function(n){n===void 0&&(n=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(o){for(var n=0;n<o.length;n++){var u=new r;typeof o[n]=="number"?(u.x=o[n],u.y=o[n+1],n++):Array.isArray(o[n])?(u.x=o[n][0],u.y=o[n][1]):(u.x=o[n].x,u.y=o[n].y),this.points.push(u)}return this},addPoint:function(o,n){var u=new r(o,n);return this.points.push(u),u},getStartPoint:function(o){return o===void 0&&(o=new r),o.copy(this.points[0])},getResolution:function(o){return o*this.points.length},getPoint:function(o,n){n===void 0&&(n=new r);var u=this.points,h=(u.length-1)*o,f=Math.floor(h),v=h-f,m=u[f===0?f:f-1],g=u[f],x=u[f>u.length-2?u.length-1:f+1],y=u[f>u.length-3?u.length-1:f+2];return n.set(e(v,m.x,g.x,x.x,y.x),e(v,m.y,g.y,x.y,y.y))},toJSON:function(){for(var o=[],n=0;n<this.points.length;n++)o.push(this.points[n].x),o.push(this.points[n].y);return{type:this.type,points:o}}});a.fromJSON=function(o){return new a(o.points)},i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a,o,n){(!a||a==="")&&(a=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!o||o==="")&&(o=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=r,this.fragmentSrc=a,this.vertexSrc=o,this.uniforms=n}});i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38);e.ColorSpectrum=t(909),e.ColorToRGBA=t(910),e.ComponentToHex=t(398),e.GetColor=t(103),e.GetColor32=t(328),e.HexStringToColor=t(327),e.HSLToColor=t(911),e.HSVColorWheel=t(912),e.HSVToRGB=t(188),e.HueToComponent=t(399),e.IntegerToColor=t(189),e.IntegerToRGB=t(330),e.Interpolate=t(913),e.ObjectToColor=t(331),e.RandomRGB=t(914),e.RGBStringToColor=t(332),e.RGBToHSV=t(329),e.RGBToString=t(915),e.ValueToColor=t(187),i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l=e.toString(16);return l.length===1?"0"+l:l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return s<0&&(s+=1),s>1&&(s-=1),s<.16666666666666666?e+(l-e)*6*s:s<.5?l:s<.6666666666666666?e+(l-e)*(.6666666666666666-s)*6:e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),l=function(s){if(document.readyState==="complete"||document.readyState==="interactive"){s();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),s()};document.body?e.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!e)return window.innerHeight;var l=Math.abs(window.orientation),s={w:0,h:0},r=document.createElement("div");return r.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(r),s.w=l===90?r.offsetHeight:window.innerWidth,s.h=l===90?window.innerWidth:r.offsetHeight,document.documentElement.removeChild(r),r=null,Math.abs(window.orientation)!==90?s.h:s.w};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),l=function(s,r){var a=window.screen,o=a?a.orientation||a.mozOrientation||a.msOrientation:!1;if(o&&typeof o.type=="string")return o.type;if(typeof o=="string")return o;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return e.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return e.ORIENTATION.LANDSCAPE}else return r>s?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l;return e!==""&&(typeof e=="string"?l=document.getElementById(e):e&&e.nodeType===1&&(l=e)),l||(l=document.body),l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l="";try{if(window.DOMParser){var s=new DOMParser;l=s.parseFromString(e,"text/xml")}else l=new ActiveXObject("Microsoft.XMLDOM"),l.loadXML(e)}catch{l=null}return!l||!l.documentElement||l.getElementsByTagName("parsererror").length?null:l};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(203),s=t(9),r=t(51),a=t(22),o=t(410),n=t(411),u=t(412),h=t(413),f=t(25),v=t(177),m=new e({initialize:function(x,y){this.game=x,this.scaleManager,this.canvas,this.config=y,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=y.inputKeyboard?new o(this):null,this.mouse=y.inputMouse?new n(this):null,this.touch=y.inputTouch?new h(this):null,this.pointers=[],this.pointersTotal=y.inputActivePointers,y.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var T=0;T<=this.pointersTotal;T++){var S=new u(this,T);S.smoothFactor=y.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=y.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new f,this._tempMatrix2=new f,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],x.events.once(a.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(r.MANAGER_BOOT),this.game.events.on(a.PRE_RENDER,this.preRender,this),this.game.events.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(g){this.isOver=!0,this.events.emit(r.GAME_OVER,g)},setCanvasOut:function(g){this.isOver=!1,this.events.emit(r.GAME_OUT,g)},preRender:function(){var g=this.game.loop.now,x=this.game.loop.delta,y=this.game.scene.getScenes(!0,!0);this.time=g,this.events.emit(r.MANAGER_UPDATE);for(var T=0;T<y.length;T++){var S=y[T];if(S.sys.input&&S.sys.input.updatePoll(g,x)&&this.globalTopOnly)return}},setDefaultCursor:function(g){this.defaultCursor=g,this.canvas.style.cursor!==g&&(this.canvas.style.cursor=g)},setCursor:function(g){g.cursor&&(this.canvas.style.cursor=g.cursor)},resetCursor:function(g){g.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(g){g===void 0&&(g=1);var x=[];this.pointersTotal+g>10&&(g=10-this.pointersTotal);for(var y=0;y<g;y++){var T=this.pointers.length,S=new u(this,T);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,x.push(S)}return x},updateInputPlugins:function(g,x){var y=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var T=0;T<y.length;T++){var S=y[T];if(S.sys.input){var E=S.sys.input.update(g,x);if(E&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(g){for(var x=this.pointers,y=[],T=0;T<g.changedTouches.length;T++)for(var S=g.changedTouches[T],E=1;E<this.pointersTotal;E++){var C=x[E];if(!C.active){C.touchstart(S,g),this.activePointer=C,y.push(C);break}}this.updateInputPlugins(l.TOUCH_START,y)},onTouchMove:function(g){for(var x=this.pointers,y=[],T=0;T<g.changedTouches.length;T++)for(var S=g.changedTouches[T],E=1;E<this.pointersTotal;E++){var C=x[E];if(C.active&&C.identifier===S.identifier){C.touchmove(S,g),this.activePointer=C,y.push(C);break}}this.updateInputPlugins(l.TOUCH_MOVE,y)},onTouchEnd:function(g){for(var x=this.pointers,y=[],T=0;T<g.changedTouches.length;T++)for(var S=g.changedTouches[T],E=1;E<this.pointersTotal;E++){var C=x[E];if(C.active&&C.identifier===S.identifier){C.touchend(S,g),y.push(C);break}}this.updateInputPlugins(l.TOUCH_END,y)},onTouchCancel:function(g){for(var x=this.pointers,y=[],T=0;T<g.changedTouches.length;T++)for(var S=g.changedTouches[T],E=1;E<this.pointersTotal;E++){var C=x[E];if(C.active&&C.identifier===S.identifier){C.touchcancel(S,g),y.push(C);break}}this.updateInputPlugins(l.TOUCH_CANCEL,y)},onMouseDown:function(g){var x=this.mousePointer;x.down(g),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(l.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(g){var x=this.mousePointer;x.move(g),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(l.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(g){var x=this.mousePointer;x.up(g),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(l.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(g){var x=this.mousePointer;x.wheel(g),this.activePointer=x,this.updateInputPlugins(l.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(g){var x=this.mouse.locked;this.mousePointer.locked=x,this.events.emit(r.POINTERLOCK_CHANGE,g,x)},inputCandidate:function(g,x){var y=g.input;if(!y||!y.enabled||!y.alwaysEnabled&&!g.willRender(x))return!1;var T=!0,S=g.parentContainer;if(S)do{if(!S.willRender(x)){T=!1;break}S=S.parentContainer}while(S);return T},hitTest:function(g,x,y,T){T===void 0&&(T=this._tempHitTest);var S=this._tempPoint,E=y.scrollX,C=y.scrollY;T.length=0;var A=g.x,P=g.y;y.getWorldPoint(A,P,S),g.worldX=S.x,g.worldY=S.y;for(var R={x:0,y:0},M=this._tempMatrix,L=this._tempMatrix2,O=0;O<x.length;O++){var I=x[O];if(!!this.inputCandidate(I,y)){var w=S.x+E*I.scrollFactorX-E,G=S.y+C*I.scrollFactorY-C;I.parentContainer?(I.getWorldTransformMatrix(M,L),M.applyInverse(w,G,R)):v(w,G,I.x,I.y,I.rotation,I.scaleX,I.scaleY,R),this.pointWithinHitArea(I,R.x,R.y)&&T.push(I)}}return T},pointWithinHitArea:function(g,x,y){x+=g.displayOriginX,y+=g.displayOriginY;var T=g.input;return T&&T.hitAreaCallback(T.hitArea,x,y,g)?(T.localX=x,T.localY=y,!0):!1},pointWithinInteractiveObject:function(g,x,y){return g.hitArea?(x+=g.gameObject.displayOriginX,y+=g.gameObject.displayOriginY,g.localX=x,g.localY=y,g.hitAreaCallback(g.hitArea,x,y,g)):!1},transformPointer:function(g,x,y,T){var S=g.position,E=g.prevPosition;E.x=S.x,E.y=S.y;var C=this.scaleManager.transformX(x),A=this.scaleManager.transformY(y),P=g.smoothFactor;!T||P===0?(S.x=C,S.y=A):(S.x=C*P+E.x*(1-P),S.y=A*P+E.y*(1-P))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(a.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var g=0;g<this.pointers.length;g++)this.pointers[g].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),l=t(0),s=t(22),r=t(51),a=t(143),o=t(1),n=new l({initialize:function(h){this.manager=h,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=o,this.onKeyUp=o,h.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputKeyboard,this.target=u.inputKeyboardEventTarget,this.addCapture(u.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var u=this;this.onKeyDown=function(f){if(!(f.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(f),u.manager.events.emit(r.MANAGER_PROCESS);var v=f.altKey||f.ctrlKey||f.shiftKey||f.metaKey;u.preventDefault&&!v&&u.captures.indexOf(f.keyCode)>-1&&f.preventDefault()}},this.onKeyUp=function(f){if(!(f.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(f),u.manager.events.emit(r.MANAGER_PROCESS);var v=f.altKey||f.ctrlKey||f.shiftKey||f.metaKey;u.preventDefault&&!v&&u.captures.indexOf(f.keyCode)>-1&&f.preventDefault()}};var h=this.target;h&&(h.addEventListener("keydown",this.onKeyDown,!1),h.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var u=this.target;u.removeEventListener("keydown",this.onKeyDown,!1),u.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var h=this.captures,f=0;f<u.length;f++){var v=u[f];typeof v=="string"&&(v=a[v.trim().toUpperCase()]),h.indexOf(v)===-1&&h.push(v)}this.preventDefault=h.length>0},removeCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var h=this.captures,f=0;f<u.length;f++){var v=u[f];typeof v=="string"&&(v=a[v.toUpperCase()]),e(h,v)}this.preventDefault=h.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(191),s=t(51),r=t(1),a=new e({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,n.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputMouse,this.target=o.inputMouseEventTarget,this.passive=o.inputMousePassive,this.preventDefaultDown=o.inputMousePreventDefaultDown,this.preventDefaultUp=o.inputMousePreventDefaultUp,this.preventDefaultMove=o.inputMousePreventDefaultMove,this.preventDefaultWheel=o.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},requestPointerLock:function(){if(l.pointerLock){var o=this.target;o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock,o.requestPointerLock()}},releasePointerLock:function(){l.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var o=this.target;if(!!o){var n=this,u=this.manager,h=u.canvas,f=window&&window.focus&&u.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&n.enabled&&u&&u.enabled&&(u.onMouseMove(m),n.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){f&&window.focus(),!m.defaultPrevented&&n.enabled&&u&&u.enabled&&(u.onMouseDown(m),n.preventDefaultDown&&m.target===h&&m.preventDefault())},this.onMouseDownWindow=function(m){!m.defaultPrevented&&n.enabled&&u&&u.enabled&&m.target!==h&&u.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&n.enabled&&u&&u.enabled&&(u.onMouseUp(m),n.preventDefaultUp&&m.target===h&&m.preventDefault())},this.onMouseUpWindow=function(m){!m.defaultPrevented&&n.enabled&&u&&u.enabled&&m.target!==h&&u.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&n.enabled&&u&&u.enabled&&u.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&n.enabled&&u&&u.enabled&&u.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&n.enabled&&u&&u.enabled&&u.onMouseWheel(m),n.preventDefaultWheel&&m.target===h&&m.preventDefault()};var v={passive:!0};if(o.addEventListener("mousemove",this.onMouseMove),o.addEventListener("mousedown",this.onMouseDown),o.addEventListener("mouseup",this.onMouseUp),o.addEventListener("mouseover",this.onMouseOver,v),o.addEventListener("mouseout",this.onMouseOut,v),this.preventDefaultWheel?o.addEventListener("wheel",this.onMouseWheel,{passive:!1}):o.addEventListener("wheel",this.onMouseWheel,v),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,v),window.top.addEventListener("mouseup",this.onMouseUpWindow,v)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,v),window.addEventListener("mouseup",this.onMouseUpWindow,v),this.isTop=!1}l.pointerLock&&(this.pointerLockChange=function(m){var g=n.target;n.locked=document.pointerLockElement===g||document.mozPointerLockElement===g||document.webkitPointerLockElement===g,u.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("mousemove",this.onMouseMove),o.removeEventListener("mousedown",this.onMouseDown),o.removeEventListener("mouseup",this.onMouseUp),o.removeEventListener("mouseover",this.onMouseOver),o.removeEventListener("mouseout",this.onMouseOut),window&&(o=this.isTop?window.top:window,o.removeEventListener("mousedown",this.onMouseDownWindow),o.removeEventListener("mouseup",this.onMouseUpWindow)),l.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(349),l=t(0),s=t(50),r=t(124),a=t(360),o=t(3),n=t(105),u=new l({initialize:function(f,v){this.manager=f,this.id=v,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=v===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(h){var f=h.getWorldPoint(this.x,this.y);return this.worldX=f.x,this.worldY=f.y,this},positionToCamera:function(h,f){return h.getWorldPoint(this.x,this.y,f)},updateMotion:function(){var h=this.position.x,f=this.position.y,v=this.midPoint.x,m=this.midPoint.y;if(!(h===v&&f===m)){var g=a(this.motionFactor,v,h),x=a(this.motionFactor,m,f);r(g,h,.1)&&(g=h),r(x,f,.1)&&(x=f),this.midPoint.set(g,x);var y=h-g,T=f-x;this.velocity.set(y,T),this.angle=e(g,x,h,f),this.distance=Math.sqrt(y*y+T*T)}},up:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=h.timeStamp,this.wasTouch=!1)},down:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&h.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=h.timeStamp),this.wasTouch=!1},move:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.locked&&(this.movementX=h.movementX||h.mozMovementX||h.webkitMovementX||0,this.movementY=h.movementY||h.mozMovementY||h.webkitMovementY||0),this.moveTime=h.timeStamp,this.wasTouch=!1},wheel:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.deltaX=h.deltaX,this.deltaY=h.deltaY,this.deltaZ=h.deltaZ,this.wasTouch=!1},touchstart:function(h,f){h.pointerId&&(this.pointerId=h.pointerId),this.identifier=h.identifier,this.target=h.target,this.active=!0,this.buttons=1,this.event=f,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=f.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(h,f){this.event=f,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.moveTime=f.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(h,f){this.buttons=0,this.event=f,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=f.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(h,f){this.buttons=0,this.event=f,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=f.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?e(this.downX,this.downY,this.x,this.y):e(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(h,f){h===void 0&&(h=10),f===void 0&&(f=[]);for(var v=this.prevPosition.x,m=this.prevPosition.y,g=this.position.x,x=this.position.y,y=0;y<h;y++){var T=1/h*y;f[y]={x:a(T,v,g),y:a(T,m,x)}}return f},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},time:{get:function(){return this.event?this.event.timeStamp:0}}});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(51),s=t(1),r=new e({initialize:function(o){this.manager=o,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.onTouchOver=s,this.onTouchOut=s,o.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputTouch,this.target=a.inputTouchEventTarget,this.capture=a.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},startListeners:function(){var a=this,o=this.manager.canvas,n=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(v){n&&window.focus(),!v.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchStart(v),a.capture&&v.cancelable&&v.target===o&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&v.target!==o&&a.manager.onTouchStart(v)},this.onTouchMove=function(v){!v.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchMove(v),a.capture&&v.cancelable&&v.preventDefault())},this.onTouchEnd=function(v){!v.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchEnd(v),a.capture&&v.cancelable&&v.target===o&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&v.target!==o&&a.manager.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchCancel(v),a.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&a.manager.onTouchCancel(v)},this.onTouchOver=function(v){!v.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&a.manager.setCanvasOver(v)},this.onTouchOut=function(v){!v.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&a.manager.setCanvasOut(v)};var u=this.target;if(!!u){var h={passive:!0},f={passive:!1};u.addEventListener("touchstart",this.onTouchStart,this.capture?f:h),u.addEventListener("touchmove",this.onTouchMove,this.capture?f:h),u.addEventListener("touchend",this.onTouchEnd,this.capture?f:h),u.addEventListener("touchcancel",this.onTouchCancel,this.capture?f:h),u.addEventListener("touchover",this.onTouchOver,this.capture?f:h),u.addEventListener("touchout",this.onTouchOut,this.capture?f:h),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,f),window.addEventListener("touchend",this.onTouchEndWindow,f),window.addEventListener("touchcancel",this.onTouchCancelWindow,f)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("touchstart",this.onTouchStart),a.removeEventListener("touchmove",this.onTouchMove),a.removeEventListener("touchend",this.onTouchEnd),a.removeEventListener("touchcancel",this.onTouchCancel),a.removeEventListener("touchover",this.onTouchOver),a.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(22),s=t(9),r=t(8),a=t(16),o=t(5),n=t(2),u=t(24),h=t(93),f=new e({Extends:s,initialize:function(m){s.call(this),this.game=m,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],m.isBooted?this.boot():m.events.once(l.BOOT,this.boot,this)},boot:function(){var v,m,g,x,y,T,S,E=this.game.config,C=E.installGlobalPlugins;for(C=C.concat(this._pendingGlobal),v=0;v<C.length;v++)m=C[v],g=n(m,"key",null),x=n(m,"plugin",null),y=n(m,"start",!1),T=n(m,"mapping",null),S=n(m,"data",null),g&&(x?this.install(g,x,y,T,S):console.warn("Missing `plugin` for key: "+g));for(C=E.installScenePlugins,C=C.concat(this._pendingScene),v=0;v<C.length;v++)m=C[v],g=n(m,"key",null),x=n(m,"plugin",null),T=n(m,"mapping",null),g&&(x?this.installScenePlugin(g,x,T):console.warn("Missing `plugin` for key: "+g));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(l.DESTROY,this.destroy,this)},addToScene:function(v,m,g){var x,y,T,S=this.game,E=v.scene,C=v.settings.map,A=v.settings.isBooted;for(x=0;x<m.length;x++)y=m[x],S[y]?(v[y]=S[y],C.hasOwnProperty(y)&&(E[C[y]]=v[y])):y==="game"&&C.hasOwnProperty(y)&&(E[C[y]]=S);for(var P=0;P<g.length;P++)for(T=g[P],x=0;x<T.length;x++)if(y=T[x],!!u.hasCore(y)){var R=u.getCore(y),M=R.mapping,L=new R.plugin(E,this,M);v[M]=L,R.custom?E[M]=L:C.hasOwnProperty(M)&&(E[C[M]]=L),A&&L.boot()}for(T=this.plugins,x=0;x<T.length;x++){var O=T[x];O.mapping&&(E[O.mapping]=O.plugin)}},getDefaultScenePlugins:function(){var v=this.game.config.defaultPlugins;return v=v.concat(this.scenePlugins),v},installScenePlugin:function(v,m,g,x,y){if(y===void 0&&(y=!1),typeof m!="function"){console.warn("Invalid Scene Plugin: "+v);return}if(!u.hasCore(v))u.register(v,m,g,!0),this.scenePlugins.push(v);else if(!y&&u.hasCore(v)){console.warn("Scene Plugin key in use: "+v);return}if(x){var T=new m(x,this,v);x.sys[v]=T,g&&g!==""&&(x[g]=T),T.boot()}},install:function(v,m,g,x,y){if(g===void 0&&(g=!1),x===void 0&&(x=null),y===void 0&&(y=null),typeof m!="function")return console.warn("Invalid Plugin: "+v),null;if(u.hasCustom(v))return console.warn("Plugin key in use: "+v),null;if(x!==null&&(g=!0),!this.game.isBooted)this._pendingGlobal.push({key:v,plugin:m,start:g,mapping:x,data:y});else if(u.registerCustom(v,m,x,y),g)return this.start(v);return null},getIndex:function(v){for(var m=this.plugins,g=0;g<m.length;g++){var x=m[g];if(x.key===v)return g}return-1},getEntry:function(v){var m=this.getIndex(v);if(m!==-1)return this.plugins[m]},isActive:function(v){var m=this.getEntry(v);return m&&m.active},start:function(v,m){m===void 0&&(m=v);var g=this.getEntry(m);return g&&!g.active?(g.active=!0,g.plugin.start()):g||(g=this.createEntry(v,m)),g?g.plugin:null},createEntry:function(v,m){var g=u.getCustom(v);if(g){var x=new g.plugin(this);g={key:m,plugin:x,active:!0,mapping:g.mapping,data:g.data},this.plugins.push(g),x.init(g.data),x.start()}return g},stop:function(v){var m=this.getEntry(v);return m&&m.active&&(m.active=!1,m.plugin.stop()),this},get:function(v,m){m===void 0&&(m=!0);var g=this.getEntry(v);if(g)return g.plugin;var x=this.getClass(v);return x&&m?(g=this.createEntry(v,v),g?g.plugin:null):x||null},getClass:function(v){return u.getCustomClass(v)},removeGlobalPlugin:function(v){var m=this.getEntry(v);m&&h(this.plugins,m),u.removeCustom(v)},removeScenePlugin:function(v){h(this.scenePlugins,v),u.remove(v)},registerGameObject:function(v,m,g){return m&&o.register(v,m),g&&a.register(v,g),this},removeGameObject:function(v,m,g){return m===void 0&&(m=!0),g===void 0&&(g=!0),m&&o.remove(v),g&&a.remove(v),this},registerFileType:function(v,m,g){r.register(v,m),g&&g.sys.load&&(g.sys.load[v]=m)},destroy:function(){for(var v=0;v<this.plugins.length;v++)this.plugins[v].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});i.exports=f},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),l=t(0),s=t(9),r=t(104),a=t(22),o=t(401),n=t(407),u=t(402),h=t(1),f=t(10),v=t(416),m=t(76),g=t(3),x=new l({Extends:s,initialize:function(T){s.call(this),this.game=T,this.canvas,this.canvasBounds=new f,this.parent=null,this.parentIsWindow=!1,this.parentSize=new v,this.gameSize=new v,this.baseSize=new v,this.displaySize=new v,this.scaleMode=e.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new g(1,1),this.autoRound=!1,this.autoCenter=e.CENTER.NO_CENTER,this.orientation=e.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:h,windowResize:h,fullScreenChange:h,fullScreenError:h}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var y=this.game;this.canvas=y.canvas,this.fullscreen=y.device.fullscreen,this.scaleMode!==e.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===e.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),y.events.on(a.PRE_STEP,this.step,this),y.events.once(a.READY,this.refresh,this),y.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(y){this.getParent(y),this.getParentBounds();var T=y.width,S=y.height,E=y.scaleMode,C=y.zoom,A=y.autoRound;if(typeof T=="string"){var P=this.parentSize.width;P===0&&(P=window.innerWidth);var R=parseInt(T,10)/100;T=Math.floor(P*R)}if(typeof S=="string"){var M=this.parentSize.height;M===0&&(M=window.innerHeight);var L=parseInt(S,10)/100;S=Math.floor(M*L)}this.scaleMode=E,this.autoRound=A,this.autoCenter=y.autoCenter,this.resizeInterval=y.resizeInterval,A&&(T=Math.floor(T),S=Math.floor(S)),this.gameSize.setSize(T,S),C===e.ZOOM.MAX_ZOOM&&(C=this.getMaxZoom()),this.zoom=C,C!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,S),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),y.minWidth>0&&this.displaySize.setMin(y.minWidth*C,y.minHeight*C),y.maxWidth>0&&this.displaySize.setMax(y.maxWidth*C,y.maxHeight*C),this.displaySize.setSize(T,S),this.orientation=u(T,S)},getParent:function(y){var T=y.parent;if(T!==null){if(this.parent=n(T),this.parentIsWindow=this.parent===document.body,y.expandParent&&y.scaleMode!==e.SCALE_MODE.NONE){var S=this.parent.getBoundingClientRect();(this.parentIsWindow||S.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",S=this.parent.getBoundingClientRect(),!this.parentIsWindow&&S.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}y.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(y.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var y=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=o(!0));var S=T.width,E=T.height;return y.width!==S||y.height!==E?(y.setSize(S,E),!0):!1},lockOrientation:function(y){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,y):!1},setParentSize:function(y,T){return this.parentSize.setSize(y,T),this.refresh()},setGameSize:function(y,T){var S=this.autoRound;S&&(y=Math.floor(y),T=Math.floor(T));var E=this.width,C=this.height;return this.gameSize.resize(y,T),this.baseSize.resize(y,T),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(y/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(E,C)},resize:function(y,T){var S=this.zoom,E=this.autoRound;E&&(y=Math.floor(y),T=Math.floor(T));var C=this.width,A=this.height;this.gameSize.resize(y,T),this.baseSize.resize(y,T),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(y*S,T*S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var P=this.canvas.style,R=y*S,M=T*S;return E&&(R=Math.floor(R),M=Math.floor(M)),(R!==y||M!==T)&&(P.width=R+"px",P.height=M+"px"),this.refresh(C,A)},setZoom:function(y){return this.zoom=y,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(y,T){y===void 0&&(y=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var S=this.game.domContainer;if(S){this.baseSize.setCSS(S);var E=this.canvas.style,C=S.style;C.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",C.marginLeft=E.marginLeft,C.marginTop=E.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,y,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var y=u(this.width,this.height);y!==this.orientation&&(this.orientation=y,this.emit(r.ORIENTATION_CHANGE,y))}},updateScale:function(){var y=this.canvas.style,T=this.gameSize.width,S=this.gameSize.height,E,C,A=this.zoom,P=this.autoRound;this.scaleMode===e.SCALE_MODE.NONE?(this.displaySize.setSize(T*A,S*A),E=this.displaySize.width,C=this.displaySize.height,P&&(E=Math.floor(E),C=Math.floor(C)),this._resetZoom&&(y.width=E+"px",y.height=C+"px",this._resetZoom=!1)):this.scaleMode===e.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),E=this.displaySize.width,C=this.displaySize.height,P&&(E=Math.floor(E),C=Math.floor(C)),this.canvas.width=E,this.canvas.height=C):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),E=this.displaySize.width,C=this.displaySize.height,P&&(E=Math.floor(E),C=Math.floor(C)),y.width=E+"px",y.height=C+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var y=m(this.parentSize.width,this.gameSize.width,0,!0),T=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(y,T),1)},updateCenter:function(){var y=this.autoCenter;if(y!==e.CENTER.NO_CENTER){var T=this.canvas,S=T.style,E=T.getBoundingClientRect(),C=E.width,A=E.height,P=Math.floor((this.parentSize.width-C)/2),R=Math.floor((this.parentSize.height-A)/2);y===e.CENTER.CENTER_HORIZONTALLY?R=0:y===e.CENTER.CENTER_VERTICALLY&&(P=0),S.marginLeft=P+"px",S.marginTop=R+"px"}},updateBounds:function(){var y=this.canvasBounds,T=this.canvas.getBoundingClientRect();y.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),y.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),y.width=T.width,y.height=T.height},transformX:function(y){return(y-this.canvasBounds.left)*this.displayScale.x},transformY:function(y){return(y-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(y){y===void 0&&(y={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var S=this.getFullscreenTarget();T.keyboard?S[T.request](Element.ALLOW_KEYBOARD_INPUT):S[T.request](y)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(y){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,y)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var y=document.createElement("div");y.style.margin="0",y.style.padding="0",y.style.width="100%",y.style.height="100%",this.fullscreenTarget=y,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var y=this.fullscreenTarget;if(y&&y.parentNode){var T=y.parentNode;T.insertBefore(this.canvas,y),T.removeChild(y)}}},stopFullscreen:function(){var y=this.fullscreen;if(!y.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;y.active&&document[y.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(y){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(y)},startListeners:function(){var y=this,T=this.listeners;if(T.orientationChange=function(){y.updateBounds(),y._checkOrientation=!0,y.dirty=!0},T.windowResize=function(){y.updateBounds(),y.dirty=!0},window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(E){return y.onFullScreenChange(E)},T.fullScreenError=function(E){return y.onFullScreenError(E)};var S=["webkit","moz",""];S.forEach(function(E){document.addEventListener(E+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(E+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(y,T){!this.parent||(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var y=this.listeners;window.removeEventListener("orientationchange",y.orientationChange,!1),window.removeEventListener("resize",y.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(S){document.removeEventListener(S+"fullscreenchange",y.fullScreenChange,!1),document.removeEventListener(S+"fullscreenerror",y.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",y.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===e.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===e.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});i.exports=x},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=t(0),s=t(76),r=t(3),a=new l({initialize:function(n,u,h,f){n===void 0&&(n=0),u===void 0&&(u=n),h===void 0&&(h=0),f===void 0&&(f=null),this._width=n,this._height=u,this._parent=f,this.aspectMode=h,this.aspectRatio=u===0?1:n/u,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(o){return o===void 0&&(o=0),this.aspectMode=o,this.setSize(this._width,this._height)},setSnap:function(o,n){return o===void 0&&(o=0),n===void 0&&(n=o),this.snapTo.set(o,n),this.setSize(this._width,this._height)},setParent:function(o){return this._parent=o,this.setSize(this._width,this._height)},setMin:function(o,n){return o===void 0&&(o=0),n===void 0&&(n=o),this.minWidth=e(o,0,this.maxWidth),this.minHeight=e(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(o,n){return o===void 0&&(o=Number.MAX_VALUE),n===void 0&&(n=o),this.maxWidth=e(o,this.minWidth,Number.MAX_VALUE),this.maxHeight=e(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(o,n){switch(o===void 0&&(o=0),n===void 0&&(n=o),this.aspectMode){case a.NONE:this._width=this.getNewWidth(s(o,this.snapTo.x)),this._height=this.getNewHeight(s(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(o,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(o,n,!0);break;case a.ENVELOP:this.constrain(o,n,!1);break}return this},setAspectRatio:function(o){return this.aspectRatio=o,this.setSize(this._width,this._height)},resize:function(o,n){return this._width=this.getNewWidth(s(o,this.snapTo.x)),this._height=this.getNewHeight(s(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(o,n){return n===void 0&&(n=!0),o=e(o,this.minWidth,this.maxWidth),n&&this._parent&&o>this._parent.width&&(o=Math.max(this.minWidth,this._parent.width)),o},getNewHeight:function(o,n){return n===void 0&&(n=!0),o=e(o,this.minHeight,this.maxHeight),n&&this._parent&&o>this._parent.height&&(o=Math.max(this.minHeight,this._parent.height)),o},constrain:function(o,n,u){o===void 0&&(o=0),n===void 0&&(n=o),u===void 0&&(u=!0),o=this.getNewWidth(o),n=this.getNewHeight(n);var h=this.snapTo,f=n===0?1:o/n;return u&&this.aspectRatio>f||!u&&this.aspectRatio<f?(o=s(o,h.x),n=o/this.aspectRatio,h.y>0&&(n=s(n,h.y),o=n*this.aspectRatio)):(u&&this.aspectRatio<f||!u&&this.aspectRatio>f)&&(n=s(n,h.y),o=n*this.aspectRatio,h.x>0&&(o=s(o,h.x),n=o*(1/this.aspectRatio))),this._width=o,this._height=n,this},fitTo:function(o,n){return this.constrain(o,n,!0)},envelop:function(o,n){return this.constrain(o,n,!1)},setWidth:function(o){return this.setSize(o,this._height)},setHeight:function(o){return this.setSize(this._width,o)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(o){o&&o.style&&(o.style.width=this._width+"px",o.style.height=this._height+"px")},copy:function(o){return o.setAspectMode(this.aspectMode),o.aspectRatio=this.aspectRatio,o.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(o){this.setSize(o,this._height)}},height:{get:function(){return this._height},set:function(o){this.setSize(this._width,o)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(144),s=t(20),r=t(22),a=t(6),o=t(95),n=t(1),u=t(418),h=t(204),f=new e({initialize:function(m,g){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,g){Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)this._pending.push({key:"default",scene:g[x],autoStart:x===0,data:{}})}m.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var v,m,g,x;for(v=0;v<this._pending.length;v++){m=this._pending[v],g=m.key,x=m.scene;var y;x instanceof u?y=this.createSceneFromInstance(g,x):typeof x=="object"?y=this.createSceneFromObject(g,x):typeof x=="function"&&(y=this.createSceneFromFunction(g,x)),g=y.sys.settings.key,this.keys[g]=y,this.scenes.push(y),this._data[g]&&(y.sys.settings.data=this._data[g].data,this._data[g].autoStart&&(m.autoStart=!0)),(m.autoStart||y.sys.settings.active)&&this._start.push(g)}for(this._pending.length=0,this._data={},this.isBooted=!0,v=0;v<this._start.length;v++)m=this._start[v],this.start(m);this._start.length=0}},processQueue:function(){var v=this._pending.length,m=this._queue.length;if(!(v===0&&m===0)){var g,x;if(v){for(g=0;g<v;g++)x=this._pending[g],this.add(x.key,x.scene,x.autoStart,x.data);for(g=0;g<this._start.length;g++)x=this._start[g],this.start(x);this._start.length=0,this._pending.length=0;return}for(g=0;g<this._queue.length;g++)x=this._queue[g],this[x.op](x.keyA,x.keyB);this._queue.length=0}},add:function(v,m,g,x){if(g===void 0&&(g=!1),x===void 0&&(x={}),this.isProcessing||!this.isBooted)return this._pending.push({key:v,scene:m,autoStart:g,data:x}),this.isBooted||(this._data[v]={data:x}),null;v=this.getKey(v,m);var y;return m instanceof u?y=this.createSceneFromInstance(v,m):typeof m=="object"?(m.key=v,y=this.createSceneFromObject(v,m)):typeof m=="function"&&(y=this.createSceneFromFunction(v,m)),y.sys.settings.data=x,v=y.sys.settings.key,this.keys[v]=y,this.scenes.push(y),(g||y.sys.settings.active)&&(this._pending.length?this._start.push(v):this.start(v)),y},remove:function(v){if(this.isProcessing)this._queue.push({op:"remove",keyA:v,keyB:null});else{var m=this.getScene(v);if(!m||m.sys.isTransitioning())return this;var g=this.scenes.indexOf(m),x=m.sys.settings.key;g>-1&&(delete this.keys[x],this.scenes.splice(g,1),this._start.indexOf(x)>-1&&(g=this._start.indexOf(x),this._start.splice(g,1)),m.sys.destroy())}return this},bootScene:function(v){var m=v.sys,g=m.settings;m.sceneUpdate=n,v.init&&(v.init.call(v,g.data),g.status=l.INIT,g.isTransition&&m.events.emit(s.TRANSITION_INIT,g.transitionFrom,g.transitionDuration));var x;m.load&&(x=m.load,x.reset()),x&&v.preload?(v.preload.call(v),x.list.size===0?this.create(v):(g.status=l.LOADING,x.once(o.COMPLETE,this.loadComplete,this),x.start())):this.create(v)},loadComplete:function(v){this.create(v.scene)},payloadComplete:function(v){this.bootScene(v.scene)},update:function(v,m){this.processQueue(),this.isProcessing=!0;for(var g=this.scenes.length-1;g>=0;g--){var x=this.scenes[g].sys;x.settings.status>l.START&&x.settings.status<=l.RUNNING&&x.step(v,m)}},render:function(v){for(var m=0;m<this.scenes.length;m++){var g=this.scenes[m].sys;g.settings.visible&&g.settings.status>=l.LOADING&&g.settings.status<l.SLEEPING&&g.render(v)}this.isProcessing=!1},create:function(v){var m=v.sys,g=m.settings;v.create&&(g.status=l.CREATING,v.create.call(v,g.data),g.status===l.DESTROYED)||(g.isTransition&&m.events.emit(s.TRANSITION_START,g.transitionFrom,g.transitionDuration),v.update&&(m.sceneUpdate=v.update),g.status=l.RUNNING,m.events.emit(s.CREATE,v))},createSceneFromFunction:function(v,m){var g=new m;if(g instanceof u){var x=g.sys.settings.key;if(x!==""&&(v=x),this.keys.hasOwnProperty(v))throw new Error("Cannot add a Scene with duplicate key: "+v);return this.createSceneFromInstance(v,g)}else return g.sys=new h(g),g.sys.settings.key=v,g.sys.init(this.game),g},createSceneFromInstance:function(v,m){var g=m.sys.settings.key;return g===""&&(m.sys.settings.key=v),m.sys.init(this.game),m},createSceneFromObject:function(v,m){var g=new u(m),x=g.sys.settings.key;x!==""?v=x:g.sys.settings.key=v,g.sys.init(this.game);for(var y=["init","preload","create","update","render"],T=0;T<y.length;T++){var S=a(m,y[T],null);S&&(g[y[T]]=S)}if(m.hasOwnProperty("extend")){for(var E in m.extend)if(!!m.extend.hasOwnProperty(E)){var C=m.extend[E];E==="data"&&g.hasOwnProperty("data")&&typeof C=="object"?g.data.merge(C):E!=="sys"&&(g[E]=C)}}return g},getKey:function(v,m){if(v||(v="default"),typeof m=="function")return v;if(m instanceof u?v=m.sys.settings.key:typeof m=="object"&&m.hasOwnProperty("key")&&(v=m.key),this.keys.hasOwnProperty(v))throw new Error("Cannot add a Scene with duplicate key: "+v);return v},getScenes:function(v,m){v===void 0&&(v=!0),m===void 0&&(m=!1);for(var g=[],x=this.scenes,y=0;y<x.length;y++){var T=x[y];T&&(!v||v&&T.sys.isActive())&&g.push(T)}return m?g.reverse():g},getScene:function(v){if(typeof v=="string"){if(this.keys[v])return this.keys[v]}else for(var m=0;m<this.scenes.length;m++)if(v===this.scenes[m])return v;return null},isActive:function(v){var m=this.getScene(v);return m?m.sys.isActive():null},isPaused:function(v){var m=this.getScene(v);return m?m.sys.isPaused():null},isVisible:function(v){var m=this.getScene(v);return m?m.sys.isVisible():null},isSleeping:function(v){var m=this.getScene(v);return m?m.sys.isSleeping():null},pause:function(v,m){var g=this.getScene(v);return g&&g.sys.pause(m),this},resume:function(v,m){var g=this.getScene(v);return g&&g.sys.resume(m),this},sleep:function(v,m){var g=this.getScene(v);return g&&!g.sys.isTransitioning()&&g.sys.sleep(m),this},wake:function(v,m){var g=this.getScene(v);return g&&g.sys.wake(m),this},run:function(v,m){var g=this.getScene(v);if(!g){for(var x=0;x<this._pending.length;x++)if(this._pending[x].key===v){this.queueOp("start",v,m);break}return this}g.sys.isSleeping()?g.sys.wake(m):g.sys.isPaused()?g.sys.resume(m):this.start(v,m)},start:function(v,m){if(!this.isBooted)return this._data[v]={autoStart:!0,data:m},this;var g=this.getScene(v);if(g){var x=g.sys;if(x.isActive()||x.isPaused())x.shutdown(),x.sceneUpdate=n,x.start(m);else{x.sceneUpdate=n,x.start(m);var y;if(x.load&&(y=x.load),y&&x.settings.hasOwnProperty("pack")&&(y.reset(),y.addPack({payload:x.settings.pack})))return x.settings.status=l.LOADING,y.once(o.COMPLETE,this.payloadComplete,this),y.start(),this}this.bootScene(g)}return this},stop:function(v,m){var g=this.getScene(v);return g&&!g.sys.isTransitioning()&&g.sys.shutdown(m),this},switch:function(v,m){var g=this.getScene(v),x=this.getScene(m);return g&&x&&g!==x&&(this.sleep(v),this.isSleeping(m)?this.wake(m):this.start(m)),this},getAt:function(v){return this.scenes[v]},getIndex:function(v){var m=this.getScene(v);return this.scenes.indexOf(m)},bringToTop:function(v){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:v,keyB:null});else{var m=this.getIndex(v);if(m!==-1&&m<this.scenes.length){var g=this.getScene(v);this.scenes.splice(m,1),this.scenes.push(g)}}return this},sendToBack:function(v){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:v,keyB:null});else{var m=this.getIndex(v);if(m!==-1&&m>0){var g=this.getScene(v);this.scenes.splice(m,1),this.scenes.unshift(g)}}return this},moveDown:function(v){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:v,keyB:null});else{var m=this.getIndex(v);if(m>0){var g=m-1,x=this.getScene(v),y=this.getAt(g);this.scenes[m]=y,this.scenes[g]=x}}return this},moveUp:function(v){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:v,keyB:null});else{var m=this.getIndex(v);if(m<this.scenes.length-1){var g=m+1,x=this.getScene(v),y=this.getAt(g);this.scenes[m]=y,this.scenes[g]=x}}return this},moveAbove:function(v,m){if(v===m)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:v,keyB:m});else{var g=this.getIndex(v),x=this.getIndex(m);if(g!==-1&&x!==-1){var y=this.getAt(x);this.scenes.splice(x,1),this.scenes.splice(g+1,0,y)}}return this},moveBelow:function(v,m){if(v===m)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:v,keyB:m});else{var g=this.getIndex(v),x=this.getIndex(m);if(g!==-1&&x!==-1){var y=this.getAt(x);this.scenes.splice(x,1),g===0?this.scenes.unshift(y):this.scenes.splice(g,0,y)}}return this},queueOp:function(v,m,g){return this._queue.push({op:v,keyA:m,keyB:g}),this},swapPosition:function(v,m){if(v===m)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:v,keyB:m});else{var g=this.getIndex(v),x=this.getIndex(m);if(g!==x&&g!==-1&&x!==-1){var y=this.getAt(g);this.scenes[g]=this.scenes[x],this.scenes[x]=y}}return this},dump:function(){for(var v=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],g=0;g<this.scenes.length;g++){var x=this.scenes[g].sys,y=x.settings.visible&&(x.settings.status===l.RUNNING||x.settings.status===l.PAUSED)?"[*] ":"[-] ";y+=x.settings.key+" ("+m[x.settings.status]+")",v.push(y)}console.log(v.join(`
`))},destroy:function(){for(var v=0;v<this.scenes.length;v++){var m=this.scenes[v].sys;m.destroy()}this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});i.exports=f},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(204),s=new e({initialize:function(a){this.sys=new l(this,a),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),l=t(205),s=function(r){var a=r.game.config.defaultPhysicsSystem,o=e(r.settings,"physics",!1);if(!(!a&&!o)){var n=[];if(a&&n.push(l(a+"Physics")),o)for(var u in o)u=l(u.concat("Physics")),n.indexOf(u)===-1&&n.push(u);return n}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),l=function(s){var r=s.plugins.getDefaultScenePlugins(),a=e(s.settings,"plugins",!1);return Array.isArray(a)?a:r||[]};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),l=t(6),s=t(127),r=t(978),a={create:function(o){return typeof o=="string"?o={key:o}:o===void 0&&(o={}),{status:e.PENDING,key:l(o,"key",""),active:l(o,"active",!1),visible:l(o,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:l(o,"pack",!1),cameras:l(o,"cameras",null),map:l(o,"map",s(r,l(o,"mapAdd",{}))),physics:l(o,"physics",{}),loader:l(o,"loader",{}),plugins:l(o,"plugins",!1),input:l(o,"input",{})}}};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),l=t(423),s=t(0),r=t(38),a=t(33),o=t(9),n=t(106),u=t(22),h=t(388),f=t(6),v=t(425),m=t(206),g=new s({Extends:o,initialize:function(y){o.call(this),this.game=y,this.name="TextureManager",this.list={},this._tempCanvas=e.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,y.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(n.LOAD,this.updatePending,this),this.on(n.ERROR,this.updatePending,this);var x=this.game.config;this.addBase64("__DEFAULT",x.defaultImage),this.addBase64("__MISSING",x.missingImage),this.addBase64("__WHITE",x.whiteImage),this.game.events.once(u.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(n.LOAD),this.off(n.ERROR),this.emit(n.READY))},checkKey:function(x){return this.exists(x)?(console.error("Texture key already in use: "+x),!1):!0},remove:function(x){if(typeof x=="string")if(this.exists(x))x=this.get(x);else return console.warn("No texture found matching key: "+x),this;return this.list.hasOwnProperty(x.key)&&(x.destroy(),this.emit(n.REMOVE,x.key)),this},removeKey:function(x){return this.list.hasOwnProperty(x)&&delete this.list[x],this},addBase64:function(x,y){if(this.checkKey(x)){var T=this,S=new Image;S.onerror=function(){T.emit(n.ERROR,x)},S.onload=function(){var E=T.create(x,S);v.Image(E,0),T.emit(n.ADD,x,E),T.emit(n.LOAD,x,E)},S.src=y}return this},getBase64:function(x,y,T,S){T===void 0&&(T="image/png"),S===void 0&&(S=.92);var E="",C=this.getFrame(x,y);if(C&&(C.source.isRenderTexture||C.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(C){var A=C.canvasData,P=e.create2D(this,A.width,A.height),R=P.getContext("2d");R.drawImage(C.source.image,A.x,A.y,A.width,A.height,0,0,A.width,A.height),E=P.toDataURL(T,S),e.remove(P)}return E},addImage:function(x,y,T){var S=null;return this.checkKey(x)&&(S=this.create(x,y),v.Image(S,0),T&&S.setDataSource(T),this.emit(n.ADD,x,S)),S},addGLTexture:function(x,y,T,S){var E=null;return this.checkKey(x)&&(T===void 0&&(T=y.width),S===void 0&&(S=y.height),E=this.create(x,y,T,S),E.add("__BASE",0,0,0,T,S),this.emit(n.ADD,x,E)),E},addRenderTexture:function(x,y){var T=null;return this.checkKey(x)&&(T=this.create(x,y),T.add("__BASE",0,0,0,y.width,y.height),this.emit(n.ADD,x,T)),T},generate:function(x,y){if(this.checkKey(x)){var T=e.create(this,1,1);return y.canvas=T,h(y),this.addCanvas(x,T)}else return null},createCanvas:function(x,y,T){if(y===void 0&&(y=256),T===void 0&&(T=256),this.checkKey(x)){var S=e.create(this,y,T,a.CANVAS,!0);return this.addCanvas(x,S)}return null},addCanvas:function(x,y,T){T===void 0&&(T=!1);var S=null;return T?S=new l(this,x,y,y.width,y.height):this.checkKey(x)&&(S=new l(this,x,y,y.width,y.height),this.list[x]=S,this.emit(n.ADD,x,S)),S},addAtlas:function(x,y,T,S){return Array.isArray(T.textures)||Array.isArray(T.frames)?this.addAtlasJSONArray(x,y,T,S):this.addAtlasJSONHash(x,y,T,S)},addAtlasJSONArray:function(x,y,T,S){var E=null;if(this.checkKey(x)){if(E=this.create(x,y),Array.isArray(T))for(var C=T.length===1,A=0;A<E.source.length;A++){var P=C?T[0]:T[A];v.JSONArray(E,A,P)}else v.JSONArray(E,0,T);S&&E.setDataSource(S),this.emit(n.ADD,x,E)}return E},addAtlasJSONHash:function(x,y,T,S){var E=null;if(this.checkKey(x)){if(E=this.create(x,y),Array.isArray(T))for(var C=0;C<T.length;C++)v.JSONHash(E,C,T[C]);else v.JSONHash(E,0,T);S&&E.setDataSource(S),this.emit(n.ADD,x,E)}return E},addAtlasXML:function(x,y,T,S){var E=null;return this.checkKey(x)&&(E=this.create(x,y),v.AtlasXML(E,0,T),S&&E.setDataSource(S),this.emit(n.ADD,x,E)),E},addUnityAtlas:function(x,y,T,S){var E=null;return this.checkKey(x)&&(E=this.create(x,y),v.UnityYAML(E,0,T),S&&E.setDataSource(S),this.emit(n.ADD,x,E)),E},addSpriteSheet:function(x,y,T){var S=null;if(this.checkKey(x)){S=this.create(x,y);var E=S.source[0].width,C=S.source[0].height;v.SpriteSheet(S,0,0,0,E,C,T),this.emit(n.ADD,x,S)}return S},addSpriteSheetFromAtlas:function(x,y){if(!this.checkKey(x))return null;var T=f(y,"atlas",null),S=f(y,"frame",null);if(!(!T||!S)){var E=this.get(T),C=E.get(S);if(C){var A=this.create(x,C.source.image);return C.trimmed?v.SpriteSheetFromAtlas(A,C,y):v.SpriteSheet(A,0,C.cutX,C.cutY,C.cutWidth,C.cutHeight,y),this.emit(n.ADD,x,A),A}}},create:function(x,y,T,S){var E=null;return this.checkKey(x)&&(E=new m(this,x,y,T,S),this.list[x]=E),E},exists:function(x){return this.list.hasOwnProperty(x)},get:function(x){return x===void 0&&(x="__DEFAULT"),this.list[x]?this.list[x]:x instanceof m?x:this.list.__MISSING},cloneFrame:function(x,y){if(this.list[x])return this.list[x].get(y).clone()},getFrame:function(x,y){if(this.list[x])return this.list[x].get(y)},getTextureKeys:function(){var x=[];for(var y in this.list)y!=="__DEFAULT"&&y!=="__MISSING"&&x.push(y);return x},getPixel:function(x,y,T,S){var E=this.getFrame(T,S);if(E){x-=E.x,y-=E.y;var C=E.data.cut;if(x+=C.x,y+=C.y,x>=C.x&&x<C.r&&y>=C.y&&y<C.b){var A=this._tempContext;A.clearRect(0,0,1,1),A.drawImage(E.source.image,x,y,1,1,0,0,1,1);var P=A.getImageData(0,0,1,1);return new r(P.data[0],P.data[1],P.data[2],P.data[3])}}return null},getPixelAlpha:function(x,y,T,S){var E=this.getFrame(T,S);if(E){x-=E.x,y-=E.y;var C=E.data.cut;if(x+=C.x,y+=C.y,x>=C.x&&x<C.r&&y>=C.y&&y<C.b){var A=this._tempContext;A.clearRect(0,0,1,1),A.drawImage(E.source.image,x,y,1,1,0,0,1,1);var P=A.getImageData(0,0,1,1);return P.data[3]}}return null},setTexture:function(x,y,T){return this.list[y]&&(x.texture=this.list[y],x.frame=x.texture.get(T)),x},renameTexture:function(x,y){var T=this.get(x);return T&&x!==y?(T.key=y,this.list[y]=T,delete this.list[x],!0):!1},each:function(x,y){for(var T=[null],S=1;S<arguments.length;S++)T.push(arguments[S]);for(var E in this.list)T[0]=this.list[E],x.apply(y,T)},destroy:function(){for(var x in this.list)this.list[x].destroy();this.list={},this.game=null,e.remove(this._tempCanvas)}});i.exports=g},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(18),s=t(38),r=t(33),a=t(138),o=t(206),n=new e({Extends:o,initialize:function(h,f,v,m,g){o.call(this,h,f,v,m,g),this.add("__BASE",0,0,0,m,g),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=m,this.height=g,this.imageData=this.context.getImageData(0,0,m,g),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(u,h,f){return this.context.drawImage(f,u,h),this.update()},drawFrame:function(u,h,f,v){f===void 0&&(f=0),v===void 0&&(v=0);var m=this.manager.getFrame(u,h);if(m){var g=m.canvasData,x=m.cutWidth,y=m.cutHeight,T=m.source.resolution;return this.context.drawImage(m.source.image,g.x,g.y,x,y,f,v,x/T,y/T),this.update()}else return this},setPixel:function(u,h,f,v,m,g){g===void 0&&(g=255),u=Math.abs(Math.floor(u)),h=Math.abs(Math.floor(h));var x=this.getIndex(u,h);if(x>-1){var y=this.context.getImageData(u,h,1,1);y.data[0]=f,y.data[1]=v,y.data[2]=m,y.data[3]=g,this.context.putImageData(y,u,h)}return this},putData:function(u,h,f,v,m,g,x){return v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=u.width),x===void 0&&(x=u.height),this.context.putImageData(u,h,f,v,m,g,x),this},getData:function(u,h,f,v){u=l(Math.floor(u),0,this.width-1),h=l(Math.floor(h),0,this.height-1),f=l(f,1,this.width-u),v=l(v,1,this.height-h);var m=this.context.getImageData(u,h,f,v);return m},getPixel:function(u,h,f){f||(f=new s);var v=this.getIndex(u,h);if(v>-1){var m=this.data,g=m[v+0],x=m[v+1],y=m[v+2],T=m[v+3];f.setTo(g,x,y,T)}return f},getPixels:function(u,h,f,v){u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=this.width),v===void 0&&(v=f),u=Math.abs(Math.round(u)),h=Math.abs(Math.round(h));for(var m=l(u,0,this.width),g=l(u+f,0,this.width),x=l(h,0,this.height),y=l(h+v,0,this.height),T=new s,S=[],E=x;E<y;E++){for(var C=[],A=m;A<g;A++)T=this.getPixel(A,E,T),C.push({x:A,y:E,color:T.color,alpha:T.alphaGL});S.push(C)}return S},getIndex:function(u,h){return u=Math.abs(Math.round(u)),h=Math.abs(Math.round(h)),u<this.width&&h<this.height?(u+h*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(u,h,f,v){return u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=this.width),v===void 0&&(v=this.height),this.context.clearRect(u,h,f,v),this.update()},setSize:function(u,h){return h===void 0&&(h=u),(u!==this.width||h!==this.height)&&(this.canvas.width=u,this.canvas.height=h,this._source.width=u,this._source.height=h,this._source.isPowerOf2=a(u,h),this.frames.__BASE.setSize(u,h,0,0),this.width=u,this.height=h,this.refresh()),this},destroy:function(){o.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),l=t(0),s=t(138),r=t(168),a=new l({initialize:function(n,u,h,f,v){v===void 0&&(v=!1);var m=n.manager.game;this.renderer=m.renderer,this.texture=n,this.source=u,this.image=u,this.compressionAlgorithm=null,this.resolution=1,this.width=h||u.naturalWidth||u.videoWidth||u.width||0,this.height=f||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&u instanceof WebGLTexture,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=v,this.init(m)},init:function(o){var n=this.renderer;n&&(n.gl?this.isCanvas?this.glTexture=n.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=n.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=n.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=n.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),o.config.antialias||this.setFilter(1)},setFilter:function(o){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,o),this.scaleMode=o},setFlipY:function(o){return o===void 0&&(o=!0),this.flipY=o,this},update:function(){var o=this.renderer.gl;o&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):o&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&e.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={AtlasXML:t(979),Canvas:t(980),Image:t(981),JSONArray:t(982),JSONHash:t(983),SpriteSheet:t(984),SpriteSheetFromAtlas:t(985),UnityYAML:t(986)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(427),l=t(430),s=t(432),r={create:function(a){var o=a.config.audio,n=a.device.audio;return o.noAudio||!n.webAudio&&!n.audioData?new l(a):n.webAudio&&!o.disableWebAudio?new s(a):new e(a)}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),l=t(0),s=t(70),r=t(429),a=new l({Extends:e,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,e.call(this,n)},add:function(o,n){var u=new r(this,o,n);return this.sounds.push(u),u},unlock:function(){this.locked=!1;var o=this;if(this.game.cache.audio.entries.each(function(f,v){for(var m=0;m<v.length;m++)if(v[m].dataset.locked==="true")return o.locked=!0,!1;return!0}),!!this.locked){var n=!1,u=function(){n=!0},h=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",u),document.body.removeEventListener("touchend",h);var f=[];if(o.game.cache.audio.entries.each(function(m,g){for(var x=0;x<g.length;x++){var y=g[x];y.dataset.locked==="true"&&f.push(y)}return!0}),f.length!==0){var v=f[f.length-1];v.oncanplaythrough=function(){v.oncanplaythrough=null,f.forEach(function(m){m.dataset.locked="false"}),o.unlocked=!0},f.forEach(function(m){m.load()})}};this.once(s.UNLOCKED,function(){for(this.forEachActiveSound(function(v){v.currentMarker===null&&v.duration===0&&(v.duration=v.tags[0].duration),v.totalDuration=v.tags[0].duration});this.lockedActionsQueue.length;){var f=this.lockedActionsQueue.shift();f.sound[f.prop].apply?f.sound[f.prop].apply(f.sound,f.value||[]):f.sound[f.prop]=f.value}},this),document.body.addEventListener("touchmove",u,!1),document.body.addEventListener("touchend",h,!1)}},onBlur:function(){this.forEachActiveSound(function(o){o.isPlaying&&(this.onBlurPausedSounds.push(o),o.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(o){o.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){e.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(o,n,u){return o.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:o,prop:n,value:u}),!0):!1},setMute:function(o){return this.mute=o,this},mute:{get:function(){return this._mute},set:function(o){this._mute=o,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(s.GLOBAL_MUTE,this,o)}},setVolume:function(o){return this.volume=o,this},volume:{get:function(){return this._volume},set:function(o){this._volume=o,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(s.GLOBAL_VOLUME,this,o)}}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),l=function(s,r,a,o,n){if(o===void 0&&(o=0),n===void 0&&(n=s.length),e(s,o,n))for(var u=o;u<n;u++){var h=s[u];if(!r||r&&a===void 0&&h.hasOwnProperty(r)||r&&a!==void 0&&h[r]===a)return h}return null};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),l=t(0),s=t(70),r=t(18),a=new l({Extends:e,initialize:function(n,u,h){if(h===void 0&&(h={}),this.tags=n.game.cache.audio.get(u),!this.tags)throw new Error('There is no audio asset with key "'+u+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,e.call(this,n,u,h)},play:function(o,n){return this.manager.isLocked(this,"play",[o,n])||!e.prototype.play.call(this,o,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!e.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!e.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.seek,n=this.currentConfig.delay,u=(this.currentMarker?this.currentMarker.start:0)+o;return this.previousTime=u,this.audio.currentTime=u,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var o=0;o<this.tags.length;o++){var n=this.tags[o];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var u=[];this.manager.forEachActiveSound(function(f){f.key===this.key&&f.audio&&u.push(f)},this),u.sort(function(f,v){return f.loop===v.loop?v.seek/v.duration-f.seek/f.duration:f.loop?1:-1});var h=u[0];return this.audio=h.audio,h.reset(),h.audio=null,h.startTime=0,h.previousTime=0,!0},playCatchPromise:function(){var o=this.audio.play();o&&o.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){e.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(o){if(!!this.isPlaying){if(this.startTime>0){this.startTime<o-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,o-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,u=n+this.duration,h=this.audio.currentTime;if(this.currentConfig.loop)h>=u-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,h-u),h=this.audio.currentTime):h<n&&(this.audio.currentTime+=n,h=this.audio.currentTime),h<this.previousTime&&this.emit(s.LOOPED,this);else if(h>=u){this.reset(),this.stopAndReleaseAudioTag(),this.emit(s.COMPLETE,this);return}this.previousTime=h}},destroy:function(){e.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){e.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(o){this.currentConfig.mute=o,!this.manager.isLocked(this,"mute",o)&&(this.updateMute(),this.emit(s.MUTE,this,o))}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.currentConfig.volume},set:function(o){this.currentConfig.volume=o,!this.manager.isLocked(this,"volume",o)&&(this.updateVolume(),this.emit(s.VOLUME,this,o))}},setVolume:function(o){return this.volume=o,this},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,!this.manager.isLocked(this,s.RATE,o)&&(this.calculateRate(),this.emit(s.RATE,this,o))}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,!this.manager.isLocked(this,s.DETUNE,o)&&(this.calculateRate(),this.emit(s.DETUNE,this,o))}},setDetune:function(o){return this.detune=o,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.isLocked(this,"seek",o)||this.startTime>0||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.isPlaying?(this.previousTime=o,this.audio.currentTime=o):this.isPaused&&(this.currentConfig.seek=o),this.emit(s.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,!this.manager.isLocked(this,"loop",o)&&(this.audio&&(this.audio.loop=o),this.emit(s.LOOP,this,o))}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.currentConfig.pan},set:function(o){this.currentConfig.pan=o,this.emit(s.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),l=t(0),s=t(9),r=t(431),a=t(1),o=new l({Extends:s,initialize:function(u){s.call(this),this.game=u,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,u){var h=new r(this,n,u);return this.sounds.push(h),h},addAudioSprite:function(n,u){var h=this.add(n,u);return h.spritemap={},h},play:function(n,u){return!1},playAudioSprite:function(n,u,h){return!1},remove:function(n){return e.prototype.remove.call(this,n)},removeByKey:function(n){return e.prototype.removeByKey.call(this,n)},pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,forEachActiveSound:function(n,u){e.prototype.forEachActiveSound.call(this,n,u)},destroy:function(){e.prototype.destroy.call(this)}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),l=t(0),s=t(9),r=t(17),a=function(){return!1},o=function(){return null},n=function(){return this},u=new l({Extends:s,initialize:function(f,v,m){m===void 0&&(m={}),s.call(this),this.manager=f,this.key=v,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:o,play:a,pause:a,resume:a,stop:a,destroy:function(){e.prototype.destroy.call(this)},setMute:n,setVolume:n,setRate:n,setDetune:n,setSeek:n,setLoop:n,setPan:n});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(433),l=t(145),s=t(0),r=t(70),a=t(22),o=t(434),n=new s({Extends:l,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),l.call(this,h),this.locked&&h.isBooted?this.unlock():h.events.once(a.BOOT,this.unlock,this)},createAudioContext:function(u){var h=u.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,h){var f=new o(this,u,h);return this.sounds.push(f),f},decodeAudio:function(u,h){var f;Array.isArray(u)?f=u:f=[{key:u,data:h}];for(var v=this.game.cache.audio,m=f.length,g=0;g<f.length;g++){var x=f[g],y=x.key,T=x.data;typeof T=="string"&&(T=e(T));var S=function(C,A){v.add(C,A),this.emit(r.DECODED,C),m--,m===0&&this.emit(r.DECODED_ALL)}.bind(this,y),E=function(C,A){console.error("Error decoding audio: "+C+" - ",A?A.message:""),m--,m===0&&this.emit(r.DECODED_ALL)}.bind(this,y);this.context.decodeAudioData(T,S,E)}},unlock:function(){var u=this,h=document.body,f=function v(){if(u.context&&h){var m=h.removeEventListener;u.context.resume().then(function(){m("touchstart",v),m("touchend",v),m("click",v),m("keydown",v),u.unlocked=!0},function(){m("touchstart",v),m("touchend",v),m("click",v),m("keydown",v)})}};h&&(h.addEventListener("touchstart",f,!1),h.addEventListener("touchend",f,!1),h.addEventListener("click",f,!1),h.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;(u.state==="suspended"||u.state==="interrupted")&&!this.locked&&u.resume()},update:function(u,h){l.prototype.update.call(this,u,h);var f=this.context;f&&f.state==="interrupted"&&f.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}l.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(r.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(r.GLOBAL_VOLUME,this,u)}}});i.exports=n},function(i,d){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),l=0;l<t.length;l++)e[t.charCodeAt(l)]=l;var s=function(r){r=r.substr(r.indexOf(",")+1);var a=r.length,o=a*.75,n=0,u,h,f,v;r[a-1]==="="&&(o--,r[a-2]==="="&&o--);for(var m=new ArrayBuffer(o),g=new Uint8Array(m),x=0;x<a;x+=4)u=e[r.charCodeAt(x)],h=e[r.charCodeAt(x+1)],f=e[r.charCodeAt(x+2)],v=e[r.charCodeAt(x+3)],g[n++]=u<<2|h>>4,g[n++]=(h&15)<<4|f>>2,g[n++]=(f&3)<<6|v&63;return m};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),l=t(0),s=t(70),r=new l({Extends:e,initialize:function(o,n,u){if(u===void 0&&(u={}),this.audioBuffer=o.game.cache.audio.get(n),!this.audioBuffer)throw new Error('Audio key "'+n+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=o.context.createGain(),this.volumeNode=o.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),o.context.createStereoPanner?(this.pannerNode=o.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(o.destination)):this.volumeNode.connect(o.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,e.call(this,o,n,u)},play:function(a,o){return e.prototype.play.call(this,a,o)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0)},stop:function(){return e.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,o=this.currentConfig.delay,n=this.manager.context.currentTime+o,u=(this.currentMarker?this.currentMarker.start:0)+a,h=this.duration-a;this.playTime=n-a,this.startTime=n,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,n),Math.max(0,u),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),o=this.currentMarker?this.currentMarker.start:0,n=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,o),Math.max(0,n))},createBufferSource:function(){var a=this,o=this.manager.context.createBufferSource();return o.buffer=this.audioBuffer,o.connect(this.muteNode),o.onended=function(n){n.target===a.source&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},o},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),e.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,e.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){e.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){e.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,o=0;o<this.rateUpdates.length;o++){var n=0;o<this.rateUpdates.length-1?n=this.rateUpdates[o+1].time:n=this.manager.context.currentTime-this.playTime,a+=(n-this.rateUpdates[o].time)*this.rateUpdates[o].rate}return a},getLoopTime:function(){for(var a=0,o=0;o<this.rateUpdates.length-1;o++)a+=(this.rateUpdates[o+1].time-this.rateUpdates[o].time)*this.rateUpdates[o].rate;var n=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+n.time+(this.duration-a)/n.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(s.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(s.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(s.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(s.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(s.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var l=e.length,s=e[0].length,r=new Array(s),a=0;a<s;a++){r[a]=new Array(l);for(var o=l-1;o>-1;o--)r[a][o]=e[o][a]}return r};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(s,r,a){var o=s[r];s[r]=s[a],s[a]=o}function e(s,r){return s<r?-1:s>r?1:0}var l=function(s,r,a,o,n){for(a===void 0&&(a=0),o===void 0&&(o=s.length-1),n===void 0&&(n=e);o>a;){if(o-a>600){var u=o-a+1,h=r-a+1,f=Math.log(u),v=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*v*(u-v)/u)*(h-u/2<0?-1:1),g=Math.max(a,Math.floor(r-h*v/u+m)),x=Math.min(o,Math.floor(r+(u-h)*v/u+m));l(s,r,g,x,n)}var y=s[r],T=a,S=o;for(t(s,a,r),n(s[o],y)>0&&t(s,a,o);T<S;){for(t(s,T,S),T++,S--;n(s[T],y)<0;)T++;for(;n(s[S],y)>0;)S--}n(s[a],y)===0?t(s,a,S):(S++,t(s,S,o)),S<=r&&(a=S+1),r<=S&&(o=S-1)}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),l=t(131),s=function(a,o,n){for(var u=[],h=0;h<a.length;h++)for(var f=0;f<o.length;f++)for(var v=0;v<n;v++)u.push({a:a[h],b:o[f]});return u},r=function(a,o,n){var u=e(n,"max",0),h=e(n,"qty",1),f=e(n,"random",!1),v=e(n,"randomB",!1),m=e(n,"repeat",0),g=e(n,"yoyo",!1),x=[];if(v&&l(o),m===-1)if(u===0)m=0;else{var y=a.length*o.length*h;g&&(y*=2),m=Math.ceil(u/y)}for(var T=0;T<=m;T++){var S=s(a,o,h);f&&l(S),x=x.concat(S),g&&(S.reverse(),x=x.concat(S))}return u&&x.splice(u),x};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={PROCESS_QUEUE_ADD:t(1041),PROCESS_QUEUE_REMOVE:t(1042)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(13),l=function(s,r){var a=e(r,"anims",null);if(a===null)return s;if(typeof a=="string")s.anims.play(a);else if(typeof a=="object"){var o=s.anims,n=e(a,"key",void 0);if(n){var u=e(a,"startFrame",void 0),h=e(a,"delay",0),f=e(a,"repeat",0),v=e(a,"repeatDelay",0),m=e(a,"yoyo",!1),g=e(a,"play",!1),x=e(a,"delayedPlay",0),y={key:n,delay:h,repeat:f,repeatDelay:v,yoyo:m,startFrame:u};g?o.play(y):x>0?o.playAfterDelay(y,x):o.load(y)}}return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(109),s=new e({initialize:function(a,o,n,u,h){this.parent=a,this.x=o,this.y=n,this.frame=u,this.data={},this.tint=16777215,this._visible=h,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof l&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,a,o){return this.x=r,this.y=a,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,o&&this.setFrame(o),this},setPosition:function(r,a){return this.x=r,this.y=a,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,a){return this.flipX=r,this.flipY=a,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=function(s,r,a){a===void 0&&(a=new e);var o=Math.min(s.x,r.x),n=Math.min(s.y,r.y),u=Math.max(s.right,r.right)-o,h=Math.max(s.bottom,r.bottom)-n;return a.setTo(o,n,u,h)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(1055),r=t(15),a=t(7),o=t(202),n=t(20),u=t(140),h=new e({Extends:r,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Origin,l.ScrollFactor,l.Transform,l.Visible,s],initialize:function(v,m,g,x,y,T){r.call(this,v,"DOMElement"),this.parent=v.sys.game.domContainer,this.cache=v.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,g),typeof x=="string"?x[0]==="#"?this.setElement(x.substr(1),y,T):this.createElement(x,y,T):x&&this.setElement(x,y,T),v.sys.events.on(n.SLEEP,this.handleSceneEvent,this),v.sys.events.on(n.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(f){var v=this.node,m=v.style;v&&(m.display=f.settings.visible?"block":"none")},setSkew:function(f,v){return f===void 0&&(f=0),v===void 0&&(v=f),this.skewX=f,this.skewY=v,this},setPerspective:function(f){return this.parent.style.perspective=f+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(f){this.parent.style.perspective=f+"px"}},addListener:function(f){if(this.node){f=f.split(" ");for(var v=0;v<f.length;v++)this.node.addEventListener(f[v],this.handler,!1)}return this},removeListener:function(f){if(this.node){f=f.split(" ");for(var v=0;v<f.length;v++)this.node.removeEventListener(f[v],this.handler)}return this},dispatchNativeEvent:function(f){this.emit(f.type,f)},createElement:function(f,v,m){return this.setElement(document.createElement(f),v,m)},setElement:function(f,v,m){this.removeElement();var g;if(typeof f=="string"?(f[0]==="#"&&(f=f.substr(1)),g=document.getElementById(f)):typeof f=="object"&&f.nodeType===1&&(g=f),!g)return this;if(this.node=g,v&&a(v))for(var x in v)g.style[x]=v[x];else typeof v=="string"&&(g.style=v);return g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),m&&(g.innerText=m),this.updateSize()},createFromCache:function(f,v){var m=this.cache.get(f);return m&&this.createFromHTML(m,v),this},createFromHTML:function(f,v){v===void 0&&(v="div"),this.removeElement();var m=document.createElement(v);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),m.innerHTML=f,this.updateSize()},removeElement:function(){return this.node&&(o(this.node),this.node=null),this},updateSize:function(){var f=this.node,v=f.getBoundingClientRect();return this.width=f.clientWidth,this.height=f.clientHeight,this.displayWidth=v.width||0,this.displayHeight=v.height||0,this},getChildByProperty:function(f,v){if(this.node){for(var m=this.node.querySelectorAll("*"),g=0;g<m.length;g++)if(m[g][f]===v)return m[g]}return null},getChildByID:function(f){return this.getChildByProperty("id",f)},getChildByName:function(f){return this.getChildByProperty("name",f)},setClassName:function(f){return this.node&&(this.node.className=f,this.updateSize()),this},setText:function(f){return this.node&&(this.node.innerText=f,this.updateSize()),this},setHTML:function(f){return this.node&&(this.node.innerHTML=f,this.updateSize()),this},preUpdate:function(){var f=this.parentContainer,v=this.node;v&&f&&!f.willRender()&&(v.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this)}});i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1056),l=t(15),s=t(25),r=new s,a=new s,o=new s,n=function(u,h,f,v){if(!!h.node){var m=h.node.style,g=h.scene.sys.settings;if(!m||!g.visible||l.RENDER_MASK!==h.renderFlags||h.cameraFilter!==0&&h.cameraFilter&f.id||h.parentContainer&&!h.parentContainer.willRender()){m.display="none";return}var x=h.parentContainer,y=f.alpha*h.alpha;x&&(y*=x.alpha);var T=r,S=a,E=o,C=0,A=0,P="0%",R="0%";v?(C=h.width*h.scaleX*h.originX,A=h.height*h.scaleY*h.originY,S.applyITRS(h.x-C,h.y-A,h.rotation,h.scaleX,h.scaleY),T.copyFrom(f.matrix),T.multiplyWithOffset(v,-f.scrollX*h.scrollFactorX,-f.scrollY*h.scrollFactorY),S.e=h.x-C,S.f=h.y-A,T.multiply(S,E)):(C=h.width*h.originX,A=h.height*h.originY,S.applyITRS(h.x-C,h.y-A,h.rotation,h.scaleX,h.scaleY),T.copyFrom(f.matrix),P=100*h.originX+"%",R=100*h.originY+"%",S.e-=f.scrollX*h.scrollFactorX,S.f-=f.scrollY*h.scrollFactorY,T.multiply(S,E)),h.transformOnly||(m.display="block",m.opacity=y,m.zIndex=h._depth,m.pointerEvents=h.pointerEvents,m.mixBlendMode=e[h._blendMode]),m.transform=E.getCSSMatrix()+" skew("+h.skewX+"rad, "+h.skewY+"rad) rotate3d("+h.rotate3d.x+","+h.rotate3d.y+","+h.rotate3d.z+","+h.rotate3d.w+h.rotate3dAngle+")",m.transformOrigin=P+" "+R}};i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(15),r=t(1060),a=new e({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.Origin,l.ScrollFactor,l.Size,l.Texture,l.Tint,l.Transform,l.Visible,r],initialize:function(n){s.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(218),l=t(98),s=t(14),r=t(4),a=function(o,n,u){u===void 0&&(u=new r);var h=l(n,0,s.PI2);return e(o,h,u)};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(447),l=t(218),s=t(98),r=t(14),a=function(o,n,u,h){h===void 0&&(h=[]),!n&&u>0&&(n=e(o)/u);for(var f=0;f<n;f++){var v=s(f/n,0,r.PI2);h.push(l(o,v))}return h};i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l=e.width/2,s=e.height/2,r=Math.pow(l-s,2)/Math.pow(l+s,2);return Math.PI*(l+s)*(1+3*r/(10+Math.sqrt(4-3*r)))};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),l=t(30),s=function(r,a,o,n,u,h){var f=a.commandBuffer,v=f.length,m=u||r.currentContext;if(!(v===0||!l(r,m,a,o,n))){o.addToRenderList(a);var g=1,x=1,y=0,T=0,S=1,E=0,C=0,A=0;m.beginPath();for(var P=0;P<v;++P){var R=f[P];switch(R){case e.ARC:m.arc(f[P+1],f[P+2],f[P+3],f[P+4],f[P+5],f[P+6]),P+=7;break;case e.LINE_STYLE:S=f[P+1],y=f[P+2],g=f[P+3],E=(y&16711680)>>>16,C=(y&65280)>>>8,A=y&255,m.strokeStyle="rgba("+E+","+C+","+A+","+g+")",m.lineWidth=S,P+=3;break;case e.FILL_STYLE:T=f[P+1],x=f[P+2],E=(T&16711680)>>>16,C=(T&65280)>>>8,A=T&255,m.fillStyle="rgba("+E+","+C+","+A+","+x+")",P+=2;break;case e.BEGIN_PATH:m.beginPath();break;case e.CLOSE_PATH:m.closePath();break;case e.FILL_PATH:h||m.fill();break;case e.STROKE_PATH:h||m.stroke();break;case e.FILL_RECT:h?m.rect(f[P+1],f[P+2],f[P+3],f[P+4]):m.fillRect(f[P+1],f[P+2],f[P+3],f[P+4]),P+=4;break;case e.FILL_TRIANGLE:m.beginPath(),m.moveTo(f[P+1],f[P+2]),m.lineTo(f[P+3],f[P+4]),m.lineTo(f[P+5],f[P+6]),m.closePath(),h||m.fill(),P+=6;break;case e.STROKE_TRIANGLE:m.beginPath(),m.moveTo(f[P+1],f[P+2]),m.lineTo(f[P+3],f[P+4]),m.lineTo(f[P+5],f[P+6]),m.closePath(),h||m.stroke(),P+=6;break;case e.LINE_TO:m.lineTo(f[P+1],f[P+2]),P+=2;break;case e.MOVE_TO:m.moveTo(f[P+1],f[P+2]),P+=2;break;case e.LINE_FX_TO:m.lineTo(f[P+1],f[P+2]),P+=5;break;case e.MOVE_FX_TO:m.moveTo(f[P+1],f[P+2]),P+=5;break;case e.SAVE:m.save();break;case e.RESTORE:m.restore();break;case e.TRANSLATE:m.translate(f[P+1],f[P+2]),P+=2;break;case e.SCALE:m.scale(f[P+1],f[P+2]),P+=2;break;case e.ROTATE:m.rotate(f[P+1]),P+=1;break;case e.GRADIENT_FILL_STYLE:P+=5;break;case e.GRADIENT_LINE_STYLE:P+=6;break}}m.restore()}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(137),s=t(80),r=t(2),a=t(68),o=new e({initialize:function(u,h,f,v){v===void 0&&(v=!1),this.propertyKey=h,this.propertyValue=f,this.defaultValue=f,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=v,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(u)},loadConfig:function(n,u){n===void 0&&(n={}),u&&(this.propertyKey=u),this.propertyValue=r(n,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(n){return this.propertyValue=n,this.setMethods()},setMethods:function(){var n=this.propertyValue,u=typeof n;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,u==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(n))this.onEmit=this.randomStaticValueEmit;else if(u==="function")this.emitOnly?this.onEmit=n:this.onUpdate=n;else if(u==="object"&&this.hasBoth(n,"start","end")){this.start=n.start,this.end=n.end;var h=this.has(n,"random");if(h&&(this.onEmit=this.randomRangedValueEmit),this.has(n,"steps"))this.steps=n.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var f=this.has(n,"ease")?n.ease:"Linear";this.ease=s(f,n.easeParams),h||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if(u==="object"&&this.hasBoth(n,"min","max"))this.start=n.min,this.end=n.max,this.onEmit=this.randomRangedValueEmit;else if(u==="object"&&this.has(n,"random")){var v=n.random;Array.isArray(v)&&(this.start=v[0],this.end=v[1]),this.onEmit=this.randomRangedValueEmit}else u==="object"&&this.hasEither(n,"onEmit","onUpdate")&&(this.has(n,"onEmit")&&(this.onEmit=n.onEmit),this.has(n,"onUpdate")&&(this.onUpdate=n.onUpdate));return this},has:function(n,u){return n.hasOwnProperty(u)},hasBoth:function(n,u,h){return n.hasOwnProperty(u)&&n.hasOwnProperty(h)},hasEither:function(n,u,h){return n.hasOwnProperty(u)||n.hasOwnProperty(h)},defaultEmit:function(n,u,h){return h},defaultUpdate:function(n,u,h,f){return f},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var n=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[n]},randomRangedValueEmit:function(n,u){var h=l(this.start,this.end);return n&&n.data[u]&&(n.data[u].min=h),h},steppedEmit:function(){var n=this.counter,u=this.counter+(this.end-this.start)/this.steps;return this.counter=a(u,this.start,this.end),n},easedValueEmit:function(n,u){if(n&&n.data[u]){var h=n.data[u];h.min=this.start,h.max=this.end}return this.start},easeValueUpdate:function(n,u,h){var f=n.data[u];return(f.max-f.min)*this.ease(h)+f.min}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(2),s=new e({initialize:function(a,o,n,u,h){if(typeof a=="object"){var f=a;a=l(f,"x",0),o=l(f,"y",0),n=l(f,"power",0),u=l(f,"epsilon",100),h=l(f,"gravity",50)}else a===void 0&&(a=0),o===void 0&&(o=0),n===void 0&&(n=0),u===void 0&&(u=100),h===void 0&&(h=50);this.x=a,this.y=o,this.active=!0,this._gravity=h,this._power=0,this._epsilon=0,this.power=n,this.epsilon=u},update:function(r,a){var o=this.x-r.x,n=this.y-r.y,u=o*o+n*n;if(u!==0){var h=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var f=this._power*a/(u*h)*100;r.velocityX+=o*f,r.velocityY+=n*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var a=this.power;this._gravity=r,this.power=a}}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(36),s=t(50),r=new e({initialize:function(o){this.emitter=o,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(a,o){var n=this.emitter;this.frame=n.getFrame(),n.emitZone&&n.emitZone.getPoint(this),a===void 0?this.x+=n.x.onEmit(this,"x"):this.x+=a,o===void 0?this.y+=n.y.onEmit(this,"y"):this.y+=o,this.life=n.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var u=n.speedX.onEmit(this,"speedX"),h=n.speedY?n.speedY.onEmit(this,"speedY"):u;if(n.radial){var f=l(n.angle.onEmit(this,"angle"));this.velocityX=Math.cos(f)*Math.abs(u),this.velocityY=Math.sin(f)*Math.abs(h)}else if(n.moveTo){var v=n.moveToX.onEmit(this,"moveToX"),m=n.moveToY?n.moveToY.onEmit(this,"moveToY"):v,g=Math.atan2(m-this.y,v-this.x),x=s(this.x,this.y,v,m)/(this.life/1e3);this.velocityX=Math.cos(g)*x,this.velocityY=Math.sin(g)*x}else this.velocityX=u,this.velocityY=h;n.acceleration&&(this.accelerationX=n.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=n.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=n.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=n.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=n.delay.onEmit(this,"delay"),this.scaleX=n.scaleX.onEmit(this,"scaleX"),this.scaleY=n.scaleY?n.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=n.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),this.bounce=n.bounce.onEmit(this,"bounce"),this.alpha=n.alpha.onEmit(this,"alpha"),this.tint=n.tint.onEmit(this,"tint")},computeVelocity:function(a,o,n,u){var h=this.velocityX,f=this.velocityY,v=this.accelerationX,m=this.accelerationY,g=this.maxVelocityX,x=this.maxVelocityY;h+=a.gravityX*n,f+=a.gravityY*n,v&&(h+=v*n),m&&(f+=m*n),h>g?h=g:h<-g&&(h=-g),f>x?f=x:f<-x&&(f=-x),this.velocityX=h,this.velocityY=f;for(var y=0;y<u.length;y++)u[y].update(this,o,n)},checkBounds:function(a){var o=a.bounds,n=-this.bounce;this.x<o.x&&a.collideLeft?(this.x=o.x,this.velocityX*=n):this.x>o.right&&a.collideRight&&(this.x=o.right,this.velocityX*=n),this.y<o.y&&a.collideTop?(this.y=o.y,this.velocityY*=n):this.y>o.bottom&&a.collideBottom&&(this.y=o.bottom,this.velocityY*=n)},update:function(a,o,n){if(this.delayCurrent>0)return this.delayCurrent-=a,!1;var u=this.emitter,h=1-this.lifeCurrent/this.life;return this.lifeT=h,this.computeVelocity(u,a,o,n),this.x+=this.velocityX*o,this.y+=this.velocityY*o,u.bounds&&this.checkBounds(u),u.deathZone&&u.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=u.scaleX.onUpdate(this,"scaleX",h,this.scaleX),u.scaleY?this.scaleY=u.scaleY.onUpdate(this,"scaleY",h,this.scaleY):this.scaleY=this.scaleX,this.angle=u.rotate.onUpdate(this,"rotate",h,this.angle),this.rotation=l(this.angle),this.alpha=u.alpha.onUpdate(this,"alpha",h,this.alpha),this.tint=u.tint.onUpdate(this,"tint",h,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0)}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),l=t(0),s=t(11),r=t(453),a=t(454),o=t(449),n=t(2),u=t(210),h=t(455),f=t(126),v=t(451),m=t(456),g=t(10),x=t(79),y=t(3),T=t(68),S=new l({Mixins:[s.BlendMode,s.Mask,s.ScrollFactor,s.Visible],initialize:function(C,A){this.manager=C,this.texture=C.texture,this.frames=[C.defaultFrame],this.defaultFrame=C.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=v,this.x=new o(A,"x",0,!0),this.y=new o(A,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new o(A,"accelerationX",0,!0),this.accelerationY=new o(A,"accelerationY",0,!0),this.maxVelocityX=new o(A,"maxVelocityX",1e4,!0),this.maxVelocityY=new o(A,"maxVelocityY",1e4,!0),this.speedX=new o(A,"speedX",0,!0),this.speedY=new o(A,"speedY",0,!0),this.moveTo=!1,this.moveToX=new o(A,"moveToX",0,!0),this.moveToY=new o(A,"moveToY",0,!0),this.bounce=new o(A,"bounce",0,!0),this.scaleX=new o(A,"scaleX",1),this.scaleY=new o(A,"scaleY",1),this.tint=new o(A,"tint",16777215),this.alpha=new o(A,"alpha",1),this.lifespan=new o(A,"lifespan",1e3,!0),this.angle=new o(A,"angle",{min:0,max:360},!0),this.rotate=new o(A,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new o(A,"quantity",1,!0),this.delay=new o(A,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=e.NORMAL,this.follow=null,this.followOffset=new y,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,A&&this.fromJSON(A)},fromJSON:function(E){if(!E)return this;var C=0,A="";for(C=0;C<this.configFastMap.length;C++)A=this.configFastMap[C],f(E,A)&&(this[A]=n(E,A));for(C=0;C<this.configOpMap.length;C++)A=this.configOpMap[C],f(E,A)&&this[A].loadConfig(E);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,f(E,"speed")&&(this.speedX.loadConfig(E,"speed"),this.speedY=null),(h(E,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),f(E,"scale")&&(this.scaleX.loadConfig(E,"scale"),this.scaleY=null),f(E,"callbackScope")){var P=n(E,"callbackScope",null);this.emitCallbackScope=P,this.deathCallbackScope=P}return f(E,"emitZone")&&this.setEmitZone(E.emitZone),f(E,"deathZone")&&this.setDeathZone(E.deathZone),f(E,"bounds")&&this.setBounds(E.bounds),f(E,"followOffset")&&this.followOffset.setFromObject(n(E,"followOffset",0)),f(E,"frame")&&this.setFrame(E.frame),f(E,"reserve")&&this.reserve(E.reserve),this},toJSON:function(E){E===void 0&&(E={});var C=0,A="";for(C=0;C<this.configFastMap.length;C++)A=this.configFastMap[C],E[A]=this[A];for(C=0;C<this.configOpMap.length;C++)A=this.configOpMap[C],this[A]&&(E[A]=this[A].toJSON());return this.speedY||(delete E.speedX,E.speed=this.speedX.toJSON()),this.scaleY||(delete E.scaleX,E.scale=this.scaleX.toJSON()),E},startFollow:function(E,C,A,P){return C===void 0&&(C=0),A===void 0&&(A=0),P===void 0&&(P=!1),this.follow=E,this.followOffset.set(C,A),this.trackVisible=P,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return u(this.frames);var E=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=T(this.currentFrame+1,0,this._frameLength)),E},setFrame:function(E,C,A){C===void 0&&(C=!0),A===void 0&&(A=1),this.randomFrame=C,this.frameQuantity=A,this.currentFrame=0,this._frameCounter=0;var P=typeof E;if(Array.isArray(E)||P==="string"||P==="number")this.manager.setEmitterFrames(E,this);else if(P==="object"){var R=E;E=n(R,"frames",null),E&&this.manager.setEmitterFrames(E,this);var M=n(R,"cycle",!1);this.randomFrame=!M,this.frameQuantity=n(R,"quantity",A)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(E){return E===void 0&&(E=!0),this.radial=E,this},setPosition:function(E,C){return this.x.onChange(E),this.y.onChange(C),this},setBounds:function(E,C,A,P){if(typeof E=="object"){var R=E;E=R.x,C=R.y,A=f(R,"w")?R.w:R.width,P=f(R,"h")?R.h:R.height}return this.bounds?this.bounds.setTo(E,C,A,P):this.bounds=new g(E,C,A,P),this},setSpeedX:function(E){return this.speedX.onChange(E),this.radial=!1,this},setSpeedY:function(E){return this.speedY&&(this.speedY.onChange(E),this.radial=!1),this},setSpeed:function(E){return this.speedX.onChange(E),this.speedY=null,this.radial=!0,this},setScaleX:function(E){return this.scaleX.onChange(E),this},setScaleY:function(E){return this.scaleY.onChange(E),this},setScale:function(E){return this.scaleX.onChange(E),this.scaleY=null,this},setGravityX:function(E){return this.gravityX=E,this},setGravityY:function(E){return this.gravityY=E,this},setGravity:function(E,C){return this.gravityX=E,this.gravityY=C,this},setAlpha:function(E){return this.alpha.onChange(E),this},setTint:function(E){return this.tint.onChange(E),this},setEmitterAngle:function(E){return this.angle.onChange(E),this},setAngle:function(E){return this.angle.onChange(E),this},setLifespan:function(E){return this.lifespan.onChange(E),this},setQuantity:function(E){return this.quantity.onChange(E),this},setFrequency:function(E,C){return this.frequency=E,this._counter=0,C&&this.quantity.onChange(C),this},setEmitZone:function(E){if(E===void 0)this.emitZone=null;else{var C=n(E,"type","random"),A=n(E,"source",null);switch(C){case"random":this.emitZone=new m(A);break;case"edge":var P=n(E,"quantity",1),R=n(E,"stepRate",0),M=n(E,"yoyo",!1),L=n(E,"seamless",!0);this.emitZone=new a(A,P,R,M,L);break}}return this},setDeathZone:function(E){if(E===void 0)this.deathZone=null;else{var C=n(E,"type","onEnter"),A=n(E,"source",null);if(A&&typeof A.contains=="function"){var P=C==="onEnter";this.deathZone=new r(A,P)}}return this},reserve:function(E){for(var C=this.dead,A=0;A<E;A++)C.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(E,C){return E===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof E=="function"&&(this.emitCallback=E,C&&(this.emitCallbackScope=C)),this},onParticleDeath:function(E,C){return E===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof E=="function"&&(this.deathCallback=E,C&&(this.deathCallbackScope=C)),this},killAll:function(){for(var E=this.dead,C=this.alive;C.length>0;)E.push(C.pop());return this},forEachAlive:function(E,C){for(var A=this.alive,P=A.length,R=0;R<P;++R)E.call(C,A[R],this);return this},forEachDead:function(E,C){for(var A=this.dead,P=A.length,R=0;R<P;++R)E.call(C,A[R],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return x(this.alive,this.depthSortCallback),this},flow:function(E,C){return C===void 0&&(C=1),this.frequency=E,this.quantity.onChange(C),this.start()},explode:function(E,C,A){return this.frequency=-1,this.emitParticle(E,C,A)},emitParticleAt:function(E,C,A){return this.emitParticle(A,E,C)},emitParticle:function(E,C,A){if(!this.atLimit()){E===void 0&&(E=this.quantity.onEmit());for(var P=this.dead,R=this.follow?this.follow.x+this.followOffset.x:C,M=this.follow?this.follow.y+this.followOffset.y:A,L=0;L<E;L++){var O=P.pop();if(O||(O=new this.particleClass(this)),O.fire(R,M),this.particleBringToTop?this.alive.push(O):this.alive.unshift(O),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,O,this),this.atLimit())break}return O}},preUpdate:function(E,C){C*=this.timeScale;var A=C/1e3;this.trackVisible&&(this.visible=this.follow.visible);var P=this.manager.getProcessors(),R=this.alive,M=this.dead,L=0,O=[],I=R.length;for(L=0;L<I;L++){var w=R[L];w.update(C,A,P)&&O.push({index:L,particle:w})}if(I=O.length,I>0){var G=this.deathCallback,V=this.deathCallbackScope;for(L=I-1;L>=0;L--){var X=O[L];R.splice(X.index,1),M.push(X.particle),G&&G.call(V,X.particle),X.particle.resetPosition()}}!this.on||(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=C,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(E,C){return E.y-C.y}});i.exports=S},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a){this.source=r,this.killOnEnter=a},willKill:function(s){var r=this.source.contains(s.x,s.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a,o,n,u){n===void 0&&(n=!1),u===void 0&&(u=!0),this.source=r,this.points=[],this.quantity=a,this.stepRate=o,this.yoyo=n,this.counter=-1,this.seamless=u,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var s=this.points[0],r=this.points[this.points.length-1];s.x===r.x&&s.y===r.y&&this.points.pop()}var a=this._length;return this._length=this.points.length,this._length<a&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(s){return this.source=s,this.updateSource()},getPoint:function(s){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(s.x=r.x,s.y=r.y)}});i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){for(var s=0;s<l.length;s++)if(e.hasOwnProperty(l[s]))return!0;return!1};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(3),s=new e({initialize:function(a){this.source=a,this._tempVec=new l},getPoint:function(r){var a=this._tempVec;this.source.getRandomPoint(a),r.x=a.x,r.y=a.y}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(73),r=new e({Extends:s,Mixins:[l.PathFollower],initialize:function(o,n,u,h,f,v){s.call(this,o,u,h,f,v),this.path=n},preUpdate:function(a,o){this.anims.update(a,o),this.pathUpdate(a)}});i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=e.canvas,a=e.context,o=e.style,n=[],u=0,h=s.length;o.maxLines>0&&o.maxLines<s.length&&(h=o.maxLines),o.syncFont(r,a);for(var f=0;f<h;f++){var v=o.strokeThickness;v+=a.measureText(s[f]).width,o.wordWrap&&(v-=a.measureText(" ").width),n[f]=Math.ceil(v),u=Math.max(u,n[f])}var m=l.fontSize+o.strokeThickness,g=m*h,x=e.lineSpacing;return h>1&&(g+=x*(h-1)),{width:u,height:g,lines:h,lineWidths:n,lineSpacing:x,lineHeight:m}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(13),s=t(6),r=t(460),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},o=new e({initialize:function(u,h){this.parent=u,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(h,!1,!0);var f=s(h,"metrics",!1);f?this.metrics={ascent:s(f,"ascent",0),descent:s(f,"descent",0),fontSize:s(f,"fontSize",0)}:this.metrics=r(this)},setStyle:function(n,u,h){u===void 0&&(u=!0),h===void 0&&(h=!1),n&&n.hasOwnProperty("fontSize")&&typeof n.fontSize=="number"&&(n.fontSize=n.fontSize.toString()+"px");for(var f in a){var v=h?a[f][1]:this[f];f==="wordWrapCallback"||f==="wordWrapCallbackScope"?this[f]=s(n,a[f][0],v):this[f]=l(n,a[f][0],v)}var m=s(n,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var g=s(n,"fill",null);return g!==null&&(this.color=g),u?this.update(!0):this.parent},syncFont:function(n,u){u.font=this._font},syncStyle:function(n,u){u.textBaseline="alphabetic",u.fillStyle=this.color,u.strokeStyle=this.stroke,u.lineWidth=this.strokeThickness,u.lineCap="round",u.lineJoin="round"},syncShadow:function(n,u){u?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(n,u){u===void 0&&(u=!0);var h=n,f="",v="";if(typeof n!="string")h=s(n,"fontFamily","Courier"),f=s(n,"fontSize","16px"),v=s(n,"fontStyle","");else{var m=n.split(" "),g=0;v=m.length>2?m[g++]:"",f=m[g++]||"16px",h=m[g++]||"Courier"}return(h!==this.fontFamily||f!==this.fontSize||v!==this.fontStyle)&&(this.fontFamily=h,this.fontSize=f,this.fontStyle=v,u&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,u){return this.fixedWidth=n,this.fixedHeight=u,n&&(this.parent.width=n),u&&(this.parent.height=u),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,u){return u===void 0&&(u=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==u)&&(this.stroke=n,this.strokeThickness=u,this.update(!0)),this.parent},setShadow:function(n,u,h,f,v,m){return n===void 0&&(n=0),u===void 0&&(u=0),h===void 0&&(h="#000"),f===void 0&&(f=0),v===void 0&&(v=!1),m===void 0&&(m=!0),this.shadowOffsetX=n,this.shadowOffsetY=u,this.shadowColor=h,this.shadowBlur=f,this.shadowStroke=v,this.shadowFill=m,this.update(!1)},setShadowOffset:function(n,u){return n===void 0&&(n=0),u===void 0&&(u=n),this.shadowOffsetX=n,this.shadowOffsetY=u,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,u){return u===void 0&&(u=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=u,this.update(!1)},setWordWrapCallback:function(n,u){return u===void 0&&(u=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=u,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var u in a)n[u]=this[u];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),l=function(s){var r=e.create(this),a=r.getContext("2d");s.syncFont(r,a);var o=a.measureText(s.testString);if("actualBoundingBoxAscent"in o){var n=o.actualBoundingBoxAscent,u=o.actualBoundingBoxDescent;return e.remove(r),{ascent:n,descent:u,fontSize:n+u}}var h=Math.ceil(o.width*s.baselineX),f=h,v=2*f;f=f*s.baselineY|0,r.width=h,r.height=v,a.fillStyle="#f00",a.fillRect(0,0,h,v),a.font=s._font,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(s.testString,0,f);var m={ascent:0,descent:0,fontSize:0},g=a.getImageData(0,0,h,v);if(!g)return m.ascent=f,m.descent=f+6,m.fontSize=m.ascent+m.descent,e.remove(r),m;var x=g.data,y=x.length,T=h*4,S,E,C=0,A=!1;for(S=0;S<f;S++){for(E=0;E<T;E+=4)if(x[C+E]!==255){A=!0;break}if(!A)C+=T;else break}for(m.ascent=f-S,C=y-T,A=!1,S=v;S>f;S--){for(E=0;E<T;E+=4)if(x[C+E]!==255){A=!0;break}if(!A)C-=T;else break}return m.descent=S-f,m.fontSize=m.ascent+m.descent,e.remove(r),m};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1097),l=t(0),s=t(36),r=t(59),a=t(65),o=t(14),n=t(34),u=new l({Extends:n,Mixins:[e],initialize:function(f,v,m,g,x,y,T,S,E){v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=128),x===void 0&&(x=0),y===void 0&&(y=360),T===void 0&&(T=!1),n.call(this,f,"Arc",new a(0,0,g)),this._startAngle=x,this._endAngle=y,this._anticlockwise=T,this._iterations=.01,this.setPosition(v,m);var C=this.geom.radius*2;this.setSize(C,C),S!==void 0&&this.setFillStyle(S,E),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(h){this._iterations=h,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(h){this.geom.radius=h;var f=h*2;this.setSize(f,f),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(h){this._startAngle=h,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(h){this._endAngle=h,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(h){this._anticlockwise=h,this.updateData()}},setRadius:function(h){return this.radius=h,this},setIterations:function(h){return h===void 0&&(h=.01),this.iterations=h,this},setStartAngle:function(h,f){return this._startAngle=h,f!==void 0&&(this._anticlockwise=f),this.updateData()},setEndAngle:function(h,f){return this._endAngle=h,f!==void 0&&(this._anticlockwise=f),this.updateData()},updateData:function(){var h=this._iterations,f=h,v=this.geom.radius,m=s(this._startAngle),g=s(this._endAngle),x=this._anticlockwise,y=v,T=v;g-=m,x?g<-o.PI2?g=-o.PI2:g>0&&(g=-o.PI2+g%o.PI2):g>o.PI2?g=o.PI2:g<0&&(g=o.PI2+g%o.PI2);for(var S=[y+Math.cos(m)*v,T+Math.sin(m)*v],E;f<1;)E=g*f+m,S.push(y+Math.cos(E)*v,T+Math.sin(E)*v),f+=h;return E=g+m,S.push(y+Math.cos(E)*v,T+Math.sin(E)*v),S.push(y+Math.cos(m)*v,T+Math.sin(m)*v),this.pathIndexes=r(S),this.pathData=S,this}});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(1100),s=t(59),r=t(10),a=t(34),o=new e({Extends:a,Mixins:[l],initialize:function(u,h,f,v,m,g){h===void 0&&(h=0),f===void 0&&(f=0),a.call(this,u,"Curve",v),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(h,f),m!==void 0&&this.setFillStyle(m,g),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,u=this._smoothness;this.geom.getBounds(n,u),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var h=[],f=this.geom.getPoints(u),v=0;v<f.length;v++)h.push(f[v].x,f[v].y);return h.push(f[0].x,f[0].y),this.pathIndexes=s(h),this.pathData=h,this}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(59),s=t(1103),r=t(111),a=t(34),o=new e({Extends:a,Mixins:[s],initialize:function(u,h,f,v,m,g,x){h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=128),m===void 0&&(m=128),a.call(this,u,"Ellipse",new r(v/2,m/2,v,m)),this._smoothness=64,this.setPosition(h,f),this.width=v,this.height=m,g!==void 0&&this.setFillStyle(g,x),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,u){return this.width=n,this.height=u,this.geom.setPosition(n/2,u/2),this.geom.setSize(n,u),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],u=this.geom.getPoints(this._smoothness),h=0;h<u.length;h++)n.push(u[h].x,u[h].y);return n.push(u[0].x,u[0].y),this.pathIndexes=l(n),this.pathData=n,this}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(34),s=t(1106),r=new e({Extends:l,Mixins:[s],initialize:function(o,n,u,h,f,v,m,g,x,y,T){n===void 0&&(n=0),u===void 0&&(u=0),h===void 0&&(h=128),f===void 0&&(f=128),v===void 0&&(v=32),m===void 0&&(m=32),l.call(this,o,"Grid",null),this.cellWidth=v,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,u),this.setSize(h,f),this.setFillStyle(g,x),y!==void 0&&this.setOutlineStyle(y,T),this.updateDisplayOrigin()},setFillStyle:function(a,o){return o===void 0&&(o=1),a===void 0?this.showCells=!1:(this.fillColor=a,this.fillAlpha=o,this.showCells=!0),this},setAltFillStyle:function(a,o){return o===void 0&&(o=1),a===void 0?this.showAltCells=!1:(this.altFillColor=a,this.altFillAlpha=o,this.showAltCells=!0),this},setOutlineStyle:function(a,o){return o===void 0&&(o=1),a===void 0?this.showOutline=!1:(this.outlineFillColor=a,this.outlineFillAlpha=o,this.showOutline=!0),this}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1109),l=t(0),s=t(34),r=new l({Extends:s,Mixins:[e],initialize:function(o,n,u,h,f,v,m,g){n===void 0&&(n=0),u===void 0&&(u=0),h===void 0&&(h=48),f===void 0&&(f=32),v===void 0&&(v=15658734),m===void 0&&(m=10066329),g===void 0&&(g=13421772),s.call(this,o,"IsoBox",null),this.projection=4,this.fillTop=v,this.fillLeft=m,this.fillRight=g,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,u),this.setSize(h,f),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setFaces:function(a,o,n){return a===void 0&&(a=!0),o===void 0&&(o=!0),n===void 0&&(n=!0),this.showTop=a,this.showLeft=o,this.showRight=n,this},setFillStyle:function(a,o,n){return this.fillTop=a,this.fillLeft=o,this.fillRight=n,this.isFilled=!0,this}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(1112),s=t(34),r=new e({Extends:s,Mixins:[l],initialize:function(o,n,u,h,f,v,m,g,x){n===void 0&&(n=0),u===void 0&&(u=0),h===void 0&&(h=48),f===void 0&&(f=32),v===void 0&&(v=!1),m===void 0&&(m=15658734),g===void 0&&(g=10066329),x===void 0&&(x=13421772),s.call(this,o,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=g,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=v,this.isFilled=!0,this.setPosition(n,u),this.setSize(h,f),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setReversed:function(a){return this.isReversed=a,this},setFaces:function(a,o,n){return a===void 0&&(a=!0),o===void 0&&(o=!0),n===void 0&&(n=!0),this.showTop=a,this.showLeft=o,this.showRight=n,this},setFillStyle:function(a,o,n){return this.fillTop=a,this.fillLeft=o,this.fillRight=n,this.isFilled=!0,this}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(34),s=t(47),r=t(1115),a=new e({Extends:l,Mixins:[r],initialize:function(n,u,h,f,v,m,g,x,y){u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=128),g===void 0&&(g=0),l.call(this,n,"Line",new s(f,v,m,g));var T=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(u,h),this.setSize(T,S),x!==void 0&&this.setStrokeStyle(1,x,y),this.updateDisplayOrigin()},setLineWidth:function(o,n){return n===void 0&&(n=o),this._startWidth=o,this._endWidth=n,this.lineWidth=o,this},setTo:function(o,n,u,h){return this.geom.setTo(o,n,u,h),this}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1118),l=t(0),s=t(59),r=t(469),a=t(227),o=t(34),n=t(472),u=new l({Extends:o,Mixins:[e],initialize:function(f,v,m,g,x,y){v===void 0&&(v=0),m===void 0&&(m=0),o.call(this,f,"Polygon",new a(g));var T=r(this.geom);this.setPosition(v,m),this.setSize(T.width,T.height),x!==void 0&&this.setFillStyle(x,y),this.updateDisplayOrigin(),this.updateData()},smooth:function(h){h===void 0&&(h=1);for(var f=0;f<h;f++)n(this.geom);return this.updateData()},updateData:function(){for(var h=[],f=this.geom.points,v=0;v<f.length;v++)h.push(f[v].x,f[v].y);return h.push(f[0].x,f[0].y),this.pathIndexes=s(h),this.pathData=h,this}});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=function(s,r){r===void 0&&(r=new e);for(var a=1/0,o=1/0,n=-a,u=-o,h,f=0;f<s.points.length;f++)h=s.points[f],a=Math.min(a,h.x),o=Math.min(o,h.y),n=Math.max(n,h.x),u=Math.max(u,h.y);return r.x=a,r.y=o,r.width=n-a,r.height=u-o,r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),l=t(47),s=t(471),r=function(a,o,n,u){u===void 0&&(u=[]);var h=a.points,f=s(a);!o&&n>0&&(o=f/n);for(var v=0;v<o;v++)for(var m=f*(v/o),g=0,x=0;x<h.length;x++){var y=h[x],T=h[(x+1)%h.length],S=new l(y.x,y.y,T.x,T.y),E=e(S);if(m<g||m>g+E){g+=E;continue}var C=S.getPoint((m-g)/E);u.push(C);break}return u};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),l=t(47),s=function(r){for(var a=r.points,o=0,n=0;n<a.length;n++){var u=a[n],h=a[(n+1)%a.length],f=new l(u.x,u.y,h.x,h.y);o+=e(f)}return o};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(l,s){return l[0]=s[0],l[1]=s[1],l},e=function(l){var s,r=[],a=l.points;for(s=0;s<a.length;s++)r.push([a[s].x,a[s].y]);var o=[];for(r.length>0&&o.push(t([0,0],r[0])),s=0;s<r.length-1;s++){var n=r[s],u=r[s+1],h=n[0],f=n[1],v=u[0],m=u[1];o.push([.85*h+.15*v,.85*f+.15*m]),o.push([.15*h+.85*v,.15*f+.85*m])}return r.length>1&&o.push(t([0,0],r[r.length-1])),l.setTo(o)};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(10),s=t(34),r=t(1121),a=new e({Extends:s,Mixins:[r],initialize:function(n,u,h,f,v,m,g){u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=128),v===void 0&&(v=128),s.call(this,n,"Rectangle",new l(0,0,f,v)),this.setPosition(u,h),this.setSize(f,v),m!==void 0&&this.setFillStyle(m,g),this.updateDisplayOrigin(),this.updateData()},setSize:function(o,n){return this.width=o,this.height=n,this.geom.setSize(o,n),this.updateData(),this},updateData:function(){var o=[],n=this.geom,u=this._tempLine;return n.getLineA(u),o.push(u.x1,u.y1,u.x2,u.y2),n.getLineB(u),o.push(u.x2,u.y2),n.getLineC(u),o.push(u.x2,u.y2),n.getLineD(u),o.push(u.x2,u.y2),this.pathData=o,this}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1124),l=t(0),s=t(59),r=t(34),a=new l({Extends:r,Mixins:[e],initialize:function(n,u,h,f,v,m,g,x){u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=5),v===void 0&&(v=32),m===void 0&&(m=64),r.call(this,n,"Star",null),this._points=f,this._innerRadius=v,this._outerRadius=m,this.setPosition(u,h),this.setSize(m*2,m*2),g!==void 0&&this.setFillStyle(g,x),this.updateDisplayOrigin(),this.updateData()},setPoints:function(o){return this._points=o,this.updateData()},setInnerRadius:function(o){return this._innerRadius=o,this.updateData()},setOuterRadius:function(o){return this._outerRadius=o,this.updateData()},points:{get:function(){return this._points},set:function(o){this._points=o,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(o){this._innerRadius=o,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(o){this._outerRadius=o,this.updateData()}},updateData:function(){var o=[],n=this._points,u=this._innerRadius,h=this._outerRadius,f=Math.PI/2*3,v=Math.PI/n,m=h,g=h;o.push(m,g+-h);for(var x=0;x<n;x++)o.push(m+Math.cos(f)*h,g+Math.sin(f)*h),f+=v,o.push(m+Math.cos(f)*u,g+Math.sin(f)*u),f+=v;return o.push(m,g+-h),this.pathIndexes=s(o),this.pathData=o,this}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(34),s=t(82),r=t(1127),a=new e({Extends:l,Mixins:[r],initialize:function(n,u,h,f,v,m,g,x,y,T,S){u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=128),m===void 0&&(m=64),g===void 0&&(g=0),x===void 0&&(x=128),y===void 0&&(y=128),l.call(this,n,"Triangle",new s(f,v,m,g,x,y));var E=this.geom.right-this.geom.left,C=this.geom.bottom-this.geom.top;this.setPosition(u,h),this.setSize(E,C),T!==void 0&&this.setFillStyle(T,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(o,n,u,h,f,v){return this.geom.setTo(o,n,u,h,f,v),this.updateData()},updateData:function(){var o=[],n=this.geom,u=this._tempLine;return n.getLineA(u),o.push(u.x1,u.y1,u.x2,u.y2),n.getLineB(u),o.push(u.x2,u.y2),n.getLineC(u),o.push(u.x2,u.y2),this.pathData=o,this}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=t(67),s=function(r,a,o){o===void 0&&(o=new e);var n=r.getLineA(),u=r.getLineB(),h=r.getLineC();if(a<=0||a>=1)return o.x=n.x1,o.y=n.y1,o;var f=l(n),v=l(u),m=l(h),g=f+v+m,x=g*a,y=0;return x<f?(y=x/f,o.x=n.x1+(n.x2-n.x1)*y,o.y=n.y1+(n.y2-n.y1)*y):x>f+v?(x-=f+v,y=x/m,o.x=h.x1+(h.x2-h.x1)*y,o.y=h.y1+(h.y2-h.y1)*y):(x-=f,y=x/v,o.x=u.x1+(u.x2-u.x1)*y,o.y=u.y1+(u.y2-u.y1)*y),o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),l=t(4),s=function(r,a,o,n){n===void 0&&(n=[]);var u=r.getLineA(),h=r.getLineB(),f=r.getLineC(),v=e(u),m=e(h),g=e(f),x=v+m+g;!a&&o>0&&(a=x/o);for(var y=0;y<a;y++){var T=x*(y/a),S=0,E=new l;T<v?(S=T/v,E.x=u.x1+(u.x2-u.x1)*S,E.y=u.y1+(u.y2-u.y1)*S):T>v+m?(T-=v+m,S=T/g,E.x=f.x1+(f.x2-f.x1)*S,E.y=f.y1+(f.y2-f.y1)*S):(T-=v,S=T/m,E.x=h.x1+(h.x2-h.x1)*S,E.y=h.y1+(h.y2-h.y1)*S),n.push(E)}return n};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(l))return e[l]=s,!0;if(l.indexOf(".")!==-1){for(var r=l.split("."),a=e,o=e,n=0;n<r.length;n++)if(a.hasOwnProperty(r[n]))o=a,a=a[r[n]];else return!1;return o[r[r.length-1]]=s,!0}return!1};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),l=t(117),s=function(r,a,o,n,u,h,f){if(n===void 0&&(n=!1),h===void 0&&(h=16777215),f===void 0&&(f=1),r.length!==a.length){console.warn("GenerateVerts: vertices and uvs count not equal");return}var v={faces:[],vertices:[]},m,g,x,y,T,S,E,C,A,P,R,M=n?3:2,L=Array.isArray(h),O=Array.isArray(f);if(Array.isArray(o)&&o.length>0)for(m=0;m<o.length;m++){var I=o[m],w=o[m]*2,G=o[m]*M;g=r[G],x=r[G+1],y=n?r[G+2]:0,T=a[w],S=a[w+1],E=L?h[I]:h,C=O?f[I]:f,A=0,P=0,R=0,u&&(A=u[G],P=u[G+1],R=n?u[G+2]:0),v.vertices.push(new l(g,x,y,T,S,E,C,A,P,R))}else{var V=0,X=0;for(m=0;m<r.length;m+=M)g=r[m],x=r[m+1],y=n?r[m+2]:0,T=a[V],S=a[V+1],E=L?h[X]:h,C=O?f[X]:f,A=0,P=0,R=0,u&&(A=u[m],P=u[m+1],R=n?u[m+2]:0),v.vertices.push(new l(g,x,y,T,S,E,C,A,P,R)),V+=2,X++}for(m=0;m<v.vertices.length;m+=3){var W=v.vertices[m],D=v.vertices[m+1],F=v.vertices[m+2];v.faces.push(new e(W,D,F))}return v};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),l=t(69),s=t(39),r=t(117),a=new s,o=new s,n=new l,u=function(h,f,v,m,g,x,y,T,S,E){v===void 0&&(v=1),m===void 0&&(m=0),g===void 0&&(g=0),x===void 0&&(x=0),y===void 0&&(y=0),T===void 0&&(T=0),S===void 0&&(S=0),E===void 0&&(E=!0);var C={faces:[],verts:[]},A=h.materials;a.set(m,g,x),o.set(y,T,S),n.fromRotationXYTranslation(o,a,E);for(var P=0;P<h.models.length;P++)for(var R=h.models[P],M=R.vertices,L=R.textureCoords,O=R.faces,I=0;I<O.length;I++){var w=O[I],G=w.vertices[0],V=w.vertices[1],X=w.vertices[2],W=M[G.vertexIndex],D=M[V.vertexIndex],F=M[X.vertexIndex],B=G.textureCoordsIndex,b=V.textureCoordsIndex,z=X.textureCoordsIndex,N=B===-1?{u:0,v:1}:L[B],U=b===-1?{u:0,v:0}:L[b],Y=z===-1?{u:1,v:1}:L[z],K=16777215;w.material!==""&&A[w.material]&&(K=A[w.material]);var Z=new r(W.x*v,W.y*v,W.z*v,N.u,N.v,K).transformMat4(n),j=new r(D.x*v,D.y*v,D.z*v,U.u,U.v,K).transformMat4(n),q=new r(F.x*v,F.y*v,F.z*v,Y.u,Y.v,K).transformMat4(n);C.verts.push(Z,j,q),C.faces.push(new e(Z,j,q))}return f&&(f.faces=f.faces.concat(C.faces),f.vertices=f.vertices.concat(C.verts)),C};i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),l=t(0),s=t(11),r=t(200),a=t(12),o=new l({Extends:e,Mixins:[s.ScrollFactor,s.Visible],initialize:function(u,h,f,v,m,g,x){e.call(this,u,h,f),this.color=new r(v,m,g),this.intensity=x,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(n){return!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var u=a.getFloatsFromUintRGB(n);return this.color.set(u[0],u[1],u[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});o.RENDER_MASK=15,i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(151),l=t(0),s=t(50),r=t(481),a=t(150),o=t(200),n=t(74),u=t(79),h=t(12),f=new l({initialize:function(){this.lights=[],this.ambientColor=new o(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(v,m,g,x,y,T){return this.systems.displayList.add(new a(this.scene,v,m,g,x,y,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(v){for(var m=this.lights,g=v.worldView,x=[],y=0;y<m.length;y++){var T=m[y];T.willRender(v)&&e(T,g)&&x.push({light:T,distance:s(T.x,T.y,g.centerX,g.centerY)})}return x.length>this.maxLights&&(u(x,this.sortByDistance),x=x.slice(0,this.maxLights)),this.visibleLights=x.length,x},sortByDistance:function(v,m){return v.distance>=m.distance},setAmbientColor:function(v){var m=h.getFloatsFromUintRGB(v);return this.ambientColor.set(m[0],m[1],m[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(v,m,g,x,y){v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=128),x===void 0&&(x=16777215),y===void 0&&(y=1);var T=h.getFloatsFromUintRGB(x),S=new r(v,m,g,T[0],T[1],T[2],y);return this.lights.push(S),S},removeLight:function(v){var m=this.lights.indexOf(v);return m>=0&&n(this.lights,m),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});i.exports=f},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(56),l=t(17),s={Circle:t(1191),Ellipse:t(1201),Intersects:t(484),Line:t(1221),Mesh:t(1243),Point:t(1246),Polygon:t(1260),Rectangle:t(502),Triangle:t(1293)};s=l(!1,s,e),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={CircleToCircle:t(231),CircleToRectangle:t(151),GetCircleToCircle:t(1211),GetCircleToRectangle:t(1212),GetLineToCircle:t(232),GetLineToLine:t(485),GetLineToPoints:t(486),GetLineToPolygon:t(487),GetLineToRectangle:t(234),GetRaysFromPointToPolygon:t(1213),GetRectangleIntersection:t(1214),GetRectangleToRectangle:t(1215),GetRectangleToTriangle:t(1216),GetTriangleToCircle:t(1217),GetTriangleToLine:t(492),GetTriangleToTriangle:t(1218),LineToCircle:t(233),LineToLine:t(96),LineToRectangle:t(488),PointToLine:t(496),PointToLineSegment:t(1219),RectangleToRectangle:t(152),RectangleToTriangle:t(489),RectangleToValues:t(1220),TriangleToCircle:t(491),TriangleToLine:t(493),TriangleToTriangle:t(494)}},function(i,d,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),l=function(s,r,a){var o=s.x1,n=s.y1,u=s.x2,h=s.y2,f=r.x1,v=r.y1,m=r.x2,g=r.y2,x=u-o,y=h-n,T=m-f,S=g-v,E=S*x-T*y;if(x===0||E===0)return!1;var C=(x*(v-n)+y*(o-f))/(T*y-S*x),A=(f+T*C-o)/x;return A<0||C<0||C>1?null:(a===void 0&&(a=new e),a.set(o+x*A,n+y*A,A))};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),l=t(485),s=t(47),r=new s,a=new e,o=function(n,u,h){h===void 0&&(h=new e);var f=!1;h.set(),a.set();for(var v=u[0],m=1;m<u.length;m++){var g=u[m];r.setTo(v.x,v.y,g.x,g.y),v=g,l(n,r,a)&&(!f||a.z<h.z)&&(h.copy(a),f=!0)}return f?h:null};i.exports=o},function(i,d,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),l=t(140),s=t(486),r=new e,a=function(o,n,u){u===void 0&&(u=new l),Array.isArray(n)||(n=[n]);var h=!1;u.set(),r.set();for(var f=0;f<n.length;f++)s(o,n[f].points,r)&&(!h||r.z<u.z)&&(u.set(r.x,r.y,r.z,f),h=!0);return h?u:null};i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.x1,r=e.y1,a=e.x2,o=e.y2,n=l.x,u=l.y,h=l.right,f=l.bottom,v=0;if(s>=n&&s<=h&&r>=u&&r<=f||a>=n&&a<=h&&o>=u&&o<=f)return!0;if(s<n&&a>=n){if(v=r+(o-r)*(n-s)/(a-s),v>u&&v<=f)return!0}else if(s>h&&a<=h&&(v=r+(o-r)*(h-s)/(a-s),v>=u&&v<=f))return!0;if(r<u&&o>=u){if(v=s+(a-s)*(u-r)/(o-r),v>=n&&v<=h)return!0}else if(r>f&&o<=f&&(v=s+(a-s)*(f-r)/(o-r),v>=n&&v<=h))return!0;return!1};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),l=t(57),s=t(235),r=t(490),a=function(o,n){if(n.left>o.right||n.right<o.left||n.top>o.bottom||n.bottom<o.top)return!1;var u=n.getLineA(),h=n.getLineB(),f=n.getLineC();if(l(o,u.x1,u.y1)||l(o,u.x2,u.y2)||l(o,h.x1,h.y1)||l(o,h.x2,h.y2)||l(o,f.x1,f.y1)||l(o,f.x2,f.y2))return!0;var v=o.getLineA(),m=o.getLineB(),g=o.getLineC(),x=o.getLineD();if(e(u,v)||e(u,m)||e(u,g)||e(u,x)||e(h,v)||e(h,m)||e(h,g)||e(h,x)||e(f,v)||e(f,m)||e(f,g)||e(f,x))return!0;var y=r(o),T=s(n,y,!0);return T.length>0};i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===void 0&&(l=[]),l.push({x:e.x,y:e.y}),l.push({x:e.right,y:e.y}),l.push({x:e.right,y:e.bottom}),l.push({x:e.x,y:e.bottom}),l};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(233),l=t(115),s=function(r,a){return r.left>a.right||r.right<a.left||r.top>a.bottom||r.bottom<a.top?!1:!!(l(r,a.x,a.y)||e(r.getLineA(),a)||e(r.getLineB(),a)||e(r.getLineC(),a))};i.exports=s},function(i,d,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=t(493),s=t(96),r=function(a,o,n){if(n===void 0&&(n=[]),l(a,o))for(var u=a.getLineA(),h=a.getLineB(),f=a.getLineC(),v=[new e,new e,new e],m=[s(u,o,v[0]),s(h,o,v[1]),s(f,o,v[2])],g=0;g<3;g++)m[g]&&n.push(v[g]);return n};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),l=function(s,r){return!!(s.contains(r.x1,r.y1)||s.contains(r.x2,r.y2)||e(s.getLineA(),r)||e(s.getLineB(),r)||e(s.getLineC(),r))};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(235),l=t(495),s=t(96),r=function(a,o){if(a.left>o.right||a.right<o.left||a.top>o.bottom||a.bottom<o.top)return!1;var n=a.getLineA(),u=a.getLineB(),h=a.getLineC(),f=o.getLineA(),v=o.getLineB(),m=o.getLineC();if(s(n,f)||s(n,v)||s(n,m)||s(u,f)||s(u,v)||s(u,m)||s(h,f)||s(h,v)||s(h,m))return!0;var g=l(a),x=e(o,g,!0);return x.length>0||(g=l(o),x=e(a,g,!0),x.length>0)};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===void 0&&(l=[]),l.push({x:e.x1,y:e.y1}),l.push({x:e.x2,y:e.y2}),l.push({x:e.x3,y:e.y3}),l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){s===void 0&&(s=1);var r=l.x1,a=l.y1,o=l.x2,n=l.y2,u=e.x,h=e.y,f=(o-r)*(o-r)+(n-a)*(n-a);if(f===0)return!1;var v=((u-r)*(o-r)+(h-a)*(n-a))/f;if(v<0)return Math.sqrt((r-u)*(r-u)+(a-h)*(a-h))<=s;if(v>=0&&v<=1){var m=((a-h)*(o-r)-(r-u)*(n-a))/f;return Math.abs(m)*Math.sqrt(f)<=s}else return Math.sqrt((o-u)*(o-u)+(n-h)*(n-h))<=s};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=t(68),s=t(97),r=function(a){var o=s(a)-e.TAU;return l(o,-Math.PI,Math.PI)};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=!0,e="untitled",l="",s="";function r(y){var T=y.indexOf("#");return T>-1?y.substring(0,T):y}function a(y){return y.models.length===0&&y.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),l="",y.models[y.models.length-1]}function o(y,T){var S=y.length>=2?y[1]:e;T.models.push({faces:[],name:S,textureCoords:[],vertexNormals:[],vertices:[]}),l=""}function n(y){y.length===2&&(l=y[1])}function u(y,T){var S=y.length,E=S>=2?parseFloat(y[1]):0,C=S>=3?parseFloat(y[2]):0,A=S>=4?parseFloat(y[3]):0;a(T).vertices.push({x:E,y:C,z:A})}function h(y,T){var S=y.length,E=S>=2?parseFloat(y[1]):0,C=S>=3?parseFloat(y[2]):0,A=S>=4?parseFloat(y[3]):0;isNaN(E)&&(E=0),isNaN(C)&&(C=0),isNaN(A)&&(A=0),t&&(C=1-C),a(T).textureCoords.push({u:E,v:C,w:A})}function f(y,T){var S=y.length,E=S>=2?parseFloat(y[1]):0,C=S>=3?parseFloat(y[2]):0,A=S>=4?parseFloat(y[3]):0;a(T).vertexNormals.push({x:E,y:C,z:A})}function v(y,T){var S=y.length-1;if(!(S<3)){for(var E={group:l,material:s,vertices:[]},C=0;C<S;C++){var A=y[C+1],P=A.split("/"),R=P.length;if(!(R<1||R>3)){var M=0,L=0,O=0;M=parseInt(P[0],10),R>1&&P[1]!==""&&(L=parseInt(P[1],10)),R>2&&(O=parseInt(P[2],10)),M!==0&&(M<0&&(M=a(T).vertices.length+1+M),L-=1,M-=1,O-=1,E.vertices.push({textureCoordsIndex:L,vertexIndex:M,vertexNormalIndex:O}))}}a(T).faces.push(E)}}function m(y,T){y.length>=2&&T.materialLibraries.push(y[1])}function g(y){y.length>=2&&(s=y[1])}var x=function(y,T){T===void 0&&(T=!0),t=T;var S={materials:{},materialLibraries:[],models:[]};l="",s="";for(var E=y.split(`
`),C=0;C<E.length;C++){var A=r(E[C]),P=A.replace(/\s\s+/g," ").trim().split(" ");switch(P[0].toLowerCase()){case"o":o(P,S);break;case"g":n(P);break;case"v":u(P,S);break;case"vt":h(P,S);break;case"vn":f(P,S);break;case"f":v(P,S);break;case"mtllib":m(P,S);break;case"usemtl":g(P);break}}return S};i.exports=x},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),l=function(s){for(var r={},a=s.split(`
`),o="",n=0;n<a.length;n++){var u=a[n].trim();if(!(u.indexOf("#")===0||u==="")){var h=u.replace(/\s\s+/g," ").trim().split(" ");switch(h[0].toLowerCase()){case"newmtl":{o=h[1];break}case"kd":{var f=Math.floor(h[1]*255),v=h.length>=2?Math.floor(h[2]*255):f,m=h.length>=3?Math.floor(h[3]*255):f;r[o]=e(f,v,m);break}}}}return r};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x*e.x+e.y*e.y};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10);e.Area=t(1267),e.Ceil=t(1268),e.CeilAll=t(1269),e.CenterOn=t(190),e.Clone=t(1270),e.Contains=t(57),e.ContainsPoint=t(1271),e.ContainsRect=t(503),e.CopyFrom=t(1272),e.Decompose=t(490),e.Equals=t(1273),e.FitInside=t(1274),e.FitOutside=t(1275),e.Floor=t(1276),e.FloorAll=t(1277),e.FromPoints=t(199),e.FromXY=t(1278),e.GetAspectRatio=t(237),e.GetCenter=t(1279),e.GetPoint=t(171),e.GetPoints=t(306),e.GetSize=t(1280),e.Inflate=t(1281),e.Intersection=t(1282),e.MarchingAnts=t(316),e.MergePoints=t(1283),e.MergeRect=t(1284),e.MergeXY=t(1285),e.Offset=t(1286),e.OffsetPoint=t(1287),e.Overlaps=t(1288),e.Perimeter=t(130),e.PerimeterPoint=t(1289),e.Random=t(174),e.RandomOutside=t(1290),e.SameDimensions=t(1291),e.Scale=t(1292),e.Union=t(441),i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l.width*l.height>e.width*e.height?!1:l.x>e.x&&l.x<e.right&&l.right>e.x&&l.right<e.right&&l.y>e.y&&l.y<e.bottom&&l.bottom>e.y&&l.bottom<e.bottom};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){return r===void 0&&(r=new e),r.x=(s.x1+s.x2+s.x3)/3,r.y=(s.y1+s.y2+s.y3)/3,r};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e.x1+=l,e.y1+=s,e.x2+=l,e.y2+=s,e.x3+=l,e.y3+=s,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);function l(r,a,o,n){var u=r-o,h=a-n,f=u*u+h*h;return Math.sqrt(f)}var s=function(r,a){a===void 0&&(a=new e);var o=r.x1,n=r.y1,u=r.x2,h=r.y2,f=r.x3,v=r.y3,m=l(f,v,u,h),g=l(o,n,f,v),x=l(u,h,o,n),y=m+g+x;return a.x=(o*m+u*g+f*x)/y,a.y=(n*m+h*g+v*x)/y,a};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return function(s,r,a,o){var n=e.getPixelAlpha(r,a,o.texture.key,o.frame.name);return n&&n>=l}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return{gameObject:e,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:l,hitAreaCallback:s,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a){this.pad=r,this.events=r.events,this.index=a,this.value=0,this.threshold=.1},update:function(s){this.value=s},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(239),s=new e({initialize:function(a,o){this.pad=a,this.events=a.manager,this.index=o,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var a=this.pad,o=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(l.BUTTON_DOWN,a,this,r),this.pad.emit(l.GAMEPAD_BUTTON_DOWN,o,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(l.BUTTON_UP,a,this,r),this.pad.emit(l.GAMEPAD_BUTTON_UP,o,r,this))},destroy:function(){this.pad=null,this.events=null}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(509),l=t(510),s=t(0),r=t(9),a=t(3),o=new s({Extends:r,initialize:function(u,h){r.call(this),this.manager=u,this.pad=h,this.id=h.id,this.index=h.index;for(var f=[],v=0;v<h.buttons.length;v++)f.push(new l(this,v));this.buttons=f;var m=[];for(v=0;v<h.axes.length;v++)m.push(new e(this,v));this.axes=m,this.vibration=h.vibrationActuator;var g={value:0,pressed:!1};this._LCLeft=f[14]?f[14]:g,this._LCRight=f[15]?f[15]:g,this._LCTop=f[12]?f[12]:g,this._LCBottom=f[13]?f[13]:g,this._RCLeft=f[2]?f[2]:g,this._RCRight=f[1]?f[1]:g,this._RCTop=f[3]?f[3]:g,this._RCBottom=f[0]?f[0]:g,this._FBLeftTop=f[4]?f[4]:g,this._FBLeftBottom=f[6]?f[6]:g,this._FBRightTop=f[5]?f[5]:g,this._FBRightBottom=f[7]?f[7]:g;var x={value:0};this._HAxisLeft=m[0]?m[0]:x,this._VAxisLeft=m[1]?m[1]:x,this._HAxisRight=m[2]?m[2]:x,this._VAxisRight=m[3]?m[3]:x,this.leftStick=new a,this.rightStick=new a,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var u=0;u<this.axes.length;u++)this.axes[u].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var u,h=this.buttons,f=n.buttons,v=h.length;for(u=0;u<v;u++)h[u].update(f[u].value);var m=this.axes,g=n.axes;for(v=m.length,u=0;u<v;u++)m[u].update(g[u]);v>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),v>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(9),s=t(154),r=new e({Extends:l,initialize:function(o,n){l.call(this),this.plugin=o,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(a){return this.emitOnRepeat=a,this},onDown:function(a){this.originalEvent=a,this.enabled&&(this.altKey=a.altKey,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.location=a.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,a):(this.isDown=!0,this.isUp=!1,this.timeDown=a.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,a)))},onUp:function(a){this.originalEvent=a,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=a.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,a))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(154),s=t(2),r=t(514),a=t(516),o=new e({initialize:function(u,h,f){if(f===void 0&&(f={}),h.length<2)return!1;this.manager=u,this.enabled=!0,this.keyCodes=[];for(var v=0;v<h.length;v++){var m=h[v];typeof m=="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m=="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(f,"resetOnWrongKey",!0),this.maxKeyDelay=s(f,"maxKeyDelay",0),this.resetOnMatch=s(f,"resetOnMatch",!1),this.deleteOnMatch=s(f,"deleteOnMatch",!1);var g=this,x=function(y){if(!(g.matched||!g.enabled)){var T=r(y,g);T&&(g.manager.emit(l.COMBO_MATCH,g,y),g.resetOnMatch?a(g):g.deleteOnMatch&&g.destroy())}};this.onKeyDown=x,this.manager.on(l.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(l.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(515),l=function(s,r){if(r.matched)return!0;var a=!1,o=!1;if(s.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var n=r.timeLastMatched+r.maxKeyDelay;s.timeStamp<=n&&(o=!0,a=e(s,r))}else o=!0,a=e(s,r);return!o&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),a&&(r.timeLastMatched=s.timeStamp,r.matched=!0,r.timeMatched=s.timeStamp),a};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l.timeLastMatched=e.timeStamp,l.index++,l.index===l.size?!0:(l.current=l.keyCodes[l.index],!1)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(240),l=function(s,r){var a=e(r,s.xhrSettings),o=new XMLHttpRequest;if(o.open("GET",s.src,a.async,a.user,a.password),o.responseType=s.xhrSettings.responseType,o.timeout=a.timeout,a.headers)for(var n in a.headers)o.setRequestHeader(n,a.headers[n]);return a.header&&a.headerValue&&o.setRequestHeader(a.header,a.headerValue),a.requestedWith&&o.setRequestHeader("X-Requested-With",a.requestedWith),a.overrideMimeType&&o.overrideMimeType(a.overrideMimeType),a.withCredentials&&(o.withCredentials=!0),o.onload=s.onLoad.bind(s,o),o.onerror=s.onError.bind(s,o),o.onprogress=s.onProgress.bind(s),o.send(),o};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(519),n=t(7),u=new e({Extends:s,initialize:function(f,v,m,g,x){if(n(v)){var y=v;v=a(y,"key"),g=a(y,"xhrSettings"),x=a(y,"context",x)}var T={type:"audio",cache:f.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:v,url:m.url,xhrSettings:g,config:{context:x}};s.call(this,f,T)},onProcess:function(){this.state=l.FILE_PROCESSING;var h=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(f){h.data=f,h.onProcessComplete()},function(f){console.error("Error decoding audio: "+h.key+" - ",f?f.message:null),h.onProcessError()}),this.config.context=null}});u.create=function(h,f,v,m,g){var x=h.systems.game,y=x.config.audio,T=x.device.audio;n(f)&&(v=a(f,"url",[]),m=a(f,"config",{}));var S=u.getAudioURL(x,v);return S?T.webAudio&&!y.disableWebAudio?new u(h,f,S,g,x.sound.context):new o(h,f,S,m):null},u.getAudioURL=function(h,f){Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var m=a(f[v],"url",f[v]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var g=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(g=a(f[v],"type",g?g[1]:"").toLowerCase(),h.device.audio[g])return{url:m,type:g}}return null},r.register("audio",function(h,f,v,m){var g=this.systems.game,x=g.config.audio,y=g.device.audio;if(x.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(h))for(var S=0;S<h.length;S++)T=u.create(this,h[S]),T&&this.addFile(T);else T=u.create(this,h,f,v,m),T&&this.addFile(T);return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(95),s=t(23),r=t(2),a=t(155),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m){if(o(f)){var g=f;f=r(g,"key"),m=r(g,"config",m)}var x={type:"audio",cache:h.cacheManager.audio,extension:v.type,key:f,url:v.url,config:m};s.call(this,h,x),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var u=0;u<this.data.length;u++){var h=this.data[u];h.oncanplaythrough=null,h.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(u){var h=u.target;h.oncanplaythrough=null,h.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var u=this.config&&this.config.instances||1;this.filesTotal=u,this.filesLoaded=0,this.percentComplete=0;for(var h=0;h<u;h++){var f=new Audio;f.dataset||(f.dataset={}),f.dataset.name=this.key+("0"+h).slice(-2),f.dataset.used="false",this.locked?f.dataset.locked="true":(f.dataset.locked="false",f.preload="auto",f.oncanplaythrough=this.onProgress.bind(this),f.onerror=this.onError.bind(this)),this.data.push(f)}for(h=0;h<this.data.length;h++)f=this.data[h],f.src=a(this,this.loader.baseURL),this.locked||f.load();this.locked&&setTimeout(this.onLoad.bind(this))}});i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m){var g="js";if(o(f)){var x=f;f=a(x,"key"),v=a(x,"url"),m=a(x,"xhrSettings"),g=a(x,"extension",g)}var y={type:"script",cache:!1,extension:g,responseType:"text",key:f,url:v,xhrSettings:m};s.call(this,h,y)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(u,h,f){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new n(this,u[v]));else this.addFile(new n(this,u,h,f));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(522),l=t(157),s=t(0),r=t(62),a=t(524),o=t(525),n=new s({initialize:function(h){this.world=h,this.scene=h.scene,this.sys=h.scene.sys},collider:function(u,h,f,v,m){return this.world.addCollider(u,h,f,v,m)},overlap:function(u,h,f,v,m){return this.world.addOverlap(u,h,f,v,m)},existing:function(u,h){var f=h?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(u,f),u},staticImage:function(u,h,f,v){var m=new e(this.scene,u,h,f,v);return this.sys.displayList.add(m),this.world.enableBody(m,r.STATIC_BODY),m},image:function(u,h,f,v){var m=new e(this.scene,u,h,f,v);return this.sys.displayList.add(m),this.world.enableBody(m,r.DYNAMIC_BODY),m},staticSprite:function(u,h,f,v){var m=new l(this.scene,u,h,f,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,r.STATIC_BODY),m},sprite:function(u,h,f,v){var m=new l(this.scene,u,h,f,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,r.DYNAMIC_BODY),m},staticGroup:function(u,h){return this.sys.updateList.add(new o(this.world,this.world.scene,u,h))},group:function(u,h){return this.sys.updateList.add(new a(this.world,this.world.scene,u,h))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(243),s=t(125),r=new e({Extends:s,Mixins:[l.Acceleration,l.Angular,l.Bounce,l.Debug,l.Drag,l.Enable,l.Friction,l.Gravity,l.Immovable,l.Mass,l.Pushable,l.Size,l.Velocity],initialize:function(o,n,u,h,f){s.call(this,o,n,u,h,f),this.body=null}});i.exports=r},function(i,d,t){var e=t(244),l=t(65),s=t(231),r=t(151),a=function(o,n,u,h,f,v){var m=e(o,n-h,u-h,2*h,2*h,f,v);if(m.length===0)return m;for(var g=new l(n,u,h),x=new l,y=[],T=0;T<m.length;T++){var S=m[T];S.isCircle?(x.setTo(S.center.x,S.center.y,S.halfWidth),s(g,x)&&y.push(S)):r(g,S)&&y.push(S)}return y};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),l=t(0),s=t(62),r=t(2),a=t(113),o=t(7),n=new l({Extends:a,initialize:function(h,f,v,m){if(!v&&!m)m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(o(v))m=v,v=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(v)&&o(v[0])){m=v[0];var g=this;v.forEach(function(x){x.internalCreateCallback=g.createCallbackHandler,x.internalRemoveCallback=g.removeCallbackHandler}),v=null}else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,m.classType=r(m,"classType",e),this.physicsType=s.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(m,"collideWorldBounds",!1),setBoundsRectangle:r(m,"customBoundsRectangle",null),setAccelerationX:r(m,"accelerationX",0),setAccelerationY:r(m,"accelerationY",0),setAllowDrag:r(m,"allowDrag",!0),setAllowGravity:r(m,"allowGravity",!0),setAllowRotation:r(m,"allowRotation",!0),setBounceX:r(m,"bounceX",0),setBounceY:r(m,"bounceY",0),setDragX:r(m,"dragX",0),setDragY:r(m,"dragY",0),setEnable:r(m,"enable",!0),setGravityX:r(m,"gravityX",0),setGravityY:r(m,"gravityY",0),setFrictionX:r(m,"frictionX",0),setFrictionY:r(m,"frictionY",0),setMaxVelocityX:r(m,"maxVelocityX",1e4),setMaxVelocityY:r(m,"maxVelocityY",1e4),setVelocityX:r(m,"velocityX",0),setVelocityY:r(m,"velocityY",0),setAngularVelocity:r(m,"angularVelocity",0),setAngularAcceleration:r(m,"angularAcceleration",0),setAngularDrag:r(m,"angularDrag",0),setMass:r(m,"mass",1),setImmovable:r(m,"immovable",!1)},a.call(this,f,v,m),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,s.DYNAMIC_BODY);var h=u.body;for(var f in this.defaults)h[f](this.defaults[f])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,h,f){f===void 0&&(f=0);for(var v=this.getChildren(),m=0;m<v.length;m++)v[m].body.velocity.set(u+m*f,h+m*f);return this},setVelocityX:function(u,h){h===void 0&&(h=0);for(var f=this.getChildren(),v=0;v<f.length;v++)f[v].body.velocity.x=u+v*h;return this},setVelocityY:function(u,h){h===void 0&&(h=0);for(var f=this.getChildren(),v=0;v<f.length;v++)f[v].body.velocity.y=u+v*h;return this}});i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),l=t(0),s=t(62),r=t(2),a=t(113),o=t(7),n=new l({Extends:a,initialize:function(h,f,v,m){!v&&!m?m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:e}:o(v)?(m=v,v=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=r(m,"classType",e)):Array.isArray(v)&&o(v[0])?(m=v,v=null,m.forEach(function(g){g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler,g.createMultipleCallback=this.createMultipleCallbackHandler,g.classType=r(g,"classType",e)})):m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=s.STATIC_BODY,a.call(this,f,v,m),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,s.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,h=0;h<u.length;h++)u[h].body.reset();return this}});i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(350),l=t(527),s=t(18),r=t(0),a=t(528),o=t(62),n=t(50),u=t(9),h=t(245),f=t(124),v=t(354),m=t(355),g=t(246),x=t(247),y=t(529),T=t(6),S=t(14),E=t(211),C=t(530),A=t(10),P=t(531),R=t(532),M=t(537),L=t(538),O=t(149),I=t(539),w=t(248),G=t(25),V=t(3),X=t(68),W=new r({Extends:u,initialize:function(F,B){u.call(this),this.scene=F,this.bodies=new O,this.staticBodies=new O,this.pendingDestroy=new O,this.colliders=new E,this.gravity=new V(T(B,"gravity.x",0),T(B,"gravity.y",0)),this.bounds=new A(T(B,"x",0),T(B,"y",0),T(B,"width",F.sys.scale.width),T(B,"height",F.sys.scale.height)),this.checkCollision={up:T(B,"checkCollision.up",!0),down:T(B,"checkCollision.down",!0),left:T(B,"checkCollision.left",!0),right:T(B,"checkCollision.right",!0)},this.fps=T(B,"fps",60),this.fixedStep=T(B,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T(B,"timeScale",1),this.OVERLAP_BIAS=T(B,"overlapBias",4),this.TILE_BIAS=T(B,"tileBias",16),this.forceX=T(B,"forceX",!1),this.isPaused=T(B,"isPaused",!1),this._total=0,this.drawDebug=T(B,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T(B,"debugShowBody",!0),debugShowStaticBody:T(B,"debugShowStaticBody",!0),debugShowVelocity:T(B,"debugShowVelocity",!0),bodyDebugColor:T(B,"debugBodyColor",16711935),staticBodyDebugColor:T(B,"debugStaticBodyColor",255),velocityDebugColor:T(B,"debugVelocityColor",65280)},this.maxEntries=T(B,"maxEntries",16),this.useTree=T(B,"useTree",!0),this.tree=new P(this.maxEntries),this.staticTree=new P(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new G,this._tempMatrix2=new G,this.drawDebug&&this.createDebugGraphic()},enable:function(D,F){F===void 0&&(F=o.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var B=0;B<D.length;B++){var b=D[B];if(b.isParent)for(var z=b.getChildren(),N=0;N<z.length;N++){var U=z[N];U.isParent?this.enable(U,F):this.enableBody(U,F)}else this.enableBody(b,F)}},enableBody:function(D,F){return F===void 0&&(F=o.DYNAMIC_BODY),D.body||(F===o.DYNAMIC_BODY?D.body=new l(this,D):F===o.STATIC_BODY&&(D.body=new I(this,D))),this.add(D.body),D},add:function(D){return D.physicsType===o.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===o.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var F=0;F<D.length;F++){var B=D[F];if(B.isParent)for(var b=B.getChildren(),z=0;z<b.length;z++){var N=b[z];N.isParent?this.disable(N):this.disableBody(N.body)}else this.disableBody(B.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===o.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,F,B,b,z,N,U,Y){return this.bounds.setTo(D,F,B,b),z!==void 0&&this.setBoundsCollision(z,N,U,Y),this},setBoundsCollision:function(D,F,B,b){return D===void 0&&(D=!0),F===void 0&&(F=!0),B===void 0&&(B=!0),b===void 0&&(b=!0),this.checkCollision.left=D,this.checkCollision.right=F,this.checkCollision.up=B,this.checkCollision.down=b,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(D,F,B,b,z){B===void 0&&(B=null),b===void 0&&(b=null),z===void 0&&(z=B);var N=new a(this,!1,D,F,B,b,z);return this.colliders.add(N),N},addOverlap:function(D,F,B,b,z){B===void 0&&(B=null),b===void 0&&(b=null),z===void 0&&(z=B);var N=new a(this,!0,D,F,B,b,z);return this.colliders.add(N),N},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,F){if(!(this.isPaused||this.bodies.size===0)){var B,b=this._frameTime,z=this._frameTimeMS*this.timeScale;this._elapsed+=F;var N,U=this.bodies.entries,Y=this._elapsed>=z;for(this.fixedStep||(b=F*.001,Y=!0,this._elapsed=0),B=0;B<U.length;B++)N=U[B],N.enable&&N.preUpdate(Y,b);if(Y){this._elapsed-=z,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(U));var K=this.colliders.update();for(B=0;B<K.length;B++){var Z=K[B];Z.active&&Z.update()}this.emit(h.WORLD_STEP,b)}for(;this._elapsed>=z;)this._elapsed-=z,this.step(b)}},step:function(D){var F,B,b=this.bodies.entries,z=b.length;for(F=0;F<z;F++)B=b[F],B.enable&&B.update(D);this.useTree&&(this.tree.clear(),this.tree.load(b));var N=this.colliders.update();for(F=0;F<N.length;F++){var U=N[F];U.active&&U.update()}this.emit(h.WORLD_STEP,D),this.stepsLastFrame++},postUpdate:function(){var D,F,B=this.bodies.entries,b=B.length,z=this.bodies,N=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<b;D++)F=B[D],F.enable&&F.postUpdate();if(this.drawDebug){var U=this.debugGraphic;for(U.clear(),D=0;D<b;D++)F=B[D],F.willDrawDebug()&&F.drawDebug(U);for(B=N.entries,b=B.length,D=0;D<b;D++)F=B[D],F.willDrawDebug()&&F.drawDebug(U)}var Y=this.pendingDestroy;if(Y.size>0){var K=this.tree,Z=this.staticTree;for(B=Y.entries,b=B.length,D=0;D<b;D++)F=B[D],F.physicsType===o.DYNAMIC_BODY?(K.remove(F),z.delete(F)):F.physicsType===o.STATIC_BODY&&(Z.remove(F),N.delete(F)),F.world=void 0,F.gameObject=void 0;Y.clear()}},updateMotion:function(D,F){D.allowRotation&&this.computeAngularVelocity(D,F),this.computeVelocity(D,F)},computeAngularVelocity:function(D,F){var B=D.angularVelocity,b=D.angularAcceleration,z=D.angularDrag,N=D.maxAngular;b?B+=b*F:D.allowDrag&&z&&(z*=F,v(B-z,0,.1)?B-=z:m(B+z,0,.1)?B+=z:B=0),B=s(B,-N,N);var U=B-D.angularVelocity;D.angularVelocity+=U,D.rotation+=D.angularVelocity*F},computeVelocity:function(D,F){var B=D.velocity.x,b=D.acceleration.x,z=D.drag.x,N=D.maxVelocity.x,U=D.velocity.y,Y=D.acceleration.y,K=D.drag.y,Z=D.maxVelocity.y,j=D.speed,q=D.maxSpeed,k=D.allowDrag,H=D.useDamping;D.allowGravity&&(B+=(this.gravity.x+D.gravity.x)*F,U+=(this.gravity.y+D.gravity.y)*F),b?B+=b*F:k&&z&&(H?(z=Math.pow(z,F),B*=z,j=Math.sqrt(B*B+U*U),f(j,0,.001)&&(B=0)):(z*=F,v(B-z,0,.01)?B-=z:m(B+z,0,.01)?B+=z:B=0)),Y?U+=Y*F:k&&K&&(H?(K=Math.pow(K,F),U*=K,j=Math.sqrt(B*B+U*U),f(j,0,.001)&&(U=0)):(K*=F,v(U-K,0,.01)?U-=K:m(U+K,0,.01)?U+=K:U=0)),B=s(B,-N,N),U=s(U,-Z,Z),D.velocity.set(B,U),q>-1&&j>q&&(D.velocity.normalize().scale(q),j=q),D.speed=j},separate:function(D,F,B,b,z,N){if(!N&&!D.enable||!F.enable||D.checkCollision.none||F.checkCollision.none||!this.intersects(D,F)||B&&B.call(b,D.gameObject,F.gameObject)===!1)return!1;if(D.isCircle&&F.isCircle)return this.separateCircle(D,F,z);if(D.isCircle!==F.isCircle){var U=D.isCircle?F:D,Y=D.isCircle?D:F,K={x:U.x,y:U.y,right:U.right,bottom:U.bottom},Z=Y.center;if((Z.y<K.y||Z.y>K.bottom)&&(Z.x<K.x||Z.x>K.right))return this.separateCircle(D,F,z)}var j=!1,q=!1;z?(j=M(D,F,z,this.OVERLAP_BIAS),q=L(D,F,z,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(j=M(D,F,z,this.OVERLAP_BIAS),this.intersects(D,F)&&(q=L(D,F,z,this.OVERLAP_BIAS))):(q=L(D,F,z,this.OVERLAP_BIAS),this.intersects(D,F)&&(j=M(D,F,z,this.OVERLAP_BIAS)));var k=j||q;return k&&(z?(D.onOverlap||F.onOverlap)&&this.emit(h.OVERLAP,D.gameObject,F.gameObject,D,F):(D.onCollide||F.onCollide)&&this.emit(h.COLLIDE,D.gameObject,F.gameObject,D,F)),k},separateCircle:function(D,F,B,b){g(D,F,!1,b),x(D,F,!1,b);var z=0;if(D.isCircle!==F.isCircle){var N={x:F.isCircle?D.position.x:F.position.x,y:F.isCircle?D.position.y:F.position.y,right:F.isCircle?D.right:F.right,bottom:F.isCircle?D.bottom:F.bottom},U={x:D.isCircle?D.center.x:F.center.x,y:D.isCircle?D.center.y:F.center.y,radius:D.isCircle?D.halfWidth:F.halfWidth};U.y<N.y?U.x<N.x?z=n(U.x,U.y,N.x,N.y)-U.radius:U.x>N.right&&(z=n(U.x,U.y,N.right,N.y)-U.radius):U.y>N.bottom&&(U.x<N.x?z=n(U.x,U.y,N.x,N.bottom)-U.radius:U.x>N.right&&(z=n(U.x,U.y,N.right,N.bottom)-U.radius)),z*=-1}else z=D.halfWidth+F.halfWidth-n(D.center.x,D.center.y,F.center.x,F.center.y);if(D.overlapR=z,F.overlapR=z,B||z===0||D.immovable&&F.immovable||D.customSeparateX||F.customSeparateX)return z!==0&&(D.onOverlap||F.onOverlap)&&this.emit(h.OVERLAP,D.gameObject,F.gameObject,D,F),z!==0;var Y=D.center.x-F.center.x,K=D.center.y-F.center.y,Z=Math.sqrt(Math.pow(Y,2)+Math.pow(K,2)),j=(F.center.x-D.center.x)/Z||0,q=(F.center.y-D.center.y)/Z||0,k=2*(D.velocity.x*j+D.velocity.y*q-F.velocity.x*j-F.velocity.y*q)/(D.mass+F.mass);(D.immovable||F.immovable)&&(k*=2),D.immovable||(D.velocity.x=D.velocity.x-k/D.mass*j,D.velocity.y=D.velocity.y-k/D.mass*q),F.immovable||(F.velocity.x=F.velocity.x+k/F.mass*j,F.velocity.y=F.velocity.y+k/F.mass*q),!D.immovable&&!F.immovable&&(z/=2);var H=e(D.center,F.center),$=(z+S.EPSILON)*Math.cos(H),J=(z+S.EPSILON)*Math.sin(H);return D.immovable||(D.x-=$,D.y-=J,D.updateCenter()),F.immovable||(F.x+=$,F.y+=J,F.updateCenter()),D.velocity.x*=D.bounce.x,D.velocity.y*=D.bounce.y,F.velocity.x*=F.bounce.x,F.velocity.y*=F.bounce.y,(D.onCollide||F.onCollide)&&this.emit(h.COLLIDE,D.gameObject,F.gameObject,D,F),!0},intersects:function(D,F){return D===F?!1:!D.isCircle&&!F.isCircle?!(D.right<=F.position.x||D.bottom<=F.position.y||D.position.x>=F.right||D.position.y>=F.bottom):D.isCircle?F.isCircle?n(D.center.x,D.center.y,F.center.x,F.center.y)<=D.halfWidth+F.halfWidth:this.circleBodyIntersects(D,F):this.circleBodyIntersects(F,D)},circleBodyIntersects:function(D,F){var B=s(D.center.x,F.left,F.right),b=s(D.center.y,F.top,F.bottom),z=(D.center.x-B)*(D.center.x-B),N=(D.center.y-b)*(D.center.y-b);return z+N<=D.halfWidth*D.halfWidth},overlap:function(D,F,B,b,z){return B===void 0&&(B=null),b===void 0&&(b=null),z===void 0&&(z=B),this.collideObjects(D,F,B,b,z,!0)},collide:function(D,F,B,b,z){return B===void 0&&(B=null),b===void 0&&(b=null),z===void 0&&(z=B),this.collideObjects(D,F,B,b,z,!1)},collideObjects:function(D,F,B,b,z,N){var U,Y;D.isParent&&D.physicsType===void 0&&(D=D.children.entries),F&&F.isParent&&F.physicsType===void 0&&(F=F.children.entries);var K=Array.isArray(D),Z=Array.isArray(F);if(this._total=0,!K&&!Z)this.collideHandler(D,F,B,b,z,N);else if(!K&&Z)for(U=0;U<F.length;U++)this.collideHandler(D,F[U],B,b,z,N);else if(K&&!Z)if(F)for(U=0;U<D.length;U++)this.collideHandler(D[U],F,B,b,z,N);else for(U=0;U<D.length;U++){var j=D[U];for(Y=U+1;Y<D.length;Y++)U!==Y&&this.collideHandler(j,D[Y],B,b,z,N)}else for(U=0;U<D.length;U++)for(Y=0;Y<F.length;Y++)this.collideHandler(D[U],F[Y],B,b,z,N);return this._total>0},collideHandler:function(D,F,B,b,z,N){if(F===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,B,b,z,N);if(!D||!F)return!1;if(D.body){if(F.body)return this.collideSpriteVsSprite(D,F,B,b,z,N);if(F.isParent)return this.collideSpriteVsGroup(D,F,B,b,z,N);if(F.isTilemap)return this.collideSpriteVsTilemapLayer(D,F,B,b,z,N)}else if(D.isParent){if(F.body)return this.collideSpriteVsGroup(F,D,B,b,z,N);if(F.isParent)return this.collideGroupVsGroup(D,F,B,b,z,N);if(F.isTilemap)return this.collideGroupVsTilemapLayer(D,F,B,b,z,N)}else if(D.isTilemap){if(F.body)return this.collideSpriteVsTilemapLayer(F,D,B,b,z,N);if(F.isParent)return this.collideGroupVsTilemapLayer(F,D,B,b,z,N)}},collideSpriteVsSprite:function(D,F,B,b,z,N){return!D.body||!F.body?!1:(this.separate(D.body,F.body,b,z,N)&&(B&&B.call(z,D,F),this._total++),!0)},collideSpriteVsGroup:function(D,F,B,b,z,N){var U=D.body;if(!(F.length===0||!U||!U.enable||U.checkCollision.none)){var Y,K,Z;if(this.useTree||F.physicsType===o.STATIC_BODY){var j=this.treeMinMax;j.minX=U.left,j.minY=U.top,j.maxX=U.right,j.maxY=U.bottom;var q=F.physicsType===o.DYNAMIC_BODY?this.tree.search(j):this.staticTree.search(j);for(K=q.length,Y=0;Y<K;Y++)Z=q[Y],!(U===Z||!Z.enable||Z.checkCollision.none||!F.contains(Z.gameObject))&&this.separate(U,Z,b,z,N,!0)&&(B&&B.call(z,U.gameObject,Z.gameObject),this._total++)}else{var k=F.getChildren(),H=F.children.entries.indexOf(D);for(K=k.length,Y=0;Y<K;Y++)Z=k[Y].body,!(!Z||Y===H||!Z.enable)&&this.separate(U,Z,b,z,N)&&(B&&B.call(z,U.gameObject,Z.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,F,B,b,z,N){var U=D.getChildren();if(U.length===0)return!1;for(var Y=!1,K=0;K<U.length;K++)U[K].body&&this.collideSpriteVsTilemapLayer(U[K],F,B,b,z,N)&&(Y=!0);return Y},collideTiles:function(D,F,B,b,z){return!D.body.enable||F.length===0?!1:this.collideSpriteVsTilesHandler(D,F,B,b,z,!1,!1)},overlapTiles:function(D,F,B,b,z){return!D.body.enable||F.length===0?!1:this.collideSpriteVsTilesHandler(D,F,B,b,z,!0,!1)},collideSpriteVsTilemapLayer:function(D,F,B,b,z,N){var U=D.body;if(!U.enable||U.checkCollision.none)return!1;var Y=U.position.x,K=U.position.y,Z=U.width,j=U.height,q=F.layer;if(q.tileWidth>q.baseTileWidth){var k=(q.tileWidth-q.baseTileWidth)*F.scaleX;Y-=k,Z+=k}if(q.tileHeight>q.baseTileHeight){var H=(q.tileHeight-q.baseTileHeight)*F.scaleY;j+=H}var $=y(Y,K,Z,j,null,F.scene.cameras.main,F.layer);return $.length===0?!1:this.collideSpriteVsTilesHandler(D,$,B,b,z,N,!0)},collideSpriteVsTilesHandler:function(D,F,B,b,z,N,U){for(var Y=D.body,K,Z={left:0,right:0,top:0,bottom:0},j,q=!1,k=0;k<F.length;k++){K=F[k],j=K.tilemapLayer;var H=j.tileToWorldXY(K.x,K.y);Z.left=H.x,Z.top=H.y,K.baseHeight!==K.height&&(Z.top-=(K.height-K.baseHeight)*j.scaleY),Z.right=Z.left+K.width*j.scaleX,Z.bottom=Z.top+K.height*j.scaleY,w(Z,Y)&&(!b||b.call(z,D,K))&&C(K,D)&&(N||R(k,Y,K,Z,j,this.TILE_BIAS,U))&&(this._total++,q=!0,B&&B.call(z,D,K),N&&Y.onOverlap?this.emit(h.TILE_OVERLAP,D,K,Y):Y.onCollide&&this.emit(h.TILE_COLLIDE,D,K,Y))}return q},collideGroupVsGroup:function(D,F,B,b,z,N){if(!(D.length===0||F.length===0))for(var U=D.getChildren(),Y=0;Y<U.length;Y++)this.collideSpriteVsGroup(U[Y],F,B,b,z,N)},wrap:function(D,F){D.body?this.wrapObject(D,F):D.getChildren?this.wrapArray(D.getChildren(),F):Array.isArray(D)?this.wrapArray(D,F):this.wrapObject(D,F)},wrapArray:function(D,F){for(var B=0;B<D.length;B++)this.wrapObject(D[B],F)},wrapObject:function(D,F){F===void 0&&(F=0),D.x=X(D.x,this.bounds.left-F,this.bounds.right+F),D.y=X(D.y,this.bounds.top-F,this.bounds.bottom+F)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});i.exports=W},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(62),s=t(245),r=t(196),a=t(10),o=t(57),n=t(3),u=new e({initialize:function(f,v){var m=v.displayWidth?v.displayWidth:64,g=v.displayHeight?v.displayHeight:64;this.world=f,this.gameObject=v,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=f.defaults.debugShowBody,this.debugShowVelocity=f.defaults.debugShowVelocity,this.debugBodyColor=f.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=m,this.height=g,this.sourceWidth=m,this.sourceHeight=g,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(g/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new n,this.newVelocity=new n,this.deltaMax=new n,this.acceleration=new n,this.allowDrag=!0,this.drag=new n,this.allowGravity=!0,this.gravity=new n,this.bounce=new n,this.worldBounce=null,this.customBoundsRectangle=f.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new n(1e4,1e4),this.maxSpeed=-1,this.friction=new n(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=l.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=l.DYNAMIC_BODY,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a},updateBounds:function(){var h=this.gameObject,f=this.transform;if(h.parentContainer){var v=h.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);f.x=v.tx,f.y=v.ty,f.rotation=r(v.rotation),f.scaleX=v.scaleX,f.scaleY=v.scaleY,f.displayOriginX=h.displayOriginX,f.displayOriginY=h.displayOriginY}else f.x=h.x,f.y=h.y,f.rotation=h.angle,f.scaleX=h.scaleX,f.scaleY=h.scaleY,f.displayOriginX=h.displayOriginX,f.displayOriginY=h.displayOriginY;var m=!1;if(this.syncBounds){var g=h.getBounds(this._bounds);this.width=g.width,this.height=g.height,m=!0}else{var x=Math.abs(f.scaleX),y=Math.abs(f.scaleY);(this._sx!==x||this._sy!==y)&&(this.width=this.sourceWidth*x,this.height=this.sourceHeight*y,this._sx=x,this._sy=y,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var h=this.transform;this.position.x=h.x+h.scaleX*(this.offset.x-h.displayOriginX),this.position.y=h.y+h.scaleY*(this.offset.y-h.displayOriginY),this.updateCenter()},resetFlags:function(h){h===void 0&&(h=!1);var f=this.wasTouching,v=this.touching,m=this.blocked;h?(f.none=!0,f.up=!1,f.down=!1,f.left=!1,f.right=!1):(f.none=v.none,f.up=v.up,f.down=v.down,f.left=v.left,f.right=v.right),v.none=!0,v.up=!1,v.down=!1,v.left=!1,v.right=!1,m.none=!0,m.up=!1,m.down=!1,m.left=!1,m.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(h,f){h&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),h&&this.update(f)},update:function(h){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,h);var f=this.velocity.x,v=this.velocity.y;this.newVelocity.set(f*h,v*h),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(v,f),this.speed=Math.sqrt(f*f+v*v),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(s.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var h=this.position.x-this.prevFrame.x,f=this.position.y-this.prevFrame.y;if(this.moves){var v=this.deltaMax.x,m=this.deltaMax.y;v!==0&&h!==0&&(h<0&&h<-v?h=-v:h>0&&h>v&&(h=v)),m!==0&&f!==0&&(f<0&&f<-m?f=-m:f>0&&f>m&&(f=m)),this.gameObject.x+=h,this.gameObject.y+=f}h<0?this.facing=l.FACING_LEFT:h>0&&(this.facing=l.FACING_RIGHT),f<0?this.facing=l.FACING_UP:f>0&&(this.facing=l.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=h,this._ty=f},setBoundsRectangle:function(h){return this.customBoundsRectangle=h||this.world.bounds,this},checkWorldBounds:function(){var h=this.position,f=this.customBoundsRectangle,v=this.world.checkCollision,m=this.worldBounce?-this.worldBounce.x:-this.bounce.x,g=this.worldBounce?-this.worldBounce.y:-this.bounce.y,x=!1;return h.x<f.x&&v.left?(h.x=f.x,this.velocity.x*=m,this.blocked.left=!0,x=!0):this.right>f.right&&v.right&&(h.x=f.right-this.width,this.velocity.x*=m,this.blocked.right=!0,x=!0),h.y<f.y&&v.up?(h.y=f.y,this.velocity.y*=g,this.blocked.up=!0,x=!0):this.bottom>f.bottom&&v.down&&(h.y=f.bottom-this.height,this.velocity.y*=g,this.blocked.down=!0,x=!0),x&&(this.blocked.none=!1,this.updateCenter()),x},setOffset:function(h,f){return f===void 0&&(f=h),this.offset.set(h,f),this},setSize:function(h,f,v){v===void 0&&(v=!0);var m=this.gameObject;if(!h&&m.frame&&(h=m.frame.realWidth),!f&&m.frame&&(f=m.frame.realHeight),this.sourceWidth=h,this.sourceHeight=f,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&m.getCenter){var g=(m.width-h)/2,x=(m.height-f)/2;this.offset.set(g,x)}return this.isCircle=!1,this.radius=0,this},setCircle:function(h,f,v){return f===void 0&&(f=this.offset.x),v===void 0&&(v=this.offset.y),h>0?(this.isCircle=!0,this.radius=h,this.sourceWidth=h*2,this.sourceHeight=h*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,v),this.updateCenter()):this.isCircle=!1,this},reset:function(h,f){this.stop();var v=this.gameObject;v.setPosition(h,f),v.getTopLeft?v.getTopLeft(this.position):this.position.set(h,f),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=v.angle,this.preRotation=v.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(h){return h.x=this.x,h.y=this.y,h.right=this.right,h.bottom=this.bottom,h},hitTest:function(h,f){if(!this.isCircle)return o(this,h,f);if(this.radius>0&&h>=this.left&&h<=this.right&&f>=this.top&&f<=this.bottom){var v=(this.center.x-h)*(this.center.x-h),m=(this.center.y-f)*(this.center.y-f);return v+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(h){var f=this.position,v=f.x+this.halfWidth,m=f.y+this.halfHeight;this.debugShowBody&&(h.lineStyle(h.defaultStrokeWidth,this.debugBodyColor),this.isCircle?h.strokeCircle(v,m,this.width/2):(this.checkCollision.up&&h.lineBetween(f.x,f.y,f.x+this.width,f.y),this.checkCollision.right&&h.lineBetween(f.x+this.width,f.y,f.x+this.width,f.y+this.height),this.checkCollision.down&&h.lineBetween(f.x,f.y+this.height,f.x+this.width,f.y+this.height),this.checkCollision.left&&h.lineBetween(f.x,f.y,f.x,f.y+this.height))),this.debugShowVelocity&&(h.lineStyle(h.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),h.lineBetween(v,m,v+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(h,f,v,m){h===void 0&&(h=!0),this.collideWorldBounds=h;var g=f!==void 0,x=v!==void 0;return(g||x)&&(this.worldBounce||(this.worldBounce=new n),g&&(this.worldBounce.x=f),x&&(this.worldBounce.y=v)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(h,f){return this.velocity.set(h,f),h=this.velocity.x,f=this.velocity.y,this.speed=Math.sqrt(h*h+f*f),this},setVelocityX:function(h){this.velocity.x=h;var f=h,v=this.velocity.y;return this.speed=Math.sqrt(f*f+v*v),this},setVelocityY:function(h){this.velocity.y=h;var f=this.velocity.x,v=h;return this.speed=Math.sqrt(f*f+v*v),this},setMaxVelocity:function(h,f){return this.maxVelocity.set(h,f),this},setMaxVelocityX:function(h){return this.maxVelocity.x=h,this},setMaxVelocityY:function(h){return this.maxVelocity.y=h,this},setMaxSpeed:function(h){return this.maxSpeed=h,this},setBounce:function(h,f){return this.bounce.set(h,f),this},setBounceX:function(h){return this.bounce.x=h,this},setBounceY:function(h){return this.bounce.y=h,this},setAcceleration:function(h,f){return this.acceleration.set(h,f),this},setAccelerationX:function(h){return this.acceleration.x=h,this},setAccelerationY:function(h){return this.acceleration.y=h,this},setAllowDrag:function(h){return h===void 0&&(h=!0),this.allowDrag=h,this},setAllowGravity:function(h){return h===void 0&&(h=!0),this.allowGravity=h,this},setAllowRotation:function(h){return h===void 0&&(h=!0),this.allowRotation=h,this},setDrag:function(h,f){return this.drag.set(h,f),this},setDamping:function(h){return this.useDamping=h,this},setDragX:function(h){return this.drag.x=h,this},setDragY:function(h){return this.drag.y=h,this},setGravity:function(h,f){return this.gravity.set(h,f),this},setGravityX:function(h){return this.gravity.x=h,this},setGravityY:function(h){return this.gravity.y=h,this},setFriction:function(h,f){return this.friction.set(h,f),this},setFrictionX:function(h){return this.friction.x=h,this},setFrictionY:function(h){return this.friction.y=h,this},setAngularVelocity:function(h){return this.angularVelocity=h,this},setAngularAcceleration:function(h){return this.angularAcceleration=h,this},setAngularDrag:function(h){return this.angularDrag=h,this},setMass:function(h){return this.mass=h,this},setImmovable:function(h){return h===void 0&&(h=!0),this.immovable=h,this},setEnable:function(h){return h===void 0&&(h=!0),this.enable=h,this},processX:function(h,f,v,m){this.x+=h,this.updateCenter(),f!==null&&(this.velocity.x=f);var g=this.blocked;v&&(g.left=!0),m&&(g.right=!0)},processY:function(h,f,v,m){this.y+=h,this.updateCenter(),f!==null&&(this.velocity.y=f);var g=this.blocked;v&&(g.up=!0),m&&(g.down=!0)},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a,o,n,u,h,f){this.world=r,this.name="",this.active=!0,this.overlapOnly=a,this.object1=o,this.object2=n,this.collideCallback=u,this.processCallback=h,this.callbackContext=f},setName:function(s){return this.name=s,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=t(3),s=new l,r=new l,a=function(o,n,u,h,f,v,m){var g=m.tilemapLayer.tilemap._convert.WorldToTileXY;g(o,n,!0,s,v,m);var x=s.x,y=s.y;g(o+u,n+h,!1,r,v,m);var T=Math.ceil(r.x),S=Math.ceil(r.y);return e(x,y,T-x,S-y,f,m)};i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,l,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,l,e):!0};i.exports=t},function(i,d,t){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(436);function l(S){if(!(this instanceof l))return new l(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}l.prototype={all:function(){return this._all(this.data,[])},search:function(S){var E=this.data,C=[],A=this.toBBox;if(!x(S,E))return C;for(var P=[],R,M,L,O;E;){for(R=0,M=E.children.length;R<M;R++)L=E.children[R],O=E.leaf?A(L):L,x(S,O)&&(E.leaf?C.push(L):g(S,O)?this._all(L,C):P.push(L));E=P.pop()}return C},collides:function(S){var E=this.data,C=this.toBBox;if(!x(S,E))return!1;for(var A=[],P,R,M,L;E;){for(P=0,R=E.children.length;P<R;P++)if(M=E.children[P],L=E.leaf?C(M):M,x(S,L)){if(E.leaf||g(S,L))return!0;A.push(M)}E=A.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var E=0,C=S.length;E<C;E++)this.insert(S[E]);return this}var A=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var P=this.data;this.data=A,A=P}this._insert(A,this.data.height-A.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(S,E){if(!S)return this;for(var C=this.data,A=this.toBBox(S),P=[],R=[],M,L,O,I;C||P.length;){if(C||(C=P.pop(),L=P[P.length-1],M=R.pop(),I=!0),C.leaf&&(O=s(S,C.children,E),O!==-1))return C.children.splice(O,1),P.push(C),this._condense(P),this;!I&&!C.leaf&&g(C,A)?(P.push(C),R.push(M),M=0,L=C,C=C.children[0]):L?(M++,C=L.children[M],I=!1):C=null}return this},toBBox:function(S){return S},compareMinX:n,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,E){for(var C=[];S;)S.leaf?E.push.apply(E,S.children):C.push.apply(C,S.children),S=C.pop();return E},_build:function(S,E,C,A){var P=C-E+1,R=this._maxEntries,M;if(P<=R)return M=y(S.slice(E,C+1)),r(M,this.toBBox),M;A||(A=Math.ceil(Math.log(P)/Math.log(R)),R=Math.ceil(P/Math.pow(R,A-1))),M=y([]),M.leaf=!1,M.height=A;var L=Math.ceil(P/R),O=L*Math.ceil(Math.sqrt(R)),I,w,G,V;for(T(S,E,C,O,this.compareMinX),I=E;I<=C;I+=O)for(G=Math.min(I+O-1,C),T(S,I,G,L,this.compareMinY),w=I;w<=G;w+=L)V=Math.min(w+L-1,G),M.children.push(this._build(S,w,V,A-1));return r(M,this.toBBox),M},_chooseSubtree:function(S,E,C,A){for(var P,R,M,L,O,I,w,G;A.push(E),!(E.leaf||A.length-1===C);){for(w=G=1/0,P=0,R=E.children.length;P<R;P++)M=E.children[P],O=h(M),I=v(S,M)-O,I<G?(G=I,w=O<w?O:w,L=M):I===G&&O<w&&(w=O,L=M);E=L||E.children[0]}return E},_insert:function(S,E,C){var A=this.toBBox,P=C?S:A(S),R=[],M=this._chooseSubtree(P,this.data,E,R);for(M.children.push(S),o(M,P);E>=0&&R[E].children.length>this._maxEntries;)this._split(R,E),E--;this._adjustParentBBoxes(P,R,E)},_split:function(S,E){var C=S[E],A=C.children.length,P=this._minEntries;this._chooseSplitAxis(C,P,A);var R=this._chooseSplitIndex(C,P,A),M=y(C.children.splice(R,C.children.length-R));M.height=C.height,M.leaf=C.leaf,r(C,this.toBBox),r(M,this.toBBox),E?S[E-1].children.push(M):this._splitRoot(C,M)},_splitRoot:function(S,E){this.data=y([S,E]),this.data.height=S.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(S,E,C){var A,P,R,M,L,O,I,w;for(O=I=1/0,A=E;A<=C-E;A++)P=a(S,0,A,this.toBBox),R=a(S,A,C,this.toBBox),M=m(P,R),L=h(P)+h(R),M<O?(O=M,w=A,I=L<I?L:I):M===O&&L<I&&(I=L,w=A);return w},_chooseSplitAxis:function(S,E,C){var A=S.leaf?this.compareMinX:n,P=S.leaf?this.compareMinY:u,R=this._allDistMargin(S,E,C,A),M=this._allDistMargin(S,E,C,P);R<M&&S.children.sort(A)},_allDistMargin:function(S,E,C,A){S.children.sort(A);var P=this.toBBox,R=a(S,0,E,P),M=a(S,C-E,C,P),L=f(R)+f(M),O,I;for(O=E;O<C-E;O++)I=S.children[O],o(R,S.leaf?P(I):I),L+=f(R);for(O=C-E-1;O>=E;O--)I=S.children[O],o(M,S.leaf?P(I):I),L+=f(M);return L},_adjustParentBBoxes:function(S,E,C){for(var A=C;A>=0;A--)o(E[A],S)},_condense:function(S){for(var E=S.length-1,C;E>=0;E--)S[E].children.length===0?E>0?(C=S[E-1].children,C.splice(C.indexOf(S[E]),1)):this.clear():r(S[E],this.toBBox)},compareMinX:function(S,E){return S.left-E.left},compareMinY:function(S,E){return S.top-E.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function s(S,E,C){if(!C)return E.indexOf(S);for(var A=0;A<E.length;A++)if(C(S,E[A]))return A;return-1}function r(S,E){a(S,0,S.children.length,E,S)}function a(S,E,C,A,P){P||(P=y(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var R=E,M;R<C;R++)M=S.children[R],o(P,S.leaf?A(M):M);return P}function o(S,E){return S.minX=Math.min(S.minX,E.minX),S.minY=Math.min(S.minY,E.minY),S.maxX=Math.max(S.maxX,E.maxX),S.maxY=Math.max(S.maxY,E.maxY),S}function n(S,E){return S.minX-E.minX}function u(S,E){return S.minY-E.minY}function h(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function f(S){return S.maxX-S.minX+(S.maxY-S.minY)}function v(S,E){return(Math.max(E.maxX,S.maxX)-Math.min(E.minX,S.minX))*(Math.max(E.maxY,S.maxY)-Math.min(E.minY,S.minY))}function m(S,E){var C=Math.max(S.minX,E.minX),A=Math.max(S.minY,E.minY),P=Math.min(S.maxX,E.maxX),R=Math.min(S.maxY,E.maxY);return Math.max(0,P-C)*Math.max(0,R-A)}function g(S,E){return S.minX<=E.minX&&S.minY<=E.minY&&E.maxX<=S.maxX&&E.maxY<=S.maxY}function x(S,E){return E.minX<=S.maxX&&E.minY<=S.maxY&&E.maxX>=S.minX&&E.maxY>=S.minY}function y(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(S,E,C,A,P){for(var R=[E,C],M;R.length;)C=R.pop(),E=R.pop(),!(C-E<=A)&&(M=E+Math.ceil((C-E)/A/2)*A,e(S,M,E,C,P),R.push(E,M,M,C))}i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(533),l=t(535),s=t(248),r=function(a,o,n,u,h,f,v){var m=u.left,g=u.top,x=u.right,y=u.bottom,T=n.faceLeft||n.faceRight,S=n.faceTop||n.faceBottom;if(v||(T=!0,S=!0),!T&&!S)return!1;var E=0,C=0,A=0,P=1;if(o.deltaAbsX()>o.deltaAbsY()?A=-1:o.deltaAbsX()<o.deltaAbsY()&&(P=-1),o.deltaX()!==0&&o.deltaY()!==0&&T&&S&&(A=Math.min(Math.abs(o.position.x-x),Math.abs(o.right-m)),P=Math.min(Math.abs(o.position.y-y),Math.abs(o.bottom-g))),A<P){if(T&&(E=e(o,n,m,x,f,v),E!==0&&!s(u,o)))return!0;S&&(C=l(o,n,g,y,f,v))}else{if(S&&(C=l(o,n,g,y,f,v),C!==0&&!s(u,o)))return!0;T&&(E=e(o,n,m,x,f,v))}return E!==0||C!==0};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(534),l=function(s,r,a,o,n,u){var h=0,f=r.faceLeft,v=r.faceRight,m=r.collideLeft,g=r.collideRight;return u||(f=!0,v=!0,m=!0,g=!0),s.deltaX()<0&&g&&s.checkCollision.left?v&&s.x<o&&(h=s.x-o,h<-n&&(h=0)):s.deltaX()>0&&m&&s.checkCollision.right&&f&&s.right>a&&(h=s.right-a,h>n&&(h=0)),h!==0&&(s.customSeparateX?s.overlapX=h:e(s,h)),h};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l<0?(e.blocked.none=!1,e.blocked.left=!0):l>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=l,e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(536),l=function(s,r,a,o,n,u){var h=0,f=r.faceTop,v=r.faceBottom,m=r.collideUp,g=r.collideDown;return u||(f=!0,v=!0,m=!0,g=!0),s.deltaY()<0&&g&&s.checkCollision.up?v&&s.y<o&&(h=s.y-o,h<-n&&(h=0)):s.deltaY()>0&&m&&s.checkCollision.down&&f&&s.bottom>a&&(h=s.bottom-a,h>n&&(h=0)),h!==0&&(s.customSeparateY?s.overlapY=h:e(s,h)),h};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l<0?(e.blocked.none=!1,e.blocked.up=!0):l>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=l,e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(246),l=t(1389),s=function(r,a,o,n){var u=e(r,a,o,n),h=r.immovable,f=a.immovable;if(o||u===0||h&&f||r.customSeparateX||a.customSeparateX)return u!==0||r.embedded&&a.embedded;var v=l.Set(r,a,u);return!h&&!f?v>0?!0:l.Check():(h?l.RunImmovableBody1(v):f&&l.RunImmovableBody2(v),!0)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(247),l=t(1390),s=function(r,a,o,n){var u=e(r,a,o,n),h=r.immovable,f=a.immovable;if(o||u===0||h&&f||r.customSeparateY||a.customSeparateY)return u!==0||r.embedded&&a.embedded;var v=l.Set(r,a,u);return!h&&!f?v>0?!0:l.Check():(h?l.RunImmovableBody1(v):f&&l.RunImmovableBody2(v),!0)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),l=t(0),s=t(62),r=t(57),a=t(3),o=new l({initialize:function(u,h){var f=h.displayWidth?h.displayWidth:64,v=h.displayHeight?h.displayHeight:64;this.world=u,this.gameObject=h,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(h.x-f*h.originX,h.y-v*h.originY),this.width=f,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=a.ZERO,this.allowGravity=!1,this.gravity=a.ZERO,this.bounce=a.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=s.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(n,u){return n&&n!==this.gameObject&&(this.gameObject.body=null,n.body=this,this.gameObject=n),u&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var n=this.gameObject;return n.getTopLeft(this.position),this.width=n.displayWidth,this.height=n.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(n,u){return u===void 0&&(u=n),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(n,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(n,u,h){h===void 0&&(h=!0);var f=this.gameObject;if(!n&&f.frame&&(n=f.frame.realWidth),!u&&f.frame&&(u=f.frame.realHeight),this.world.staticTree.remove(this),this.width=n,this.height=u,this.halfWidth=Math.floor(n/2),this.halfHeight=Math.floor(u/2),h&&f.getCenter){var v=f.displayWidth/2,m=f.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(n,u,h){return u===void 0&&(u=this.offset.x),h===void 0&&(h=this.offset.y),n>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=n,this.width=n*2,this.height=n*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,h),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(n,u){var h=this.gameObject;n===void 0&&(n=h.x),u===void 0&&(u=h.y),this.world.staticTree.remove(this),h.setPosition(n,u),h.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,u){return this.isCircle?e(this,n,u):r(this,n,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(n){var u=this.position,h=u.x+this.halfWidth,f=u.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?n.strokeCircle(h,f,this.width/2):n.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(n){return n<=0&&(n=.1),this.mass=n,this},x:{get:function(){return this.position.x},set:function(n){this.world.staticTree.remove(this),this.position.x=n,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(n){this.world.staticTree.remove(this),this.position.y=n,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});i.exports=o},function(i,d,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(0),l=new e({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=new e,s=function(r,a,o,n){var u=o.tilemapLayer,h=u.cullPaddingX,f=u.cullPaddingY,v=u.tilemap.tileToWorldXY(r,a,l,n,u);return v.x>n.worldView.x+u.scaleX*o.tileWidth*(-h-.5)&&v.x<n.worldView.right+u.scaleX*o.tileWidth*(h-.5)&&v.y>n.worldView.y+u.scaleY*o.tileHeight*(-f-1)&&v.y<n.worldView.bottom+u.scaleY*o.tileHeight*(f-.5)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=function(s,r,a,o,n,u,h){for(var f=e(a,o,n,u,null,h),v=0;v<f.length;v++)f[v]&&f[v].index===s&&(f[v].index=r)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=t(139),s=t(76),r=new e,a=function(o,n){var u=o.tilemapLayer.tilemap,h=o.tilemapLayer,f=Math.floor(u.tileWidth*h.scaleX),v=Math.floor(u.tileHeight*h.scaleY),m=s(n.worldView.x-h.x,f,0,!0)-h.cullPaddingX,g=l(n.worldView.right-h.x,f,0,!0)+h.cullPaddingX,x=s(n.worldView.y-h.y,v,0,!0)-h.cullPaddingY,y=l(n.worldView.bottom-h.y,v,0,!0)+h.cullPaddingY;return r.setTo(m,x,g-m,y-x)};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(543),l=t(159),s=function(r,a,o,n){o===void 0&&(o=[]),n===void 0&&(n=0),o.length=0;var u=r.tilemapLayer,h=e(r,a);return(u.skipCull||u.scrollFactorX!==1||u.scrollFactorY!==1)&&(h.left=0,h.right=r.width,h.top=0,h.bottom=r.height),l(r,h,n,o),o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(546),l=t(159),s=function(r,a,o,n){o===void 0&&(o=[]),n===void 0&&(n=0),o.length=0;var u=r.tilemapLayer;if(!u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1){var h=e(r,a);l(r,h,n,o)}return o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),l=t(76),s=function(r,a){var o=r.tilemapLayer.tilemap,n=r.tilemapLayer,u=Math.floor(o.tileWidth*n.scaleX),h=Math.floor(o.tileHeight*n.scaleY),f=r.hexSideLength,v=(h-f)/2+f,m=l(a.worldView.x-n.x,u,0,!0)-n.cullPaddingX,g=e(a.worldView.right-n.x,u,0,!0)+n.cullPaddingX,x=l(a.worldView.y-n.y,v,0,!0)-n.cullPaddingY,y=e(a.worldView.bottom-n.y,v,0,!0)+n.cullPaddingY;return{left:m,right:g,top:x,bottom:y}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(541),l=function(s,r,a,o){a===void 0&&(a=[]),o===void 0&&(o=0),a.length=0;var n=s.tilemapLayer,u=s.data,h=s.width,f=s.height,v=0,m=h,g=0,x=f;if(!n.skipCull){var y,T,S;if(o===0){for(T=g;T<x;T++)for(y=v;u[T]&&y<m;y++)if(e(y,T,s,r)){if(S=u[T][y],!S||S.index===-1||!S.visible||S.alpha===0)continue;a.push(S)}}else if(o===1){for(T=g;T<x;T++)for(y=m;u[T]&&y>=v;y--)if(e(y,T,s,r)){if(S=u[T][y],!S||S.index===-1||!S.visible||S.alpha===0)continue;a.push(S)}}else if(o===2){for(T=x;T>=g;T--)for(y=v;u[T]&&y<m;y++)if(e(y,T,s,r)){if(S=u[T][y],!S||S.index===-1||!S.visible||S.alpha===0)continue;a.push(S)}}else if(o===3){for(T=x;T>=g;T--)for(y=m;u[T]&&y>=v;y--)if(e(y,T,s,r)){if(S=u[T][y],!S||S.index===-1||!S.visible||S.alpha===0)continue;a.push(S)}}}return n.tilesDrawn=a.length,n.tilesTotal=h*f,a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(549),l=t(159),s=function(r,a,o,n){o===void 0&&(o=[]),n===void 0&&(n=0),o.length=0;var u=r.tilemapLayer;if(!u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1){var h=e(r,a);l(r,h,n,o)}return o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),l=t(76),s=function(r,a){var o=r.tilemapLayer.tilemap,n=r.tilemapLayer,u=Math.floor(o.tileWidth*n.scaleX),h=Math.floor(o.tileHeight*n.scaleY),f=l(a.worldView.x-n.x,u,0,!0)-n.cullPaddingX,v=e(a.worldView.right-n.x,u,0,!0)+n.cullPaddingX,m=l(a.worldView.y-n.y,h/2,0,!0)-n.cullPaddingY,g=e(a.worldView.bottom-n.y,h/2,0,!0)+n.cullPaddingY;return{left:f,right:v,top:m,bottom:g}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=function(s,r,a,o,n){a||(a=new e);var u=n.baseTileWidth,h=n.baseTileHeight,f=n.tilemapLayer,v=0,m=0;f&&(o||(o=f.scene.cameras.main),v=f.x+o.scrollX*(1-f.scrollFactorX),u*=f.scaleX,m=f.y+o.scrollY*(1-f.scrollFactorY),h*=f.scaleY);var g=n.hexSideLength,x=(h-g)/2+g,y=v+s*u+r%2*(u/2),T=m+r*x;return a.set(y,T)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=function(s,r,a,o,n){a||(a=new e);var u=n.baseTileWidth,h=n.baseTileHeight,f=n.tilemapLayer,v=0,m=0;f&&(o||(o=f.scene.cameras.main),v=f.x+o.scrollX*(1-f.scrollFactorX),u*=f.scaleX,m=f.y+o.scrollY*(1-f.scrollFactorY),h*=f.scaleY);var g=v+(s-r)*(u/2),x=m+(s+r)*(h/2);return a.set(g,x)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=function(s,r,a,o,n){a||(a=new e);var u=n.baseTileWidth,h=n.baseTileHeight,f=n.tilemapLayer,v=0,m=0;f&&(o||(o=f.scene.cameras.main),v=f.x+o.scrollX*(1-f.scrollFactorX),u*=f.scaleX,m=f.y+o.scrollY*(1-f.scrollFactorY),h*=f.scaleY);var g=v+s*u+r%2*(u/2),x=m+r*(h/2);return a.set(g,x)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(253),l=t(254),s=t(3),r=function(a,o,n,u,h){return n||(n=new s(0,0)),n.x=e(a,u,h),n.y=l(o,u,h),n};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=s.baseTileHeight,a=s.tilemapLayer,o=0;a&&(l===void 0&&(l=a.scene.cameras.main),o=a.y+l.scrollY*(1-a.scrollFactorY),r*=a.scaleY);var n=a.tilemap.hexSideLength,u=(r-n)/2+n;return o+e*u};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=s.baseTileHeight,a=s.tilemapLayer,o=0;return a&&(l===void 0&&(l=a.scene.cameras.main),o=a.y+l.scrollY*(1-a.scrollFactorY),r*=a.scaleY),o+e*(r/2)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=function(s,r,a,o,n,u){o||(o=new e);var h=u.baseTileWidth,f=u.baseTileHeight,v=u.tilemapLayer;v&&(n||(n=v.scene.cameras.main),r=r-(v.y+n.scrollY*(1-v.scrollFactorY)),f*=v.scaleY,s=s-(v.x+n.scrollX*(1-v.scrollFactorX)),h*=v.scaleX);var m=u.hexSideLength,g=(f-m)/2+m,x=a?Math.floor(r/g):r/g,y=a?Math.floor((s-x%2*.5*h)/h):(s-x%2*.5*h)/h;return o.set(y,x)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=function(s,r,a,o,n,u){o||(o=new e);var h=u.baseTileWidth,f=u.baseTileHeight,v=u.tilemapLayer;v&&(n||(n=v.scene.cameras.main),r=r-(v.y+n.scrollY*(1-v.scrollFactorY)),f*=v.scaleY,s=s-(v.x+n.scrollX*(1-v.scrollFactorX)),h*=v.scaleX);var m=a?Math.floor((s/(h/2)+r/(f/2))/2):(s/(h/2)+r/(f/2))/2,g=a?Math.floor((r/(f/2)-s/(h/2))/2):(r/(f/2)-s/(h/2))/2;return o.set(m,g)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=function(s,r,a,o,n,u){o||(o=new e);var h=u.baseTileWidth,f=u.baseTileHeight,v=u.tilemapLayer;v&&(n||(n=v.scene.cameras.main),r=r-(v.y+n.scrollY*(1-v.scrollFactorY)),f*=v.scaleY,s=s-(v.x+n.scrollX*(1-v.scrollFactorX)),h*=v.scaleX);var m=a?Math.floor(r/(f/2)):r/(f/2),g=a?Math.floor((s+m%2*.5*h)/h):(s+m%2*.5*h)/h;return o.set(g,m)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(255),l=t(256),s=t(3),r=function(a,o,n,u,h,f){return n===void 0&&(n=!0),u||(u=new s(0,0)),u.x=e(a,n,h,f),u.y=l(o,n,h,f),u};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=r.baseTileHeight,o=r.tilemapLayer;o&&(s||(s=o.scene.cameras.main),e=e-(o.y+s.scrollY*(1-o.scrollFactorY)),a*=o.scaleY);var n=r.hexSideLength,u=(a-n)/2+n;return l?Math.floor(e/u):e/u};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=r.baseTileHeight,o=r.tilemapLayer;return o&&(s||(s=o.scene.cameras.main),e=e-(o.y+s.scrollY*(1-o.scrollFactorY)),a*=o.scaleY),l?Math.floor(e/(a/2)):e/(a/2)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),l=function(s,r,a){if(e(s,r,a)){var o=a.data[r][s];return o!==null&&o.index>-1}else return!1};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),l=t(119),s=t(252),r=function(a,o,n,u,h){if(n===void 0&&(n=!0),u===void 0&&(u=!0),!l(a,o,h))return null;var f=h.data[o][a];if(f)h.data[o][a]=n?null:new e(h,-1,a,o,h.tileWidth,h.tileHeight);else return null;return u&&f&&f.collides&&s(a,o,h),f};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),l=t(259),s=t(565),r=t(566),a=t(577),o=function(n,u,h,f,v,m){var g;switch(u){case e.ARRAY_2D:g=l(n,h,f,v,m);break;case e.CSV:g=s(n,h,f,v,m);break;case e.TILED_JSON:g=r(n,h,m);break;case e.WELTMEISTER:g=a(n,h,m);break;default:console.warn("Unrecognized tilemap data format: "+u),g=null}return g};i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),l=t(259),s=function(r,a,o,n,u){var h=a.trim().split(`
`).map(function(v){return v.split(",")}),f=l(r,h,o,n,u);return f.format=e.CSV,f};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(567),l=t(568),s=t(29),r=t(40),a=t(258),o=t(121),n=t(569),u=t(570),h=t(573),f=t(575),v=function(m,g,x){var y=new o({width:g.width,height:g.height,name:m,tileWidth:g.tilewidth,tileHeight:g.tileheight,orientation:a(g.orientation),format:r.TILED_JSON,version:g.version,properties:g.properties,renderOrder:g.renderorder,infinite:g.infinite});y.orientation===s.HEXAGONAL&&(y.hexSideLength=g.hexsidelength),y.layers=h(g,x),y.images=n(g);var T=f(g);return y.tilesets=T.tilesets,y.imageCollections=T.imageCollections,y.objects=u(g),y.tiles=l(y),e(y),y};i.exports=v},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),l=function(s){for(var r,a,o,n,u,h=0;h<s.layers.length;h++){r=s.layers[h],n=null;for(var f=0;f<r.data.length;f++){u=r.data[f];for(var v=0;v<u.length;v++)a=u[v],!(a===null||a.index<0)&&(o=s.tiles[a.index][2],n=s.tilesets[o],a.width=n.tileWidth,a.height=n.tileHeight,n.tileProperties&&n.tileProperties[a.index-n.firstgid]&&(a.properties=e(a.properties,n.tileProperties[a.index-n.firstgid])))}}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),l=function(s){var r,a,o=[];for(r=0;r<s.imageCollections.length;r++)for(var n=s.imageCollections[r],u=n.images,h=0;h<u.length;h++){var f=u[h];a=new e(f.image,f.gid,n.imageWidth,n.imageHeight,0,0),a.updateTileData(n.imageWidth,n.imageHeight),s.tilesets.push(a)}for(r=0;r<s.tilesets.length;r++){a=s.tilesets[r];for(var v=a.tileMargin,m=a.tileMargin,g=0,x=0,y=0,T=a.firstgid;T<a.firstgid+a.total&&(o[T]=[v,m,r],v+=a.tileWidth+a.tileSpacing,g++,!(g===a.total||(x++,x===a.columns&&(v=a.tileMargin,m+=a.tileHeight+a.tileSpacing,x=0,y++,y===a.rows))));T++);}return o};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),l=t(161),s=function(r){for(var a=[],o=[],n=l(r);n.i<n.layers.length||o.length>0;){if(n.i>=n.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=o.pop();continue}var u=n.layers[n.i];if(n.i++,u.type!=="imagelayer"){if(u.type==="group"){var h=l(r,u,n);o.push(n),n=h}continue}var f=e(u,"offsetx",0)+e(u,"startx",0),v=e(u,"offsety",0)+e(u,"starty",0);a.push({name:n.name+u.name,image:u.image,x:n.x+f+u.x,y:n.y+v+u.y,alpha:n.opacity*u.opacity,visible:n.visible&&u.visible,properties:e(u,"properties",{})})}return a};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),l=t(260),s=t(572),r=t(161),a=function(o){for(var n=[],u=[],h=r(o);h.i<h.layers.length||u.length>0;){if(h.i>=h.layers.length){if(u.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}h=u.pop();continue}var f=h.layers[h.i];if(h.i++,f.opacity*=h.opacity,f.visible=h.visible&&f.visible,f.type!=="objectgroup"){if(f.type==="group"){var v=r(o,f,h);u.push(h),h=v}continue}f.name=h.name+f.name;for(var m=h.x+e(f,"startx",0)+e(f,"offsetx",0),g=h.y+e(f,"starty",0)+e(f,"offsety",0),x=[],y=0;y<f.objects.length;y++){var T=l(f.objects[y],m,g);x.push(T)}var S=new s(f);S.objects=x,n.push(S)}return n};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(126),l=function(s,r){for(var a={},o=0;o<r.length;o++){var n=r[o];e(s,n)&&(a[n]=s[n])}return a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(2),s=new e({initialize:function(a){a===void 0&&(a={}),this.name=l(a,"name","object layer"),this.opacity=l(a,"opacity",1),this.properties=l(a,"properties",{}),this.propertyTypes=l(a,"propertytypes",{}),this.type=l(a,"type","objectgroup"),this.visible=l(a,"visible",!0),this.objects=l(a,"objects",[])}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(574),l=t(29),s=t(161),r=t(258),a=t(2),o=t(120),n=t(261),u=t(85),h=function(f,v){for(var m=a(f,"infinite",!1),g=[],x=[],y=s(f);y.i<y.layers.length||x.length>0;){if(y.i>=y.layers.length){if(x.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}y=x.pop();continue}var T=y.layers[y.i];if(y.i++,T.type!=="tilelayer"){if(T.type==="group"){var S=s(f,T,y);x.push(y),y=S}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var E=0;E<T.chunks.length;E++)T.chunks[E].data=e(T.chunks[E].data);T.data&&(T.data=e(T.data)),delete T.encoding}var C,A,P,R,M=[],L=0;if(m){var O=a(T,"startx",0)+T.x,I=a(T,"starty",0)+T.y;C=new o({name:y.name+T.name,x:y.x+a(T,"offsetx",0)+O*f.tilewidth,y:y.y+a(T,"offsety",0)+I*f.tileheight,width:T.width,height:T.height,tileWidth:f.tilewidth,tileHeight:f.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:a(T,"properties",[]),orientation:r(f.orientation)}),C.orientation===l.HEXAGONAL&&(C.hexSideLength=f.hexsidelength);for(var w=0;w<T.height;w++){M.push([null]);for(var G=0;G<T.width;G++)M[w][G]=null}for(w=0,Y=T.chunks.length;w<Y;w++)for(var V=T.chunks[w],X=V.x-O,W=V.y-I,D=0,F=0,B=V.data.length;F<B;F++){var b=L+X,z=D+W;A=n(V.data[F]),A.gid>0?(P=new u(C,A.gid,b,z,f.tilewidth,f.tileheight),P.rotation=A.rotation,P.flipX=A.flipped,M[z][b]=P):(R=v?null:new u(C,-1,b,z,f.tilewidth,f.tileheight),M[z][b]=R),L++,L===V.width&&(D++,L=0)}}else{C=new o({name:y.name+T.name,x:y.x+a(T,"offsetx",0)+T.x,y:y.y+a(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:f.tilewidth,tileHeight:f.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:a(T,"properties",[]),orientation:r(f.orientation)}),C.orientation===l.HEXAGONAL&&(C.hexSideLength=f.hexsidelength);for(var N=[],U=0,Y=T.data.length;U<Y;U++)A=n(T.data[U]),A.gid>0?(P=new u(C,A.gid,L,M.length,f.tilewidth,f.tileheight),P.rotation=A.rotation,P.flipX=A.flipped,N.push(P)):(R=v?null:new u(C,-1,L,M.length,f.tilewidth,f.tileheight),N.push(R)),L++,L===T.width&&(M.push(N),L=0,N=[])}C.data=M,g.push(C)}return g};i.exports=h},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var l=window.atob(e),s=l.length,r=new Array(s/4),a=0;a<s;a+=4)r[a/4]=(l.charCodeAt(a)|l.charCodeAt(a+1)<<8|l.charCodeAt(a+2)<<16|l.charCodeAt(a+3)<<24)>>>0;return r};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),l=t(576),s=t(260),r=t(1453),a=function(o){for(var n=[],u=[],h=null,f,v=0;v<o.tilesets.length;v++){var m=o.tilesets[v];if(m.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(m.image){var g=new e(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing);if(o.version>1){var x=void 0,y=void 0;if(Array.isArray(m.tiles)){x=x||{},y=y||{};for(var T=0;T<m.tiles.length;T++){var S=m.tiles[T];if(S.properties){var E={};S.properties.forEach(function(w){E[w.name]=w.value}),y[S.id]=E}if(S.objectgroup&&((x[S.id]||(x[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var C=S.objectgroup.objects.map(function(w){return s(w)});x[S.id].objectgroup.objects=C}S.animation&&((x[S.id]||(x[S.id]={})).animation=S.animation),S.type&&((x[S.id]||(x[S.id]={})).type=S.type)}}Array.isArray(m.wangsets)&&(x=x||{},y=y||{},r(m.wangsets,x)),x&&(g.tileData=x,g.tileProperties=y)}else if(m.tileproperties&&(g.tileProperties=m.tileproperties),m.tiles){g.tileData=m.tiles;for(f in g.tileData){var A=g.tileData[f].objectgroup;if(A&&A.objects){var P=A.objects.map(function(w){return s(w)});g.tileData[f].objectgroup.objects=P}}}g.updateTileData(m.imagewidth,m.imageheight),n.push(g)}else{var R=new l(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,m.properties),M=0;for(T=0;T<m.tiles.length;T++){S=m.tiles[T];var L=S.image,O=parseInt(S.id,10),I=m.firstgid+O;R.addImage(I,L),M=Math.max(O,M)}R.maxId=M,u.push(R)}h&&(h.lastgid=m.firstgid-1),h=m}return{tilesets:n,imageCollections:u}};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r,a,o,n,u,h,f){(o===void 0||o<=0)&&(o=32),(n===void 0||n<=0)&&(n=32),u===void 0&&(u=0),h===void 0&&(h=0),this.name=r,this.firstgid=a|0,this.imageWidth=o|0,this.imageHeight=n|0,this.imageMargin=u|0,this.imageSpacing=h|0,this.properties=f||{},this.images=[],this.total=0},containsImageIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},addImage:function(s,r){return this.images.push({gid:s,image:r}),this.total++,this}});i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),l=t(121),s=t(578),r=t(579),a=function(o,n,u){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+o),null;for(var h=0,f=0,v=0;v<n.layer.length;v++)n.layer[v].width>h&&(h=n.layer[v].width),n.layer[v].height>f&&(f=n.layer[v].height);var m=new l({width:h,height:f,name:o,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:e.WELTMEISTER});return m.layers=s(n,u),m.tilesets=r(n),m};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(120),l=t(85),s=function(r,a){for(var o=[],n=0;n<r.layer.length;n++){for(var u=r.layer[n],h=new e({name:u.name,width:u.width,height:u.height,tileWidth:u.tilesize,tileHeight:u.tilesize,visible:u.visible===1}),f=[],v=[],m=0;m<u.data.length;m++){for(var g=0;g<u.data[m].length;g++){var x=u.data[m][g]-1,y;x>-1?y=new l(h,x,g,m,u.tilesize,u.tilesize):y=a?null:new l(h,-1,g,m,u.tilesize,u.tilesize),f.push(y)}v.push(f),f=[]}h.data=v,o.push(h)}return o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),l=function(s){for(var r=[],a=[],o=0;o<s.layer.length;o++){var n=s.layer[o],u=n.tilesetName;u!==""&&a.indexOf(u)===-1&&(a.push(u),r.push(new e(u,0,n.tilesize,n.tilesize,0,0)))}return r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(36),s=t(40),r=t(2),a=t(120),o=t(29),n=t(362),u=t(74),h=t(73),f=t(85),v=t(251),m=t(581),g=t(122),x=new e({initialize:function(T,S){this.scene=T,this.tileWidth=S.tileWidth,this.tileHeight=S.tileHeight,this.width=S.width,this.height=S.height,this.orientation=S.orientation,this.renderOrder=S.renderOrder,this.format=S.format,this.version=S.version,this.properties=S.properties,this.widthInPixels=S.widthInPixels,this.heightInPixels=S.heightInPixels,this.imageCollections=S.imageCollections,this.images=S.images,this.layers=S.layers,this.tilesets=S.tilesets,this.objects=S.objects,this.currentLayerIndex=0,this.hexSideLength=S.hexSideLength;var E=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(E),WorldToTileX:v.GetWorldToTileXFunction(E),WorldToTileY:v.GetWorldToTileYFunction(E),TileToWorldXY:v.GetTileToWorldXYFunction(E),TileToWorldX:v.GetTileToWorldXFunction(E),TileToWorldY:v.GetTileToWorldYFunction(E)}},createBlankDynamicLayer:function(y,T,S,E,C,A,P,R){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(y,T,S,E,C,A,P,R)},createDynamicLayer:function(y,T,S,E){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(y,T,S,E)},createStaticLayer:function(y,T,S,E){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(y,T,S,E)},setRenderOrder:function(y){var T=["right-down","left-down","right-up","left-up"];return typeof y=="number"&&(y=T[y]),T.indexOf(y)>-1&&(this.renderOrder=y),this},addTilesetImage:function(y,T,S,E,C,A,P){if(y===void 0)return null;if(T==null&&(T=y),!this.scene.sys.textures.exists(T))return console.warn("Invalid Tileset Image: "+T),null;var R=this.scene.sys.textures.get(T),M=this.getTilesetIndex(y);if(M===null&&this.format===s.TILED_JSON)return console.warn("No data found for Tileset: "+y),null;var L=this.tilesets[M];return L?(L.setTileSize(S,E),L.setSpacing(C,A),L.setImage(R),L):(S===void 0&&(S=this.tileWidth),E===void 0&&(E=this.tileHeight),C===void 0&&(C=0),A===void 0&&(A=0),P===void 0&&(P=0),L=new g(y,P,S,E,C,A),L.setImage(R),this.tilesets.push(L),L)},copy:function(y,T,S,E,C,A,P,R){return R=this.getLayer(R),R!==null?(v.Copy(y,T,S,E,C,A,P,R),this):null},createBlankLayer:function(y,T,S,E,C,A,P,R){S===void 0&&(S=0),E===void 0&&(E=0),C===void 0&&(C=this.width),A===void 0&&(A=this.height),P===void 0&&(P=this.tileWidth),R===void 0&&(R=this.tileHeight);var M=this.getLayerIndex(y);if(M!==null)return console.warn("Invalid Tilemap Layer ID: "+y),null;for(var L=new a({name:y,tileWidth:P,tileHeight:R,width:C,height:A,orientation:this.orientation}),O,I=0;I<A;I++){O=[];for(var w=0;w<C;w++)O.push(new f(L,-1,w,I,P,R,this.tileWidth,this.tileHeight));L.data.push(O)}this.layers.push(L),this.currentLayerIndex=this.layers.length-1;var G=new m(this.scene,this,this.currentLayerIndex,T,S,E);return G.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(G),G},createLayer:function(y,T,S,E){var C=this.getLayerIndex(y);if(C===null)return console.warn("Invalid Tilemap Layer ID: "+y),typeof y=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var A=this.layers[C];if(A.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+y),null;this.currentLayerIndex=C,S===void 0&&(S=A.x),E===void 0&&(E=A.y);var P=new m(this.scene,this,C,T,S,E);return P.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(P),P},createFromObjects:function(y,T){var S=[],E=this.getObjectLayer(y);if(!E)return console.warn("createFromObjects: Invalid objectLayerName given: "+y),S;Array.isArray(T)||(T=[T]);for(var C=E.objects,A=0;A<T.length;A++){for(var P=T[A],R=r(P,"id",null),M=r(P,"gid",null),L=r(P,"name",null),O,I=[],w=0;w<C.length;w++)O=C[w],(R===null&&M===null&&L===null||R!==null&&O.id===R||M!==null&&O.gid===M||L!==null&&O.name===L)&&I.push(O);for(var G=r(P,"classType",h),V=r(P,"scene",this.scene),X=r(P,"container",null),W=r(P,"key",null),D=r(P,"frame",null),F=0;F<I.length;F++){O=I[F];var B=new G(V);B.setName(O.name),B.setPosition(O.x,O.y),B.setTexture(W,D),O.width&&(B.displayWidth=O.width),O.height&&(B.displayHeight=O.height);var b={x:B.originX*O.width,y:(B.originY-1)*O.height};if(O.rotation){var z=l(O.rotation);n(b,z),B.rotation=z}if(B.x+=b.x,B.y+=b.y,(O.flippedHorizontal!==void 0||O.flippedVertical!==void 0)&&B.setFlip(O.flippedHorizontal,O.flippedVertical),O.visible||(B.visible=!1),Array.isArray(O.properties))O.properties.forEach(function(U){var Y=U.name;B[Y]!==void 0?B[Y]=U.value:B.setData(Y,U.value)});else for(var N in O.properties)B[N]!==void 0?B[N]=O.properties[N]:B.setData(N,O.properties[N]);X?X.add(B):V.add.existing(B),S.push(B)}}return S},createFromTiles:function(y,T,S,E,C,A){return A=this.getLayer(A),A===null?null:v.CreateFromTiles(y,T,S,E,C,A)},fill:function(y,T,S,E,C,A,P){return A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(v.Fill(y,T,S,E,C,A,P),this)},filterObjects:function(y,T,S){if(typeof y=="string"){var E=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+E),null}return y.objects.filter(T,S)},filterTiles:function(y,T,S,E,C,A,P,R){return R=this.getLayer(R),R===null?null:v.FilterTiles(y,T,S,E,C,A,P,R)},findByIndex:function(y,T,S,E){return E=this.getLayer(E),E===null?null:v.FindByIndex(y,T,S,E)},findObject:function(y,T,S){if(typeof y=="string"){var E=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+E),null}return y.objects.find(T,S)||null},findTile:function(y,T,S,E,C,A,P,R){return R=this.getLayer(R),R===null?null:v.FindTile(y,T,S,E,C,A,P,R)},forEachTile:function(y,T,S,E,C,A,P,R){return R=this.getLayer(R),R===null?null:(v.ForEachTile(y,T,S,E,C,A,P,R),this)},getImageIndex:function(y){return this.getIndex(this.images,y)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(y){return y.name})},getIndex:function(y,T){for(var S=0;S<y.length;S++)if(y[S].name===T)return S;return null},getLayer:function(y){var T=this.getLayerIndex(y);return T!==null?this.layers[T]:null},getObjectLayer:function(y){var T=this.getIndex(this.objects,y);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(y){return y.name})},getLayerIndex:function(y){return y===void 0?this.currentLayerIndex:typeof y=="string"?this.getLayerIndexByName(y):typeof y=="number"&&y<this.layers.length?y:y instanceof m?y.layerIndex:null},getLayerIndexByName:function(y){return this.getIndex(this.layers,y)},getTileAt:function(y,T,S,E){return E=this.getLayer(E),E===null?null:v.GetTileAt(y,T,S,E)},getTileAtWorldXY:function(y,T,S,E,C){return C=this.getLayer(C),C===null?null:v.GetTileAtWorldXY(y,T,S,E,C)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(y){return y.name})},getTilesWithin:function(y,T,S,E,C,A){return A=this.getLayer(A),A===null?null:v.GetTilesWithin(y,T,S,E,C,A)},getTilesWithinShape:function(y,T,S,E){return E=this.getLayer(E),E===null?null:v.GetTilesWithinShape(y,T,S,E)},getTilesWithinWorldXY:function(y,T,S,E,C,A,P){return P=this.getLayer(P),P===null?null:v.GetTilesWithinWorldXY(y,T,S,E,C,A,P)},getTileset:function(y){var T=this.getIndex(this.tilesets,y);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(y){return this.getIndex(this.tilesets,y)},hasTileAt:function(y,T,S){return S=this.getLayer(S),S===null?null:v.HasTileAt(y,T,S)},hasTileAtWorldXY:function(y,T,S,E){return E=this.getLayer(E),E===null?null:v.HasTileAtWorldXY(y,T,S,E)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(y){this.setLayer(y)}},putTileAt:function(y,T,S,E,C){return E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:v.PutTileAt(y,T,S,E,C)},putTileAtWorldXY:function(y,T,S,E,C,A){return E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:v.PutTileAtWorldXY(y,T,S,E,C,A)},putTilesAt:function(y,T,S,E,C){return E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:(v.PutTilesAt(y,T,S,E,C),this)},randomize:function(y,T,S,E,C,A){return A=this.getLayer(A),A===null?null:(v.Randomize(y,T,S,E,C,A),this)},calculateFacesAt:function(y,T,S){return S=this.getLayer(S),S===null?null:(v.CalculateFacesAt(y,T,S),this)},calculateFacesWithin:function(y,T,S,E,C){return C=this.getLayer(C),C===null?null:(v.CalculateFacesWithin(y,T,S,E,C),this)},removeLayer:function(y){var T=this.getLayerIndex(y);if(T!==null){u(this.layers,T);for(var S=T;S<this.layers.length;S++)this.layers[S].tilemapLayer&&this.layers[S].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(y){var T=this.getLayerIndex(y);return T!==null?(y=this.layers[T],y.destroy(),u(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var y=this.layers,T=0;T<y.length;T++)y[T].tilemapLayer&&y[T].tilemapLayer.destroy(!1);return y.length=0,this.currentLayerIndex=0,this},removeTile:function(y,T,S){T===void 0&&(T=-1),S===void 0&&(S=!0);var E=[];Array.isArray(y)||(y=[y]);for(var C=0;C<y.length;C++){var A=y[C];E.push(this.removeTileAt(A.x,A.y,!0,S,A.tilemapLayer)),T>-1&&this.putTileAt(T,A.x,A.y,S,A.tilemapLayer)}return E},removeTileAt:function(y,T,S,E,C){return S===void 0&&(S=!0),E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:v.RemoveTileAt(y,T,S,E,C)},removeTileAtWorldXY:function(y,T,S,E,C,A){return S===void 0&&(S=!0),E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:v.RemoveTileAtWorldXY(y,T,S,E,C,A)},renderDebug:function(y,T,S){return S=this.getLayer(S),S===null?null:(this.orientation===o.ORTHOGONAL&&v.RenderDebug(y,T,S),this)},renderDebugFull:function(y,T){for(var S=this.layers,E=0;E<S.length;E++)v.RenderDebug(y,T,S[E]);return this},replaceByIndex:function(y,T,S,E,C,A,P){return P=this.getLayer(P),P===null?null:(v.ReplaceByIndex(y,T,S,E,C,A,P),this)},setCollision:function(y,T,S,E,C){return T===void 0&&(T=!0),S===void 0&&(S=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(v.SetCollision(y,T,S,E,C),this)},setCollisionBetween:function(y,T,S,E,C){return S===void 0&&(S=!0),E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:(v.SetCollisionBetween(y,T,S,E,C),this)},setCollisionByProperty:function(y,T,S,E){return T===void 0&&(T=!0),S===void 0&&(S=!0),E=this.getLayer(E),E===null?null:(v.SetCollisionByProperty(y,T,S,E),this)},setCollisionByExclusion:function(y,T,S,E){return T===void 0&&(T=!0),S===void 0&&(S=!0),E=this.getLayer(E),E===null?null:(v.SetCollisionByExclusion(y,T,S,E),this)},setCollisionFromCollisionGroup:function(y,T,S){return y===void 0&&(y=!0),T===void 0&&(T=!0),S=this.getLayer(S),S===null?null:(v.SetCollisionFromCollisionGroup(y,T,S),this)},setTileIndexCallback:function(y,T,S,E){return E=this.getLayer(E),E===null?null:(v.SetTileIndexCallback(y,T,S,E),this)},setTileLocationCallback:function(y,T,S,E,C,A,P){return P=this.getLayer(P),P===null?null:(v.SetTileLocationCallback(y,T,S,E,C,A,P),this)},setLayer:function(y){var T=this.getLayerIndex(y);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(y,T){this.tileWidth=y,this.tileHeight=T,this.widthInPixels=this.width*y,this.heightInPixels=this.height*T;for(var S=0;S<this.layers.length;S++){this.layers[S].baseTileWidth=y,this.layers[S].baseTileHeight=T;for(var E=this.layers[S].data,C=this.layers[S].width,A=this.layers[S].height,P=0;P<A;P++)for(var R=0;R<C;R++){var M=E[P][R];M!==null&&M.setSize(void 0,void 0,y,T)}}return this},setLayerTileSize:function(y,T,S){if(S=this.getLayer(S),S===null)return this;S.tileWidth=y,S.tileHeight=T;for(var E=S.data,C=S.width,A=S.height,P=0;P<A;P++)for(var R=0;R<C;R++){var M=E[P][R];M!==null&&M.setSize(y,T)}return this},shuffle:function(y,T,S,E,C){return C=this.getLayer(C),C===null?null:(v.Shuffle(y,T,S,E,C),this)},swapByIndex:function(y,T,S,E,C,A,P){return P=this.getLayer(P),P===null?null:(v.SwapByIndex(y,T,S,E,C,A,P),this)},tileToWorldX:function(y,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldX(y,T,S)},tileToWorldY:function(y,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldY(y,T,S)},tileToWorldXY:function(y,T,S,E,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldXY(y,T,S,E,C)},weightedRandomize:function(y,T,S,E,C,A){return A=this.getLayer(A),A===null?null:(v.WeightedRandomize(T,S,E,C,y,A),this)},worldToTileX:function(y,T,S,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileX(y,T,S,E)},worldToTileY:function(y,T,S,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileY(y,T,S,E)},worldToTileXY:function(y,T,S,E,C,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileXY(y,T,S,E,C,A)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});i.exports=x},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(11),s=t(15),r=t(251),a=t(1456),o=new e({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Origin,l.Pipeline,l.Transform,l.Visible,l.ScrollFactor,a],initialize:function(u,h,f,v,m,g){s.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=h,this.layerIndex=f,this.layer=h.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(m,g),this.setOrigin(),this.setSize(h.tileWidth*this.layer.width,h.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(n){var u=[],h=[],f=this.tilemap;Array.isArray(n)||(n=[n]);for(var v=0;v<n.length;v++){var m=n[v];if(typeof m=="string"&&(m=f.getTileset(m)),m){h.push(m);for(var g=m.firstgid,x=0;x<m.total;x++)u[g+x]=m}}this.gidMap=u,this.tileset=h},setRenderOrder:function(n){var u=["right-down","left-down","right-up","left-up"];return typeof n=="string"&&(n=u.indexOf(n)),n>=0&&n<4&&(this._renderOrder=n),this},calculateFacesAt:function(n,u){return r.CalculateFacesAt(n,u,this.layer),this},calculateFacesWithin:function(n,u,h,f){return r.CalculateFacesWithin(n,u,h,f,this.layer),this},createFromTiles:function(n,u,h,f,v){return r.CreateFromTiles(n,u,h,f,v,this.layer)},cull:function(n){return this.cullCallback(this.layer,n,this.culledTiles,this._renderOrder)},copy:function(n,u,h,f,v,m,g){return r.Copy(n,u,h,f,v,m,g,this.layer),this},fill:function(n,u,h,f,v,m){return r.Fill(n,u,h,f,v,m,this.layer),this},filterTiles:function(n,u,h,f,v,m,g){return r.FilterTiles(n,u,h,f,v,m,g,this.layer)},findByIndex:function(n,u,h){return r.FindByIndex(n,u,h,this.layer)},findTile:function(n,u,h,f,v,m,g){return r.FindTile(n,u,h,f,v,m,g,this.layer)},forEachTile:function(n,u,h,f,v,m,g){return r.ForEachTile(n,u,h,f,v,m,g,this.layer),this},getTileAt:function(n,u,h){return r.GetTileAt(n,u,h,this.layer)},getTileAtWorldXY:function(n,u,h,f){return r.GetTileAtWorldXY(n,u,h,f,this.layer)},getTilesWithin:function(n,u,h,f,v){return r.GetTilesWithin(n,u,h,f,v,this.layer)},getTilesWithinShape:function(n,u,h){return r.GetTilesWithinShape(n,u,h,this.layer)},getTilesWithinWorldXY:function(n,u,h,f,v,m){return r.GetTilesWithinWorldXY(n,u,h,f,v,m,this.layer)},hasTileAt:function(n,u){return r.HasTileAt(n,u,this.layer)},hasTileAtWorldXY:function(n,u,h){return r.HasTileAtWorldXY(n,u,h,this.layer)},putTileAt:function(n,u,h,f){return r.PutTileAt(n,u,h,f,this.layer)},putTileAtWorldXY:function(n,u,h,f,v){return r.PutTileAtWorldXY(n,u,h,f,v,this.layer)},putTilesAt:function(n,u,h,f){return r.PutTilesAt(n,u,h,f,this.layer),this},randomize:function(n,u,h,f,v){return r.Randomize(n,u,h,f,v,this.layer),this},removeTileAt:function(n,u,h,f){return r.RemoveTileAt(n,u,h,f,this.layer)},removeTileAtWorldXY:function(n,u,h,f,v){return r.RemoveTileAtWorldXY(n,u,h,f,v,this.layer)},renderDebug:function(n,u){return r.RenderDebug(n,u,this.layer),this},replaceByIndex:function(n,u,h,f,v,m){return r.ReplaceByIndex(n,u,h,f,v,m,this.layer),this},setSkipCull:function(n){return n===void 0&&(n=!0),this.skipCull=n,this},setCullPadding:function(n,u){return n===void 0&&(n=1),u===void 0&&(u=1),this.cullPaddingX=n,this.cullPaddingY=u,this},setCollision:function(n,u,h,f){return r.SetCollision(n,u,h,this.layer,f),this},setCollisionBetween:function(n,u,h,f){return r.SetCollisionBetween(n,u,h,f,this.layer),this},setCollisionByProperty:function(n,u,h){return r.SetCollisionByProperty(n,u,h,this.layer),this},setCollisionByExclusion:function(n,u,h){return r.SetCollisionByExclusion(n,u,h,this.layer),this},setCollisionFromCollisionGroup:function(n,u){return r.SetCollisionFromCollisionGroup(n,u,this.layer),this},setTileIndexCallback:function(n,u,h){return r.SetTileIndexCallback(n,u,h,this.layer),this},setTileLocationCallback:function(n,u,h,f,v,m){return r.SetTileLocationCallback(n,u,h,f,v,m,this.layer),this},shuffle:function(n,u,h,f){return r.Shuffle(n,u,h,f,this.layer),this},swapByIndex:function(n,u,h,f,v,m){return r.SwapByIndex(n,u,h,f,v,m,this.layer),this},tileToWorldX:function(n,u){return this.tilemap.tileToWorldX(n,u,this)},tileToWorldY:function(n,u){return this.tilemap.tileToWorldY(n,u,this)},tileToWorldXY:function(n,u,h,f){return this.tilemap.tileToWorldXY(n,u,h,f,this)},weightedRandomize:function(n,u,h,f,v){return r.WeightedRandomize(u,h,f,v,n,this.layer),this},worldToTileX:function(n,u,h){return this.tilemap.worldToTileX(n,u,h,this)},worldToTileY:function(n,u,h){return this.tilemap.worldToTileY(n,u,h,this)},worldToTileXY:function(n,u,h,f,v){return this.tilemap.worldToTileXY(n,u,h,f,v,this)},destroy:function(n){n===void 0&&(n=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),n&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(2),s=new e({initialize:function(a){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(a)},reset:function(r){return this.delay=l(r,"delay",0),this.repeat=l(r,"repeat",0),this.loop=l(r,"loop",!1),this.callback=l(r,"callback",void 0),this.callbackScope=l(r,"callbackScope",this.callback),this.args=l(r,"args",[]),this.timeScale=l(r,"timeScale",1),this.startAt=l(r,"startAt",0),this.paused=l(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,a=this.elapsed+this.delay*(this.repeat-this.repeatCount);return a/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1465),l=function(s){var r,a=[];if(s.hasOwnProperty("props"))for(r in s.props)r.substr(0,1)!=="_"&&a.push({key:r,value:s.props[r]});else for(r in s)e.indexOf(r)===-1&&r.substr(0,1)!=="_"&&a.push({key:r,value:s[r]});return a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),l=function(s){var r=e(s,"tweens",null);return r===null?[]:(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r]),r)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),l=t(13),s=t(99),r=t(80),a=t(162),o=t(6),n=t(264),u=t(266),h=t(268),f=function(v,m,g){g===void 0&&(g=e);var x=o(m,"from",0),y=o(m,"to",1),T=[{value:x}],S=a(m,"delay",g.delay),E=a(m,"duration",g.duration),C=o(m,"easeParams",g.easeParams),A=r(o(m,"ease",g.ease),C),P=a(m,"hold",g.hold),R=a(m,"repeat",g.repeat),M=a(m,"repeatDelay",g.repeatDelay),L=s(m,"yoyo",g.yoyo),O=[],I=n("value",y),w=h(T[0],0,"value",I.getEnd,I.getStart,I.getActive,A,S,E,L,P,R,M,!1,!1);w.start=x,w.current=x,w.to=y,O.push(w);var G=new u(v,O,T);G.offset=l(m,"offset",null),G.completeDelay=l(m,"completeDelay",0),G.loop=Math.round(l(m,"loop",0)),G.loopDelay=Math.round(l(m,"loopDelay",0)),G.paused=s(m,"paused",!1),G.useFrames=s(m,"useFrames",!1);for(var V=o(m,"callbackScope",G),X=[G,null],W=u.TYPES,D=0;D<W.length;D++){var F=W[D],B=o(m,F,!1);if(B){var b=o(m,F+"Scope",V),z=o(m,F+"Params",[]);G.setCallback(F,B,X.concat(z),b)}}return G};i.exports=f},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(80),l=t(6),s=t(14),r=function(a,o){o===void 0&&(o={});var n,u=l(o,"start",0),h=l(o,"ease",null),f=l(o,"grid",null),v=l(o,"from",0),m=v==="first",g=v==="center",x=v==="last",y=typeof v=="number",T=Array.isArray(a),S=parseFloat(T?a[0]:a),E=T?parseFloat(a[1]):0,C=Math.max(S,E);if(T&&(u+=S),f){var A=f[0],P=f[1],R=0,M=0,L=0,O=0,I=[];x?(R=A-1,M=P-1):y?(R=v%A,M=Math.floor(v/A)):g&&(R=(A-1)/2,M=(P-1)/2);for(var w=s.MIN_SAFE_INTEGER,G=0;G<P;G++){I[G]=[];for(var V=0;V<A;V++){L=R-V,O=M-G;var X=Math.sqrt(L*L+O*O);X>w&&(w=X),I[G][V]=X}}}var W=h?e(h):null;return f?n=function(D,F,B,b){var z=0,N=b%A,U=Math.floor(b/A);N>=0&&N<A&&U>=0&&U<P&&(z=I[U][N]);var Y;if(T){var K=E-S;W?Y=z/w*K*W(z/w):Y=z/w*K}else W?Y=z*S*W(z/w):Y=z*S;return Y+u}:n=function(D,F,B,b,z){z--;var N;m?N=b:g?N=Math.abs(z/2-b):x?N=z-b:y&&(N=Math.abs(v-b));var U;if(T){var Y;g?Y=(E-S)/z*(N*2):Y=(E-S)/z*N,W?U=Y*W(N/z):U=Y}else W?U=z*C*W(N/z):U=N*S;return U+u},n};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),l=t(265),s=t(13),r=t(99),a=t(80),o=t(162),n=t(263),u=t(584),h=t(6),f=t(588),v=t(163),m=function(g,x){var y=new f(g);y.completeDelay=s(x,"completeDelay",0),y.loop=Math.round(s(x,"loop",0)),y.loopDelay=Math.round(s(x,"loopDelay",0)),y.paused=r(x,"paused",!1),y.useFrames=r(x,"useFrames",!1);var T=h(x,"callbackScope",y),S=[y],E=h(x,"onStart",!1);if(E){var C=h(x,"onStartScope",T),A=h(x,"onStartParams",[]);y.setCallback("onStart",E,S.concat(A),C)}var P=h(x,"onUpdate",!1);if(P){var R=h(x,"onUpdateScope",T),M=h(x,"onUpdateParams",[]);y.setCallback("onUpdate",P,S.concat(M),R)}var L=h(x,"onLoop",!1);if(L){var O=h(x,"onLoopScope",T),I=h(x,"onLoopParams",[]);y.setCallback("onLoop",L,S.concat(I),O)}var w=h(x,"onYoyo",!1);if(w){var G=h(x,"onYoyoScope",T),V=h(x,"onYoyoParams",[]);y.setCallback("onYoyo",w,S.concat(null,V),G)}var X=h(x,"onComplete",!1);if(X){var W=h(x,"onCompleteScope",T),D=h(x,"onCompleteParams",[]);y.setCallback("onComplete",X,S.concat(D),W)}var F=u(x);if(F.length===0)return y.paused=!0,y;var B=e(l);B.targets=n(x);var b=s(x,"totalDuration",0);b>0?B.duration=Math.floor(b/F.length):B.duration=o(x,"duration",B.duration),B.delay=o(x,"delay",B.delay),B.easeParams=h(x,"easeParams",B.easeParams),B.ease=a(h(x,"ease",B.ease),B.easeParams),B.hold=o(x,"hold",B.hold),B.repeat=o(x,"repeat",B.repeat),B.repeatDelay=o(x,"repeatDelay",B.repeatDelay),B.yoyo=r(x,"yoyo",B.yoyo),B.flipX=r(x,"flipX",B.flipX),B.flipY=r(x,"flipY",B.flipY);for(var z=0;z<F.length;z++)y.queue(v(y,F[z],B));return y};i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(9),s=t(267),r=t(163),a=t(100),o=new e({Extends:l,initialize:function(u){l.call(this),this.manager=u,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING_ADD,this._pausedState=a.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(n,u){this.emit(n,this),u&&u.func.apply(u.scope,u.params)},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===a.ACTIVE},add:function(n){return this.queue(r(this,n))},queue:function(n){return this.isPlaying()||(n.parent=this,n.parentIsTimeline=!0,this.data.push(n),this.totalData=this.data.length),this},hasOffset:function(n){return n.offset!==null},isOffsetAbsolute:function(n){return typeof n=="number"},isOffsetRelative:function(n){var u=typeof n;if(u==="string"){var h=n[0];if(h==="-"||h==="+")return!0}return!1},getRelativeOffset:function(n,u){var h=n[0],f=parseFloat(n.substr(2)),v=u;switch(h){case"+":v+=f;break;case"-":v-=f;break}return Math.max(0,v)},calcDuration:function(){for(var n=0,u=0,h=0,f=0;f<this.totalData;f++){var v=this.data[f];v.init(),this.hasOffset(v)?this.isOffsetAbsolute(v.offset)?(v.calculatedOffset=v.offset,v.offset===0&&(h=0)):this.isOffsetRelative(v.offset)&&(v.calculatedOffset=this.getRelativeOffset(v.offset,n)):v.calculatedOffset=h,n=v.totalDuration+v.calculatedOffset,u+=v.totalDuration,h+=v.totalDuration}this.duration=u,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=a.PAUSED,!1):!0},resetTweens:function(n){for(var u=0;u<this.totalData;u++){var h=this.data[u];h.play(n)}},setCallback:function(n,u,h,f){return o.TYPES.indexOf(n)!==-1&&(this.callbacks[n]={func:u,scope:f,params:h}),this},makeActive:function(n){return this.manager.makeActive(n)},play:function(){if(this.state!==a.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=a.ACTIVE;this.dispatchTimelineEvent(s.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=a.LOOP_DELAY):(this.state=a.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=a.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(n,u){if(this.state!==a.PAUSED){switch(this.useFrames&&(u=1*this.manager.timeScale),u*=this.timeScale,this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case a.ACTIVE:for(var h=this.totalData,f=0;f<this.totalData;f++){var v=this.data[f];v.update(n,u)&&h--}this.dispatchTimelineEvent(s.TIMELINE_UPDATE,this.callbacks.onUpdate),h===0&&this.nextState();break;case a.LOOP_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=a.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop));break;case a.COMPLETE_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===a.PENDING_REMOVE}},stop:function(){this.state=a.PENDING_REMOVE},pause:function(){if(this.state!==a.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=a.PAUSED,this.emit(s.TIMELINE_PAUSE,this),this},resume:function(){return this.state===a.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(s.TIMELINE_RESUME,this)),this},hasTarget:function(n){for(var u=0;u<this.data.length;u++)if(this.data[u].hasTarget(n))return!0;return!1},destroy:function(){for(var n=0;n<this.data.length;n++)this.data[n].stop()}});o.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],i.exports=o},function(i,d,t){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),l=t(41),s=t(32),r=t(2),a=t(64),o={parseBody:function(n,u,h,f){f===void 0&&(f={});for(var v=r(h,"fixtures",[]),m=[],g=0;g<v.length;g++)for(var x=this.parseFixture(v[g]),y=0;y<x.length;y++)m.push(x[y]);var T=s.clone(h,!0);s.extend(T,f,!0),delete T.fixtures,delete T.type;var S=l.create(T);return l.setParts(S,m),l.setPosition(S,{x:n,y:u}),S},parseFixture:function(n){var u=s.extend({},!1,n);delete u.circle,delete u.vertices;var h;if(n.circle){var f=r(n.circle,"x"),v=r(n.circle,"y"),m=r(n.circle,"radius");h=[e.circle(f,v,m,u)]}else n.vertices&&(h=this.parseVertices(n.vertices,u));return h},parseVertices:function(n,u){u===void 0&&(u={});for(var h=[],f=0;f<n.length;f++)a.clockwiseSort(n[f]),h.push(l.create(s.extend({position:a.centre(n[f]),vertices:n[f]},u)));return e.flagCoincidentParts(h)}};i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),l=t(41),s={parseBody:function(r,a,o,n){n===void 0&&(n={});var u,h=o.vertices;if(h.length===1)n.vertices=h[0],u=l.create(n),e.flagCoincidentParts(u.parts);else{for(var f=[],v=0;v<h.length;v++){var m=l.create({vertices:h[v]});f.push(m)}e.flagCoincidentParts(f),n.parts=f,u=l.create(n)}return u.label=o.label,l.setPosition(u,{x:r,y:a}),u}};i.exports=s},function(i,d,t){var e={};i.exports=e;var l=t(118),s=t(128),r=t(32),a=t(41),o=t(86);(function(){e.stack=function(n,u,h,f,v,m,g){for(var x=l.create({label:"Stack"}),y=n,T=u,S,E=0,C=0;C<f;C++){for(var A=0,P=0;P<h;P++){var R=g(y,T,P,C,S,E);if(R){var M=R.bounds.max.y-R.bounds.min.y,L=R.bounds.max.x-R.bounds.min.x;M>A&&(A=M),a.translate(R,{x:L*.5,y:M*.5}),y=R.bounds.max.x+v,l.addBody(x,R),S=R,E+=1}else y+=v}T+=A+m,y=n}return x},e.chain=function(n,u,h,f,v,m){for(var g=n.bodies,x=1;x<g.length;x++){var y=g[x-1],T=g[x],S=y.bounds.max.y-y.bounds.min.y,E=y.bounds.max.x-y.bounds.min.x,C=T.bounds.max.y-T.bounds.min.y,A=T.bounds.max.x-T.bounds.min.x,P={bodyA:y,pointA:{x:E*u,y:S*h},bodyB:T,pointB:{x:A*f,y:C*v}},R=r.extend(P,m);l.addConstraint(n,s.create(R))}return n.label+=" Chain",n},e.mesh=function(n,u,h,f,v){var m=n.bodies,g,x,y,T,S;for(g=0;g<h;g++){for(x=1;x<u;x++)y=m[x-1+g*u],T=m[x+g*u],l.addConstraint(n,s.create(r.extend({bodyA:y,bodyB:T},v)));if(g>0)for(x=0;x<u;x++)y=m[x+(g-1)*u],T=m[x+g*u],l.addConstraint(n,s.create(r.extend({bodyA:y,bodyB:T},v))),f&&x>0&&(S=m[x-1+(g-1)*u],l.addConstraint(n,s.create(r.extend({bodyA:S,bodyB:T},v)))),f&&x<u-1&&(S=m[x+1+(g-1)*u],l.addConstraint(n,s.create(r.extend({bodyA:S,bodyB:T},v))))}return n.label+=" Mesh",n},e.pyramid=function(n,u,h,f,v,m,g){return e.stack(n,u,h,f,v,m,function(x,y,T,S,E,C){var A=Math.min(f,Math.ceil(h/2)),P=E?E.bounds.max.x-E.bounds.min.x:0;if(!(S>A)){S=A-S;var R=S,M=h-1-S;if(!(T<R||T>M)){C===1&&a.translate(E,{x:(T+(h%2===1?1:-1))*P,y:0});var L=E?T*P:0;return g(n+L+T*v,y,T,S,E,C)}}})},e.newtonsCradle=function(n,u,h,f,v){for(var m=l.create({label:"Newtons Cradle"}),g=0;g<h;g++){var x=1.9,y=o.circle(n+g*(f*x),u+v,f,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=s.create({pointA:{x:n+g*(f*x),y:u},bodyB:y});l.addBody(m,y),l.addConstraint(m,T)}return m},e.car=function(n,u,h,f,v){var m=a.nextGroup(!0),g=20,x=-h*.5+g,y=h*.5-g,T=0,S=l.create({label:"Car"}),E=o.rectangle(n,u,h,f,{collisionFilter:{group:m},chamfer:{radius:f*.5},density:2e-4}),C=o.circle(n+x,u+T,v,{collisionFilter:{group:m},friction:.8}),A=o.circle(n+y,u+T,v,{collisionFilter:{group:m},friction:.8}),P=s.create({bodyB:E,pointB:{x,y:T},bodyA:C,stiffness:1,length:0}),R=s.create({bodyB:E,pointB:{x:y,y:T},bodyA:A,stiffness:1,length:0});return l.addBody(S,E),l.addBody(S,C),l.addBody(S,A),l.addConstraint(S,P),l.addConstraint(S,R),S},e.softBody=function(n,u,h,f,v,m,g,x,y,T){y=r.extend({inertia:1/0},y),T=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var S=e.stack(n,u,h,f,v,m,function(E,C){return o.circle(E,C,x,y)});return e.mesh(S,h,f,g,T),S.label="Soft Body",S}})()},function(i,d,t){var e={};i.exports=e,t(84);var l=t(32);(function(){e.pathToVertices=function(s,r){typeof window!="undefined"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var a,o,n,u,h,f,v,m,g,x,y=[],T,S,E=0,C=0,A=0;r=r||15;var P=function(M,L,O){var I=O%2===1&&O>1;if(!g||M!=g.x||L!=g.y){g&&I?(T=g.x,S=g.y):(T=0,S=0);var w={x:T+M,y:S+L};(I||!g)&&(g=w),y.push(w),C=T+M,A=S+L}},R=function(M){var L=M.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":C=M.x,A=M.y;break;case"H":C=M.x;break;case"V":A=M.y;break}P(C,A,M.pathSegType)}};for(e._svgPathToAbsolute(s),n=s.getTotalLength(),f=[],a=0;a<s.pathSegList.numberOfItems;a+=1)f.push(s.pathSegList.getItem(a));for(v=f.concat();E<n;){if(x=s.getPathSegAtLength(E),h=f[x],h!=m){for(;v.length&&v[0]!=h;)R(v.shift());m=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":u=s.getPointAtLength(E),P(u.x,u.y,0);break}E+=r}for(a=0,o=v.length;a<o;++a)R(v[a]);return y},e._svgPathToAbsolute=function(s){for(var r,a,o,n,u,h,f=s.pathSegList,v=0,m=0,g=f.numberOfItems,x=0;x<g;++x){var y=f.getItem(x),T=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in y&&(v=y.x),"y"in y&&(m=y.y);else switch("x1"in y&&(o=v+y.x1),"x2"in y&&(u=v+y.x2),"y1"in y&&(n=m+y.y1),"y2"in y&&(h=m+y.y2),"x"in y&&(v+=y.x),"y"in y&&(m+=y.y),T){case"m":f.replaceItem(s.createSVGPathSegMovetoAbs(v,m),x);break;case"l":f.replaceItem(s.createSVGPathSegLinetoAbs(v,m),x);break;case"h":f.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(v),x);break;case"v":f.replaceItem(s.createSVGPathSegLinetoVerticalAbs(m),x);break;case"c":f.replaceItem(s.createSVGPathSegCurvetoCubicAbs(v,m,o,n,u,h),x);break;case"s":f.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(v,m,u,h),x);break;case"q":f.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(v,m,o,n),x);break;case"t":f.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(v,m),x);break;case"a":f.replaceItem(s.createSVGPathSegArcAbs(v,m,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),x);break;case"z":case"Z":v=r,m=a;break}(T=="M"||T=="m")&&(r=v,a=m)}}})()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),l=t(41),s=t(0),r=t(249),a=t(9),o=t(2),n=t(126),u=t(64),h=new s({Extends:a,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(v,m,g){a.call(this),this.tile=m,this.world=v,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var x=o(g,"body",null),y=o(g,"addToWorld",!0);if(x)this.setBody(x,y);else{var T=m.getCollisionGroup(),S=o(T,"objects",[]);S.length>0?this.setFromTileCollision(g):this.setFromTileRectangle(g)}},setFromTileRectangle:function(f){f===void 0&&(f={}),n(f,"isStatic")||(f.isStatic=!0),n(f,"addToWorld")||(f.addToWorld=!0);var v=this.tile.getBounds(),m=v.x+v.width/2,g=v.y+v.height/2,x=e.rectangle(m,g,v.width,v.height,f);return this.setBody(x,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),n(f,"isStatic")||(f.isStatic=!0),n(f,"addToWorld")||(f.addToWorld=!0);for(var v=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,g=this.tile.getLeft(),x=this.tile.getTop(),y=this.tile.getCollisionGroup(),T=o(y,"objects",[]),S=[],E=0;E<T.length;E++){var C=T[E],A=g+C.x*v,P=x+C.y*m,R=C.width*v,M=C.height*m,L=null;if(C.rectangle)L=e.rectangle(A+R/2,P+M/2,R,M,f);else if(C.ellipse)L=e.circle(A+R/2,P+M/2,R/2,f);else if(C.polygon||C.polyline){var O=C.polygon?C.polygon:C.polyline,I=O.map(function(V){return{x:V.x*v,y:V.y*m}}),w=u.create(I),G=u.centre(w);A+=G.x,P+=G.y,L=e.fromVertices(A,P,w,f)}L&&S.push(L)}return S.length===1?this.setBody(S[0],f.addToWorld):S.length>1&&(f.parts=S,this.setBody(l.create(f),f.addToWorld)),this},setBody:function(f,v){return v===void 0&&(v=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,v&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1399);e.Body=t(41),e.Composite=t(118),e.World=t(596),e.Detector=t(273),e.Grid=t(597),e.Pairs=t(598),e.Pair=t(250),e.Query=t(1400),e.Resolver=t(599),e.SAT=t(274),e.Constraint=t(128),e.Common=t(32),e.Engine=t(1401),e.Events=t(166),e.Sleeping=t(165),e.Plugin=t(595),e.Bodies=t(86),e.Composites=t(591),e.Axes=t(271),e.Bounds=t(84),e.Svg=t(592),e.Vector=t(83),e.Vertices=t(64),e.World.add=e.Composite.add,e.World.remove=e.Composite.remove,e.World.addComposite=e.Composite.addComposite,e.World.addBody=e.Composite.addBody,e.World.addConstraint=e.Composite.addConstraint,e.World.clear=e.Composite.clear,i.exports=e},function(i,d,t){var e={};i.exports=e;var l=t(32);(function(){e._registry={},e.register=function(s){if(e.isPlugin(s)||l.warn("Plugin.register:",e.toString(s),"does not implement all required fields."),s.name in e._registry){var r=e._registry[s.name],a=e.versionParse(s.version).number,o=e.versionParse(r.version).number;a>o?(l.warn("Plugin.register:",e.toString(r),"was upgraded to",e.toString(s)),e._registry[s.name]=s):a<o?l.warn("Plugin.register:",e.toString(r),"can not be downgraded to",e.toString(s)):s!==r&&l.warn("Plugin.register:",e.toString(s),"is already registered to different plugin object")}else e._registry[s.name]=s;return s},e.resolve=function(s){return e._registry[e.dependencyParse(s).name]},e.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},e.isPlugin=function(s){return s&&s.name&&s.version&&s.install},e.isUsed=function(s,r){return s.used.indexOf(r)>-1},e.isFor=function(s,r){var a=s.for&&e.dependencyParse(s.for);return!s.for||r.name===a.name&&e.versionSatisfies(r.version,a.range)},e.use=function(s,r){if(s.uses=(s.uses||[]).concat(r||[]),s.uses.length===0){l.warn("Plugin.use:",e.toString(s),"does not specify any dependencies to install.");return}for(var a=e.dependencies(s),o=l.topologicalSort(a),n=[],u=0;u<o.length;u+=1)if(o[u]!==s.name){var h=e.resolve(o[u]);if(!h){n.push("\u274C "+o[u]);continue}e.isUsed(s,h.name)||(e.isFor(h,s)||(l.warn("Plugin.use:",e.toString(h),"is for",h.for,"but installed on",e.toString(s)+"."),h._warned=!0),h.install?h.install(s):(l.warn("Plugin.use:",e.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(n.push("\u{1F536} "+e.toString(h)),delete h._warned):n.push("\u2705 "+e.toString(h)),s.used.push(h.name))}n.length>0&&!h.silent&&l.info(n.join("  "))},e.dependencies=function(s,r){var a=e.dependencyParse(s),o=a.name;if(r=r||{},!(o in r)){s=e.resolve(s)||s,r[o]=l.map(s.uses||[],function(u){e.isPlugin(u)&&e.register(u);var h=e.dependencyParse(u),f=e.resolve(u);return f&&!e.versionSatisfies(f.version,h.range)?(l.warn("Plugin.dependencies:",e.toString(f),"does not satisfy",e.toString(h),"used by",e.toString(a)+"."),f._warned=!0,s._warned=!0):f||(l.warn("Plugin.dependencies:",e.toString(u),"used by",e.toString(a),"could not be resolved."),s._warned=!0),h.name});for(var n=0;n<r[o].length;n+=1)e.dependencies(r[o][n],r);return r}},e.dependencyParse=function(s){if(l.isString(s)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return r.test(s)||l.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},e.versionParse=function(s){var r=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;r.test(s)||l.warn("Plugin.versionParse:",s,"is not a valid version or range.");var a=s.split("-");s=a[0];var o=isNaN(Number(s[0])),n=o?s.substr(1):s,u=l.map(n.split("."),function(h){return Number(h)});return{isRange:o,version:n,range:s,operator:o?s[0]:"",parts:u,prerelease:a[1],number:u[0]*1e8+u[1]*1e4+u[2]}},e.versionSatisfies=function(s,r){r=r||"*";var a=e.versionParse(r),o=a.parts,n=e.versionParse(s),u=n.parts;if(a.isRange){if(a.operator==="*"||s==="*")return!0;if(a.operator==="~")return u[0]===o[0]&&u[1]===o[1]&&u[2]>=o[2];if(a.operator==="^")return o[0]>0?u[0]===o[0]&&n.number>=a.number:o[1]>0?u[1]===o[1]&&u[2]>=o[2]:u[2]===o[2]}return s===r||s==="*"}})()},function(i,d,t){var e={};i.exports=e;var l=t(118);t(128);var s=t(32);(function(){e.create=function(r){var a=l.create(),o={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return s.extend(a,o,r)}})()},function(i,d,t){var e={};i.exports=e;var l=t(250),s=t(273),r=t(32);(function(){e.create=function(a){var o={controller:e,detector:s.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(o,a)},e.update=function(a,o,n,u){var h,f,v,m=n.world,g=a.buckets,x,y,T=!1,S=n.metrics;for(S.broadphaseTests=0,h=0;h<o.length;h++){var E=o[h];if(!(E.isSleeping&&!u)&&!(E.bounds.max.x<m.bounds.min.x||E.bounds.min.x>m.bounds.max.x||E.bounds.max.y<m.bounds.min.y||E.bounds.min.y>m.bounds.max.y)){var C=e._getRegion(a,E);if(!E.region||C.id!==E.region.id||u){S.broadphaseTests+=1,(!E.region||u)&&(E.region=C);var A=e._regionUnion(C,E.region);for(f=A.startCol;f<=A.endCol;f++)for(v=A.startRow;v<=A.endRow;v++){y=e._getBucketId(f,v),x=g[y];var P=f>=C.startCol&&f<=C.endCol&&v>=C.startRow&&v<=C.endRow,R=f>=E.region.startCol&&f<=E.region.endCol&&v>=E.region.startRow&&v<=E.region.endRow;!P&&R&&R&&x&&e._bucketRemoveBody(a,x,E),(E.region===C||P&&!R||u)&&(x||(x=e._createBucket(g,y)),e._bucketAddBody(a,x,E))}E.region=C,T=!0}}}T&&(a.pairsList=e._createActivePairsList(a))},e.clear=function(a){a.buckets={},a.pairs={},a.pairsList=[]},e._regionUnion=function(a,o){var n=Math.min(a.startCol,o.startCol),u=Math.max(a.endCol,o.endCol),h=Math.min(a.startRow,o.startRow),f=Math.max(a.endRow,o.endRow);return e._createRegion(n,u,h,f)},e._getRegion=function(a,o){var n=o.bounds,u=Math.floor(n.min.x/a.bucketWidth),h=Math.floor(n.max.x/a.bucketWidth),f=Math.floor(n.min.y/a.bucketHeight),v=Math.floor(n.max.y/a.bucketHeight);return e._createRegion(u,h,f,v)},e._createRegion=function(a,o,n,u){return{id:a+","+o+","+n+","+u,startCol:a,endCol:o,startRow:n,endRow:u}},e._getBucketId=function(a,o){return"C"+a+"R"+o},e._createBucket=function(a,o){var n=a[o]=[];return n},e._bucketAddBody=function(a,o,n){for(var u=0;u<o.length;u++){var h=o[u];if(!(n.id===h.id||n.isStatic&&h.isStatic)){var f=l.id(n,h),v=a.pairs[f];v?v[2]+=1:a.pairs[f]=[n,h,1]}}o.push(n)},e._bucketRemoveBody=function(a,o,n){o.splice(o.indexOf(n),1);for(var u=0;u<o.length;u++){var h=o[u],f=l.id(n,h),v=a.pairs[f];v&&(v[2]-=1)}},e._createActivePairsList=function(a){var o,n,u=[];o=r.keys(a.pairs);for(var h=0;h<o.length;h++)n=a.pairs[o[h]],n[2]>0?u.push(n):delete a.pairs[o[h]];return u}})()},function(i,d,t){var e={};i.exports=e;var l=t(250),s=t(32);(function(){e._pairMaxIdleLife=1e3,e.create=function(r){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},e.update=function(r,a,o){var n=r.list,u=r.table,h=r.collisionStart,f=r.collisionEnd,v=r.collisionActive,m,g,x,y;for(h.length=0,f.length=0,v.length=0,y=0;y<n.length;y++)n[y].confirmedActive=!1;for(y=0;y<a.length;y++)m=a[y],m.collided&&(g=l.id(m.bodyA,m.bodyB),x=u[g],x?(x.isActive?v.push(x):h.push(x),l.update(x,m,o),x.confirmedActive=!0):(x=l.create(m,o),u[g]=x,h.push(x),n.push(x)));for(y=0;y<n.length;y++)x=n[y],x.isActive&&!x.confirmedActive&&(l.setActive(x,!1,o),f.push(x))},e.removeOld=function(r,a){var o=r.list,n=r.table,u=[],h,f,v,m;for(m=0;m<o.length;m++){if(h=o[m],f=h.collision,f.bodyA.isSleeping||f.bodyB.isSleeping){h.timeUpdated=a;continue}a-h.timeUpdated>e._pairMaxIdleLife&&u.push(m)}for(m=0;m<u.length;m++)v=u[m]-m,h=o[v],delete n[h.id],o.splice(v,1)},e.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},function(i,d,t){var e={};i.exports=e;var l=t(64),s=t(83),r=t(32),a=t(84);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(o){var n,u,h;for(n=0;n<o.length;n++)u=o[n],u.isActive&&(h=u.activeContacts.length,u.collision.parentA.totalContacts+=h,u.collision.parentB.totalContacts+=h)},e.solvePosition=function(o,n,u){var h,f,v,m,g,x,y,T,S,E,C,A,P,R,M,L,O=u*e._positionDampen;for(h=0;h<n.length;h++){var I=n[h];I.previousPositionImpulse.x=I.positionImpulse.x,I.previousPositionImpulse.y=I.positionImpulse.y}for(h=0;h<o.length;h++)m=o[h],!(!m.isActive||m.isSensor)&&(g=m.collision,x=g.parentA,y=g.parentB,T=g.normal,C=x.previousPositionImpulse,A=y.previousPositionImpulse,E=g.penetration,R=A.x-C.x+E.x,M=A.y-C.y+E.y,f=T.x,v=T.y,S=f*R+v*M,m.separation=S,L=(S-m.slop)*O,(x.isStatic||y.isStatic)&&(L*=2),x.isStatic||x.isSleeping||(P=L/x.totalContacts,x.positionImpulse.x+=f*P,x.positionImpulse.y+=v*P),y.isStatic||y.isSleeping||(P=L/y.totalContacts,y.positionImpulse.x-=f*P,y.positionImpulse.y-=v*P))},e.postSolvePosition=function(o){for(var n=0;n<o.length;n++){var u=o[n];if(u.totalContacts=0,u.positionImpulse.x!==0||u.positionImpulse.y!==0){for(var h=0;h<u.parts.length;h++){var f=u.parts[h];l.translate(f.vertices,u.positionImpulse),a.update(f.bounds,f.vertices,u.velocity),f.position.x+=u.positionImpulse.x,f.position.y+=u.positionImpulse.y}u.positionPrev.x+=u.positionImpulse.x,u.positionPrev.y+=u.positionImpulse.y,s.dot(u.positionImpulse,u.velocity)<0?(u.positionImpulse.x=0,u.positionImpulse.y=0):(u.positionImpulse.x*=e._positionWarming,u.positionImpulse.y*=e._positionWarming)}}},e.preSolveVelocity=function(o){var n,u,h,f,v,m,g,x,y,T,S,E,C,A,P=s._temp[0],R=s._temp[1];for(n=0;n<o.length;n++)if(h=o[n],!(!h.isActive||h.isSensor))for(f=h.activeContacts,v=h.collision,m=v.parentA,g=v.parentB,x=v.normal,y=v.tangent,u=0;u<f.length;u++)T=f[u],S=T.vertex,E=T.normalImpulse,C=T.tangentImpulse,(E!==0||C!==0)&&(P.x=x.x*E+y.x*C,P.y=x.y*E+y.y*C,m.isStatic||m.isSleeping||(A=s.sub(S,m.position,R),m.positionPrev.x+=P.x*m.inverseMass,m.positionPrev.y+=P.y*m.inverseMass,m.anglePrev+=s.cross(A,P)*m.inverseInertia),g.isStatic||g.isSleeping||(A=s.sub(S,g.position,R),g.positionPrev.x-=P.x*g.inverseMass,g.positionPrev.y-=P.y*g.inverseMass,g.anglePrev-=s.cross(A,P)*g.inverseInertia))},e.solveVelocity=function(o,n){for(var u=n*n,h=s._temp[0],f=s._temp[1],v=s._temp[2],m=s._temp[3],g=s._temp[4],x=s._temp[5],y=0;y<o.length;y++){var T=o[y];if(!(!T.isActive||T.isSensor)){var S=T.collision,E=S.parentA,C=S.parentB,A=S.normal,P=S.tangent,R=T.activeContacts,M=1/R.length;E.velocity.x=E.position.x-E.positionPrev.x,E.velocity.y=E.position.y-E.positionPrev.y,C.velocity.x=C.position.x-C.positionPrev.x,C.velocity.y=C.position.y-C.positionPrev.y,E.angularVelocity=E.angle-E.anglePrev,C.angularVelocity=C.angle-C.anglePrev;for(var L=0;L<R.length;L++){var O=R[L],I=O.vertex,w=s.sub(I,E.position,f),G=s.sub(I,C.position,v),V=s.add(E.velocity,s.mult(s.perp(w),E.angularVelocity),m),X=s.add(C.velocity,s.mult(s.perp(G),C.angularVelocity),g),W=s.sub(V,X,x),D=s.dot(A,W),F=s.dot(P,W),B=Math.abs(F),b=r.sign(F),z=(1+T.restitution)*D,N=r.clamp(T.separation+D,0,1)*e._frictionNormalMultiplier,U=F,Y=1/0;B>T.friction*T.frictionStatic*N*u&&(Y=B,U=r.clamp(T.friction*b*u,-Y,Y));var K=s.cross(w,A),Z=s.cross(G,A),j=M/(E.inverseMass+C.inverseMass+E.inverseInertia*K*K+C.inverseInertia*Z*Z);if(z*=j,U*=j,D<0&&D*D>e._restingThresh*u)O.normalImpulse=0;else{var q=O.normalImpulse;O.normalImpulse=Math.min(O.normalImpulse+z,0),z=O.normalImpulse-q}if(F*F>e._restingThreshTangent*u)O.tangentImpulse=0;else{var k=O.tangentImpulse;O.tangentImpulse=r.clamp(O.tangentImpulse+U,-Y,Y),U=O.tangentImpulse-k}h.x=A.x*z+P.x*U,h.y=A.y*z+P.y*U,E.isStatic||E.isSleeping||(E.positionPrev.x+=h.x*E.inverseMass,E.positionPrev.y+=h.y*E.inverseMass,E.anglePrev+=s.cross(w,h)*E.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=h.x*C.inverseMass,C.positionPrev.y-=h.y*C.inverseMass,C.anglePrev-=s.cross(G,h)*C.inverseInertia)}}}}})()},function(i,d){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}i.exports=t},function(i,d,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(276),l=function(s,r,a,o){for(var n=s[0],u=1;u<s.length;u++){var h=s[u];e(h,n,r,a,o),n=h}return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),l=function(s,r,a,o,n){return e(s,"angle",r,a,o,n)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){for(var r=0;r<e.length;r++){var a=e[r];l.call(s,a)}return e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){s===void 0&&(s=0);for(var r=s;r<e.length;r++){var a=e[r],o=!0;for(var n in l)a[n]!==l[n]&&(o=!1);if(o)return a}return null};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){s===void 0&&(s=0);for(var r=s;r<e.length;r++){var a=e[r],o=!0;for(var n in l)a[n]!==l[n]&&(o=!1);if(o)return a}return null};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(289),l=t(123),s=t(2),r=t(1),a=t(129),o=new a({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1),n=function(u,h){h===void 0&&(h={});var f=h.hasOwnProperty("width"),v=h.hasOwnProperty("height"),m=s(h,"width",-1),g=s(h,"height",-1),x=s(h,"cellWidth",1),y=s(h,"cellHeight",x),T=s(h,"position",l.TOP_LEFT),S=s(h,"x",0),E=s(h,"y",0),C=0,A=0,P=m*x,R=g*y;o.setPosition(S,E),o.setSize(x,y);for(var M=0;M<u.length;M++)if(e(u[M],o,T),f&&m===-1)o.x+=x;else if(v&&g===-1)o.y+=y;else if(v&&!f){if(A+=y,o.y+=y,A===R&&(A=0,C+=x,o.y=E,o.x+=x,C===P))break}else if(C+=x,o.x+=x,C===P&&(C=0,A+=y,o.x=S,o.y+=y,A===R))break;return u};i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=2,s={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,a,o,n){return r===void 0&&(r=1),a===void 0?this.alpha=r:(this._alphaTL=e(r,0,1),this._alphaTR=e(a,0,1),this._alphaBL=e(o,0,1),this._alphaBR=e(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var a=e(r,0,1);this._alpha=a,this._alphaTL=a,this._alphaTR=a,this._alphaBL=a,this._alphaBR=a,a===0?this.renderFlags&=~l:this.renderFlags|=l}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var a=e(r,0,1);this._alphaTL=a,a!==0&&(this.renderFlags|=l)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var a=e(r,0,1);this._alphaTR=a,a!==0&&(this.renderFlags|=l)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var a=e(r,0,1);this._alphaBL=a,a!==0&&(this.renderFlags|=l)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var a=e(r,0,1);this._alphaBR=a,a!==0&&(this.renderFlags|=l)}}};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,l){return this.width=e,this.height=l,this},setDisplaySize:function(e,l){return this.displayWidth=e,this.displayHeight=l,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={texture:null,frame:null,isCropped:!1,setCrop:function(e,l,s,r){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,l,s,r,this.flipX,this.flipY);else{var a=e;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,l){return this.flipX=e,this.flipY=l,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=t(308),s=t(3),r={prepareBoundsOutput:function(a,o){if(o===void 0&&(o=!1),this.rotation!==0&&l(a,this.x,this.y,this.rotation),o&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(a.x,a.y,a)}return a},getCenter:function(a){return a===void 0&&(a=new s),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,a},getTopLeft:function(a,o){return a||(a=new s),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,o)},getTopCenter:function(a,o){return a||(a=new s),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,o)},getTopRight:function(a,o){return a||(a=new s),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,o)},getLeftCenter:function(a,o){return a||(a=new s),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,o)},getRightCenter:function(a,o){return a||(a=new s),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,o)},getBottomLeft:function(a,o){return a||(a=new s),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,o)},getBottomCenter:function(a,o){return a||(a=new s),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,o)},getBottomRight:function(a,o){return a||(a=new s),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,o)},getBounds:function(a){a===void 0&&(a=new e);var o,n,u,h,f,v,m,g;if(this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(a),x.transformPoint(a.x,a.y,a),o=a.x,n=a.y,this.getTopRight(a),x.transformPoint(a.x,a.y,a),u=a.x,h=a.y,this.getBottomLeft(a),x.transformPoint(a.x,a.y,a),f=a.x,v=a.y,this.getBottomRight(a),x.transformPoint(a.x,a.y,a),m=a.x,g=a.y}else this.getTopLeft(a),o=a.x,n=a.y,this.getTopRight(a),u=a.x,h=a.y,this.getBottomLeft(a),f=a.x,v=a.y,this.getBottomRight(a),m=a.x,g=a.y;return a.x=Math.min(o,u,f,m),a.y=Math.min(n,h,v,g),a.width=Math.max(o,u,f,m)-a.x,a.height=Math.max(n,h,v,g)-a.y,a}};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="blur"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="boot"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="contextlost"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="contextrestored"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="destroy"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="focus"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="hidden"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pause"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="postrender"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="poststep"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="prerender"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="prestep"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="ready"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resume"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="step"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="visible"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="postrender"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="prerender"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="render"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resize"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,l){return e===void 0&&(e=.5),l===void 0&&(l=e),this.originX=e,this.originY=l,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,l){return e===void 0&&(e=0),l===void 0&&(l=e),this.displayOriginX=e,this.displayOriginY=l,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),l=t(99),s=t(6),r=t(100),a=t(3),o={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(n,u){u===void 0&&(u=this.pathConfig);var h=this.pathTween;return h&&h.isPlaying()&&h.stop(),this.path=n,u&&this.startFollow(u),this},setRotateToPath:function(n,u){return u===void 0&&(u=0),this.rotateToPath=n,this.pathRotationOffset=u,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,u){n===void 0&&(n={}),u===void 0&&(u=0);var h=this.pathTween;h&&h.isPlaying()&&h.stop(),typeof n=="number"&&(n={duration:n}),n.from=s(n,"from",0),n.to=s(n,"to",1);var f=l(n,"positionOnPath",!1);this.rotateToPath=l(n,"rotateToPath",!1),this.pathRotationOffset=s(n,"rotationOffset",0);var v=s(n,"startAt",u);if(v&&(n.onStart=function(g){var x=g.data[0];x.progress=v,x.elapsed=x.duration*v;var y=x.ease(x.progress);x.current=x.start+(x.end-x.start)*y,x.target[x.key]=x.current}),this.pathOffset||(this.pathOffset=new a(this.x,this.y)),this.pathVector||(this.pathVector=new a),this.pathDelta||(this.pathDelta=new a),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),f&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+e(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n){var u=n.data[0],h=this.pathDelta,f=this.pathVector;if(h.copy(f).negate(),u.state===r.COMPLETE){this.path.getPoint(1,f),h.add(f),f.add(this.pathOffset),this.setPosition(f.x,f.y);return}else if(u.state!==r.PLAYING_FORWARD&&u.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),f),h.add(f),f.add(this.pathOffset);var v=this.x,m=this.y;this.setPosition(f.x,f.y);var g=this.x-v,x=this.y-m;if(g===0&&x===0)return;if(u.state!==this._prevDirection){this._prevDirection=u.state;return}this.rotateToPath&&(this.rotation=Math.atan2(x,g)+e(this.pathRotationOffset))}}};i.exports=o},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){return e===void 0&&(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,this},setSize:function(e,l){return this.width=e,this.height=l,this},setDisplaySize:function(e,l){return this.displayWidth=e,this.displayHeight=l,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setTexture:function(l,s){return this.texture=this.scene.sys.textures.get(l),this.setFrame(s)},setFrame:function(l,s,r){return s===void 0&&(s=!0),r===void 0&&(r=!0),this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setCrop:function(l,s,r,a){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,s,r,a,this.flipX,this.flipY);else{var o=l;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,s){return this.texture=this.scene.sys.textures.get(l),this.setFrame(s)},setFrame:function(l,s,r){return s===void 0&&(s=!0),r===void 0&&(r=!0),this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,l,s,r){return e===void 0&&(e=16777215),l===void 0&&(l=e,s=e,r=e),this.tintTopLeft=e,this.tintTopRight=l,this.tintBottomLeft=s,this.tintBottomRight=r,this.tintFill=!1,this},setTintFill:function(e,l,s,r){return this.setTint(e,l,s,r),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="changedata"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="changedata-"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="destroy"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="removedata"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="setdata"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="addedtoscene"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="destroy"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="removedfromscene"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="complete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="created"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="error"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="loop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="play"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="seeked"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="seeking"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="stop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="timeout"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="unlocked"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="addedtoscene"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="boot"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="create"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="destroy"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pause"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="postupdate"},function(i,d){/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="prerender"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="preupdate"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="ready"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="removedfromscene"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="render"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resume"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="shutdown"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="sleep"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="start"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="transitioncomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="transitioninit"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="transitionout"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="transitionstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="transitionwake"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="update"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="wake"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),l=function(s,r,a,o,n){return e(s,"alpha",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),l=function(s,r,a,o,n){return e(s,"x",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),l=function(s,r,a,o,n,u,h){return a==null&&(a=r),e(s,"x",r,o,u,h),e(s,"y",a,n,u,h)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),l=function(s,r,a,o,n){return e(s,"y",r,a,o,n)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s===void 0&&(s=0),r===void 0&&(r=6.28);for(var a=s,o=(r-s)/e.length,n=0;n<e.length;n++)e[n].x=l.x+l.radius*Math.cos(a),e[n].y=l.y+l.radius*Math.sin(a),a+=o;return e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s===void 0&&(s=0),r===void 0&&(r=6.28);for(var a=s,o=(r-s)/e.length,n=l.width/2,u=l.height/2,h=0;h<e.length;h++)e[h].x=l.x+n*Math.cos(a),e[h].y=l.y+u*Math.sin(a),a+=o;return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(172),l=function(s,r){for(var a=e(r,s.length),o=0;o<s.length;o++){var n=s[o],u=a[o];n.x=u.x,n.y=u.y}return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(316),l=t(178),s=t(179),r=function(a,o,n){n===void 0&&(n=0);var u=e(o,!1,a.length);n>0?l(u,n):n<0&&s(u,Math.abs(n));for(var h=0;h<a.length;h++)a[h].x=u[h].x,a[h].y=u[h].y;return a};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(317),l=function(s,r,a){var o=e({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},a),n=e({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},a),u=e({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},a);o.pop(),n.pop(),u.pop(),o=o.concat(n,u);for(var h=o.length/s.length,f=0,v=0;v<s.length;v++){var m=s[v],g=o[Math.floor(f)];m.x=g.x,m.y=g.y,f+=h}return s};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){for(var r=0;r<e.length;r++){var a=e[r];a.anims&&a.anims.play(l,s)}return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(170),l=function(s,r){for(var a=0;a<s.length;a++)e(r,s[a]);return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(180),l=function(s,r){for(var a=0;a<s.length;a++)e(r,s[a]);return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(173),l=function(s,r){for(var a=0;a<s.length;a++)e(r,s[a]);return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(174),l=function(s,r){for(var a=0;a<s.length;a++)e(r,s[a]);return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(181),l=function(s,r){for(var a=0;a<s.length;a++)e(r,s[a]);return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),l=function(s,r,a,o,n){return e(s,"rotation",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),l=t(50),s=function(r,a,o){for(var n=a.x,u=a.y,h=0;h<r.length;h++){var f=r[h];e(f,n,u,o,Math.max(1,l(f.x,f.y,n,u)))}return r};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),l=function(s,r,a,o){var n=r.x,u=r.y;if(o===0)return s;for(var h=0;h<s.length;h++)e(s[h],n,u,a,o);return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),l=function(s,r,a,o,n){return e(s,"scaleX",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),l=function(s,r,a,o,n,u,h){return a==null&&(a=r),e(s,"scaleX",r,o,u,h),e(s,"scaleY",a,n,u,h)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),l=function(s,r,a,o,n){return e(s,"scaleY",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n){return e(s,"alpha",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o){return e(s,"blendMode",r,0,a,o)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n){return e(s,"depth",r,a,o,n)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){for(var r=0;r<e.length;r++)e[r].setInteractive(l,s);return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n,u,h){return a==null&&(a=r),e(s,"originX",r,o,u,h),e(s,"originY",a,n,u,h),s.forEach(function(f){f.updateDisplayOrigin()}),s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n){return e(s,"rotation",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n,u,h){return a==null&&(a=r),e(s,"scaleX",r,o,u,h),e(s,"scaleY",a,n,u,h)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n){return e(s,"scaleX",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n){return e(s,"scaleY",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n,u,h){return a==null&&(a=r),e(s,"scrollFactorX",r,o,u,h),e(s,"scrollFactorY",a,n,u,h)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n){return e(s,"scrollFactorX",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n){return e(s,"scrollFactorY",r,a,o,n)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a){for(var o=0;o<e.length;o++)e[o].setTint(l,s,r,a);return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o){return e(s,"visible",r,0,a,o)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n){return e(s,"x",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n,u,h){return a==null&&(a=r),e(s,"x",r,o,u,h),e(s,"y",a,n,u,h)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),l=function(s,r,a,o,n){return e(s,"y",r,a,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=function(s,r,a,o,n){o===void 0&&(o=0),n===void 0&&(n=new e);var u,h;if(s.length>1){var f,v,m,g;if(o===0){var x=s.length-1;for(u=s[x].x,h=s[x].y,f=x-1;f>=0;f--)g=s[f],v=g.x,m=g.y,g.x=u,g.y=h,u=v,h=m;s[x].x=r,s[x].y=a}else{for(u=s[0].x,h=s[0].y,f=1;f<s.length;f++)g=s[f],v=g.x,m=g.y,g.x=u,g.y=h,u=v,h=m;s[0].x=r,s[0].y=a}}else u=s[0].x,h=s[0].y,s[0].x=r,s[0].y=a;return n.x=u,n.y=h,n};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(131),l=function(s){return e(s)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),l=function(s,r,a,o,n){n===void 0&&(n=!1);var u=Math.abs(o-a)/s.length,h;if(n)for(h=0;h<s.length;h++)s[h][r]+=e(h*u,a,o);else for(h=0;h<s.length;h++)s[h][r]=e(h*u,a,o);return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),l=function(s,r,a,o,n){n===void 0&&(n=!1);var u=Math.abs(o-a)/s.length,h;if(n)for(h=0;h<s.length;h++)s[h][r]+=e(h*u,a,o);else for(h=0;h<s.length;h++)s[h][r]=e(h*u,a,o);return s};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a){a===void 0&&(a=!1);var o=Math.abs(r-s)/e.length,n;if(a)for(n=0;n<e.length;n++)e[n][l]+=n*o+s;else for(n=0;n<e.length;n++)e[n][l]=n*o+s;return e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var l=0;l<e.length;l++)e[l].visible=!e[l].visible;return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),l=function(s,r,a){a===void 0&&(a=0);for(var o=0;o<s.length;o++){var n=s[o];n.x=e(n.x,r.left-a,r.right+a),n.y=e(n.y,r.top-a,r.bottom+a)}return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Animation:t(185),AnimationFrame:t(319),AnimationManager:t(321),AnimationState:t(164),Events:t(132)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="add"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="animationcomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="animationcomplete-"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="animationrepeat"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="animationrestart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="animationstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="animationstop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="animationupdate"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pauseall"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="remove"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resumeall"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={BaseCache:t(323),CacheManager:t(325),Events:t(324)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="add"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="remove"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Controls:t(739),Scene2D:t(742)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={FixedKeyControl:t(740),SmoothedKeyControl:t(741)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(6),s=new e({initialize:function(a){this.camera=l(a,"camera",null),this.left=l(a,"left",null),this.right=l(a,"right",null),this.up=l(a,"up",null),this.down=l(a,"down",null),this.zoomIn=l(a,"zoomIn",null),this.zoomOut=l(a,"zoomOut",null),this.zoomSpeed=l(a,"zoomSpeed",.01),this.minZoom=l(a,"minZoom",.001),this.maxZoom=l(a,"maxZoom",1e3),this.speedX=0,this.speedY=0;var o=l(a,"speed",null);typeof o=="number"?(this.speedX=o,this.speedY=o):(this.speedX=l(a,"speed.x",0),this.speedY=l(a,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(!!this.active){r===void 0&&(r=1);var a=this.camera;this.up&&this.up.isDown?a.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(a.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?a.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(a.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(a.zoom-=this.zoomSpeed,a.zoom<this.minZoom&&(a.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(a.zoom+=this.zoomSpeed,a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(6),s=new e({initialize:function(a){this.camera=l(a,"camera",null),this.left=l(a,"left",null),this.right=l(a,"right",null),this.up=l(a,"up",null),this.down=l(a,"down",null),this.zoomIn=l(a,"zoomIn",null),this.zoomOut=l(a,"zoomOut",null),this.zoomSpeed=l(a,"zoomSpeed",.01),this.minZoom=l(a,"minZoom",.001),this.maxZoom=l(a,"maxZoom",1e3),this.accelX=0,this.accelY=0;var o=l(a,"acceleration",null);typeof o=="number"?(this.accelX=o,this.accelY=o):(this.accelX=l(a,"acceleration.x",0),this.accelY=l(a,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=l(a,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=l(a,"drag.x",0),this.dragY=l(a,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var u=l(a,"maxSpeed",null);typeof u=="number"?(this.maxSpeedX=u,this.maxSpeedY=u):(this.maxSpeedX=l(a,"maxSpeed.x",0),this.maxSpeedY=l(a,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(!!this.active){r===void 0&&(r=1);var a=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(a.scrollX-=this._speedX*r|0),this._speedY!==0&&(a.scrollY-=this._speedY*r|0),this._zoom!==0&&(a.zoom+=this._zoom,a.zoom<this.minZoom?a.zoom=this.minZoom:a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Camera:t(326),BaseCamera:t(133),CameraManager:t(799),Effects:t(333),Events:t(37)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="cameradestroy"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerafadeincomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerafadeinstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerafadeoutcomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerafadeoutstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="cameraflashcomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="cameraflashstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="followupdate"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerapancomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerapanstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="postrender"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="prerender"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerarotatecomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerarotatestart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerashakecomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerashakestart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerazoomcomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="camerazoomstart"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=t(0),s=t(37),r=new l({initialize:function(o){this.camera=o,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,o,n,u,h,f,v,m){if(a===void 0&&(a=!0),o===void 0&&(o=1e3),n===void 0&&(n=0),u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=!1),v===void 0&&(v=null),m===void 0&&(m=this.camera.scene),!f&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=o,this.direction=a,this.progress=0,this.red=n,this.green=u,this.blue=h,this.alpha=a?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=m;var g=a?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(g,this.camera,this,o,n,u,h),this.camera},update:function(a,o){!this.isRunning||(this._elapsed+=o,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(a){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(a,o){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,u=this.red/255,h=this.green/255,f=this.blue/255;return a.drawFillRect(n.x,n.y,n.width,n.height,o(f,h,u,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var a=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(a,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=t(0),s=t(37),r=new l({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,o,n,u,h,f,v){return a===void 0&&(a=250),o===void 0&&(o=255),n===void 0&&(n=255),u===void 0&&(u=255),h===void 0&&(h=!1),f===void 0&&(f=null),v===void 0&&(v=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,this.red=o,this.green=n,this.blue=u,this.alpha=1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=v,this.camera.emit(s.FLASH_START,this.camera,this,a,o,n,u),this.camera)},update:function(a,o){!this.isRunning||(this._elapsed+=o,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(a){if(!this.isRunning)return!1;var o=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(a,o){if(!this.isRunning)return!1;var n=this.camera,u=this.red/255,h=this.green/255,f=this.blue/255;return a.drawFillRect(n.x,n.y,n.width,n.height,o(f,h,u,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=t(0),s=t(134),r=t(37),a=t(3),o=new l({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,u,h,f,v,m,g){h===void 0&&(h=1e3),f===void 0&&(f=s.Linear),v===void 0&&(v=!1),m===void 0&&(m=null),g===void 0&&(g=this.camera.scene);var x=this.camera;return!v&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.source.set(x.scrollX,x.scrollY),this.destination.set(n,u),x.getScroll(n,u,this.current),typeof f=="string"&&s.hasOwnProperty(f)?this.ease=s[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=g,this.camera.emit(r.PAN_START,this.camera,this,h,n,u)),x},update:function(n,u){if(!!this.isRunning){this._elapsed+=u;var h=e(this._elapsed/this.duration,0,1);this.progress=h;var f=this.camera;if(this._elapsed<this.duration){var v=this.ease(h);f.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*v,g=this.source.y+(this.current.y-this.source.y)*v;f.setScroll(m,g),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,h,m,g)}else f.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,h,f.scrollX,f.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});i.exports=o},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===void 0&&(l=1.70158),e*e*((l+1)*e-l)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===void 0&&(l=1.70158),--e*e*((l+1)*e+l)+1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l===void 0&&(l=1.70158);var s=l*1.525;return(e*=2)<1?.5*(e*e*((s+1)*e-s)):.5*((e-=2)*e*((s+1)*e+s)+2)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l=!1;return e<.5?(e=1-e*2,l=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,l?(1-e)*.5:e*.5+.5};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.sqrt(1-e*e)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(1- --e*e)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e+1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(l===void 0&&(l=.1),s===void 0&&(s=.1),e===0)return 0;if(e===1)return 1;var r=s/4;return l<1?l=1:r=s*Math.asin(1/l)/(2*Math.PI),-(l*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/s))};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(l===void 0&&(l=.1),s===void 0&&(s=.1),e===0)return 0;if(e===1)return 1;var r=s/4;return l<1?l=1:r=s*Math.asin(1/l)/(2*Math.PI),l*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/s)+1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(l===void 0&&(l=.1),s===void 0&&(s=.1),e===0)return 0;if(e===1)return 1;var r=s/4;return l<1?l=1:r=s*Math.asin(1/l)/(2*Math.PI),(e*=2)<1?-.5*(l*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/s)):l*Math.pow(2,-10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/s)*.5+1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.pow(2,10*(e-1))-.001};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.pow(2,-10*e)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*(2-e)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1- --e*e*e*e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e*e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e*e*e+1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===void 0&&(l=1),e<=0?0:e>=1?1:((l*e|0)+1)*(1/l)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=t(0),s=t(37),r=t(3),a=new l({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(o,n,u,h,f){return o===void 0&&(o=100),n===void 0&&(n=.05),u===void 0&&(u=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(s.SHAKE_START,this.camera,this,o,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(o,n){if(!!this.isRunning)if(this._elapsed+=n,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var u=this.intensity,h=this.camera.width,f=this.camera.height,v=this.camera.zoom;this._offsetX=(Math.random()*u.x*h*2-u.x*h)*v,this._offsetY=(Math.random()*u.y*f*2-u.y*f)*v,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});i.exports=a},function(i,d,t){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e=t(18),l=t(0),s=t(37),r=t(134),a=new l({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(o,n,u,h,f,v,m){u===void 0&&(u=1e3),h===void 0&&(h=r.Linear),f===void 0&&(f=!1),v===void 0&&(v=null),m===void 0&&(m=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var g=o;o<0?(g=-1*o,this.clockwise=!1):this.clockwise=!0;var x=360*Math.PI/180;g=g-Math.floor(g/x)*x;var y=this.camera;if(!f&&this.isRunning)return y;if(this.isRunning=!0,this.duration=u,this.progress=0,this.source=y.rotation,this.destination=g,typeof h=="string"&&r.hasOwnProperty(h)?this.ease=r[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=m,this.shortestPath){var T=0,S=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+x)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+x)-this.destination,T<S?this.clockwise=!0:T>S&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,u,g),y},update:function(o,n){if(!!this.isRunning){this._elapsed+=n;var u=e(this._elapsed/this.duration,0,1);this.progress=u;var h=this.camera;if(this._elapsed<this.duration){var f=this.ease(u);this.current=h.rotation;var v=0,m=360*Math.PI/180,g=this.destination,x=this.current;this.clockwise===!1&&(g=this.current,x=this.destination),g>=x?v=Math.abs(g-x):v=Math.abs(g+m)-x;var y=0;this.clockwise?y=h.rotation+v*f:y=h.rotation-v*f,h.rotation=y,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,u,y)}else h.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,u,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=t(0),s=t(134),r=t(37),a=new l({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,n,u,h,f,v){n===void 0&&(n=1e3),u===void 0&&(u=s.Linear),h===void 0&&(h=!1),f===void 0&&(f=null),v===void 0&&(v=this.camera.scene);var m=this.camera;return!h&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=m.zoom,this.destination=o,typeof u=="string"&&s.hasOwnProperty(u)?this.ease=s[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=v,this.camera.emit(r.ZOOM_START,this.camera,this,n,o)),m},update:function(o,n){!this.isRunning||(this._elapsed+=n,this.progress=e(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(326),l=t(0),s=t(2),r=t(24),a=t(57),o=t(104),n=t(20),u=new l({initialize:function(f){this.scene=f,this.systems=f.sys,this.roundPixels=f.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,f.sys.events.once(n.BOOT,this.boot,this),f.sys.events.on(n.START,this.start,this)},boot:function(){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new e(0,0,h.scale.width,h.scale.height).setScene(this.scene),h.game.scale.on(o.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0]}var f=this.systems.events;f.on(n.UPDATE,this.update,this),f.once(n.SHUTDOWN,this.shutdown,this)},add:function(h,f,v,m,g,x){h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),g===void 0&&(g=!1),x===void 0&&(x="");var y=new e(h,f,v,m);return y.setName(x),y.setScene(this.scene),y.setRoundPixels(this.roundPixels),y.id=this.getNextID(),this.cameras.push(y),g&&(this.main=y),y},addExisting:function(h,f){f===void 0&&(f=!1);var v=this.cameras.indexOf(h);return v===-1?(h.id=this.getNextID(),h.setRoundPixels(this.roundPixels),this.cameras.push(h),f&&(this.main=h),h):null},getNextID:function(){for(var h=this.cameras,f=1,v=0;v<32;v++){for(var m=!1,g=0;g<h.length;g++){var x=h[g];if(x&&x.id===f){m=!0;continue}}if(m)f=f<<1;else return f}return 0},getTotal:function(h){h===void 0&&(h=!1);for(var f=0,v=this.cameras,m=0;m<v.length;m++){var g=v[m];(!h||h&&g.visible)&&f++}return f},fromJSON:function(h){Array.isArray(h)||(h=[h]);for(var f=this.scene.sys.scale.width,v=this.scene.sys.scale.height,m=0;m<h.length;m++){var g=h[m],x=s(g,"x",0),y=s(g,"y",0),T=s(g,"width",f),S=s(g,"height",v),E=this.add(x,y,T,S);E.name=s(g,"name",""),E.zoom=s(g,"zoom",1),E.rotation=s(g,"rotation",0),E.scrollX=s(g,"scrollX",0),E.scrollY=s(g,"scrollY",0),E.roundPixels=s(g,"roundPixels",!1),E.visible=s(g,"visible",!0);var C=s(g,"backgroundColor",!1);C&&E.setBackgroundColor(C);var A=s(g,"bounds",null);if(A){var P=s(A,"x",0),R=s(A,"y",0),M=s(A,"width",f),L=s(A,"height",v);E.setBounds(P,R,M,L)}}return this},getCamera:function(h){for(var f=this.cameras,v=0;v<f.length;v++)if(f[v].name===h)return f[v];return null},getCamerasBelowPointer:function(h){for(var f=this.cameras,v=h.x,m=h.y,g=[],x=0;x<f.length;x++){var y=f[x];y.visible&&y.inputEnabled&&a(y,v,m)&&g.unshift(y)}return g},remove:function(h,f){f===void 0&&(f=!0),Array.isArray(h)||(h=[h]);for(var v=0,m=this.cameras,g=0;g<h.length;g++){var x=m.indexOf(h[g]);x!==-1&&(f?m[x].destroy():m[x].renderList=[],m.splice(x,1),v++)}return!this.main&&m[0]&&(this.main=m[0]),v},render:function(h,f){for(var v=this.scene,m=this.cameras,g=0;g<this.cameras.length;g++){var x=m[g];if(x.visible&&x.alpha>0){x.preRender();var y=this.getVisibleChildren(f.getChildren(),x);h.render(v,y,x)}}},getVisibleChildren:function(h,f){for(var v=[],m=0;m<h.length;m++){var g=h[m];g.willRender(f)&&v.push(g)}return v},resetAll:function(){for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(h,f){for(var v=0;v<this.cameras.length;v++)this.cameras[v].update(h,f)},onResize:function(h,f,v,m,g){for(var x=0;x<this.cameras.length;x++){var y=this.cameras[x];y._x===0&&y._y===0&&y._width===m&&y._height===g&&y.setSize(f.width,f.height)}},resize:function(h,f){for(var v=0;v<this.cameras.length;v++)this.cameras[v].setSize(h,f)},shutdown:function(){this.main=void 0;for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();this.cameras=[];var f=this.systems.events;f.off(n.UPDATE,this.update,this),f.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});r.register("CameraManager",u,"cameras"),i.exports=u},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="enterfullscreen"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="fullscreenfailed"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="fullscreenunsupported"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="leavefullscreen"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="orientationchange"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resize"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Config:t(346),CreateRenderer:t(366),DebugHeader:t(384),Events:t(22),TimeStep:t(385),VisibilityHandler:t(387)}},function(i,d){var t=i.exports={},e,l;function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=s}catch{e=s}try{typeof clearTimeout=="function"?l=clearTimeout:l=r}catch{l=r}})();function a(y){if(e===setTimeout)return setTimeout(y,0);if((e===s||!e)&&setTimeout)return e=setTimeout,setTimeout(y,0);try{return e(y,0)}catch{try{return e.call(null,y,0)}catch{return e.call(this,y,0)}}}function o(y){if(l===clearTimeout)return clearTimeout(y);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(y);try{return l(y)}catch{try{return l.call(null,y)}catch{return l.call(this,y)}}}var n=[],u=!1,h,f=-1;function v(){!u||!h||(u=!1,h.length?n=h.concat(n):f=-1,n.length&&m())}function m(){if(!u){var y=a(v);u=!0;for(var T=n.length;T;){for(h=n,n=[];++f<T;)h&&h[f].run();f=-1,T=n.length}h=null,u=!1,o(y)}}t.nextTick=function(y){var T=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)T[S-1]=arguments[S];n.push(new g(y,T)),n.length===1&&!u&&a(m)};function g(y,T){this.fun=y,this.array=T}g.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function x(){}t.on=x,t.addListener=x,t.once=x,t.off=x,t.removeListener=x,t.removeAllListeners=x,t.emit=x,t.prependListener=x,t.prependOnceListener=x,t.listeners=function(y){return[]},t.binding=function(y){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(y){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),l={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function s(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(l.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(l.mspointer=!0),navigator.getGamepads&&(l.gamepads=!0),"onwheel"in window||e.ie&&"WheelEvent"in window?l.wheelEvent="wheel":"onmousewheel"in window?l.wheelEvent="mousewheel":e.firefox&&"MouseScrollEvent"in window&&(l.wheelEvent="DOMMouseScroll")),l}i.exports=s()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),l={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function s(){if(typeof importScripts=="function")return l;l.audioData=!!window.Audio,l.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),a=!!r.canPlayType;try{if(a&&(r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(l.ogg=!0),(r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||r.canPlayType("audio/opus;").replace(/^no$/,""))&&(l.opus=!0),r.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(l.mp3=!0),r.canPlayType("audio/wav").replace(/^no$/,"")&&(l.wav=!0),(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/aac;").replace(/^no$/,""))&&(l.m4a=!0),r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(l.webm=!0),r.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(e.edge)l.dolby=!0;else if(e.safari&&e.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var o=parseInt(RegExp.$1,10),n=parseInt(RegExp.$2,10);(o===10&&n>=11||o>10)&&(l.dolby=!0)}}}catch{}return l}i.exports=s()},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function e(){if(typeof importScripts=="function")return t;var l=document.createElement("video"),s=!!l.canPlayType;try{s&&(l.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(t.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.h264=!0,t.mp4=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(t.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(t.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.hls=!0))}catch{}return t}i.exports=e()},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return t;var l,s="Fullscreen",r="FullScreen",a=["request"+s,"request"+r,"webkitRequest"+s,"webkitRequest"+r,"msRequest"+s,"msRequest"+r,"mozRequest"+r,"mozRequest"+s];for(l=0;l<a.length;l++)if(document.documentElement[a[l]]){t.available=!0,t.request=a[l];break}var o=["cancel"+r,"exit"+s,"webkitCancel"+r,"webkitExit"+s,"msCancel"+r,"msExit"+s,"mozCancel"+r,"mozExit"+s];if(t.available){for(l=0;l<o.length;l++)if(document[o[l]]){t.cancel=o[l];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}i.exports=e()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Between:t(349),BetweenPoints:t(350),BetweenPointsY:t(813),BetweenY:t(814),CounterClockwise:t(815),Normalize:t(351),Random:t(816),RandomDegrees:t(817),Reverse:t(818),RotateTo:t(819),ShortestBetween:t(820),Wrap:t(269),WrapDegrees:t(270)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return Math.atan2(l.x-e.x,l.y-e.y)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){return Math.atan2(s-e,r-l)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=function(s){return s>Math.PI&&(s-=e.PI2),Math.abs(((s+e.TAU)%e.PI2-e.PI2)%e.PI2)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),l=function(){return e(-Math.PI,Math.PI)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),l=function(){return e(-180,180)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(351),l=function(s){return e(s+Math.PI)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=function(s,r,a){return a===void 0&&(a=.05),s===r||(Math.abs(r-s)<=a||Math.abs(r-s)>=e.PI2-a?s=r:(Math.abs(r-s)>Math.PI&&(r<s?r+=e.PI2:r-=e.PI2),r>s?s+=a:r<s&&(s-=a))),s};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=l-e;if(s===0)return 0;var r=Math.floor((s- -180)/360);return s-r*360};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Between:t(50),BetweenPoints:t(352),BetweenPointsSquared:t(822),Chebyshev:t(823),Power:t(824),Snake:t(825),Squared:t(353)}},function(i,d){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.x-l.x,r=e.y-l.y;return s*s+r*r};i.exports=t},function(i,d){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){return Math.max(Math.abs(e-s),Math.abs(l-r))};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(s-e,a)+Math.pow(r-l,a))};i.exports=t},function(i,d){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){return Math.abs(e-s)+Math.abs(l-r)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Back:t(334),Bounce:t(335),Circular:t(336),Cubic:t(337),Elastic:t(338),Expo:t(339),Linear:t(340),Quadratic:t(341),Quartic:t(342),Quintic:t(343),Sine:t(344),Stepped:t(345)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Ceil:t(828),Equal:t(124),Floor:t(829),GreaterThan:t(354),LessThan:t(355)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===void 0&&(l=1e-4),Math.ceil(e-l)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===void 0&&(l=1e-4),Math.floor(e+l)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Bezier:t(831),CatmullRom:t(832),CubicBezier:t(358),Linear:t(833),QuadraticBezier:t(359),SmoothStep:t(360),SmootherStep:t(834)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(356),l=function(s,r){for(var a=0,o=s.length-1,n=0;n<=o;n++)a+=Math.pow(1-r,o-n)*Math.pow(r,n)*s[n]*e(o,n);return a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),l=function(s,r){var a=s.length-1,o=a*r,n=Math.floor(o);return s[0]===s[a]?(r<0&&(n=Math.floor(o=a*(1+r))),e(o-n,s[(n-1+a)%a],s[n],s[(n+1)%a],s[(n+2)%a])):r<0?s[0]-(e(-o,s[0],s[0],s[1],s[1])-s[0]):r>1?s[a]-(e(o-a,s[a],s[a],s[a-1],s[a-1])-s[a]):e(o-n,s[n?n-1:0],s[n],s[a<n+1?a:n+1],s[a<n+2?a:n+2])};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),l=function(s,r){var a=s.length-1,o=a*r,n=Math.floor(o);return r<0?e(s[0],s[1],o):r>1?e(s[a],s[a-1],a-o):e(s[n],s[n+1>a?a:n+1],o-n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),l=function(s,r,a){return r+(a-r)*e(s,0,1)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={GetNext:t(361),IsSize:t(138),IsValue:t(836)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0&&(e&e-1)===0};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Ceil:t(139),Floor:t(76),To:t(838)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){return s===void 0&&(s=0),l===0?e:(e-=s,e=l*Math.round(e/l),r?(s+e)/l:s+e)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=new e({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var s=2091639*this.s0+this.c*23283064365386963e-26;return this.c=s|0,this.s0=this.s1,this.s1=this.s2,this.s2=s-this.c,this.s2},hash:function(s){var r,a=this.n;s=s.toString();for(var o=0;o<s.length;o++)a+=s.charCodeAt(o),r=.02519603282416938*a,a=r>>>0,r-=a,r*=a,a=r>>>0,r-=a,a+=r*4294967296;return this.n=a,(a>>>0)*23283064365386963e-26},init:function(s){typeof s=="string"?this.state(s):this.sow(s)},sow:function(s){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!s)for(var r=0;r<s.length&&s[r]!=null;r++){var a=s[r];this.s0-=this.hash(a),this.s0+=~~(this.s0<0),this.s1-=this.hash(a),this.s1+=~~(this.s1<0),this.s2-=this.hash(a),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(s,r){return Math.floor(this.realInRange(0,r-s+1)+s)},between:function(s,r){return Math.floor(this.realInRange(0,r-s+1)+s)},realInRange:function(s,r){return this.frac()*(r-s)+s},normal:function(){return 1-2*this.frac()},uuid:function(){var s="",r="";for(r=s="";s++<36;r+=~s%5|s*3&4?(s^15?8^this.frac()*(s^20?16:4):4).toString(16):"-");return r},pick:function(s){return s[this.integerInRange(0,s.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(s){return s[~~(Math.pow(this.frac(),2)*(s.length-1)+.5)]},timestamp:function(s,r){return this.realInRange(s||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(s){return typeof s=="string"&&s.match(/^!rnd/)&&(s=s.split(","),this.c=parseFloat(s[1]),this.s0=parseFloat(s[2]),this.s1=parseFloat(s[3]),this.s2=parseFloat(s[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(s){for(var r=s.length-1,a=r;a>0;a--){var o=Math.floor(this.frac()*(a+1)),n=s[o];s[o]=s[a],s[a]=n}return s}});i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var l=0,s=0;s<e.length;s++)l+=+e[s];return l/e.length};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){l===void 0&&(l=0),s===void 0&&(s=10);var r=Math.pow(s,-l);return Math.ceil(e*r)/r};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return Math.abs(e-l)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=t(0),s=t(69),r=t(1),a=new s,o=new l({initialize:function n(u,h,f,v){u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=n.DefaultOrder),this._x=u,this._y=h,this._z=f,this._order=v,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,u,h,f){return f===void 0&&(f=this._order),this._x=n,this._y=u,this._z=h,this._order=f,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,u,h){return u===void 0&&(u=this._order),h===void 0&&(h=!1),a.fromQuat(n),this.setFromRotationMatrix(a,u,h)},setFromRotationMatrix:function(n,u,h){u===void 0&&(u=this._order),h===void 0&&(h=!1);var f=n.val,v=f[0],m=f[4],g=f[8],x=f[1],y=f[5],T=f[9],S=f[2],E=f[6],C=f[10],A=0,P=0,R=0,M=.99999;switch(u){case"XYZ":{P=Math.asin(e(g,-1,1)),Math.abs(g)<M?(A=Math.atan2(-T,C),R=Math.atan2(-m,v)):A=Math.atan2(E,y);break}case"YXZ":{A=Math.asin(-e(T,-1,1)),Math.abs(T)<M?(P=Math.atan2(g,C),R=Math.atan2(x,y)):P=Math.atan2(-S,v);break}case"ZXY":{A=Math.asin(e(E,-1,1)),Math.abs(E)<M?(P=Math.atan2(-S,C),R=Math.atan2(-m,y)):R=Math.atan2(x,v);break}case"ZYX":{P=Math.asin(-e(S,-1,1)),Math.abs(S)<M?(A=Math.atan2(E,C),R=Math.atan2(x,v)):R=Math.atan2(-m,y);break}case"YZX":{R=Math.asin(e(x,-1,1)),Math.abs(x)<M?(A=Math.atan2(-T,y),P=Math.atan2(-S,v)):P=Math.atan2(g,C);break}case"XZY":{R=Math.asin(-e(m,-1,1)),Math.abs(m)<M?(A=Math.atan2(E,y),P=Math.atan2(g,v)):A=Math.atan2(-T,C);break}}return this._x=A,this._y=P,this._z=R,this._order=u,h&&this.onChangeCallback(this),this}});o.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],o.DefaultOrder="XYZ",i.exports=o},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){l===void 0&&(l=0),s===void 0&&(s=10);var r=Math.pow(s,-l);return Math.floor(e*r)/r};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e/l/1e3};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e==parseFloat(e)?!(e%2):void 0};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===parseFloat(e)?!(e%2):void 0};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return Math.min(e+l,s)};i.exports=t},function(i,d){/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l=e.length;if(l===0)return 0;e.sort(function(r,a){return r-a});var s=Math.floor(l/2);return l%2===0?(e[s]+e[s-1])/2:e[s]};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return Math.max(e-l,s)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s===void 0&&(s=l+1);var a=(e-l)/(s-l);return a>1?r!==void 0?(a=(r-e)/(r-s),a<0&&(a=0)):a=1:a<0&&(a=0),a};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l===void 0&&(l=1);var s=Math.random()*2*Math.PI;return e.x=Math.cos(s)*l,e.y=Math.sin(s)*l,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l===void 0&&(l=1);var s=Math.random()*2*Math.PI,r=Math.random()*2-1,a=Math.sqrt(1-r*r)*l;return e.x=Math.cos(s)*a,e.y=Math.sin(s)*a,e.z=r*l,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===void 0&&(l=1),e.x=(Math.random()*2-1)*l,e.y=(Math.random()*2-1)*l,e.z=(Math.random()*2-1)*l,e.w=(Math.random()*2-1)*l,e};i.exports=t},function(i,d){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a){return e.x=l+a*Math.cos(r),e.y=s+a*Math.sin(r),e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){l===void 0&&(l=0),s===void 0&&(s=10);var r=Math.pow(s,-l);return Math.round(e*r)/r};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){l===void 0&&(l=1),s===void 0&&(s=1),r===void 0&&(r=1),r*=Math.PI/e;for(var a=[],o=[],n=0;n<e;n++)s-=l*r,l+=s*r,a[n]=s,o[n]=l;return{sin:o,cos:a,length:e}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),l=function(s,r,a,o){o===void 0&&(o=new e);var n=0,u=0,h=r*a;return s>0&&s<=h&&(s>r-1?(u=Math.floor(s/r),n=s-u*r):n=s),o.set(n,u)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return Math.abs(e-l)<=s};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),l=t(69),s=t(365),r=new l,a=new s,o=new e,n=function(u,h,f){return a.setAxisAngle(h,f),r.fromRotationTranslation(a,o.set(0,0,0)),u.transformMat4(r)};i.exports=n},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="addtexture"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="onerror"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="onload"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="ready"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="removetexture"},function(i,d){i.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pipelineafterflush"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pipelinebeforeflush"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pipelinebind"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pipelineboot"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pipelinedestroy"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pipelinerebind"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pipelineresize"},function(i,d){i.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join(`
`)},function(i,d){i.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join(`
`)},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={GenerateTexture:t(388),Palettes:t(889)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ARNE16:t(389),C64:t(890),CGA:t(891),JMP:t(892),MSX:t(893)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Path:t(895),MoveTo:t(393),CubicBezier:t(390),Curve:t(94),Ellipse:t(391),Line:t(392),QuadraticBezier:t(394),Spline:t(395)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(390),s=t(391),r=t(5),a=t(392),o=t(393),n=t(394),u=t(10),h=t(395),f=t(3),v=t(14),m=new e({initialize:function(x,y){x===void 0&&(x=0),y===void 0&&(y=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new f,this._tmpVec2A=new f,this._tmpVec2B=new f,typeof x=="object"?this.fromJSON(x):this.startPoint.set(x,y)},add:function(g){return this.curves.push(g),this},circleTo:function(g,x,y){return x===void 0&&(x=!1),this.ellipseTo(g,g,0,360,x,y)},closePath:function(){var g=this.curves[0].getPoint(0),x=this.curves[this.curves.length-1].getPoint(1);return g.equals(x)||this.curves.push(new a(x,g)),this},cubicBezierTo:function(g,x,y,T,S,E){var C=this.getEndPoint(),A,P,R;return g instanceof f?(A=g,P=x,R=y):(A=new f(y,T),P=new f(S,E),R=new f(g,x)),this.add(new l(C,A,P,R))},quadraticBezierTo:function(g,x,y,T){var S=this.getEndPoint(),E,C;return g instanceof f?(E=g,C=x):(E=new f(y,T),C=new f(g,x)),this.add(new n(S,E,C))},draw:function(g,x){for(var y=0;y<this.curves.length;y++){var T=this.curves[y];!T.active||T.draw(g,x)}return g},ellipseTo:function(g,x,y,T,S,E){var C=new s(0,0,g,x,y,T,S,E),A=this.getEndPoint(this._tmpVec2A),P=C.getStartPoint(this._tmpVec2B);return A.subtract(P),C.x=A.x,C.y=A.y,this.add(C)},fromJSON:function(g){this.curves=[],this.cacheLengths=[],this.startPoint.set(g.x,g.y),this.autoClose=g.autoClose;for(var x=0;x<g.curves.length;x++){var y=g.curves[x];switch(y.type){case"LineCurve":this.add(a.fromJSON(y));break;case"EllipseCurve":this.add(s.fromJSON(y));break;case"SplineCurve":this.add(h.fromJSON(y));break;case"CubicBezierCurve":this.add(l.fromJSON(y));break;case"QuadraticBezierCurve":this.add(n.fromJSON(y));break}}return this},getBounds:function(g,x){g===void 0&&(g=new u),x===void 0&&(x=16),g.x=Number.MAX_VALUE,g.y=Number.MAX_VALUE;for(var y=new u,T=v.MIN_SAFE_INTEGER,S=v.MIN_SAFE_INTEGER,E=0;E<this.curves.length;E++){var C=this.curves[E];!C.active||(C.getBounds(y,x),g.x=Math.min(g.x,y.x),g.y=Math.min(g.y,y.y),T=Math.max(T,y.right),S=Math.max(S,y.bottom))}return g.right=T,g.bottom=S,g},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var g=[],x=0,y=0;y<this.curves.length;y++)x+=this.curves[y].getLength(),g.push(x);return this.cacheLengths=g,g},getEndPoint:function(g){return g===void 0&&(g=new f),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,g):g.copy(this.startPoint),g},getLength:function(){var g=this.getCurveLengths();return g[g.length-1]},getPoint:function(g,x){x===void 0&&(x=new f);for(var y=g*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=y){var E=T[S]-y,C=this.curves[S],A=C.getLength(),P=A===0?0:1-E/A;return C.getPointAt(P,x)}S++}return null},getPoints:function(g){g===void 0&&(g=12);for(var x=[],y,T=0;T<this.curves.length;T++){var S=this.curves[T];if(!!S.active)for(var E=S.getResolution(g),C=S.getPoints(E),A=0;A<C.length;A++){var P=C[A];y&&y.equals(P)||(x.push(P),y=P)}}return this.autoClose&&x.length>1&&!x[x.length-1].equals(x[0])&&x.push(x[0]),x},getRandomPoint:function(g){return g===void 0&&(g=new f),this.getPoint(Math.random(),g)},getSpacedPoints:function(g){g===void 0&&(g=40);for(var x=[],y=0;y<=g;y++)x.push(this.getPoint(y/g));return this.autoClose&&x.push(x[0]),x},getStartPoint:function(g){return g===void 0&&(g=new f),g.copy(this.startPoint)},getTangent:function(g,x){x===void 0&&(x=new f);for(var y=g*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=y){var E=T[S]-y,C=this.curves[S],A=C.getLength(),P=A===0?0:1-E/A;return C.getTangentAt(P,x)}S++}return null},lineTo:function(g,x){g instanceof f?this._tmpVec2B.copy(g):this._tmpVec2B.set(g,x);var y=this.getEndPoint(this._tmpVec2A);return this.add(new a([y.x,y.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(g){return g.unshift(this.getEndPoint()),this.add(new h(g))},moveTo:function(g,x){return g instanceof f?this.add(new o(g.x,g.y)):this.add(new o(g,x))},toJSON:function(){for(var g=[],x=0;x<this.curves.length;x++)g.push(this.curves[x].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:g}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(g,x){return new m(g,x)}),i.exports=m},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={DataManager:t(101),DataManagerPlugin:t(897),Events:t(315)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(101),s=t(24),r=t(20),a=new e({Extends:l,initialize:function(n){l.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(r.BOOT,this.boot,this),n.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){l.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",a,"data"),i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Align:t(899),BaseShader:t(396),Bounds:t(902),Canvas:t(906),Color:t(397),ColorMatrix:t(198),Masks:t(916),RGB:t(200)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),l=t(17),s={In:t(900),To:t(901)};s=l(!1,s,e),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={BottomCenter:t(290),BottomLeft:t(291),BottomRight:t(292),Center:t(293),LeftCenter:t(295),QuickSet:t(289),RightCenter:t(296),TopCenter:t(297),TopLeft:t(298),TopRight:t(299)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={BottomCenter:t(277),BottomLeft:t(278),BottomRight:t(279),LeftBottom:t(280),LeftCenter:t(281),LeftTop:t(282),QuickSet:t(276),RightBottom:t(283),RightCenter:t(284),RightTop:t(285),TopCenter:t(286),TopLeft:t(287),TopRight:t(288)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={CenterOn:t(294),GetBottom:t(42),GetBounds:t(903),GetCenterX:t(87),GetCenterY:t(89),GetLeft:t(43),GetOffsetX:t(904),GetOffsetY:t(905),GetRight:t(44),GetTop:t(45),SetBottom:t(55),SetCenterX:t(88),SetCenterY:t(90),SetLeft:t(53),SetRight:t(54),SetTop:t(52)}},function(i,d,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),l=t(43),s=t(44),r=t(45),a=function(o,n){n===void 0&&(n={});var u=l(o),h=r(o);return n.x=u,n.y=h,n.width=s(o)-u,n.height=e(o)-h,n};i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.originX};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height*e.originY};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={CanvasInterpolation:t(367),CanvasPool:t(31),Smoothing:t(192),TouchAction:t(907),UserSelect:t(908)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===void 0&&(l="none"),e.style.msTouchAction=l,e.style["ms-touch-action"]=l,e.style["touch-action"]=l,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l===void 0&&(l="none");var s=["-webkit-","-khtml-","-moz-","-ms-",""];return s.forEach(function(r){e.style[r+"user-select"]=l}),e.style["-webkit-touch-callout"]=l,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),l=function(s){s===void 0&&(s=1024);var r=[],a=255,o,n=255,u=0,h=0;for(o=0;o<=a;o++)r.push({r:n,g:o,b:h,color:e(n,o,h)});for(u=255,o=a;o>=0;o--)r.push({r:o,g:u,b:h,color:e(o,u,h)});for(n=0,o=0;o<=a;o++,u--)r.push({r:n,g:u,b:o,color:e(n,u,o)});for(u=0,h=255,o=0;o<=a;o++,h--,n++)r.push({r:n,g:u,b:h,color:e(n,u,h)});if(s===1024)return r;var f=[],v=0,m=1024/s;for(o=0;o<s;o++)f.push(r[Math.floor(v)]),v+=m;return f};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(l.a=e>>>24),l};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),l=t(399),s=function(r,a,o){var n=o,u=o,h=o;if(a!==0){var f=o<.5?o*(1+a):o+a-o*a,v=2*o-f;n=l(v,f,r+1/3),u=l(v,f,r),h=l(v,f,r-1/3)}var m=new e;return m.setGLTo(n,u,h,1)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(188),l=function(s,r){s===void 0&&(s=1),r===void 0&&(r=1);for(var a=[],o=0;o<=359;o++)a.push(e(o/359,s,r));return a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),l=function(a,o,n,u,h,f,v,m){v===void 0&&(v=100),m===void 0&&(m=0);var g=m/v;return{r:e(a,u,g),g:e(o,h,g),b:e(n,f,g)}},s=function(a,o,n,u){return n===void 0&&(n=100),u===void 0&&(u=0),l(a.r,a.g,a.b,o.r,o.g,o.b,n,u)},r=function(a,o,n,u,h,f){return h===void 0&&(h=100),f===void 0&&(f=0),l(a.r,a.g,a.b,o,n,u,h,f)};i.exports={RGBWithRGB:l,ColorWithRGB:r,ColorWithColor:s}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),l=t(38),s=function(r,a){return r===void 0&&(r=0),a===void 0&&(a=255),new l(e(r,a),e(r,a),e(r,a))};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(398),l=function(s,r,a,o,n){return o===void 0&&(o=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(s<<16)+(r<<8)+a).toString(16).slice(1,7):"0x"+e(o)+e(s)+e(r)+e(a)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={BitmapMask:t(310),GeometryMask:t(311)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={AddToDOM:t(142),DOMContentLoaded:t(400),GetInnerHeight:t(401),GetScreenOrientation:t(402),GetTarget:t(407),ParseXML:t(408),RemoveFromDOM:t(202),RequestAnimationFrame:t(386)};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={EventEmitter:t(919)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(9),s=t(24),r=new e({Extends:l,initialize:function(){l.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",r,"events"),i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),l=t(321),s=t(325),r=t(31),a=t(0),o=t(346),n=t(921),u=t(366),h=t(101),f=t(384),v=t(347),m=t(400),g=t(9),x=t(22),y=t(409),T=t(24),S=t(414),E=t(415),C=t(417),A=t(106),P=t(422),R=t(385),M=t(387),L=t(426),O=new a({initialize:function(w){this.config=new o(w),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new g,this.anims=new l(this),this.textures=new P(this),this.cache=new s(this),this.registry=new h(this),this.input=new y(this,this.config),this.scene=new C(this,this.config.sceneConfig),this.device=v,this.scale=new E(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new R(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,m(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),n(this),f(this),e(this.canvas,this.config.parent),this.textures.once(A.READY,this.texturesReady,this),this.events.emit(x.BOOT)},texturesReady:function(){this.events.emit(x.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),M(this);var I=this.events;I.on(x.HIDDEN,this.onHidden,this),I.on(x.VISIBLE,this.onVisible,this),I.on(x.BLUR,this.onBlur,this),I.on(x.FOCUS,this.onFocus,this)},step:function(I,w){if(this.pendingDestroy)return this.runDestroy();var G=this.events;G.emit(x.PRE_STEP,I,w),G.emit(x.STEP,I,w),this.scene.update(I,w),G.emit(x.POST_STEP,I,w);var V=this.renderer;V.preRender(),G.emit(x.PRE_RENDER,V,I,w),this.scene.render(V),V.postRender(),G.emit(x.POST_RENDER,V,I,w)},headlessStep:function(I,w){if(this.pendingDestroy)return this.runDestroy();var G=this.events;G.emit(x.PRE_STEP,I,w),G.emit(x.STEP,I,w),this.scene.update(I,w),G.emit(x.POST_STEP,I,w),G.emit(x.PRE_RENDER),G.emit(x.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(x.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(x.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,w){w===void 0&&(w=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=w},runDestroy:function(){this.scene.destroy(),this.events.emit(x.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});i.exports=O},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),l=function(s){var r=s.config;if(!(!r.parent||!r.domCreateContainer)){var a=document.createElement("div");a.style.cssText=["display: block;","width: "+s.scale.width+"px;","height: "+s.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),s.domContainer=a,e(a,r.parent)}};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="boot"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="destroy"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragend"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragenter"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="drag"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragleave"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragover"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="drop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="gameout"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="gameover"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="gameobjectdown"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragend"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragenter"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="drag"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragleave"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragover"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="drop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="gameobjectmove"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="gameobjectout"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="gameobjectover"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerdown"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointermove"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerout"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerover"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerup"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="wheel"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="gameobjectup"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="gameobjectwheel"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="boot"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="process"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="update"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerdown"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerdownoutside"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointermove"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerout"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerover"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerup"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerupoutside"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="wheel"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pointerlockchange"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="preupdate"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="shutdown"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="start"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="update"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="addfile"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="complete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="filecomplete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="filecomplete-"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="loaderror"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="load"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="fileprogress"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="postprocess"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="progress"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="start"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(!s.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var r=e.source[l];e.add("__BASE",l,0,0,r.width,r.height);for(var a=s.getElementsByTagName("SubTexture"),o,n=0;n<a.length;n++){var u=a[n].attributes,h=u.name.value,f=parseInt(u.x.value,10),v=parseInt(u.y.value,10),m=parseInt(u.width.value,10),g=parseInt(u.height.value,10);if(o=e.add(h,l,f,v,m,g),u.frameX){var x=Math.abs(parseInt(u.frameX.value,10)),y=Math.abs(parseInt(u.frameY.value,10)),T=parseInt(u.frameWidth.value,10),S=parseInt(u.frameHeight.value,10);o.setTrim(m,g,x,y,T,S)}}return e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.source[l];return e.add("__BASE",l,0,0,s.width,s.height),e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.source[l];return e.add("__BASE",l,0,0,s.width,s.height),e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),l=function(s,r,a){if(!a.frames&&!a.textures){console.warn("Invalid Texture Atlas JSON Array");return}var o=s.source[r];s.add("__BASE",r,0,0,o.width,o.height);for(var n=Array.isArray(a.textures)?a.textures[r].frames:a.frames,u,h=0;h<n.length;h++){var f=n[h];u=s.add(f.filename,r,f.frame.x,f.frame.y,f.frame.w,f.frame.h),f.trimmed&&u.setTrim(f.sourceSize.w,f.sourceSize.h,f.spriteSourceSize.x,f.spriteSourceSize.y,f.spriteSourceSize.w,f.spriteSourceSize.h),f.rotated&&(u.rotated=!0,u.updateUVsInverted());var v=f.anchor||f.pivot;v&&(u.customPivot=!0,u.pivotX=v.x,u.pivotY=v.y),u.customData=e(f)}for(var m in a)m!=="frames"&&(Array.isArray(a[m])?s.customData[m]=a[m].slice(0):s.customData[m]=a[m]);return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),l=function(s,r,a){if(!a.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var o=s.source[r];s.add("__BASE",r,0,0,o.width,o.height);var n=a.frames,u;for(var h in n)if(!!n.hasOwnProperty(h)){var f=n[h];u=s.add(h,r,f.frame.x,f.frame.y,f.frame.w,f.frame.h),f.trimmed&&u.setTrim(f.sourceSize.w,f.sourceSize.h,f.spriteSourceSize.x,f.spriteSourceSize.y,f.spriteSourceSize.w,f.spriteSourceSize.h),f.rotated&&(u.rotated=!0,u.updateUVsInverted());var v=f.anchor||f.pivot;v&&(u.customPivot=!0,u.pivotX=v.x,u.pivotY=v.y),u.customData=e(f)}for(var m in a)m!=="frames"&&(Array.isArray(a[m])?s.customData[m]=a[m].slice(0):s.customData[m]=a[m]);return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),l=function(s,r,a,o,n,u,h){var f=e(h,"frameWidth",null),v=e(h,"frameHeight",f);if(f===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=s.source[r];s.add("__BASE",r,0,0,m.width,m.height);var g=e(h,"startFrame",0),x=e(h,"endFrame",-1),y=e(h,"margin",0),T=e(h,"spacing",0),S=Math.floor((n-y+T)/(f+T)),E=Math.floor((u-y+T)/(v+T)),C=S*E;C===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",s.key),(g>C||g<-C)&&(g=0),g<0&&(g=C+g),x!==-1&&(C=g+(x+1));for(var A=y,P=y,R=0,M=0,L=0;L<C;L++){R=0,M=0;var O=A+f,I=P+v;O>n&&(R=O-n),I>u&&(M=I-u),s.add(L,r,a+A,o+P,f-R,v-M),A+=f+T,A+f>n&&(A=y,P+=v+T)}return s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),l=function(s,r,a){var o=e(a,"frameWidth",null),n=e(a,"frameHeight",o);if(!o)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var u=s.source[0];s.add("__BASE",0,0,0,u.width,u.height),e(a,"startFrame",0),e(a,"endFrame",-1);for(var h=e(a,"margin",0),f=e(a,"spacing",0),v=r.cutX,m=r.cutY,g=r.cutWidth,x=r.cutHeight,y=r.realWidth,T=r.realHeight,S=Math.floor((y-h+f)/(o+f)),E=Math.floor((T-h+f)/(n+f)),C=r.x,A=o-C,P=o-(y-g-C),R=r.y,M=n-R,L=n-(T-x-R),O,I=h,w=h,G=0,V=r.sourceIndex,X=0;X<E;X++){for(var W=X===0,D=X===E-1,F=0;F<S;F++){var B=F===0,b=F===S-1;if(O=s.add(G,V,v+I,m+w,o,n),B||W||b||D){var z=B?C:0,N=W?R:0,U=0,Y=0;B&&(U+=o-A),b&&(U+=o-P),W&&(Y+=n-M),D&&(Y+=n-L);var K=o-U,Z=n-Y;O.cutWidth=K,O.cutHeight=Z,O.setTrim(o,n,z,N,K,Z)}I+=f,B?I+=A:b?I+=P:I+=o,G++}I=h,w+=f,W?w+=M:D?w+=L:w+=n}return s};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=0,e=function(s,r,a,o){var n=t-o.y-o.height;s.add(a,r,o.x,n,o.width,o.height)},l=function(s,r,a){var o=s.source[r];s.add("__BASE",r,0,0,o.width,o.height),t=o.height;for(var n=a.split(`
`),u=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",f="",v={x:0,y:0,width:0,height:0},m=0;m<n.length;m++){var g=n[m].match(u);if(!!g){var x=g[1]==="- ",y=g[2],T=g[3];if(x&&(f!==h&&(e(s,r,f,v),h=f),v={x:0,y:0,width:0,height:0}),y==="name"){f=T;continue}switch(y){case"x":case"y":case"width":case"height":v[y]=parseInt(T,10);break}}}return f!==h&&e(s,r,f,v),s};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="complete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="decoded"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="decodedall"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="destroy"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="detune"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="detune"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="mute"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="rate"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="volume"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="loop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="looped"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="mute"},function(i,d){/**
 * @author       pi-kei
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pan"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pauseall"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pause"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="play"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="rate"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resumeall"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resume"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="seek"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="stopall"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="stop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="unlocked"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="volume"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Events:t(75),DisplayList:t(1012),GameObjectCreator:t(16),GameObjectFactory:t(5),UpdateList:t(1040),Components:t(11),GetCalcMatrix:t(19),BuildGameObject:t(28),BuildGameObjectAnimation:t(439),GameObject:t(15),BitmapText:t(148),Blitter:t(213),Bob:t(440),Container:t(214),DOMElement:t(442),DynamicBitmapText:t(215),Extern:t(444),Graphics:t(216),Group:t(113),Image:t(125),Layer:t(219),Particles:t(1074),PathFollower:t(457),RenderTexture:t(221),RetroFont:t(1082),Rope:t(223),Sprite:t(73),Text:t(224),GetTextSize:t(458),MeasureText:t(460),TextStyle:t(459),TileSprite:t(225),Zone:t(129),Video:t(226),Shape:t(34),Arc:t(461),Curve:t(462),Ellipse:t(463),Grid:t(464),IsoBox:t(465),IsoTriangle:t(466),Line:t(467),Polygon:t(468),Rectangle:t(473),Star:t(474),Triangle:t(475),Factories:{Blitter:t(1130),Container:t(1131),DOMElement:t(1132),DynamicBitmapText:t(1133),Extern:t(1134),Graphics:t(1135),Group:t(1136),Image:t(1137),Layer:t(1138),Particles:t(1139),PathFollower:t(1140),RenderTexture:t(1141),Rope:t(1142),Sprite:t(1143),StaticBitmapText:t(1144),Text:t(1145),TileSprite:t(1146),Zone:t(1147),Video:t(1148),Arc:t(1149),Curve:t(1150),Ellipse:t(1151),Grid:t(1152),IsoBox:t(1153),IsoTriangle:t(1154),Line:t(1155),Polygon:t(1156),Rectangle:t(1157),Star:t(1158),Triangle:t(1159)},Creators:{Blitter:t(1160),Container:t(1161),DynamicBitmapText:t(1162),Graphics:t(1163),Group:t(1164),Image:t(1165),Layer:t(1166),Particles:t(1167),RenderTexture:t(1168),Rope:t(1169),Sprite:t(1170),StaticBitmapText:t(1171),Text:t(1172),TileSprite:t(1173),Zone:t(1174),Video:t(1175)}};e.Shader=t(229),e.Mesh=t(230),e.PointLight=t(150),e.Factories.Shader=t(1184),e.Factories.Mesh=t(1185),e.Factories.PointLight=t(1186),e.Creators.Shader=t(1187),e.Creators.Mesh=t(1188),e.Creators.PointLight=t(1189),e.Light=t(481),e.LightsManager=t(482),e.LightsPlugin=t(1190),i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(110),s=t(24),r=t(75),a=t(20),o=t(79),n=new e({Extends:l,initialize:function(h){l.call(this,h),this.sortChildrenFlag=!1,this.scene=h,this.systems=h.sys,this.events=h.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},addChildCallback:function(u){u.displayList&&u.displayList!==this&&u.removeFromDisplayList(),u.displayList||(this.queueDepthSort(),u.displayList=this,u.emit(r.ADDED_TO_SCENE,u,this.scene),this.events.emit(a.ADDED_TO_SCENE,u,this.scene))},removeChildCallback:function(u){this.queueDepthSort(),u.displayList=null,u.emit(r.REMOVED_FROM_SCENE,u,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,u,this.scene)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(u,h){return u._depth-h._depth},getChildren:function(){return this.list},shutdown:function(){for(var u=this.list,h=u.length;h--;)u[h].destroy(!0);u.length=0,this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});s.register("DisplayList",n,"displayList"),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={CheckMatrix:t(209),MatrixToString:t(1014),ReverseColumns:t(1015),ReverseRows:t(1016),Rotate180:t(1017),RotateLeft:t(1018),RotateMatrix:t(147),RotateRight:t(1019),Translate:t(1020),TransposeMatrix:t(435)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(186),l=t(209),s=function(r){var a="";if(!l(r))return a;for(var o=0;o<r.length;o++){for(var n=0;n<r[o].length;n++){var u=r[o][n].toString();u!=="undefined"?a+=e(u,2):a+="?",n<r[o].length-1&&(a+=" |")}if(o<r.length-1){a+=`
`;for(var h=0;h<r[o].length;h++)a+="---",h<r[o].length-1&&(a+="+");a+=`
`}}return a};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.reverse()};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var l=0;l<e.length;l++)e[l].reverse();return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),l=function(s){return e(s,180)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),l=function(s){return e(s,90)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),l=function(s){return e(s,-90)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(178),l=t(179),s=function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),o!==0&&(o<0?e(r,Math.abs(o)):l(r,o)),a!==0)for(var n=0;n<r.length;n++){var u=r[n];a<0?e(u,Math.abs(a)):l(u,a)}return r};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a){if(a===void 0&&(a=e),s>0){var o=s-e.length;if(o<=0)return null}if(!Array.isArray(l))return e.indexOf(l)===-1?(e.push(l),r&&r.call(a,l),l):null;for(var n=l.length-1;n>=0;)e.indexOf(l[n])!==-1&&l.splice(n,1),n--;if(n=l.length,n===0)return null;s>0&&n>o&&(l.splice(o),n=o);for(var u=0;u<n;u++){var h=l[u];e.push(h),r&&r.call(a,h)}return l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a,o){if(s===void 0&&(s=0),o===void 0&&(o=e),r>0){var n=r-e.length;if(n<=0)return null}if(!Array.isArray(l))return e.indexOf(l)===-1?(e.splice(s,0,l),a&&a.call(o,l),l):null;for(var u=l.length-1;u>=0;)e.indexOf(l[u])!==-1&&l.pop(),u--;if(u=l.length,u===0)return null;r>0&&u>n&&(l.splice(n),u=n);for(var h=u-1;h>=0;h--){var f=l[h];e.splice(s,0,f),a&&a.call(o,f)}return l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.indexOf(l);return s!==-1&&s<e.length&&(e.splice(s,1),e.push(l)),l};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),l=function(s,r,a,o,n){o===void 0&&(o=0),n===void 0&&(n=s.length);var u=0;if(e(s,o,n))for(var h=o;h<n;h++){var f=s[h];f[r]===a&&u++}return u};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r,a=[null];for(r=3;r<arguments.length;r++)a.push(arguments[r]);for(r=0;r<e.length;r++)a[0]=e[r],l.apply(s,a);return e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),l=function(s,r,a,o,n){if(o===void 0&&(o=0),n===void 0&&(n=s.length),e(s,o,n)){var u,h=[null];for(u=5;u<arguments.length;u++)h.push(arguments[u]);for(u=o;u<n;u++)h[0]=s[u],r.apply(a,h)}return s};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.indexOf(l);if(s>0){var r=e[s-1],a=e.indexOf(r);e[s]=r,e[a]=l}return e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=e.indexOf(l);if(r===-1||s<0||s>=e.length)throw new Error("Supplied index out of bounds");return r!==s&&(e.splice(r,1),e.splice(s,0,l)),l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.indexOf(l);if(s!==-1&&s<e.length-1){var r=e[s+1],a=e.indexOf(r);e[s]=r,e[a]=l}return e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(l===s)return e;var r=e.indexOf(l),a=e.indexOf(s);if(r<0||a<0)throw new Error("Supplied items must be elements of the same array");return r>a||(e.splice(r,1),a===e.length-1?e.push(l):e.splice(a,0,l)),e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(l===s)return e;var r=e.indexOf(l),a=e.indexOf(s);if(r<0||a<0)throw new Error("Supplied items must be elements of the same array");return r<a||(e.splice(r,1),a===0?e.unshift(l):e.splice(a,0,l)),e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(363),l=function(s,r,a){s===void 0&&(s=0),r===void 0&&(r=null),a===void 0&&(a=1),r===null&&(r=s,s=0);for(var o=[],n=Math.max(e((r-s)/(a||1)),0),u=0;u<n;u++)o.push(s),s+=a;return o};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),l=function(s,r,a,o){if(o===void 0&&(o=s),r<0||r>s.length-1)throw new Error("Index out of bounds");var n=e(s,r);return a&&a.call(o,n),n};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),l=function(s,r,a,o,n){if(r===void 0&&(r=0),a===void 0&&(a=s.length),n===void 0&&(n=s),e(s,r,a)){var u=a-r,h=s.splice(r,u);if(o)for(var f=0;f<h.length;f++){var v=h[f];o.call(n,v)}return h}else return[]};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),l=function(s,r,a){r===void 0&&(r=0),a===void 0&&(a=s.length);var o=r+Math.floor(Math.random()*a);return e(s,o)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=e.indexOf(l),a=e.indexOf(s);return r!==-1&&a===-1?(e[r]=s,!0):!1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.indexOf(l);return s!==-1&&s>0&&(e.splice(s,1),e.unshift(l)),l};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),l=function(s,r,a,o,n){if(o===void 0&&(o=0),n===void 0&&(n=s.length),e(s,o,n))for(var u=o;u<n;u++){var h=s[u];h.hasOwnProperty(r)&&(h[r]=a)}return s};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){if(l===s)return e;var r=e.indexOf(l),a=e.indexOf(s);if(r<0||a<0)throw new Error("Supplied items must be elements of the same array");return e[r]=s,e[a]=l,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(211),s=t(24),r=t(20),a=new e({Extends:l,initialize:function(n){l.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(r.BOOT,this.boot,this),n.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(r.PRE_UPDATE,this.update,this),o.on(r.UPDATE,this.sceneUpdate,this),o.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(o,n){for(var u=this._active,h=u.length,f=0;f<h;f++){var v=u[f];v.active&&v.preUpdate.call(v,o,n)}},shutdown:function(){for(var o=this._active.length;o--;)this._active[o].destroy(!0);for(o=this._pending.length;o--;)this._pending[o].destroy(!0);for(o=this._destroy.length;o--;)this._destroy[o].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(r.PRE_UPDATE,this.update,this),n.off(r.UPDATE,this.sceneUpdate,this),n.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",a,"updateList"),i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="add"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="remove"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){if(s===void 0&&(s=!1),r===void 0)return r={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},r;var a=e.text,o=a.length,n=e.maxWidth,u=e.wordWrapCharCode,h=Number.MAX_VALUE,f=Number.MAX_VALUE,v=0,m=0,g=e.fontData.chars,x=e.fontData.lineHeight,y=e.letterSpacing,T=0,S=0,E=0,C=null,A=e._align,P=0,R=0,M=e.fontSize/e.fontData.size,L=M*e.scaleX,O=M*e.scaleY,I=null,w=0,G=[],V=Number.MAX_VALUE,X=0,W=0,D=0,F,B=[],b=[],z=null;if(n>0){for(F=0;F<o;F++){if(E=a.charCodeAt(F),E===10){z!==null&&(B.push({word:z.word,i:z.i,x:z.x*L,y:z.y*O,w:z.w*L,h:z.h*O,cr:!0}),z=null),T=0,S+=x,I=null;continue}if(C=g[E],!!C){if(I!==null)var N=C.kerning[w];E===u?z!==null&&(B.push({word:z.word,i:z.i,x:z.x*L,y:z.y*O,w:z.w*L,h:z.h*O,cr:!1}),z=null):(z===null&&(z={word:"",i:F,x:T,y:S,w:0,h:x,cr:!1}),z.word=z.word.concat(a[F]),z.w+=C.xOffset+C.xAdvance+(N!==void 0?N:0)),T+=C.xAdvance+y,I=C,w=E}}z!==null&&B.push({word:z.word,i:z.i,x:z.x*L,y:z.y*O,w:z.w*L,h:z.h*O,cr:!1}),T=0,S=0,I=null,w=0;var U,Y=0,K=[];for(F=0;F<B.length;F++){var Z=B[F],j=Z.x,q=Z.x+Z.w;if(U){var k=j-(U.x+U.w);Y=j-(k+U.w),U=null}var H=j-Y,$=q-Y;H>n||$>n?(K.push(Z.i-1),Z.cr?(K.push(Z.i+Z.word.length),Y=0,U=null):U=Z):Z.cr&&(K.push(Z.i+Z.word.length),Y=0,U=null)}var J=function(vt,ct,mt){return vt.substr(0,ct)+mt+vt.substr(ct+1)};for(F=K.length-1;F>=0;F--)a=J(a,K[F],`
`);r.wrappedText=a,o=a.length,B=[],z=null}var et=0;for(F=0;F<o;F++){if(E=a.charCodeAt(F),E===10){z!==null&&(B.push({word:z.word,i:z.i,x:z.x*L,y:z.y*O,w:z.w*L,h:z.h*O}),z=null),T=0,S+=x,I=null,G[W]=D,D>X&&(X=D),D<V&&(V=D),W++,D=0;continue}if(C=g[E],!!C){if(P=T,R=S,I!==null){var _=C.kerning[w];P+=_!==void 0?_:0}h>P&&(h=P),f>R&&(f=R);var it=P+C.xAdvance,Q=R+x;v<it&&(v=it),m<Q&&(m=Q);var st=C.xOffset+C.xAdvance+(_!==void 0?_:0);E===u?z!==null&&(B.push({word:z.word,i:z.i,x:z.x*L,y:z.y*O,w:z.w*L,h:z.h*O}),z=null):(z===null&&(z={word:"",i:et,x:T,y:S,w:0,h:x}),z.word=z.word.concat(a[F]),z.w+=st),b.push({i:et,char:a[F],code:E,x:(C.xOffset+T)*M,y:(C.yOffset+S)*M,w:C.width*M,h:C.height*M,t:S*M,r:it*M,b:x*M,line:W,glyph:C}),T+=C.xAdvance+y,I=C,w=E,D=it*M,et++}}if(z!==null&&B.push({word:z.word,i:z.i,x:z.x*L,y:z.y*O,w:z.w*L,h:z.h*O}),G[W]=D,D>X&&(X=D),D<V&&(V=D),A>0)for(var nt=0;nt<b.length;nt++){var tt=b[nt];if(A===1){var ut=(X-G[tt.line])/2;tt.x+=ut,tt.r+=ut}else if(A===2){var ot=X-G[tt.line];tt.x+=ot,tt.r+=ot}}var at=r.local,ht=r.global,ft=r.lines;return at.x=h*M,at.y=f*M,at.width=v*M,at.height=m*M,ht.x=e.x-e._displayOriginX+h*L,ht.y=e.y-e._displayOriginY+f*O,ht.width=v*L,ht.height=m*O,ft.shortest=V,ft.longest=X,ft.lengths=G,l&&(at.x=Math.ceil(at.x),at.y=Math.ceil(at.y),at.width=Math.ceil(at.width),at.height=Math.ceil(at.height),ht.x=Math.ceil(globalThis.x),ht.y=Math.ceil(globalThis.y),ht.width=Math.ceil(globalThis.width),ht.height=Math.ceil(globalThis.height),ft.shortest=Math.ceil(V),ft.longest=Math.ceil(X)),s&&(e._displayOriginX=e.originX*at.width,e._displayOriginY=e.originY*at.height,ht.x=e.x-e._displayOriginX*e.scaleX,ht.y=e.y-e._displayOriginY*e.scaleY,l&&(ht.x=Math.ceil(globalThis.x),ht.y=Math.ceil(globalThis.y))),r.words=B,r.characters=b,r.lines.height=x,r.scale=M,r.scaleX=e.scaleX,r.scaleY=e.scaleY,r};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(212),l=function(s,r,a,o,n,u,h){var f=s.sys.textures.get(a),v=f.get(o),m=s.sys.cache.xml.get(n);if(v&&m){var g=e(m,v,u,h,f);return s.sys.cache.bitmapFont.add(r,{data:g,texture:a,frame:o,fromAtlas:!0}),!0}else return!1};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1046),l=t(1048),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1047),l=t(19),s=t(12),r=function(a,o,n,u){var h=o._text,f=h.length;if(f!==0){n.addToRenderList(o);var v=a.pipelines.set(o.pipeline,o),m=l(o,n,u).calc,g=n.roundPixels,x=n.alpha,y=o.charColors,T=o.tintFill,S=s.getTintAppendFloatAlpha,E=S(o.tintTopLeft,x*o._alphaTL),C=S(o.tintTopRight,x*o._alphaTR),A=S(o.tintBottomLeft,x*o._alphaBL),P=S(o.tintBottomRight,x*o._alphaBR),R=o.frame.glTexture,M=v.setGameObject(o),L=o.getTextBounds(!1),O,I,w,G=L.characters,V=o.dropShadowX,X=o.dropShadowY,W=V!==0||X!==0;if(a.pipelines.preBatch(o),W){var D=o.dropShadowColor,F=o.dropShadowAlpha,B=S(D,x*F*o._alphaTL),b=S(D,x*F*o._alphaTR),z=S(D,x*F*o._alphaBL),N=S(D,x*F*o._alphaBR);for(O=0;O<G.length;O++)I=G[O],w=I.glyph,!(I.code===32||w.width===0||w.height===0)&&e(v,o,I,w,V,X,m,g,B,b,z,N,1,R,M)}for(O=0;O<G.length;O++)if(I=G[O],w=I.glyph,!(I.code===32||w.width===0||w.height===0))if(y[I.i]){var U=y[I.i],Y=U.tintEffect,K=S(U.tintTL,x*o._alphaTL),Z=S(U.tintTR,x*o._alphaTR),j=S(U.tintBL,x*o._alphaBL),q=S(U.tintBR,x*o._alphaBR);e(v,o,I,w,0,0,m,g,K,Z,j,q,Y,R,M)}else e(v,o,I,w,0,0,m,g,E,C,A,P,T,R,M);a.pipelines.postBatch(o)}};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a,o,n,u,h,f,v,m,g,x,y){var T=s.x-l.displayOriginX+a,S=s.y-l.displayOriginY+o,E=T+s.w,C=S+s.h,A=n.getXRound(T,S,u),P=n.getYRound(T,S,u),R=n.getXRound(T,C,u),M=n.getYRound(T,C,u),L=n.getXRound(E,C,u),O=n.getYRound(E,C,u),I=n.getXRound(E,S,u),w=n.getYRound(E,S,u);e.batchQuad(l,A,P,R,M,L,O,I,w,r.u0,r.v0,r.u1,r.v1,h,f,v,m,g,x,y)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),l=function(s,r,a,o){var n=r._text,u=n.length,h=s.currentContext;if(!(u===0||!e(s,h,r,a,o))){a.addToRenderList(r);var f=r.fromAtlas?r.frame:r.texture.frames.__BASE,v=r.fontData.chars,m=r.fontData.lineHeight,g=r._letterSpacing,x=0,y=0,T=0,S=null,E=0,C=0,A=0,P=0,R=0,M=0,L=null,O=0,I=f.source.image,w=f.cutX,G=f.cutY,V=r._fontSize/r.fontData.size,X=r._align,W=0,D=0,F=r.getTextBounds(!1);r.maxWidth>0&&(n=F.wrappedText,u=n.length);var B=r._bounds.lines;X===1?D=(B.longest-B.lengths[0])/2:X===2&&(D=B.longest-B.lengths[0]),h.translate(-r.displayOriginX,-r.displayOriginY);for(var b=a.roundPixels,z=0;z<u;z++){if(T=n.charCodeAt(z),T===10){W++,X===1?D=(B.longest-B.lengths[W])/2:X===2&&(D=B.longest-B.lengths[W]),x=0,y+=m,L=null;continue}if(S=v[T],!!S){if(E=w+S.x,C=G+S.y,A=S.width,P=S.height,R=S.xOffset+x,M=S.yOffset+y,L!==null){var N=S.kerning[O];R+=N!==void 0?N:0}R*=V,M*=V,R+=D,x+=S.xAdvance+g,L=S,O=T,!(A===0||P===0||T===32)&&(b&&(R=Math.round(R),M=Math.round(M)),h.save(),h.translate(R,M),h.scale(V,V),h.drawImage(I,E,C,A,P,0,0,A,P),h.restore())}}h.restore()}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1050),l=t(1051),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),l=t(12),s=new e,r=function(a,o,n,u){var h=o.getRenderList();if(h.length!==0){var f=n.alpha*o.alpha;if(f!==0){n.addToRenderList(o);var v=a.pipelines.set(this.pipeline,o),m=n.scrollX*o.scrollFactorX,g=n.scrollY*o.scrollFactorY,x=s.copyFrom(n.matrix);u&&(x.multiplyWithOffset(u,-m,-g),m=0,g=0);var y=o.x-m,T=o.y-g,S=-1,E=!1,C=n.roundPixels;a.pipelines.preBatch(o);for(var A=0;A<h.length;A++){var P=h[A],R=P.frame,M=P.alpha*f;if(M!==0){var L=R.width,O=R.height,I=y+P.x+R.x,w=T+P.y+R.y;P.flipX&&(L*=-1,I+=R.width),P.flipY&&(O*=-1,w+=R.height);var G=I+L,V=w+O,X=x.getX(I,w),W=x.getY(I,w),D=x.getX(G,V),F=x.getY(G,V),B=l.getTintAppendFloatAlpha(P.tint,M);if(R.sourceIndex!==S){var b=v.setGameObject(o,R);S=R.sourceIndex}C&&(X=Math.round(X),W=Math.round(W),D=Math.round(D),F=Math.round(F)),v.batchQuad(o,X,W,X,F,D,F,D,W,R.u0,R.v0,R.u1,R.v1,B,B,B,B,E,R.glTexture,b)&&(S=-1)}}a.pipelines.postBatch(o)}}};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a=l.getRenderList();if(a.length!==0){var o=e.currentContext,n=s.alpha*l.alpha;if(n!==0){s.addToRenderList(l),o.globalCompositeOperation=e.blendModes[l.blendMode],o.imageSmoothingEnabled=!(!e.antialias||l.frame.source.scaleMode);var u=l.x-s.scrollX*l.scrollFactorX,h=l.y-s.scrollY*l.scrollFactorY;o.save(),r&&r.copyToContext(o);for(var f=s.roundPixels,v=0;v<a.length;v++){var m=a[v],g=m.flipX||m.flipY,x=m.frame,y=x.canvasData,T=x.x,S=x.y,E=1,C=1,A=m.alpha*n;A!==0&&(o.globalAlpha=A,g?(m.flipX&&(E=-1,T-=y.width),m.flipY&&(C=-1,S-=y.height),o.save(),o.translate(m.x+u,m.y+h),o.scale(E,C),o.drawImage(x.source.image,y.x,y.y,y.width,y.height,T,S,y.width,y.height),o.restore()):(f&&(T=Math.round(T),S=Math.round(S)),o.drawImage(x.source.image,y.x,y.y,y.width,y.height,T+m.x+u,S+m.y+h,y.width,y.height)))}o.restore()}}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1053),l=t(1054),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s.addToRenderList(l);var a=l.list,o=a.length;if(o!==0){var n=l.localTransform;r?(n.loadIdentity(),n.multiply(r),n.translate(l.x,l.y),n.rotate(l.rotation),n.scale(l.scaleX,l.scaleY)):n.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),e.pipelines.preBatch(l);var u=l.blendMode!==-1;u||e.setBlendMode(0);for(var h=l.alpha,f=l.scrollFactorX,v=l.scrollFactorY,m=0;m<o;m++){var g=a[m];if(!!g.willRender(s)){var x,y,T,S;if(g.alphaTopLeft!==void 0)x=g.alphaTopLeft,y=g.alphaTopRight,T=g.alphaBottomLeft,S=g.alphaBottomRight;else{var E=g.alpha;x=E,y=E,T=E,S=E}var C=g.scrollFactorX,A=g.scrollFactorY;!u&&g.blendMode!==e.currentBlendMode&&e.setBlendMode(g.blendMode);var P=g.mask;P&&P.preRenderWebGL(e,g,s);var R=g.type;R!==e.currentType&&(e.newType=!0,e.currentType=R),e.nextTypeMatch=m<o-1?a[m+1].type===e.currentType:!1,g.setScrollFactor(C*f,A*v),g.setAlpha(x*h,y*h,T*h,S*h),g.renderWebGL(e,g,s,n),g.setAlpha(x,y,T,S),g.setScrollFactor(C,A),P&&P.postRenderWebGL(e,s),e.newType=!1}}e.pipelines.postBatch(l)}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s.addToRenderList(l);var a=l.list;if(a.length!==0){var o=l.localTransform;r?(o.loadIdentity(),o.multiply(r),o.translate(l.x,l.y),o.rotate(l.rotation),o.scale(l.scaleX,l.scaleY)):o.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var n=l.blendMode!==-1;n||e.setBlendMode(0);var u=l._alpha,h=l.scrollFactorX,f=l.scrollFactorY;l.mask&&l.mask.preRenderCanvas(e,null,s);for(var v=0;v<a.length;v++){var m=a[v];if(!!m.willRender(s)){var g=m.alpha,x=m.scrollFactorX,y=m.scrollFactorY;!n&&m.blendMode!==e.currentBlendMode&&e.setBlendMode(m.blendMode),m.setScrollFactor(x*h,y*f),m.setAlpha(g*u),m.renderCanvas(e,m,s,o),m.setAlpha(g),m.setScrollFactor(x,y)}}l.mask&&l.mask.postRenderCanvas(e)}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(443),l=t(443),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1058),l=t(1059),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=t(25),s=t(12),r=new l,a=function(o,n,u,h){var f=n.text,v=f.length;if(v!==0){u.addToRenderList(n);var m=o.pipelines.set(n.pipeline,n),g=e(n,u,h),x=g.sprite,y=g.calc,T=r,S=n.cropWidth>0||n.cropHeight>0;S&&(m.flush(),o.pushScissor(y.tx,y.ty,n.cropWidth*y.scaleX,n.cropHeight*y.scaleY));var E=n.frame,C=E.glTexture,A=n.tintFill,P=s.getTintAppendFloatAlpha(n.tintTopLeft,u.alpha*n._alphaTL),R=s.getTintAppendFloatAlpha(n.tintTopRight,u.alpha*n._alphaTR),M=s.getTintAppendFloatAlpha(n.tintBottomLeft,u.alpha*n._alphaBL),L=s.getTintAppendFloatAlpha(n.tintBottomRight,u.alpha*n._alphaBR),O=m.setGameObject(n),I=0,w=0,G=0,V=0,X=n.letterSpacing,W,D=0,F=0,B,b=n.scrollX,z=n.scrollY,N=n.fontData,U=N.chars,Y=N.lineHeight,K=n.fontSize/N.size,Z=0,j=n._align,q=0,k=0,H=n.getTextBounds(!1);n.maxWidth>0&&(f=H.wrappedText,v=f.length);var $=n._bounds.lines;j===1?k=($.longest-$.lengths[0])/2:j===2&&(k=$.longest-$.lengths[0]);var J=u.roundPixels,et=n.displayCallback,_=n.callbackData;o.pipelines.preBatch(n);for(var it=0;it<v;it++){if(G=f.charCodeAt(it),G===10){q++,j===1?k=($.longest-$.lengths[q])/2:j===2&&(k=$.longest-$.lengths[q]),I=0,w+=Y,B=null;continue}if(W=U[G],!!W){D=W.width,F=W.height;var Q=W.xOffset+I-b,st=W.yOffset+w-z;if(B!==null){var nt=W.kerning[V];Q+=nt!==void 0?nt:0}if(I+=W.xAdvance+X,B=W,V=G,!(D===0||F===0||G===32)){if(K=n.fontSize/n.fontData.size,Z=0,et){_.color=0,_.tint.topLeft=P,_.tint.topRight=R,_.tint.bottomLeft=M,_.tint.bottomRight=L,_.index=it,_.charCode=G,_.x=Q,_.y=st,_.scale=K,_.rotation=Z,_.data=W.data;var tt=et(_);Q=tt.x,st=tt.y,K=tt.scale,Z=tt.rotation,tt.color?(P=tt.color,R=tt.color,M=tt.color,L=tt.color):(P=tt.tint.topLeft,R=tt.tint.topRight,M=tt.tint.bottomLeft,L=tt.tint.bottomRight),P=s.getTintAppendFloatAlpha(P,u.alpha*n._alphaTL),R=s.getTintAppendFloatAlpha(R,u.alpha*n._alphaTR),M=s.getTintAppendFloatAlpha(M,u.alpha*n._alphaBL),L=s.getTintAppendFloatAlpha(L,u.alpha*n._alphaBR)}Q*=K,st*=K,Q-=n.displayOriginX,st-=n.displayOriginY,Q+=k,T.applyITRS(Q,st,Z,K,K),y.multiply(T,x);var ut=W.u0,ot=W.v0,at=W.u1,ht=W.v1,ft=D,vt=F,ct=x.e,mt=x.f,bt=vt*x.c+x.e,kt=vt*x.d+x.f,fe=ft*x.a+vt*x.c+x.e,te=ft*x.b+vt*x.d+x.f,de=ft*x.a+x.e,Dt=ft*x.b+x.f;J&&(ct=Math.round(ct),mt=Math.round(mt),bt=Math.round(bt),kt=Math.round(kt),fe=Math.round(fe),te=Math.round(te),de=Math.round(de),Dt=Math.round(Dt)),m.batchQuad(n,ct,mt,bt,kt,fe,te,de,Dt,ut,ot,at,ht,P,R,M,L,A,C,O)}}}S&&(m.flush(),o.popScissor()),o.pipelines.postBatch(n)}};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),l=function(s,r,a,o){var n=r._text,u=n.length,h=s.currentContext;if(!(u===0||!e(s,h,r,a,o))){a.addToRenderList(r);var f=r.fromAtlas?r.frame:r.texture.frames.__BASE,v=r.displayCallback,m=r.callbackData,g=r.fontData.chars,x=r.fontData.lineHeight,y=r._letterSpacing,T=0,S=0,E=0,C=null,A=0,P=0,R=0,M=0,L=0,O=0,I=null,w=0,G=r.frame.source.image,V=f.cutX,X=f.cutY,W=0,D=0,F=r._fontSize/r.fontData.size,B=r._align,b=0,z=0;r.getTextBounds(!1);var N=r._bounds.lines;B===1?z=(N.longest-N.lengths[0])/2:B===2&&(z=N.longest-N.lengths[0]),h.translate(-r.displayOriginX,-r.displayOriginY);var U=a.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(h.beginPath(),h.rect(0,0,r.cropWidth,r.cropHeight),h.clip());for(var Y=0;Y<u;Y++){if(D=F,W=0,E=n.charCodeAt(Y),E===10){b++,B===1?z=(N.longest-N.lengths[b])/2:B===2&&(z=N.longest-N.lengths[b]),T=0,S+=x,I=null;continue}if(C=g[E],!!C){if(A=V+C.x,P=X+C.y,R=C.width,M=C.height,L=C.xOffset+T-r.scrollX,O=C.yOffset+S-r.scrollY,I!==null){var K=C.kerning[w];L+=K!==void 0?K:0}if(v){m.index=Y,m.charCode=E,m.x=L,m.y=O,m.scale=D,m.rotation=W,m.data=C.data;var Z=v(m);L=Z.x,O=Z.y,D=Z.scale,W=Z.rotation}L*=D,O*=D,L+=z,T+=C.xAdvance+y,I=C,w=E,!(R===0||M===0||E===32)&&(U&&(L=Math.round(L),O=Math.round(O)),h.save(),h.translate(L,O),h.rotate(W),h.scale(D,D),h.drawImage(G,A,P,R,M,0,0,R,M),h.restore())}}h.restore()}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1061),l=t(1062),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=function(s,r,a,o){s.pipelines.clear();var n=e(r,a,o).calc;r.render.call(r,s,a,n),s.pipelines.rebind()};i.exports=l},function(i,d){},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1064),l=t(448),l=t(448),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),l=t(19),s=t(25),r=t(12),a=function(f,v,m){this.x=f,this.y=v,this.width=m},o=function(f,v,m){this.points=[],this.pointsLength=1,this.points[0]=new a(f,v,m)},n=[],u=new s,h=function(f,v,m,g){if(v.commandBuffer.length!==0){m.addToRenderList(v);var x=f.pipelines.set(v.pipeline,v);f.pipelines.preBatch(v);for(var y=l(v,m,g).calc,T=u.loadIdentity(),S=v.commandBuffer,E=m.alpha*v.alpha,C=1,A=x.fillTint,P=x.strokeTint,R=0,M=0,L=0,O=.01,I=Math.PI*2,w,G=[],V=0,X=!0,W=null,D=r.getTintAppendFloatAlpha,F=0;F<S.length;F++)switch(w=S[F],w){case e.BEGIN_PATH:{G.length=0,W=null,X=!0;break}case e.CLOSE_PATH:{X=!1,W&&W.points.length&&W.points.push(W.points[0]);break}case e.FILL_PATH:{for(V=0;V<G.length;V++)x.batchFillPath(G[V].points,T,y);break}case e.STROKE_PATH:{for(V=0;V<G.length;V++)x.batchStrokePath(G[V].points,C,X,T,y);break}case e.LINE_STYLE:{C=S[++F];var B=S[++F],b=S[++F]*E,z=D(B,b);P.TL=z,P.TR=z,P.BL=z,P.BR=z;break}case e.FILL_STYLE:{var N=S[++F],U=S[++F]*E,Y=D(N,U);A.TL=Y,A.TR=Y,A.BL=Y,A.BR=Y;break}case e.GRADIENT_FILL_STYLE:{var K=S[++F]*E,Z=S[++F]*E,j=S[++F]*E,q=S[++F]*E;A.TL=D(S[++F],K),A.TR=D(S[++F],Z),A.BL=D(S[++F],j),A.BR=D(S[++F],q);break}case e.GRADIENT_LINE_STYLE:{C=S[++F];var k=S[++F]*E;P.TL=D(S[++F],k),P.TR=D(S[++F],k),P.BL=D(S[++F],k),P.BR=D(S[++F],k);break}case e.ARC:{var H=0,$=S[++F],J=S[++F],et=S[++F],_=S[++F],it=S[++F],Q=S[++F],st=S[++F];for(it-=_,Q?it<-I?it=-I:it>0&&(it=-I+it%I):it>I?it=I:it<0&&(it=I+it%I),W===null&&(W=new o($+Math.cos(_)*et,J+Math.sin(_)*et,C),G.push(W),H+=O);H<1+st;)L=it*H+_,R=$+Math.cos(L)*et,M=J+Math.sin(L)*et,W.points.push(new a(R,M,C)),H+=O;L=it+_,R=$+Math.cos(L)*et,M=J+Math.sin(L)*et,W.points.push(new a(R,M,C));break}case e.FILL_RECT:{x.batchFillRect(S[++F],S[++F],S[++F],S[++F],T,y);break}case e.FILL_TRIANGLE:{x.batchFillTriangle(S[++F],S[++F],S[++F],S[++F],S[++F],S[++F],T,y);break}case e.STROKE_TRIANGLE:{x.batchStrokeTriangle(S[++F],S[++F],S[++F],S[++F],S[++F],S[++F],C,T,y);break}case e.LINE_TO:{W!==null?W.points.push(new a(S[++F],S[++F],C)):(W=new o(S[++F],S[++F],C),G.push(W));break}case e.MOVE_TO:{W=new o(S[++F],S[++F],C),G.push(W);break}case e.SAVE:{n.push(T.copyToArray());break}case e.RESTORE:{T.copyFromArray(n.pop());break}case e.TRANSLATE:{$=S[++F],J=S[++F],T.translate($,J);break}case e.SCALE:{$=S[++F],J=S[++F],T.scale($,J);break}case e.ROTATE:{T.rotate(S[++F]);break}}f.pipelines.postBatch(v)}};i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1066),l=t(1067),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s.addToRenderList(l),l.pipeline.batchSprite(l,s,r)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s.addToRenderList(l),e.batchSprite(l,l.frame,s,r)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1069),l=t(1070),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s.addToRenderList(l),this.pipeline.batchSprite(l,s,r)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s.addToRenderList(l),e.batchSprite(l,l.frame,s,r)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1072),l=t(1073),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=l.list,a=r.length;if(a!==0){l.depthSort(),e.pipelines.preBatch(l);var o=l.blendMode!==-1;o||e.setBlendMode(0);for(var n=l.alpha,u=0;u<a;u++){var h=r[u];if(!!h.willRender(s)){var f,v,m,g;if(h.alphaTopLeft!==void 0)f=h.alphaTopLeft,v=h.alphaTopRight,m=h.alphaBottomLeft,g=h.alphaBottomRight;else{var x=h.alpha;f=x,v=x,m=x,g=x}!o&&h.blendMode!==e.currentBlendMode&&e.setBlendMode(h.blendMode);var y=h.mask;y&&y.preRenderWebGL(e,h,s);var T=h.type;T!==e.currentType&&(e.newType=!0,e.currentType=T),e.nextTypeMatch=u<a-1?r[u+1].type===e.currentType:!1,h.setAlpha(f*n,v*n,m*n,g*n),h.renderWebGL(e,h,s),h.setAlpha(f,v,m,g),y&&y.postRenderWebGL(e,s),e.newType=!1}}e.pipelines.postBatch(l)}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=l.list;if(r.length!==0){l.depthSort();var a=l.blendMode!==-1;a||e.setBlendMode(0);var o=l._alpha;l.mask&&l.mask.preRenderCanvas(e,null,s);for(var n=0;n<r.length;n++){var u=r[n];if(!!u.willRender(s)){var h=u.alpha;!a&&u.blendMode!==e.currentBlendMode&&e.setBlendMode(u.blendMode),u.setAlpha(h*o),u.renderCanvas(e,u,s),u.setAlpha(h)}}l.mask&&l.mask.postRenderCanvas(e)}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={EmitterOp:t(449),GravityWell:t(450),Particle:t(451),ParticleEmitter:t(452),ParticleEmitterManager:t(220),Zones:t(1078)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1076),l=t(1077),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),l=t(12),s=new e,r=new e,a=new e,o=new e,n=function(u,h,f,v){var m=h.emitters.list,g=m.length;if(g!==0){var x=u.pipelines.set(h.pipeline),y=s,T=r,S=a,E=o;v?(E.loadIdentity(),E.multiply(v),E.translate(h.x,h.y),E.rotate(h.rotation),E.scale(h.scaleX,h.scaleY)):E.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var C=f.roundPixels,A=h.defaultFrame.glTexture,P=l.getTintAppendFloatAlpha,R=x.setGameObject(h,h.defaultFrame);u.pipelines.preBatch(h);for(var M=0;M<g;M++){var L=m[M],O=L.alive,I=O.length;if(!(!L.visible||I===0)){f.addToRenderList(L);var w=L.scrollFactorX,G=L.scrollFactorY;u.setBlendMode(L.blendMode),L.mask&&(L.mask.preRenderWebGL(u,L,f),u.pipelines.set(h.pipeline));for(var V=0,X=0;X<I;X++){var W=O[X],D=W.alpha*f.alpha;if(!(D<=0)){S.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),y.copyFrom(f.matrix),y.multiplyWithOffset(E,-f.scrollX*w,-f.scrollY*G),S.e=W.x,S.f=W.y,y.multiply(S,T);var F=W.frame,B=-F.halfWidth,b=-F.halfHeight,z=B+F.width,N=b+F.height,U=T.getXRound(B,b,C),Y=T.getYRound(B,b,C),K=T.getXRound(B,N,C),Z=T.getYRound(B,N,C),j=T.getXRound(z,N,C),q=T.getYRound(z,N,C),k=T.getXRound(z,b,C),H=T.getYRound(z,b,C),$=P(W.tint,D);x.batchQuad(L,U,Y,K,Z,j,q,k,H,F.u0,F.v0,F.u1,F.v1,$,$,$,$,V,A,R)}}L.mask&&L.mask.postRenderWebGL(u,f)}}u.pipelines.postBatch(h)}};i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),l=new e,s=new e,r=new e,a=new e,o=function(n,u,h,f){var v=u.emitters.list,m=v.length;if(m!==0){var g=l.copyFrom(h.matrix),x=s,y=r,T=a;f?(T.loadIdentity(),T.multiply(f),T.translate(u.x,u.y),T.rotate(u.rotation),T.scale(u.scaleX,u.scaleY)):T.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);for(var S=n.currentContext,E=h.roundPixels,C=0;C<m;C++){var A=v[C],P=A.alive,R=P.length;if(!(!A.visible||R===0)){h.addToRenderList(A);var M=A.scrollFactorX,L=A.scrollFactorY;S.save(),S.globalCompositeOperation=n.blendModes[A.blendMode];for(var O=0;O<R;O++){var I=P[O],w=I.alpha*h.alpha;if(!(w<=0)){y.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),g.copyFrom(h.matrix),g.multiplyWithOffset(T,-h.scrollX*M,-h.scrollY*L),y.e=I.x,y.f=I.y,g.multiply(y,x);var G=I.frame,V=G.canvasData,X=-G.halfWidth,W=-G.halfHeight;S.globalAlpha=w,S.save(),x.setToContext(S),E&&(X=Math.round(X),W=Math.round(W)),S.imageSmoothingEnabled=!(!n.antialias||G.source.scaleMode),S.drawImage(G.source.image,V.x,V.y,V.width,V.height,X,W,V.width,V.height),S.restore()}}S.restore()}}}};i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={DeathZone:t(453),EdgeZone:t(454),RandomZone:t(456)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1080),l=t(1081),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),l=function(s,r,a,o){a.addToRenderList(r);var n=a.alpha,u=r.renderTarget,h=u.width,f=u.height,v=e.getTintAppendFloatAlpha,m=s.pipelines.set(r.pipeline),g=m.setTexture2D(u.texture);s.pipelines.preBatch(r),m.batchTexture(r,u.texture,h,f,r.x,r.y,h,f,r.scaleX,r.scaleY,r.rotation,r.flipX,!r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,h,f,v(r.tintTopLeft,n*r._alphaTL),v(r.tintTopRight,n*r._alphaTR),v(r.tintBottomLeft,n*r._alphaBL),v(r.tintBottomRight,n*r._alphaBR),r.tintFill,0,0,a,o,!0,g),s.resetTextures(),s.pipelines.postBatch(r)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){s.addToRenderList(l),e.batchSprite(l,l.frame,s,r)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1083),l=t(17),s={Parse:t(1084)};s=l(!1,s,e),i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),l=function(s,r){var a=r.width,o=r.height,n=Math.floor(a/2),u=Math.floor(o/2),h=e(r,"chars","");if(h!==""){var f=e(r,"image",""),v=s.sys.textures.getFrame(f),m=v.cutX,g=v.cutY,x=v.source.width,y=v.source.height,T=e(r,"offset.x",0),S=e(r,"offset.y",0),E=e(r,"spacing.x",0),C=e(r,"spacing.y",0),A=e(r,"lineSpacing",0),P=e(r,"charsPerRow",null);P===null&&(P=x/a,P>h.length&&(P=h.length));for(var R=T,M=S,L={retroFont:!0,font:f,size:a,lineHeight:o+A,chars:{}},O=0,I=0;I<h.length;I++){var w=h.charCodeAt(I),G=(m+R)/x,V=(g+M)/y,X=(m+R+a)/x,W=(g+M+o)/y;L.chars[w]={x:R,y:M,width:a,height:o,centerX:n,centerY:u,xOffset:0,yOffset:0,xAdvance:a,data:{},kerning:{},u0:G,v0:V,u1:X,v1:W},O++,O===P?(O=0,R=T,M+=o+C):R+=a+E}var D={data:L,frame:null,texture:f};return D}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1086),l=t(1087),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=t(12),s=function(r,a,o,n){o.addToRenderList(a);var u=r.pipelines.set(a.pipeline,a),h=e(a,o,n).calc,f=a.vertices,v=a.uv,m=a.colors,g=a.alphas,x=a.alpha,y=l.getTintAppendFloatAlpha,T=o.roundPixels,S=f.length,E=Math.floor(S*.5);u.flush(),r.pipelines.preBatch(a);var C=u.setGameObject(a),A=u.vertexViewF32,P=u.vertexViewU32,R=u.vertexCount*u.currentShader.vertexComponentCount-1,M=0,L=a.tintFill;a.dirty&&a.updateVertices();for(var O=a.debugCallback,I=[],w=0;w<S;w+=2){var G=f[w+0],V=f[w+1],X=G*h.a+V*h.c+h.e,W=G*h.b+V*h.d+h.f;T&&(X=Math.round(X),W=Math.round(W)),A[++R]=X,A[++R]=W,A[++R]=v[w+0],A[++R]=v[w+1],A[++R]=C,A[++R]=L,P[++R]=y(m[M],o.alpha*(g[M]*x)),M++,O&&(I[w+0]=X,I[w+1]=W)}O&&O.call(a,a,S,I),u.vertexCount+=E,r.pipelines.postBatch(a)};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1089),l=t(1090),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),l=function(s,r,a,o){if(!(r.width===0||r.height===0)){a.addToRenderList(r);var n=r.frame,u=n.width,h=n.height,f=e.getTintAppendFloatAlpha,v=s.pipelines.set(r.pipeline,r),m=v.setTexture2D(n.glTexture,r);s.pipelines.preBatch(r),v.batchTexture(r,n.glTexture,u,h,r.x,r.y,u/r.style.resolution,h/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,u,h,f(r.tintTopLeft,a.alpha*r._alphaTL),f(r.tintTopRight,a.alpha*r._alphaTR),f(r.tintBottomLeft,a.alpha*r._alphaBL),f(r.tintBottomRight,a.alpha*r._alphaBR),r.tintFill,0,0,a,o,!1,m),s.pipelines.postBatch(r)}};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){l.width===0||l.height===0||(s.addToRenderList(l),e.batchSprite(l,l.frame,s,r))};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1092),l=t(1093),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),l=function(s,r,a,o){r.updateCanvas();var n=r.width,u=r.height;if(!(n===0||u===0)){a.addToRenderList(r),s.pipelines.preBatch(r);var h=e.getTintAppendFloatAlpha,f=s.pipelines.set(r.pipeline,r),v=f.setTexture2D(r.fillPattern,r);f.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,n,u,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*n,r.originY*u,0,0,n,u,h(r.tintTopLeft,a.alpha*r._alphaTL),h(r.tintTopRight,a.alpha*r._alphaTR),h(r.tintBottomLeft,a.alpha*r._alphaBL),h(r.tintBottomRight,a.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,a,o,!1,v),s.pipelines.postBatch(r)}};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){l.updateCanvas(),s.addToRenderList(l),e.batchSprite(l,l.frame,s,r)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1095),l=t(1096),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){l.videoTexture&&(s.addToRenderList(l),l.pipeline.batchSprite(l,s,r))};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){l.videoTexture&&(s.addToRenderList(l),e.batchSprite(l,l.frame,s,r))};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1098),l=t(1099),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=t(114),s=t(81),r=function(a,o,n,u){n.addToRenderList(o);var h=a.pipelines.set(o.pipeline),f=e(o,n,u),v=h.calcMatrix.copyFrom(f.calc),m=o._displayOriginX,g=o._displayOriginY,x=n.alpha*o.alpha;a.pipelines.preBatch(o),o.isFilled&&l(h,v,o,x,m,g),o.isStroked&&s(h,o,x,m,g),a.pipelines.postBatch(o)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),l=t(48),s=t(60),r=t(30),a=function(o,n,u,h){u.addToRenderList(n);var f=o.currentContext;if(r(o,f,n,u,h)){var v=n.radius;f.beginPath(),f.arc(v-n.originX*(v*2),v-n.originY*(v*2),v,e(n._startAngle),e(n._endAngle),n.anticlockwise),n.closePath&&f.closePath(),n.isFilled&&(l(f,n),f.fill()),n.isStroked&&(s(f,n),f.stroke()),f.restore()}};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1101),l=t(1102),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),l=t(19),s=t(81),r=function(a,o,n,u){n.addToRenderList(o);var h=a.pipelines.set(o.pipeline),f=l(o,n,u),v=h.calcMatrix.copyFrom(f.calc),m=o._displayOriginX+o._curveBounds.x,g=o._displayOriginY+o._curveBounds.y,x=n.alpha*o.alpha;a.pipelines.preBatch(o),o.isFilled&&e(h,v,o,x,m,g),o.isStroked&&s(h,o,x,m,g),a.pipelines.postBatch(o)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),l=t(60),s=t(30),r=function(a,o,n,u){n.addToRenderList(o);var h=a.currentContext;if(s(a,h,o,n,u)){var f=o._displayOriginX+o._curveBounds.x,v=o._displayOriginY+o._curveBounds.y,m=o.pathData,g=m.length-1,x=m[0]-f,y=m[1]-v;h.beginPath(),h.moveTo(x,y),o.closePath||(g-=2);for(var T=2;T<g;T+=2){var S=m[T]-f,E=m[T+1]-v;h.lineTo(S,E)}o.closePath&&h.closePath(),o.isFilled&&(e(h,o),h.fill()),o.isStroked&&(l(h,o),h.stroke()),h.restore()}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1104),l=t(1105),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),l=t(19),s=t(81),r=function(a,o,n,u){n.addToRenderList(o);var h=a.pipelines.set(o.pipeline),f=l(o,n,u),v=h.calcMatrix.copyFrom(f.calc),m=o._displayOriginX,g=o._displayOriginY,x=n.alpha*o.alpha;a.pipelines.preBatch(o),o.isFilled&&e(h,v,o,x,m,g),o.isStroked&&s(h,o,x,m,g),a.pipelines.postBatch(o)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),l=t(60),s=t(30),r=function(a,o,n,u){n.addToRenderList(o);var h=a.currentContext;if(s(a,h,o,n,u)){var f=o._displayOriginX,v=o._displayOriginY,m=o.pathData,g=m.length-1,x=m[0]-f,y=m[1]-v;h.beginPath(),h.moveTo(x,y),o.closePath||(g-=2);for(var T=2;T<g;T+=2){var S=m[T]-f,E=m[T+1]-v;h.lineTo(S,E)}h.closePath(),o.isFilled&&(e(h,o),h.fill()),o.isStroked&&(l(h,o),h.stroke()),h.restore()}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1107),l=t(1108),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=t(12),s=function(r,a,o,n){o.addToRenderList(a);var u=r.pipelines.set(a.pipeline),h=e(a,o,n),f=u.calcMatrix.copyFrom(h.calc);f.translate(-a._displayOriginX,-a._displayOriginY);var v=o.alpha*a.alpha,m=a.width,g=a.height,x=a.cellWidth,y=a.cellHeight,T=Math.ceil(m/x),S=Math.ceil(g/y),E=x,C=y,A=x-(T*x-m),P=y-(S*y-g),R,M,L=a.showCells,O=a.showAltCells,I=a.showOutline,w=0,G=0,V=0,X=0,W=0;if(I&&(E--,C--,A===x&&A--,P===y&&P--),r.pipelines.preBatch(a),L&&a.fillAlpha>0)for(R=u.fillTint,M=l.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*v),R.TL=M,R.TR=M,R.BL=M,R.BR=M,G=0;G<S;G++)for(O&&(V=G%2),w=0;w<T;w++){if(O&&V){V=0;continue}V++,X=w<T-1?E:A,W=G<S-1?C:P,u.batchFillRect(w*x,G*y,X,W)}if(O&&a.altFillAlpha>0)for(R=u.fillTint,M=l.getTintAppendFloatAlpha(a.altFillColor,a.altFillAlpha*v),R.TL=M,R.TR=M,R.BL=M,R.BR=M,G=0;G<S;G++)for(O&&(V=G%2),w=0;w<T;w++){if(O&&!V){V=1;continue}V=0,X=w<T-1?E:A,W=G<S-1?C:P,u.batchFillRect(w*x,G*y,X,W)}if(I&&a.outlineFillAlpha>0){var D=u.strokeTint,F=l.getTintAppendFloatAlpha(a.outlineFillColor,a.outlineFillAlpha*v);for(D.TL=F,D.TR=F,D.BL=F,D.BR=F,w=1;w<T;w++){var B=w*x;u.batchLine(B,0,B,g,1,1,1,0,!1)}for(G=1;G<S;G++){var b=G*y;u.batchLine(0,b,m,b,1,1,1,0,!1)}}r.pipelines.postBatch(a)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),l=t(60),s=t(30),r=function(a,o,n,u){n.addToRenderList(o);var h=a.currentContext;if(s(a,h,o,n,u)){var f=-o._displayOriginX,v=-o._displayOriginY,m=n.alpha*o.alpha,g=o.width,x=o.height,y=o.cellWidth,T=o.cellHeight,S=Math.ceil(g/y),E=Math.ceil(x/T),C=y,A=T,P=y-(S*y-g),R=T-(E*T-x),M=o.showCells,L=o.showAltCells,O=o.showOutline,I=0,w=0,G=0,V=0,X=0;if(O&&(C--,A--,P===y&&P--,R===T&&R--),M&&o.fillAlpha>0)for(e(h,o),w=0;w<E;w++)for(L&&(G=w%2),I=0;I<S;I++){if(L&&G){G=0;continue}G++,V=I<S-1?C:P,X=w<E-1?A:R,h.fillRect(f+I*y,v+w*T,V,X)}if(L&&o.altFillAlpha>0)for(e(h,o,o.altFillColor,o.altFillAlpha*m),w=0;w<E;w++)for(L&&(G=w%2),I=0;I<S;I++){if(L&&!G){G=1;continue}G=0,V=I<S-1?C:P,X=w<E-1?A:R,h.fillRect(f+I*y,v+w*T,V,X)}if(O&&o.outlineFillAlpha>0){for(l(h,o,o.outlineFillColor,o.outlineFillAlpha*m),I=1;I<S;I++){var W=I*y;h.beginPath(),h.moveTo(W+f,v),h.lineTo(W+f,x+v),h.stroke()}for(w=1;w<E;w++){var D=w*T;h.beginPath(),h.moveTo(f,D+v),h.lineTo(f+g,D+v),h.stroke()}}h.restore()}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1110),l=t(1111),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=t(12),s=function(r,a,o,n){o.addToRenderList(a);var u=r.pipelines.set(a.pipeline),h=e(a,o,n),f=u.calcMatrix.copyFrom(h.calc),v=a.width,m=a.height,g=v/2,x=v/a.projection,y=o.alpha*a.alpha;if(!!a.isFilled){var T,S,E,C,A,P,R,M,L;r.pipelines.preBatch(a),a.showTop&&(T=l.getTintAppendFloatAlpha(a.fillTop,y),S=f.getX(-g,-m),E=f.getY(-g,-m),C=f.getX(0,-x-m),A=f.getY(0,-x-m),P=f.getX(g,-m),R=f.getY(g,-m),M=f.getX(0,x-m),L=f.getY(0,x-m),u.batchQuad(a,S,E,C,A,P,R,M,L,0,0,1,1,T,T,T,T,2)),a.showLeft&&(T=l.getTintAppendFloatAlpha(a.fillLeft,y),S=f.getX(-g,0),E=f.getY(-g,0),C=f.getX(0,x),A=f.getY(0,x),P=f.getX(0,x-m),R=f.getY(0,x-m),M=f.getX(-g,-m),L=f.getY(-g,-m),u.batchQuad(a,S,E,C,A,P,R,M,L,0,0,1,1,T,T,T,T,2)),a.showRight&&(T=l.getTintAppendFloatAlpha(a.fillRight,y),S=f.getX(g,0),E=f.getY(g,0),C=f.getX(0,x),A=f.getY(0,x),P=f.getX(0,x-m),R=f.getY(0,x-m),M=f.getX(g,-m),L=f.getY(g,-m),u.batchQuad(a,S,E,C,A,P,R,M,L,0,0,1,1,T,T,T,T,2)),r.pipelines.postBatch(a)}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),l=t(30),s=function(r,a,o,n){o.addToRenderList(a);var u=r.currentContext;if(l(r,u,a,o,n)&&a.isFilled){var h=a.width,f=a.height,v=h/2,m=h/a.projection;a.showTop&&(e(u,a,a.fillTop),u.beginPath(),u.moveTo(-v,-f),u.lineTo(0,-m-f),u.lineTo(v,-f),u.lineTo(v,-1),u.lineTo(0,m-1),u.lineTo(-v,-1),u.lineTo(-v,-f),u.fill()),a.showLeft&&(e(u,a,a.fillLeft),u.beginPath(),u.moveTo(-v,0),u.lineTo(0,m),u.lineTo(0,m-f),u.lineTo(-v,-f),u.lineTo(-v,0),u.fill()),a.showRight&&(e(u,a,a.fillRight),u.beginPath(),u.moveTo(v,0),u.lineTo(0,m),u.lineTo(0,m-f),u.lineTo(v,-f),u.lineTo(v,0),u.fill()),u.restore()}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1113),l=t(1114),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=t(12),s=function(r,a,o,n){o.addToRenderList(a);var u=r.pipelines.set(a.pipeline),h=e(a,o,n),f=u.calcMatrix.copyFrom(h.calc),v=a.width,m=a.height,g=v/2,x=v/a.projection,y=a.isReversed,T=o.alpha*a.alpha;if(!!a.isFilled){r.pipelines.preBatch(a);var S,E,C,A,P,R,M;if(a.showTop&&y){S=l.getTintAppendFloatAlpha(a.fillTop,T),E=f.getX(-g,-m),C=f.getY(-g,-m),A=f.getX(0,-x-m),P=f.getY(0,-x-m),R=f.getX(g,-m),M=f.getY(g,-m);var L=f.getX(0,x-m),O=f.getY(0,x-m);u.batchQuad(a,E,C,A,P,R,M,L,O,0,0,1,1,S,S,S,S,2)}a.showLeft&&(S=l.getTintAppendFloatAlpha(a.fillLeft,T),y?(E=f.getX(-g,-m),C=f.getY(-g,-m),A=f.getX(0,x),P=f.getY(0,x),R=f.getX(0,x-m),M=f.getY(0,x-m)):(E=f.getX(-g,0),C=f.getY(-g,0),A=f.getX(0,x),P=f.getY(0,x),R=f.getX(0,x-m),M=f.getY(0,x-m)),u.batchTri(a,E,C,A,P,R,M,0,0,1,1,S,S,S,2)),a.showRight&&(S=l.getTintAppendFloatAlpha(a.fillRight,T),y?(E=f.getX(g,-m),C=f.getY(g,-m),A=f.getX(0,x),P=f.getY(0,x),R=f.getX(0,x-m),M=f.getY(0,x-m)):(E=f.getX(g,0),C=f.getY(g,0),A=f.getX(0,x),P=f.getY(0,x),R=f.getX(0,x-m),M=f.getY(0,x-m)),u.batchTri(a,E,C,A,P,R,M,0,0,1,1,S,S,S,2)),r.pipelines.postBatch(a)}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),l=t(30),s=function(r,a,o,n){o.addToRenderList(a);var u=r.currentContext;if(l(r,u,a,o,n)&&a.isFilled){var h=a.width,f=a.height,v=h/2,m=h/a.projection,g=a.isReversed;a.showTop&&g&&(e(u,a,a.fillTop),u.beginPath(),u.moveTo(-v,-f),u.lineTo(0,-m-f),u.lineTo(v,-f),u.lineTo(0,m-f),u.fill()),a.showLeft&&(e(u,a,a.fillLeft),u.beginPath(),g?(u.moveTo(-v,-f),u.lineTo(0,m),u.lineTo(0,m-f)):(u.moveTo(-v,0),u.lineTo(0,m),u.lineTo(0,m-f)),u.fill()),a.showRight&&(e(u,a,a.fillRight),u.beginPath(),g?(u.moveTo(v,-f),u.lineTo(0,m),u.lineTo(0,m-f)):(u.moveTo(v,0),u.lineTo(0,m),u.lineTo(0,m-f)),u.fill()),u.restore()}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1116),l=t(1117),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=t(12),s=function(r,a,o,n){o.addToRenderList(a);var u=r.pipelines.set(a.pipeline),h=e(a,o,n);u.calcMatrix.copyFrom(h.calc);var f=a._displayOriginX,v=a._displayOriginY,m=o.alpha*a.alpha;if(r.pipelines.preBatch(a),a.isStroked){var g=u.strokeTint,x=l.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*m);g.TL=x,g.TR=x,g.BL=x,g.BR=x;var y=a._startWidth,T=a._endWidth;u.batchLine(a.geom.x1-f,a.geom.y1-v,a.geom.x2-f,a.geom.y2-v,y,T,1,0,!1,h.sprite,h.camera)}r.pipelines.postBatch(a)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(60),l=t(30),s=function(r,a,o,n){o.addToRenderList(a);var u=r.currentContext;if(l(r,u,a,o,n)){var h=a._displayOriginX,f=a._displayOriginY;a.isStroked&&(e(u,a),u.beginPath(),u.moveTo(a.geom.x1-h,a.geom.y1-f),u.lineTo(a.geom.x2-h,a.geom.y2-f),u.stroke()),u.restore()}};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1119),l=t(1120),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),l=t(19),s=t(81),r=function(a,o,n,u){n.addToRenderList(o);var h=a.pipelines.set(o.pipeline),f=l(o,n,u),v=h.calcMatrix.copyFrom(f.calc),m=o._displayOriginX,g=o._displayOriginY,x=n.alpha*o.alpha;a.pipelines.preBatch(o),o.isFilled&&e(h,v,o,x,m,g),o.isStroked&&s(h,o,x,m,g),a.pipelines.postBatch(o)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),l=t(60),s=t(30),r=function(a,o,n,u){n.addToRenderList(o);var h=a.currentContext;if(s(a,h,o,n,u)){var f=o._displayOriginX,v=o._displayOriginY,m=o.pathData,g=m.length-1,x=m[0]-f,y=m[1]-v;h.beginPath(),h.moveTo(x,y),o.closePath||(g-=2);for(var T=2;T<g;T+=2){var S=m[T]-f,E=m[T+1]-v;h.lineTo(S,E)}h.closePath(),o.isFilled&&(e(h,o),h.fill()),o.isStroked&&(l(h,o),h.stroke()),h.restore()}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1122),l=t(1123),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=t(81),s=t(12),r=function(a,o,n,u){n.addToRenderList(o);var h=a.pipelines.set(o.pipeline),f=e(o,n,u);h.calcMatrix.copyFrom(f.calc);var v=o._displayOriginX,m=o._displayOriginY,g=n.alpha*o.alpha;if(a.pipelines.preBatch(o),o.isFilled){var x=h.fillTint,y=s.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*g);x.TL=y,x.TR=y,x.BL=y,x.BR=y,h.batchFillRect(-v,-m,o.width,o.height)}o.isStroked&&l(h,o,g,v,m),a.pipelines.postBatch(o)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),l=t(60),s=t(30),r=function(a,o,n,u){n.addToRenderList(o);var h=a.currentContext;if(s(a,h,o,n,u)){var f=o._displayOriginX,v=o._displayOriginY;o.isFilled&&(e(h,o),h.fillRect(-f,-v,o.width,o.height)),o.isStroked&&(l(h,o),h.beginPath(),h.rect(-f,-v,o.width,o.height),h.stroke()),h.restore()}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1125),l=t(1126),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),l=t(19),s=t(81),r=function(a,o,n,u){n.addToRenderList(o);var h=a.pipelines.set(o.pipeline),f=l(o,n,u),v=h.calcMatrix.copyFrom(f.calc),m=o._displayOriginX,g=o._displayOriginY,x=n.alpha*o.alpha;a.pipelines.preBatch(o),o.isFilled&&e(h,v,o,x,m,g),o.isStroked&&s(h,o,x,m,g),a.pipelines.postBatch(o)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),l=t(60),s=t(30),r=function(a,o,n,u){n.addToRenderList(o);var h=a.currentContext;if(s(a,h,o,n,u)){var f=o._displayOriginX,v=o._displayOriginY,m=o.pathData,g=m.length-1,x=m[0]-f,y=m[1]-v;h.beginPath(),h.moveTo(x,y),o.closePath||(g-=2);for(var T=2;T<g;T+=2){var S=m[T]-f,E=m[T+1]-v;h.lineTo(S,E)}h.closePath(),o.isFilled&&(e(h,o),h.fill()),o.isStroked&&(l(h,o),h.stroke()),h.restore()}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1128),l=t(1129),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=t(81),s=t(12),r=function(a,o,n,u){n.addToRenderList(o);var h=a.pipelines.set(o.pipeline),f=e(o,n,u);h.calcMatrix.copyFrom(f.calc);var v=o._displayOriginX,m=o._displayOriginY,g=n.alpha*o.alpha;if(a.pipelines.preBatch(o),o.isFilled){var x=h.fillTint,y=s.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*g);x.TL=y,x.TR=y,x.BL=y,x.BR=y;var T=o.geom.x1-v,S=o.geom.y1-m,E=o.geom.x2-v,C=o.geom.y2-m,A=o.geom.x3-v,P=o.geom.y3-m;h.batchFillTriangle(T,S,E,C,A,P,f.sprite,f.camera)}o.isStroked&&l(h,o,g,v,m),a.pipelines.postBatch(o)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),l=t(60),s=t(30),r=function(a,o,n,u){n.addToRenderList(o);var h=a.currentContext;if(s(a,h,o,n,u)){var f=o._displayOriginX,v=o._displayOriginY,m=o.geom.x1-f,g=o.geom.y1-v,x=o.geom.x2-f,y=o.geom.y2-v,T=o.geom.x3-f,S=o.geom.y3-v;h.beginPath(),h.moveTo(m,g),h.lineTo(x,y),h.lineTo(T,S),h.closePath(),o.isFilled&&(e(h,o),h.fill()),o.isStroked&&(l(h,o),h.stroke()),h.restore()}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),l=t(5);l.register("blitter",function(s,r,a,o){return this.displayList.add(new e(this.scene,s,r,a,o))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(214),l=t(5);l.register("container",function(s,r,a){return this.displayList.add(new e(this.scene,s,r,a))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(442),l=t(5);l.register("dom",function(s,r,a,o,n){var u=new e(this.scene,s,r,a,o,n);return this.displayList.add(u),u})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),l=t(5);l.register("dynamicBitmapText",function(s,r,a,o,n){return this.displayList.add(new e(this.scene,s,r,a,o,n))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(444),l=t(5);l.register("extern",function(){var s=new e(this.scene);return this.displayList.add(s),s})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(216),l=t(5);l.register("graphics",function(s){return this.displayList.add(new e(this.scene,s))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(113),l=t(5);l.register("group",function(s,r){return this.updateList.add(new e(this.scene,s,r))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(125),l=t(5);l.register("image",function(s,r,a,o){return this.displayList.add(new e(this.scene,s,r,a,o))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(219),l=t(5);l.register("layer",function(s){return this.displayList.add(new e(this.scene,s))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(220);e.register("particles",function(s,r,a){return this.displayList.add(new l(this.scene,s,r,a))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(457);e.register("follower",function(s,r,a,o,n){var u=new l(this.scene,s,r,a,o,n);return this.displayList.add(u),this.updateList.add(u),u})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(221);e.register("renderTexture",function(s,r,a,o,n,u){return this.displayList.add(new l(this.scene,s,r,a,o,n,u))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(223),l=t(5);l.register("rope",function(s,r,a,o,n,u,h,f){return this.displayList.add(new e(this.scene,s,r,a,o,n,u,h,f))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(73);e.register("sprite",function(s,r,a,o){var n=new l(this.scene,s,r,a,o);return this.displayList.add(n),n})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),l=t(5);l.register("bitmapText",function(s,r,a,o,n,u){return this.displayList.add(new e(this.scene,s,r,a,o,n,u))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(224),l=t(5);l.register("text",function(s,r,a,o){return this.displayList.add(new e(this.scene,s,r,a,o))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(225),l=t(5);l.register("tileSprite",function(s,r,a,o,n,u){return this.displayList.add(new e(this.scene,s,r,a,o,n,u))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(129),l=t(5);l.register("zone",function(s,r,a,o){return this.displayList.add(new e(this.scene,s,r,a,o))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(226),l=t(5);l.register("video",function(s,r,a){return this.displayList.add(new e(this.scene,s,r,a))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(461),l=t(5);l.register("arc",function(s,r,a,o,n,u,h,f){return this.displayList.add(new e(this.scene,s,r,a,o,n,u,h,f))}),l.register("circle",function(s,r,a,o,n){return this.displayList.add(new e(this.scene,s,r,a,0,360,!1,o,n))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(462);e.register("curve",function(s,r,a,o,n){return this.displayList.add(new l(this.scene,s,r,a,o,n))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(463),l=t(5);l.register("ellipse",function(s,r,a,o,n,u){return this.displayList.add(new e(this.scene,s,r,a,o,n,u))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(464);e.register("grid",function(s,r,a,o,n,u,h,f,v,m){return this.displayList.add(new l(this.scene,s,r,a,o,n,u,h,f,v,m))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(465);e.register("isobox",function(s,r,a,o,n,u,h){return this.displayList.add(new l(this.scene,s,r,a,o,n,u,h))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(466);e.register("isotriangle",function(s,r,a,o,n,u,h,f){return this.displayList.add(new l(this.scene,s,r,a,o,n,u,h,f))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(467);e.register("line",function(s,r,a,o,n,u,h,f){return this.displayList.add(new l(this.scene,s,r,a,o,n,u,h,f))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(468);e.register("polygon",function(s,r,a,o,n){return this.displayList.add(new l(this.scene,s,r,a,o,n))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(473);e.register("rectangle",function(s,r,a,o,n,u){return this.displayList.add(new l(this.scene,s,r,a,o,n,u))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(474),l=t(5);l.register("star",function(s,r,a,o,n,u,h){return this.displayList.add(new e(this.scene,s,r,a,o,n,u,h))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(475);e.register("triangle",function(s,r,a,o,n,u,h,f,v,m){return this.displayList.add(new l(this.scene,s,r,a,o,n,u,h,f,v,m))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),l=t(28),s=t(16),r=t(13);s.register("blitter",function(a,o){a===void 0&&(a={});var n=r(a,"key",null),u=r(a,"frame",null),h=new e(this.scene,0,0,n,u);return o!==void 0&&(a.add=o),l(this.scene,h,a),h})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(214),s=t(16),r=t(13);s.register("container",function(a,o){a===void 0&&(a={});var n=r(a,"x",0),u=r(a,"y",0),h=r(a,"children",null),f=new l(this.scene,n,u,h);return o!==void 0&&(a.add=o),e(this.scene,f,a),f})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),l=t(28),s=t(16),r=t(13);s.register("dynamicBitmapText",function(a,o){a===void 0&&(a={});var n=r(a,"font",""),u=r(a,"text",""),h=r(a,"size",!1),f=new e(this.scene,0,0,n,u,h);return o!==void 0&&(a.add=o),l(this.scene,f,a),f})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),l=t(216);e.register("graphics",function(s,r){s===void 0&&(s={}),r!==void 0&&(s.add=r);var a=new l(this.scene,s);return s.add&&this.scene.sys.displayList.add(a),a})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),l=t(113);e.register("group",function(s){return new l(this.scene,null,s)})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(16),s=t(13),r=t(125);l.register("image",function(a,o){a===void 0&&(a={});var n=s(a,"key",null),u=s(a,"frame",null),h=new r(this.scene,0,0,n,u);return o!==void 0&&(a.add=o),e(this.scene,h,a),h})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(219),s=t(16),r=t(13);s.register("layer",function(a,o){a===void 0&&(a={});var n=r(a,"children",null),u=new l(this.scene,n);return o!==void 0&&(a.add=o),e(this.scene,u,a),u})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),l=t(13),s=t(2),r=t(220);e.register("particles",function(a,o){a===void 0&&(a={});var n=l(a,"key",null),u=l(a,"frame",null),h=s(a,"emitters",null),f=new r(this.scene,n,u,h);o!==void 0&&(a.add=o);var v=s(a,"add",!1);return v?this.displayList.add(f):this.updateList.add(f),f})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(16),s=t(13),r=t(221);l.register("renderTexture",function(a,o){a===void 0&&(a={});var n=s(a,"x",0),u=s(a,"y",0),h=s(a,"width",32),f=s(a,"height",32),v=s(a,"key",void 0),m=s(a,"frame",void 0),g=new r(this.scene,n,u,h,f,v,m);return o!==void 0&&(a.add=o),e(this.scene,g,a),g})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(16),s=t(13),r=t(6),a=t(223);l.register("rope",function(o,n){o===void 0&&(o={});var u=s(o,"key",null),h=s(o,"frame",null),f=s(o,"horizontal",!0),v=r(o,"points",void 0),m=r(o,"colors",void 0),g=r(o,"alphas",void 0),x=new a(this.scene,0,0,u,h,v,f,m,g);return n!==void 0&&(o.add=n),e(this.scene,x,o),o.add||this.updateList.add(x),x})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(439),s=t(16),r=t(13),a=t(73);s.register("sprite",function(o,n){o===void 0&&(o={});var u=r(o,"key",null),h=r(o,"frame",null),f=new a(this.scene,0,0,u,h);return n!==void 0&&(o.add=n),e(this.scene,f,o),l(f,o),f})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),l=t(28),s=t(16),r=t(13),a=t(6);s.register("bitmapText",function(o,n){o===void 0&&(o={});var u=a(o,"font",""),h=r(o,"text",""),f=r(o,"size",!1),v=a(o,"align",0),m=new e(this.scene,0,0,u,h,f,v);return n!==void 0&&(o.add=n),l(this.scene,m,o),m})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(16),s=t(13),r=t(224);l.register("text",function(a,o){a===void 0&&(a={});var n=s(a,"text",""),u=s(a,"style",null),h=s(a,"padding",null);h!==null&&(u.padding=h);var f=new r(this.scene,0,0,n,u);return o!==void 0&&(a.add=o),e(this.scene,f,a),f.autoRound=s(a,"autoRound",!0),f.resolution=s(a,"resolution",1),f})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(16),s=t(13),r=t(225);l.register("tileSprite",function(a,o){a===void 0&&(a={});var n=s(a,"x",0),u=s(a,"y",0),h=s(a,"width",512),f=s(a,"height",512),v=s(a,"key",""),m=s(a,"frame",""),g=new r(this.scene,n,u,h,f,v,m);return o!==void 0&&(a.add=o),e(this.scene,g,a),g})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),l=t(13),s=t(129);e.register("zone",function(r){var a=l(r,"x",0),o=l(r,"y",0),n=l(r,"width",1),u=l(r,"height",n);return new s(this.scene,a,o,n,u)})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(16),s=t(13),r=t(226);l.register("video",function(a,o){a===void 0&&(a={});var n=s(a,"key",null),u=new r(this.scene,0,0,n);return o!==void 0&&(a.add=o),e(this.scene,u,a),a.add||this.updateList.add(u),u})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1177),l=t(1178),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=function(s,r,a,o){if(!!r.shader){if(a.addToRenderList(r),s.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var n=e(r,a,o).calc;(s.width!==r._rendererWidth||s.height!==r._rendererHeight)&&r.projOrtho(0,s.width,s.height,0),r.load(n.matrix),r.flush()}s.pipelines.rebind()}};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1180),l=t(1181),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=function(s,r,a,o){var n=r.faces,u=n.length;if(u!==0){a.addToRenderList(r);var h=s.pipelines.set(r.pipeline,r),f=e(r,a,o).calc,v=h.setGameObject(r),m=h.vertexViewF32,g=h.vertexViewU32,x=h.vertexCount*h.currentShader.vertexComponentCount-1,y=r.tintFill,T=[],S=r.debugCallback,E=f.a,C=f.b,A=f.c,P=f.d,R=f.e,M=f.f,L=r.viewPosition.z,O=r.hideCCW,I=a.roundPixels,w=a.alpha*r.alpha,G=0;s.pipelines.preBatch(r);for(var V=0;V<u;V++){var X=n[V];!X.isInView(a,O,L,w,E,C,A,P,R,M,I)||(h.shouldFlush(3)&&(h.flush(),x=0),x=X.load(m,g,x,v,y),G++,h.vertexCount+=3,S&&T.push(X))}r.totalFrame+=G,S&&S.call(r,r,T),s.pipelines.postBatch(r)}};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1183),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),l=function(s,r,a,o){a.addToRenderList(r);var n=s.pipelines.set(r.pipeline),u=e(r,a,o).calc,h=r.width,f=r.height,v=-r._radius,m=-r._radius,g=v+h,x=m+f,y=u.getX(0,0),T=u.getY(0,0),S=u.getX(v,m),E=u.getY(v,m),C=u.getX(v,x),A=u.getY(v,x),P=u.getX(g,x),R=u.getY(g,x),M=u.getX(g,m),L=u.getY(g,m);s.pipelines.preBatch(r),n.batchPointLight(r,a,S,E,C,A,P,R,M,L,y,T),s.pipelines.postBatch(r)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(229),l=t(5);l.register("shader",function(s,r,a,o,n,u,h){return this.displayList.add(new e(this.scene,s,r,a,o,n,u,h))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(230),l=t(5);l.register("mesh",function(s,r,a,o,n,u,h,f,v,m,g){return this.displayList.add(new e(this.scene,s,r,a,o,n,u,h,f,v,m,g))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(150);e.register("pointlight",function(s,r,a,o,n,u){return this.displayList.add(new l(this.scene,s,r,a,o,n,u))})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(16),s=t(13),r=t(229);l.register("shader",function(a,o){a===void 0&&(a={});var n=s(a,"key",null),u=s(a,"x",0),h=s(a,"y",0),f=s(a,"width",128),v=s(a,"height",128),m=new r(this.scene,n,u,h,f,v);return o!==void 0&&(a.add=o),e(this.scene,m,a),m})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(16),s=t(13),r=t(6),a=t(230);l.register("mesh",function(o,n){o===void 0&&(o={});var u=s(o,"key",null),h=s(o,"frame",null),f=r(o,"vertices",[]),v=r(o,"uvs",[]),m=r(o,"indicies",[]),g=r(o,"containsZ",!1),x=r(o,"normals",[]),y=r(o,"colors",16777215),T=r(o,"alphas",1),S=new a(this.scene,0,0,u,h,f,v,m,g,x,y,T);return n!==void 0&&(o.add=n),e(this.scene,S,o),S})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),l=t(16),s=t(13),r=t(150);l.register("pointlight",function(a,o){a===void 0&&(a={});var n=s(a,"color",16777215),u=s(a,"radius",128),h=s(a,"intensity",1),f=s(a,"attenuation",.1),v=new r(this.scene,0,0,n,u,h,f);return o!==void 0&&(a.add=o),e(this.scene,v,a),v})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(482),s=t(24),r=t(20),a=new e({Extends:l,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(r.BOOT,this.boot,this),l.call(this)},boot:function(){var o=this.systems.events;o.on(r.SHUTDOWN,this.shutdown,this),o.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",a,"lights"),i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65);e.Area=t(1192),e.Circumference=t(302),e.CircumferencePoint=t(169),e.Clone=t(1193),e.Contains=t(66),e.ContainsPoint=t(1194),e.ContainsRect=t(1195),e.CopyFrom=t(1196),e.Equals=t(1197),e.GetBounds=t(1198),e.GetPoint=t(300),e.GetPoints=t(301),e.Offset=t(1199),e.OffsetPoint=t(1200),e.Random=t(170),i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),l=function(s){return new e(s.x,s.y,s.radius)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),l=function(s,r){return e(s,r.x,r.y)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),l=function(s,r){return e(s,r.x,r.y)&&e(s,r.right,r.y)&&e(s,r.x,r.bottom)&&e(s,r.right,r.bottom)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l.setTo(e.x,e.y,e.radius)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x===l.x&&e.y===l.y&&e.radius===l.radius};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=function(s,r){return r===void 0&&(r=new e),r.x=s.left,r.y=s.top,r.width=s.diameter,r.height=s.diameter,r};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e.x+=l,e.y+=s,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x+=l.x,e.y+=l.y,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111);e.Area=t(1202),e.Circumference=t(447),e.CircumferencePoint=t(218),e.Clone=t(1203),e.Contains=t(112),e.ContainsPoint=t(1204),e.ContainsRect=t(1205),e.CopyFrom=t(1206),e.Equals=t(1207),e.GetBounds=t(1208),e.GetPoint=t(445),e.GetPoints=t(446),e.Offset=t(1209),e.OffsetPoint=t(1210),e.Random=t(180),i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111),l=function(s){return new e(s.x,s.y,s.width,s.height)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),l=function(s,r){return e(s,r.x,r.y)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),l=function(s,r){return e(s,r.x,r.y)&&e(s,r.right,r.y)&&e(s,r.x,r.bottom)&&e(s,r.right,r.bottom)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l.setTo(e.x,e.y,e.width,e.height)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x===l.x&&e.y===l.y&&e.width===l.width&&e.height===l.height};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=function(s,r){return r===void 0&&(r=new e),r.x=s.left,r.y=s.top,r.width=s.width,r.height=s.height,r};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e.x+=l,e.y+=s,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x+=l.x,e.y+=l.y,e};i.exports=t},function(i,d,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=t(231),s=function(r,a,o){if(o===void 0&&(o=[]),l(r,a)){var n=r.x,u=r.y,h=r.radius,f=a.x,v=a.y,m=a.radius,g,x,y,T,S;if(u===v)S=(m*m-h*h-f*f+n*n)/(2*(n-f)),g=1,x=-2*v,y=f*f+S*S-2*f*S+v*v-m*m,T=x*x-4*g*y,T===0?o.push(new e(S,-x/(2*g))):T>0&&(o.push(new e(S,(-x+Math.sqrt(T))/(2*g))),o.push(new e(S,(-x-Math.sqrt(T))/(2*g))));else{var E=(n-f)/(u-v),C=(m*m-h*h-f*f+n*n-v*v+u*u)/(2*(u-v));g=E*E+1,x=2*u*E-2*C*E-2*n,y=n*n+u*u+C*C-h*h-2*u*C,T=x*x-4*g*y,T===0?(S=-x/(2*g),o.push(new e(S,C-S*E))):T>0&&(S=(-x+Math.sqrt(T))/(2*g),o.push(new e(S,C-S*E)),S=(-x-Math.sqrt(T))/(2*g),o.push(new e(S,C-S*E)))}}return o};i.exports=s},function(i,d,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),l=t(151),s=function(r,a,o){if(o===void 0&&(o=[]),l(r,a)){var n=a.getLineA(),u=a.getLineB(),h=a.getLineC(),f=a.getLineD();e(n,r,o),e(u,r,o),e(h,r,o),e(f,r,o)}return o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(140),l=t(487),s=t(47),r=new s;function a(u,h,f,v,m){var g=Math.cos(u),x=Math.sin(u);r.setTo(h,f,h+g,f+x);var y=l(r,v);y&&m.push(new e(y.x,y.y,u,y.w))}function o(u,h){return u.z-h.z}var n=function(u,h,f){Array.isArray(f)||(f=[f]);for(var v=[],m=[],g=0;g<f.length;g++)for(var x=f[g].points,y=0;y<x.length;y++){var T=Math.atan2(x[y].y-h,x[y].x-u);m.indexOf(T)===-1&&(a(T,u,h,f,v),a(T-1e-5,u,h,f,v),a(T+1e-5,u,h,f,v),m.push(T))}return v.sort(o)};i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=t(152),s=function(r,a,o){return o===void 0&&(o=new e),l(r,a)&&(o.x=Math.max(r.x,a.x),o.y=Math.max(r.y,a.y),o.width=Math.min(r.right,a.right)-o.x,o.height=Math.min(r.bottom,a.bottom)-o.y),o};i.exports=s},function(i,d,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(234),l=t(152),s=function(r,a,o){if(o===void 0&&(o=[]),l(r,a)){var n=r.getLineA(),u=r.getLineB(),h=r.getLineC(),f=r.getLineD();e(n,a,o),e(u,a,o),e(h,a,o),e(f,a,o)}return o};i.exports=s},function(i,d,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(489),l=t(234),s=function(r,a,o){if(o===void 0&&(o=[]),e(r,a)){var n=a.getLineA(),u=a.getLineB(),h=a.getLineC();l(n,r,o),l(u,r,o),l(h,r,o)}return o};i.exports=s},function(i,d,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),l=t(491),s=function(r,a,o){if(o===void 0&&(o=[]),l(r,a)){var n=r.getLineA(),u=r.getLineB(),h=r.getLineC();e(n,a,o),e(u,a,o),e(h,a,o)}return o};i.exports=s},function(i,d,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(494),l=t(492),s=function(r,a,o){if(o===void 0&&(o=[]),e(r,a)){var n=a.getLineA(),u=a.getLineB(),h=a.getLineC();l(r,n,o),l(r,u,o),l(r,h,o)}return o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(496),l=function(s,r){if(!e(s,r))return!1;var a=Math.min(r.x1,r.x2),o=Math.max(r.x1,r.x2),n=Math.min(r.y1,r.y2),u=Math.max(r.y1,r.y2);return s.x>=a&&s.x<=o&&s.y>=n&&s.y<=u};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a,o){return o===void 0&&(o=0),!(l>e.right+o||s<e.left-o||r>e.bottom+o||a<e.top-o)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47);e.Angle=t(97),e.BresenhamPoints=t(317),e.CenterOn=t(1222),e.Clone=t(1223),e.CopyFrom=t(1224),e.Equals=t(1225),e.Extend=t(1226),e.GetEasedPoints=t(1227),e.GetMidPoint=t(1228),e.GetNearestPoint=t(1229),e.GetNormal=t(1230),e.GetPoint=t(307),e.GetPoints=t(172),e.GetShortestDistance=t(1231),e.Height=t(1232),e.Length=t(67),e.NormalAngle=t(497),e.NormalX=t(1233),e.NormalY=t(1234),e.Offset=t(1235),e.PerpSlope=t(1236),e.Random=t(173),e.ReflectAngle=t(1237),e.Rotate=t(1238),e.RotateAroundPoint=t(1239),e.RotateAroundXY=t(236),e.SetToAngle=t(1240),e.Slope=t(1241),e.Width=t(1242),i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=l-(e.x1+e.x2)/2,a=s-(e.y1+e.y2)/2;return e.x1+=r,e.y1+=a,e.x2+=r,e.y2+=a,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47),l=function(s){return new e(s.x1,s.y1,s.x2,s.y2)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l.setTo(e.x1,e.y1,e.x2,e.y2)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x1===l.x1&&e.y1===l.y1&&e.x2===l.x2&&e.y2===l.y2};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),l=function(s,r,a){a===void 0&&(a=r);var o=e(s),n=s.x2-s.x1,u=s.y2-s.y1;return r&&(s.x1=s.x1-n/o*r,s.y1=s.y1-u/o*r),a&&(s.x2=s.x2+n/o*a,s.y2=s.y2+u/o*a),s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(352),l=t(80),s=t(4),r=function(a,o,n,u,h){u===void 0&&(u=0),h===void 0&&(h=[]);var f=[],v=a.x1,m=a.y1,g=a.x2-v,x=a.y2-m,y=l(o,h),T,S,E=n-1;for(T=0;T<E;T++)S=y(T/E),f.push(new s(v+g*S,m+x*S));if(S=y(1),f.push(new s(v+g*S,m+x*S)),u>0){var C=f[0],A=[C];for(T=1;T<f.length-1;T++){var P=f[T];e(C,P)>=u&&(A.push(P),C=P)}var R=f[f.length-1];return e(C,R)<u&&A.pop(),A.push(R),A}else return f};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){return r===void 0&&(r=new e),r.x=(s.x1+s.x2)/2,r.y=(s.y1+s.y2)/2,r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r,a){a===void 0&&(a=new e);var o=s.x1,n=s.y1,u=s.x2,h=s.y2,f=(u-o)*(u-o)+(h-n)*(h-n);if(f===0)return a;var v=((r.x-o)*(u-o)+(r.y-n)*(h-n))/f;return a.x=o+v*(u-o),a.y=n+v*(h-n),a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=t(97),s=t(4),r=function(a,o){o===void 0&&(o=new s);var n=l(a)-e.TAU;return o.x=Math.cos(n),o.y=Math.sin(n),o};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=e.x1,r=e.y1,a=e.x2,o=e.y2,n=(a-s)*(a-s)+(o-r)*(o-r);if(n===0)return!1;var u=((r-l.y)*(a-s)-(s-l.x)*(o-r))/n;return Math.abs(u)*Math.sqrt(n)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.y1-e.y2)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=t(97),s=function(r){return Math.cos(l(r)-e.TAU)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),l=t(97),s=function(r){return Math.sin(l(r)-e.TAU)};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e.x1+=l,e.y1+=s,e.x2+=l,e.y2+=s,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(97),l=t(497),s=function(r,a){return 2*l(a)-Math.PI-e(r)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),l=function(s,r){var a=(s.x1+s.x2)/2,o=(s.y1+s.y2)/2;return e(s,a,o,r)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),l=function(s,r,a){return e(s,r.x,r.y,a)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r,a){return e.x1=l,e.y1=s,e.x2=l+Math.cos(r)*a,e.y2=s+Math.sin(r)*a,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.x1-e.x2)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Face:t(116),GenerateGridVerts:t(1244),GenerateObjVerts:t(480),GenerateVerts:t(479),ParseObj:t(498),ParseObjMaterial:t(499),RotateFace:t(1245),Vertex:t(117)};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),l=t(2),s=t(69),r=t(39),a=t(117),o=new r,n=new r,u=new s,h=function(f){var v=l(f,"mesh"),m=l(f,"texture",null),g=l(f,"frame"),x=l(f,"width",1),y=l(f,"height",x),T=l(f,"widthSegments",1),S=l(f,"heightSegments",T),E=l(f,"x",0),C=l(f,"y",0),A=l(f,"z",0),P=l(f,"rotateX",0),R=l(f,"rotateY",0),M=l(f,"rotateZ",0),L=l(f,"zIsUp",!0),O=l(f,"isOrtho",v?v.dirtyCache[11]:!1),I=l(f,"colors",[16777215]),w=l(f,"alphas",[1]),G=l(f,"tile",!1),V=l(f,"flipY",!1),X=l(f,"width",null),W={faces:[],verts:[]};if(o.set(E,C,A),n.set(P,R,M),u.fromRotationXYTranslation(n,o,L),!m&&v)m=v.texture;else if(v&&typeof m=="string")m=v.scene.sys.textures.get(m);else return W;var D=m.get(g);!X&&O&&m&&v&&(x=D.width/v.height,y=D.height/v.height);var F=x/2,B=y/2,b=Math.floor(T),z=Math.floor(S),N=b+1,U=z+1,Y=x/b,K=y/z,Z=[],j=[],q,k,H=0,$=1,J=0,et=1;D&&(H=D.u0,$=D.u1,V?(J=D.v1,et=D.v0):(J=D.v0,et=D.v1));var _=$-H,it=et-J;for(k=0;k<U;k++){var Q=k*K-B;for(q=0;q<N;q++){var st=q*Y-F;j.push(st,-Q);var nt=H+_*(q/b),tt=J+it*(k/z);Z.push(nt,tt)}}Array.isArray(I)||(I=[I]),Array.isArray(w)||(w=[w]);var ut=0,ot=0;for(k=0;k<z;k++)for(q=0;q<b;q++){var at=(q+N*k)*2,ht=(q+N*(k+1))*2,ft=(q+1+N*(k+1))*2,vt=(q+1+N*k)*2,ct=I[ot],mt=w[ut],bt=new a(j[at],j[at+1],0,Z[at],Z[at+1],ct,mt).transformMat4(u),kt=new a(j[ht],j[ht+1],0,Z[ht],Z[ht+1],ct,mt).transformMat4(u),fe=new a(j[vt],j[vt+1],0,Z[vt],Z[vt+1],ct,mt).transformMat4(u),te=new a(j[ht],j[ht+1],0,Z[ht],Z[ht+1],ct,mt).transformMat4(u),de=new a(j[ft],j[ft+1],0,Z[ft],Z[ft+1],ct,mt).transformMat4(u),Dt=new a(j[vt],j[vt+1],0,Z[vt],Z[vt+1],ct,mt).transformMat4(u);G&&(bt.setUVs(H,et),kt.setUVs(H,J),fe.setUVs($,et),te.setUVs(H,J),de.setUVs($,J),Dt.setUVs($,et)),ot++,ot===I.length&&(ot=0),ut++,ut===w.length&&(ut=0),W.verts.push(bt,kt,fe,te,de,Dt),W.faces.push(new e(bt,kt,fe),new e(te,de,Dt))}return v&&(v.faces=v.faces.concat(W.faces),v.vertices=v.vertices.concat(W.verts)),W};i.exports=h},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){var a,o;if(s===void 0&&r===void 0){var n=e.getInCenter();a=n.x,o=n.y}var u=Math.cos(l),h=Math.sin(l),f=e.vertex1,v=e.vertex2,m=e.vertex3,g=f.x-a,x=f.y-o;f.set(g*u-x*h+a,g*h+x*u+o),g=v.x-a,x=v.y-o,v.set(g*u-x*h+a,g*h+x*u+o),g=m.x-a,x=m.y-o,m.set(g*u-x*h+a,g*h+x*u+o)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);e.Ceil=t(1247),e.Clone=t(1248),e.CopyFrom=t(1249),e.Equals=t(1250),e.Floor=t(1251),e.GetCentroid=t(1252),e.GetMagnitude=t(500),e.GetMagnitudeSq=t(501),e.GetRectangleFromPoints=t(1253),e.Interpolate=t(1254),e.Invert=t(1255),e.Negative=t(1256),e.Project=t(1257),e.ProjectUnit=t(1258),e.SetMagnitude=t(1259),i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s){return new e(s.x,s.y)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l.setTo(e.x,e.y)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x===l.x&&e.y===l.y};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){if(r===void 0&&(r=new e),!Array.isArray(s))throw new Error("GetCentroid points argument must be an array");var a=s.length;if(a<1)throw new Error("GetCentroid points array must not be empty");if(a===1)r.x=s[0].x,r.y=s[0].y;else{for(var o=0;o<a;o++)r.x+=s[o].x,r.y+=s[o].y;r.x/=a,r.y/=a}return r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=function(s,r){r===void 0&&(r=new e);for(var a=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,h=0;h<s.length;h++){var f=s[h];f.x>a&&(a=f.x),f.x<o&&(o=f.x),f.y>n&&(n=f.y),f.y<u&&(u=f.y)}return r.x=o,r.y=u,r.width=a-o,r.height=n-u,r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r,a,o){return a===void 0&&(a=0),o===void 0&&(o=new e),o.x=s.x+(r.x-s.x)*a,o.y=s.y+(r.y-s.y)*a,o};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(e.y,e.x)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){return r===void 0&&(r=new e),r.setTo(-s.x,-s.y)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=t(501),s=function(r,a,o){o===void 0&&(o=new e);var n=r.x*a.x+r.y*a.y,u=n/l(a);return u!==0&&(o.x=u*a.x,o.y=u*a.y),o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r,a){a===void 0&&(a=new e);var o=s.x*r.x+s.y*r.y;return o!==0&&(a.x=o*r.x,a.y=o*r.y),a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(500),l=function(s,r){if(s.x!==0||s.y!==0){var a=e(s);s.x/=a,s.y/=a}return s.x*=r,s.y*=r,s};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227);e.Clone=t(1261),e.Contains=t(228),e.ContainsPoint=t(1262),e.Earcut=t(59),e.GetAABB=t(469),e.GetNumberArray=t(1263),e.GetPoints=t(470),e.Perimeter=t(471),e.Reverse=t(1264),e.Simplify=t(1265),e.Smooth=t(472),e.Translate=t(1266),i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227),l=function(s){return new e(s.points)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(228),l=function(s,r){return e(s,r.x,r.y)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l===void 0&&(l=[]);for(var s=0;s<e.points.length;s++)l.push(e.points[s].x),l.push(e.points[s].y);return l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.points.reverse(),e};i.exports=t},function(i,d){function t(o,n){var u=o.x-n.x,h=o.y-n.y;return u*u+h*h}function e(o,n,u){var h=n.x,f=n.y,v=u.x-h,m=u.y-f;if(v!==0||m!==0){var g=((o.x-h)*v+(o.y-f)*m)/(v*v+m*m);g>1?(h=u.x,f=u.y):g>0&&(h+=v*g,f+=m*g)}return v=o.x-h,m=o.y-f,v*v+m*m}function l(o,n){for(var u=o[0],h=[u],f,v=1,m=o.length;v<m;v++)f=o[v],t(f,u)>n&&(h.push(f),u=f);return u!==f&&h.push(f),h}function s(o,n,u,h,f){for(var v=h,m,g=n+1;g<u;g++){var x=e(o[g],o[n],o[u]);x>v&&(m=g,v=x)}v>h&&(m-n>1&&s(o,n,m,h,f),f.push(o[m]),u-m>1&&s(o,m,u,h,f))}function r(o,n){var u=o.length-1,h=[o[0]];return s(o,0,u,n,h),h.push(o[u]),h}var a=function(o,n,u){n===void 0&&(n=1),u===void 0&&(u=!1);var h=o.points;if(h.length>2){var f=n*n;u||(h=l(h,f)),o.setTo(r(h,f))}return o};i.exports=a},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){for(var r=e.points,a=0;a<r.length;a++)r[a].x+=l,r[a].y+=s;return e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.height};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=function(s){return new e(s.x,s.y,s.width,s.height)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(57),l=function(s,r){return e(s,r.x,r.y)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l.setTo(e.x,e.y,e.width,e.height)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x===l.x&&e.y===l.y&&e.width===l.width&&e.height===l.height};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),l=function(s,r){var a=e(s);return a<e(r)?s.setSize(r.height*a,r.height):s.setSize(r.width,r.width/a),s.setPosition(r.centerX-s.width/2,r.centerY-s.height/2)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),l=function(s,r){var a=e(s);return a>e(r)?s.setSize(r.height*a,r.height):s.setSize(r.width,r.width/a),s.setPosition(r.centerX-s.width/2,r.centerY-s.height/2)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};i.exports=t},function(i,d,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=function(s,r,a,o,n){return n===void 0&&(n=new e),n.setTo(Math.min(s,a),Math.min(r,o),Math.abs(s-a),Math.abs(r-o))};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){return r===void 0&&(r=new e),r.x=s.centerX,r.y=s.centerY,r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=function(s,r){return r===void 0&&(r=new e),r.x=s.width,r.y=s.height,r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(190),l=function(s,r,a){var o=s.centerX,n=s.centerY;return s.setSize(s.width+r*2,s.height+a*2),e(s,o,n)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),l=t(152),s=function(r,a,o){return o===void 0&&(o=new e),l(r,a)?(o.x=Math.max(r.x,a.x),o.y=Math.max(r.y,a.y),o.width=Math.min(r.right,a.right)-o.x,o.height=Math.min(r.bottom,a.bottom)-o.y):o.setEmpty(),o};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){for(var s=e.x,r=e.right,a=e.y,o=e.bottom,n=0;n<l.length;n++)s=Math.min(s,l[n].x),r=Math.max(r,l[n].x),a=Math.min(a,l[n].y),o=Math.max(o,l[n].y);return e.x=s,e.y=a,e.width=r-s,e.height=o-a,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){var s=Math.min(e.x,l.x),r=Math.max(e.right,l.right);e.x=s,e.width=r-s;var a=Math.min(e.y,l.y),o=Math.max(e.bottom,l.bottom);return e.y=a,e.height=o-a,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){var r=Math.min(e.x,l),a=Math.max(e.right,l);e.x=r,e.width=a-r;var o=Math.min(e.y,s),n=Math.max(e.bottom,s);return e.y=o,e.height=n-o,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return e.x+=l,e.y+=s,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x+=l.x,e.y+=l.y,e};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x<l.right&&e.right>l.x&&e.y<l.bottom&&e.bottom>l.y};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),l=t(36),s=function(r,a,o){o===void 0&&(o=new e),a=l(a);var n=Math.sin(a),u=Math.cos(a),h=u>0?r.width/2:r.width/-2,f=n>0?r.height/2:r.height/-2;return Math.abs(h*n)<Math.abs(f*u)?f=h*n/u:h=f*u/n,o.x=h+r.centerX,o.y=f+r.centerY,o};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),l=t(503),s=t(4),r=function(a,o,n){if(n===void 0&&(n=new s),l(a,o))switch(e(0,3)){case 0:n.x=a.x+Math.random()*(o.right-a.x),n.y=a.y+Math.random()*(o.top-a.y);break;case 1:n.x=o.x+Math.random()*(a.right-o.x),n.y=o.bottom+Math.random()*(a.bottom-o.bottom);break;case 2:n.x=a.x+Math.random()*(o.x-a.x),n.y=o.y+Math.random()*(a.bottom-o.y);break;case 3:n.x=o.right+Math.random()*(a.right-o.right),n.y=a.y+Math.random()*(o.bottom-a.y);break}return n};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.width===l.width&&e.height===l.height};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s){return s===void 0&&(s=l),e.width*=l,e.height*=s,e};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82);e.Area=t(1294),e.BuildEquilateral=t(1295),e.BuildFromPolygon=t(1296),e.BuildRight=t(1297),e.CenterOn=t(1298),e.Centroid=t(504),e.CircumCenter=t(1299),e.CircumCircle=t(1300),e.Clone=t(1301),e.Contains=t(115),e.ContainsArray=t(235),e.ContainsPoint=t(1302),e.CopyFrom=t(1303),e.Decompose=t(495),e.Equals=t(1304),e.GetPoint=t(476),e.GetPoints=t(477),e.InCenter=t(506),e.Perimeter=t(1305),e.Offset=t(505),e.Random=t(181),e.Rotate=t(1306),e.RotateAroundPoint=t(1307),e.RotateAroundXY=t(238),i.exports=e},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var l=e.x1,s=e.y1,r=e.x2,a=e.y2,o=e.x3,n=e.y3;return Math.abs(((o-l)*(a-s)-(r-l)*(n-s))/2)};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),l=function(s,r,a){var o=a*(Math.sqrt(3)/2),n=s,u=r,h=s+a/2,f=r+o,v=s-a/2,m=r+o;return new e(n,u,h,f,v,m)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(59),l=t(82),s=function(r,a,o,n,u){a===void 0&&(a=null),o===void 0&&(o=1),n===void 0&&(n=1),u===void 0&&(u=[]);for(var h=e(r,a),f,v,m,g,x,y,T,S,E,C=0;C<h.length;C+=3)f=h[C],v=h[C+1],m=h[C+2],g=r[f*2]*o,x=r[f*2+1]*n,y=r[v*2]*o,T=r[v*2+1]*n,S=r[m*2]*o,E=r[m*2+1]*n,u.push(new l(g,x,y,T,S,E));return u};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),l=function(s,r,a,o){o===void 0&&(o=a);var n=s,u=r,h=s,f=r-o,v=s+a,m=r;return new e(n,u,h,f,v,m)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(504),l=t(505),s=function(r,a,o,n){n===void 0&&(n=e);var u=n(r),h=a-u.x,f=o-u.y;return l(r,h,f)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3);function l(r,a,o,n){return r*n-a*o}var s=function(r,a){a===void 0&&(a=new e);var o=r.x3,n=r.y3,u=r.x1-o,h=r.y1-n,f=r.x2-o,v=r.y2-n,m=2*l(u,h,f,v),g=l(h,u*u+h*h,v,f*f+v*v),x=l(u,u*u+h*h,f,f*f+v*v);return a.x=o-g/m,a.y=n+x/m,a};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),l=function(s,r){r===void 0&&(r=new e);var a=s.x1,o=s.y1,n=s.x2,u=s.y2,h=s.x3,f=s.y3,v=n-a,m=u-o,g=h-a,x=f-o,y=v*(a+n)+m*(o+u),T=g*(a+h)+x*(o+f),S=2*(v*(f-u)-m*(h-n)),E,C;if(Math.abs(S)<1e-6){var A=Math.min(a,n,h),P=Math.min(o,u,f);E=(Math.max(a,n,h)-A)*.5,C=(Math.max(o,u,f)-P)*.5,r.x=A+E,r.y=P+C,r.radius=Math.sqrt(E*E+C*C)}else r.x=(x*y-m*T)/S,r.y=(v*T-g*y)/S,E=r.x-a,C=r.y-o,r.radius=Math.sqrt(E*E+C*C);return r};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),l=function(s){return new e(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(115),l=function(s,r){return e(s,r.x,r.y)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.x1===l.x1&&e.y1===l.y1&&e.x2===l.x2&&e.y2===l.y2&&e.x3===l.x3&&e.y3===l.y3};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),l=function(s){var r=s.getLineA(),a=s.getLineB(),o=s.getLineC();return e(r)+e(a)+e(o)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),l=t(506),s=function(r,a){var o=l(r);return e(r,o.x,o.y,a)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),l=function(s,r,a){return e(s,r.x,r.y,a)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(203),l=t(17),s={CreatePixelPerfectHandler:t(507),CreateInteractiveObject:t(508),Events:t(51),Gamepad:t(1309),InputManager:t(409),InputPlugin:t(1321),InputPluginCache:t(153),Keyboard:t(1322),Mouse:t(1336),Pointer:t(412),Touch:t(1337)};s=l(!1,s,e),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Axis:t(509),Button:t(510),Events:t(239),Gamepad:t(511),GamepadPlugin:t(1316),Configs:t(1317)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="down"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="up"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="connected"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="disconnected"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="down"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="up"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(9),s=t(239),r=t(511),a=t(6),o=t(153),n=t(51),u=new e({Extends:l,initialize:function(f){l.call(this),this.scene=f.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=f,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,f.pluginEvents.once(n.BOOT,this.boot,this),f.pluginEvents.on(n.START,this.start,this)},boot:function(){var h=this.scene.sys.game,f=this.settings.input,v=h.config;this.enabled=a(f,"gamepad",v.inputGamepad)&&h.device.input.gamepads,this.target=a(f,"gamepad.target",v.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var h=this,f=this.target,v=function(m){m.defaultPrevented||!h.isActive()||(h.refreshPads(),h.queue.push(m))};this.onGamepadHandler=v,f.addEventListener("gamepadconnected",v,!1),f.addEventListener("gamepaddisconnected",v,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].removeAllListeners()},disconnectAll:function(){for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].pad.connected=!1},refreshPads:function(){var h=navigator.getGamepads();if(!h)this.disconnectAll();else for(var f=this.gamepads,v=0;v<h.length;v++){var m=h[v];if(!!m){var g=m.id,x=m.index,y=f[x];if(y)y.id!==g?(y.destroy(),f[x]=new r(this,m)):y.update(m);else{var T=new r(this,m);f[x]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var h=[],f=this.gamepads,v=0;v<f.length;v++)f[v]&&h.push(f[v]);return h},getPad:function(h){for(var f=this.gamepads,v=0;v<f.length;v++)if(f[v]&&f[v].index===h)return f[v]},update:function(){if(!!this.enabled){this.refreshPads();var h=this.queue.length;if(h!==0)for(var f=this.queue.splice(0,h),v=0;v<h;v++){var m=f[v],g=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(s.CONNECTED,g,m):m.type==="gamepaddisconnected"&&this.emit(s.DISCONNECTED,g,m)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var h=0;h<this.gamepads.length;h++)this.gamepads[h]&&this.gamepads[h].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});o.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={DUALSHOCK_4:t(1318),SNES_USB:t(1319),XBOX_360:t(1320)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),l=t(66),s=t(0),r=t(203),a=t(508),o=t(507),n=t(50),u=t(111),h=t(112),f=t(51),v=t(9),m=t(2),g=t(56),x=t(153),y=t(7),T=t(24),S=t(10),E=t(57),C=t(20),A=t(82),P=t(115),R=new s({Extends:v,initialize:function(L){v.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new v,this.enabled=!0,this.displayList,this.cameras,x.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var O={cancelled:!1};this._eventContainer={stopPropagation:function(){O.cancelled=!0}},this._eventData=O,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(C.BOOT,this.boot,this),L.sys.events.on(C.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(C.DESTROY,this.destroy,this),this.pluginEvents.emit(f.BOOT)},start:function(){var M=this.systems.events;M.on(C.TRANSITION_START,this.transitionIn,this),M.on(C.TRANSITION_OUT,this.transitionOut,this),M.on(C.TRANSITION_COMPLETE,this.transitionComplete,this),M.on(C.PRE_UPDATE,this.preUpdate,this),M.once(C.SHUTDOWN,this.shutdown,this),this.manager.events.on(f.GAME_OUT,this.onGameOut,this),this.manager.events.on(f.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(f.START)},onGameOver:function(M){this.isActive()&&this.emit(f.GAME_OVER,M.timeStamp,M)},onGameOut:function(M){this.isActive()&&this.emit(f.GAME_OUT,M.timeStamp,M)},preUpdate:function(){this.pluginEvents.emit(f.PRE_UPDATE);var M=this._pendingRemoval,L=this._pendingInsertion,O=M.length,I=L.length;if(!(O===0&&I===0)){for(var w=this._list,G=0;G<O;G++){var V=M[G],X=w.indexOf(V);X>-1&&(w.splice(X,1),this.clear(V,!0))}M.length=0,this._pendingRemoval.length=0,this._list=w.concat(L.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(M,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(f.UPDATE,M,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var O,I=this.manager,w=I.pointers,G=I.pointersTotal;for(O=0;O<G;O++)w[O].updateMotion();if(this._list.length===0)return!1;var V=this.pollRate;if(V===-1)return!1;if(V>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var X=!1;for(O=0;O<G;O++){var W=0,D=w[O];this._tempZones=[],this._temp=this.hitTestPointer(D),this.sortGameObjects(this._temp,D),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),W+=this.processOverOutEvents(D),this.getDragState(D)===2&&this.processDragThresholdEvent(D,M),W>0&&(X=!0)}return X},update:function(M,L){if(!this.isActive())return!1;for(var O=L.length,I=!1,w=0;w<O;w++){var G=0,V=L[w];switch(this._tempZones=[],this._temp=this.hitTestPointer(V),this.sortGameObjects(this._temp,V),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),M){case r.MOUSE_DOWN:G+=this.processDragDownEvent(V),G+=this.processDownEvents(V),G+=this.processOverOutEvents(V);break;case r.MOUSE_UP:G+=this.processDragUpEvent(V),G+=this.processUpEvents(V),G+=this.processOverOutEvents(V);break;case r.TOUCH_START:G+=this.processDragDownEvent(V),G+=this.processDownEvents(V),G+=this.processOverEvents(V);break;case r.TOUCH_END:case r.TOUCH_CANCEL:G+=this.processDragUpEvent(V),G+=this.processUpEvents(V),G+=this.processOutEvents(V);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:G+=this.processDragMoveEvent(V),G+=this.processMoveEvents(V),G+=this.processOverOutEvents(V);break;case r.MOUSE_WHEEL:G+=this.processWheelEvent(V);break}G>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(M,L){L===void 0&&(L=!1);var O=M.input;if(!!O){L||this.queueForRemoval(M),O.gameObject=void 0,O.target=void 0,O.hitArea=void 0,O.hitAreaCallback=void 0,O.callbackContext=void 0,M.input=null;var I=this._draggable.indexOf(M);return I>-1&&this._draggable.splice(I,1),I=this._drag[0].indexOf(M),I>-1&&this._drag[0].splice(I,1),I=this._over[0].indexOf(M),I>-1&&(this._over[0].splice(I,1),this.manager.resetCursor(O)),M}},disable:function(M){M.input.enabled=!1},enable:function(M,L,O,I){return I===void 0&&(I=!1),M.input?M.input.enabled=!0:this.setHitArea(M,L,O),M.input&&I&&!M.input.dropZone&&(M.input.dropZone=I),this},hitTestPointer:function(M){for(var L=this.cameras.getCamerasBelowPointer(M),O=0;O<L.length;O++){for(var I=L[O],w=this.manager.hitTest(M,this._list,I),G=0;G<w.length;G++){var V=w[G];V.input.dropZone&&this._tempZones.push(V)}if(w.length>0)return M.camera=I,w}return M.camera=L[0],[]},processDownEvents:function(M){var L=0,O=this._temp,I=this._eventData,w=this._eventContainer;I.cancelled=!1;for(var G=!1,V=0;V<O.length;V++){var X=O[V];if(!!X.input){if(L++,X.emit(f.GAMEOBJECT_POINTER_DOWN,M,X.input.localX,X.input.localY,w),I.cancelled||!X.input){G=!0;break}if(this.emit(f.GAMEOBJECT_DOWN,M,X,w),I.cancelled||!X.input){G=!0;break}}}return!G&&this.manager&&(M.downElement===this.manager.game.canvas?this.emit(f.POINTER_DOWN,M,O):this.emit(f.POINTER_DOWN_OUTSIDE,M)),L},getDragState:function(M){return this._dragState[M.id]},setDragState:function(M,L){this._dragState[M.id]=L},processDragThresholdEvent:function(M,L){var O=!1,I=this.dragTimeThreshold,w=this.dragDistanceThreshold;if((w>0&&n(M.x,M.y,M.downX,M.downY)>=w||I>0&&L>=M.downTime+I)&&(O=!0),O)return this.setDragState(M,3),this.processDragStartList(M)},processDragStartList:function(M){if(this.getDragState(M)!==3)return 0;for(var L=this._drag[M.id],O=0;O<L.length;O++){var I=L[O],w=I.input;w.dragState=2,w.dragStartX=I.x,w.dragStartY=I.y,w.dragStartXGlobal=M.worldX,w.dragStartYGlobal=M.worldY,w.dragX=w.dragStartXGlobal-w.dragStartX,w.dragY=w.dragStartYGlobal-w.dragStartY,I.emit(f.GAMEOBJECT_DRAG_START,M,w.dragX,w.dragY),this.emit(f.DRAG_START,M,I)}return this.setDragState(M,4),L.length},processDragDownEvent:function(M){var L=this._temp;if(this._draggable.length===0||L.length===0||!M.primaryDown||this.getDragState(M)!==0)return 0;this.setDragState(M,1);for(var O=[],I=0;I<L.length;I++){var w=L[I];w.input.draggable&&w.input.dragState===0&&O.push(w)}return O.length===0?(this.setDragState(M,0),0):(O.length>1&&(this.sortGameObjects(O,M),this.topOnly&&O.splice(1)),this._drag[M.id]=O,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(M,3),this.processDragStartList(M)):(this.setDragState(M,2),0))},processDragMoveEvent:function(M){if(this.getDragState(M)===2&&this.processDragThresholdEvent(M,this.manager.game.loop.now),this.getDragState(M)!==4)return 0;for(var L=this._tempZones,O=this._drag[M.id],I=0;I<O.length;I++){var w=O[I],G=w.input,V=G.target;if(V){var X=L.indexOf(V);X===0?(w.emit(f.GAMEOBJECT_DRAG_OVER,M,V),this.emit(f.DRAG_OVER,M,w,V)):X>0?(w.emit(f.GAMEOBJECT_DRAG_LEAVE,M,V),this.emit(f.DRAG_LEAVE,M,w,V),G.target=L[0],V=G.target,w.emit(f.GAMEOBJECT_DRAG_ENTER,M,V),this.emit(f.DRAG_ENTER,M,w,V)):(w.emit(f.GAMEOBJECT_DRAG_LEAVE,M,V),this.emit(f.DRAG_LEAVE,M,w,V),L[0]?(G.target=L[0],V=G.target,w.emit(f.GAMEOBJECT_DRAG_ENTER,M,V),this.emit(f.DRAG_ENTER,M,w,V)):G.target=null)}else!V&&L[0]&&(G.target=L[0],V=G.target,w.emit(f.GAMEOBJECT_DRAG_ENTER,M,V),this.emit(f.DRAG_ENTER,M,w,V));var W,D;if(!w.parentContainer)W=M.worldX-G.dragX,D=M.worldY-G.dragY;else{var F=M.worldX-G.dragStartXGlobal,B=M.worldY-G.dragStartYGlobal,b=w.getParentRotation(),z=F*Math.cos(b)+B*Math.sin(b),N=B*Math.cos(b)-F*Math.sin(b);z*=1/w.parentContainer.scaleX,N*=1/w.parentContainer.scaleY,W=z+G.dragStartX,D=N+G.dragStartY}w.emit(f.GAMEOBJECT_DRAG,M,W,D),this.emit(f.DRAG,M,w,W,D)}return O.length},processDragUpEvent:function(M){for(var L=this._drag[M.id],O=0;O<L.length;O++){var I=L[O],w=I.input;if(w&&w.dragState===2){w.dragState=0,w.dragX=w.localX-I.displayOriginX,w.dragY=w.localY-I.displayOriginY;var G=!1,V=w.target;V&&(I.emit(f.GAMEOBJECT_DROP,M,V),this.emit(f.DROP,M,I,V),w.target=null,G=!0),I.input&&(I.emit(f.GAMEOBJECT_DRAG_END,M,w.dragX,w.dragY,G),this.emit(f.DRAG_END,M,I,G))}}return this.setDragState(M,0),L.splice(0),0},processMoveEvents:function(M){var L=0,O=this._temp,I=this._eventData,w=this._eventContainer;I.cancelled=!1;for(var G=!1,V=0;V<O.length;V++){var X=O[V];if(!!X.input){if(L++,X.emit(f.GAMEOBJECT_POINTER_MOVE,M,X.input.localX,X.input.localY,w),I.cancelled||!X.input){G=!0;break}if(this.emit(f.GAMEOBJECT_MOVE,M,X,w),I.cancelled||!X.input){G=!0;break}if(this.topOnly)break}}return G||this.emit(f.POINTER_MOVE,M,O),L},processWheelEvent:function(M){var L=0,O=this._temp,I=this._eventData,w=this._eventContainer;I.cancelled=!1;for(var G=!1,V=M.deltaX,X=M.deltaY,W=M.deltaZ,D=0;D<O.length;D++){var F=O[D];if(!!F.input){if(L++,F.emit(f.GAMEOBJECT_POINTER_WHEEL,M,V,X,W,w),I.cancelled||!F.input){G=!0;break}if(this.emit(f.GAMEOBJECT_WHEEL,M,F,V,X,W,w),I.cancelled||!F.input){G=!0;break}}}return G||this.emit(f.POINTER_WHEEL,M,O,V,X,W),L},processOverEvents:function(M){var L=this._temp,O=0,I=L.length,w=[];if(I>0){var G=this.manager,V=this._eventData,X=this._eventContainer;V.cancelled=!1;for(var W=!1,D=0;D<I;D++){var F=L[D];if(!!F.input){if(w.push(F),G.setCursor(F.input),F.emit(f.GAMEOBJECT_POINTER_OVER,M,F.input.localX,F.input.localY,X),O++,V.cancelled||!F.input){W=!0;break}if(this.emit(f.GAMEOBJECT_OVER,M,F,X),V.cancelled||!F.input){W=!0;break}}}W||this.emit(f.POINTER_OVER,M,w)}return this._over[M.id]=w,O},processOutEvents:function(M){var L=this._over[M.id],O=0,I=L.length;if(I>0){var w=this.manager,G=this._eventData,V=this._eventContainer;G.cancelled=!1;var X=!1;this.sortGameObjects(L,M);for(var W=0;W<I;W++){var D=L[W];if(D=L[W],!!D.input){if(w.resetCursor(D.input),D.emit(f.GAMEOBJECT_POINTER_OUT,M,V),O++,G.cancelled||!D.input){X=!0;break}if(this.emit(f.GAMEOBJECT_OUT,M,D,V),G.cancelled||!D.input){X=!0;break}X||this.emit(f.POINTER_OUT,M,L)}}this._over[M.id]=[]}return O},processOverOutEvents:function(M){var L=this._temp,O,I,w=[],G=[],V=[],X=this._over[M.id],W=this._drag[M.id],D=this.manager;for(O=0;O<X.length;O++)I=X[O],L.indexOf(I)===-1&&W.indexOf(I)===-1?w.push(I):V.push(I);for(O=0;O<L.length;O++)I=L[O],X.indexOf(I)===-1&&G.push(I);var F=w.length,B=0,b=this._eventData,z=this._eventContainer;b.cancelled=!1;var N=!1;if(F>0){for(this.sortGameObjects(w,M),O=0;O<F;O++)if(I=w[O],!!I.input){if(D.resetCursor(I.input),I.emit(f.GAMEOBJECT_POINTER_OUT,M,z),B++,b.cancelled||!I.input){N=!0;break}if(this.emit(f.GAMEOBJECT_OUT,M,I,z),b.cancelled||!I.input){N=!0;break}}N||this.emit(f.POINTER_OUT,M,w)}if(F=G.length,b.cancelled=!1,N=!1,F>0){for(this.sortGameObjects(G,M),O=0;O<F;O++)if(I=G[O],!!I.input){if(D.setCursor(I.input),I.emit(f.GAMEOBJECT_POINTER_OVER,M,I.input.localX,I.input.localY,z),B++,b.cancelled||!I.input){N=!0;break}if(this.emit(f.GAMEOBJECT_OVER,M,I,z),b.cancelled||!I.input){N=!0;break}}N||this.emit(f.POINTER_OVER,M,G)}return X=V.concat(G),this._over[M.id]=this.sortGameObjects(X,M),B},processUpEvents:function(M){var L=this._temp,O=this._eventData,I=this._eventContainer;O.cancelled=!1;for(var w=!1,G=0;G<L.length;G++){var V=L[G];if(!!V.input){if(V.emit(f.GAMEOBJECT_POINTER_UP,M,V.input.localX,V.input.localY,I),O.cancelled||!V.input){w=!0;break}if(this.emit(f.GAMEOBJECT_UP,M,V,I),O.cancelled||!V.input){w=!0;break}}}return!w&&this.manager&&(M.upElement===this.manager.game.canvas?this.emit(f.POINTER_UP,M,L):this.emit(f.POINTER_UP_OUTSIDE,M)),L.length},queueForInsertion:function(M){return this._pendingInsertion.indexOf(M)===-1&&this._list.indexOf(M)===-1&&this._pendingInsertion.push(M),this},queueForRemoval:function(M){return this._pendingRemoval.push(M),this},setDraggable:function(M,L){L===void 0&&(L=!0),Array.isArray(M)||(M=[M]);for(var O=0;O<M.length;O++){var I=M[O];I.input.draggable=L;var w=this._draggable.indexOf(I);L&&w===-1?this._draggable.push(I):!L&&w>-1&&this._draggable.splice(w,1)}return this},makePixelPerfect:function(M){M===void 0&&(M=1);var L=this.systems.textures;return o(L,M)},setHitArea:function(M,L,O){if(L===void 0)return this.setHitAreaFromTexture(M);Array.isArray(M)||(M=[M]);var I=!1,w=!1,G=!1,V=!1,X=!1,W=!0;if(y(L)){var D=L;L=m(D,"hitArea",null),O=m(D,"hitAreaCallback",null),I=m(D,"draggable",!1),w=m(D,"dropZone",!1),G=m(D,"cursor",!1),V=m(D,"useHandCursor",!1),X=m(D,"pixelPerfect",!1);var F=m(D,"alphaTolerance",1);X&&(L={},O=this.makePixelPerfect(F)),(!L||!O)&&(this.setHitAreaFromTexture(M),W=!1)}else typeof L=="function"&&!O&&(O=L,L={});for(var B=0;B<M.length;B++){var b=M[B];if(X&&b.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var z=b.input?b.input:a(b,L,O);z.customHitArea=W,z.dropZone=w,z.cursor=V?"pointer":G,b.input=z,I&&this.setDraggable(b),this.queueForInsertion(b)}return this},setHitAreaCircle:function(M,L,O,I,w){w===void 0&&(w=l);var G=new e(L,O,I);return this.setHitArea(M,G,w)},setHitAreaEllipse:function(M,L,O,I,w,G){G===void 0&&(G=h);var V=new u(L,O,I,w);return this.setHitArea(M,V,G)},setHitAreaFromTexture:function(M,L){L===void 0&&(L=E),Array.isArray(M)||(M=[M]);for(var O=0;O<M.length;O++){var I=M[O],w=I.frame,G=0,V=0;if(I.width?(G=I.width,V=I.height):w&&(G=w.realWidth,V=w.realHeight),I.type==="Container"&&(G===0||V===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}G!==0&&V!==0&&(I.input=a(I,new S(0,0,G,V),L),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(M,L,O,I,w,G){G===void 0&&(G=E);var V=new S(L,O,I,w);return this.setHitArea(M,V,G)},setHitAreaTriangle:function(M,L,O,I,w,G,V,X){X===void 0&&(X=P);var W=new A(L,O,I,w,G,V);return this.setHitArea(M,W,X)},enableDebug:function(M,L){L===void 0&&(L=65280);var O=M.input;if(!O||!O.hitArea)return this;var I=O.hitArea,w=I.type,G=O.hitAreaDebug,V=this.systems.add,X=this.systems.updateList;G&&(X.remove(G),G.destroy(),G=null);var W=0,D=0;switch(w){case g.CIRCLE:G=V.arc(0,0,I.radius),W=I.x-I.radius,D=I.y-I.radius;break;case g.ELLIPSE:G=V.ellipse(0,0,I.width,I.height),W=I.x-I.width/2,D=I.y-I.height/2;break;case g.LINE:G=V.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case g.POLYGON:G=V.polygon(0,0,I.points);break;case g.RECTANGLE:G=V.rectangle(0,0,I.width,I.height),W=I.x,D=I.y;break;case g.TRIANGLE:G=V.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return G&&(G.isFilled=!1,G.preUpdate=function(){G.setStrokeStyle(1/M.scale,L),G.setDisplayOrigin(M.displayOriginX,M.displayOriginY);var F=M.x,B=M.y,b=M.rotation,z=M.scaleX,N=M.scaleY;if(M.parentContainer){var U=M.getWorldTransformMatrix();F=U.tx,B=U.ty,b=U.rotation,z=U.scaleX,N=U.scaleY}G.setRotation(b),G.setScale(z,N),G.setPosition(F+W,B+D),G.setScrollFactor(M.scrollFactorX,M.scrollFactorY),G.setDepth(M.depth)},X.add(G),O.hitAreaDebug=G),this},removeDebug:function(M){var L=M.input;if(L&&L.hitAreaDebug){var O=L.hitAreaDebug;this.systems.updateList.remove(O),O.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(M){return this.pollRate=M,this._pollTimer=0,this},setGlobalTopOnly:function(M){return this.manager.globalTopOnly=M,this},setTopOnly:function(M){return this.topOnly=M,this},sortGameObjects:function(M,L){if(M.length<2)return M;var O=L.camera.renderList;return M.sort(function(I,w){return O.indexOf(w)-O.indexOf(I)})},sortDropZones:function(M){return M.length<2?M:(this.scene.sys.depthSort(),M.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(M,L){if(!M.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(M);if(M.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-M.parentContainer.getIndex(M);if(M.parentContainer===L)return-1;if(L.parentContainer===M)return 1;for(var O=M.getIndexList(),I=L.getIndexList(),w=Math.min(O.length,I.length),G=0;G<w;G++){var V=O[G],X=I[G];if(V!==X)return X-V}return I.length-O.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(M){return this.manager.addPointer(M)},setDefaultCursor:function(M){return this.manager.setDefaultCursor(M),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(f.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var M=0;M<10;M++)this._drag[M]=[],this._over[M]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var O=this.systems.events;O.off(C.TRANSITION_START,this.transitionIn,this),O.off(C.TRANSITION_OUT,this.transitionOut,this),O.off(C.TRANSITION_COMPLETE,this.transitionComplete,this),O.off(C.PRE_UPDATE,this.preUpdate,this),L.events.off(f.GAME_OUT,this.onGameOut,this),L.events.off(f.GAME_OVER,this.onGameOver,this),O.off(C.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(f.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(C.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",R,"input"),i.exports=R},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Events:t(154),KeyboardManager:t(410),KeyboardPlugin:t(1330),Key:t(512),KeyCodes:t(143),KeyCombo:t(513),AdvanceKeyCombo:t(515),ProcessKeyCombo:t(514),ResetKeyCombo:t(516),JustDown:t(1332),JustUp:t(1333),DownDuration:t(1334),UpDuration:t(1335)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="keydown"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="keyup"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="keycombomatch"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="down"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="keydown-"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="keyup-"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="up"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(9),s=t(154),r=t(22),a=t(6),o=t(51),n=t(153),u=t(512),h=t(143),f=t(513),v=t(1331),m=t(20),g=t(76),x=new e({Extends:l,initialize:function(T){l.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(o.BOOT,this.boot,this),T.pluginEvents.on(o.START,this.start,this)},boot:function(){var y=this.settings.input;this.enabled=a(y,"keyboard",!0);var T=a(y,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(o.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(y){return this.manager.addCapture(y),this},removeCapture:function(y){return this.manager.removeCapture(y),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:h.UP,down:h.DOWN,left:h.LEFT,right:h.RIGHT,space:h.SPACE,shift:h.SHIFT})},addKeys:function(y,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var E={};if(typeof y=="string"){y=y.split(",");for(var C=0;C<y.length;C++){var A=y[C].trim();A&&(E[A]=this.addKey(A,T,S))}}else for(var P in y)E[P]=this.addKey(y[P],T,S);return E},addKey:function(y,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var E=this.keys;if(y instanceof u){var C=E.indexOf(y);return C>-1?E[C]=y:E[y.keyCode]=y,T&&this.addCapture(y.keyCode),y.setEmitOnRepeat(S),y}return typeof y=="string"&&(y=h[y.toUpperCase()]),E[y]||(E[y]=new u(this,y),T&&this.addCapture(y),E[y].setEmitOnRepeat(S)),E[y]},removeKey:function(y,T){T===void 0&&(T=!1);var S=this.keys,E;if(y instanceof u){var C=S.indexOf(y);C>-1&&(E=this.keys[C],this.keys[C]=void 0)}else typeof y=="string"&&(y=h[y.toUpperCase()]);return S[y]&&(E=S[y],S[y]=void 0),E&&(E.plugin=null,T&&E.destroy()),this},removeAllKeys:function(y){for(var T=this.keys,S=0;S<T.length;S++){var E=T[S];E&&(T[S]=void 0,y&&E.destroy())}return this},createCombo:function(y,T){return new f(this,y,T)},checkDown:function(y,T){if(T===void 0&&(T=0),this.enabled&&y.isDown){var S=g(this.time-y.timeDown,T);if(S>y._tick)return y._tick=S,!0}return!1},update:function(){var y=this.manager.queue,T=y.length;if(!(!this.isActive()||T===0))for(var S=this.keys,E=0;E<T;E++){var C=y[E],A=C.keyCode,P=S[A],R=!1;C.cancelled===void 0&&(C.cancelled=0,C.stopImmediatePropagation=function(){C.cancelled=1},C.stopPropagation=function(){C.cancelled=-1}),C.cancelled!==-1&&(A===this.prevCode&&C.timeStamp===this.prevTime&&C.type===this.prevType||(this.prevCode=A,this.prevTime=C.timeStamp,this.prevType=C.type,C.type==="keydown"?(P&&(R=P.isDown,P.onDown(C)),!C.cancelled&&(!P||!R)&&(v[A]&&this.emit(s.KEY_DOWN+v[A],C),C.cancelled||this.emit(s.ANY_KEY_DOWN,C))):(P&&P.onUp(C),C.cancelled||(v[A]&&this.emit(s.KEY_UP+v[A],C),C.cancelled||this.emit(s.ANY_KEY_UP,C))),C.cancelled===1&&(C.cancelled=0)))}},resetKeys:function(){for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(o.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",x,"keyboard","keyboard","inputKeyboard"),i.exports=x},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(143),l={};for(var s in e)l[e[s]]=s;i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justDown?(e._justDown=!1,!0):!1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justUp?(e._justUp=!1,!0):!1};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l===void 0&&(l=50);var s=e.plugin.game.loop.time-e.timeDown;return e.isDown&&s<l};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){l===void 0&&(l=50);var s=e.plugin.game.loop.time-e.timeUp;return e.isUp&&s<l};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={MouseManager:t(411)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={TouchManager:t(413)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(21),l=t(17),s={Events:t(95),FileTypes:t(1339),File:t(23),FileTypesManager:t(8),GetURL:t(155),LoaderPlugin:t(1365),MergeXHRSettings:t(240),MultiFile:t(49),XHRLoader:t(517),XHRSettings:t(156)};s=l(!1,s,e),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={AnimationJSONFile:t(1340),AsepriteFile:t(1341),AtlasJSONFile:t(1342),AtlasXMLFile:t(1343),AudioFile:t(518),AudioSpriteFile:t(1344),BinaryFile:t(1345),BitmapFontFile:t(1346),CSSFile:t(1347),GLSLFile:t(1348),HTML5AudioFile:t(519),HTMLFile:t(1349),HTMLTextureFile:t(1350),ImageFile:t(71),JSONFile:t(61),MultiAtlasFile:t(1351),MultiScriptFile:t(1352),OBJFile:t(1353),PackFile:t(1354),PluginFile:t(1355),SceneFile:t(1356),ScenePluginFile:t(1357),ScriptFile:t(520),SpriteSheetFile:t(1358),SVGFile:t(1359),TextFile:t(242),TilemapCSVFile:t(1360),TilemapImpactFile:t(1361),TilemapJSONFile:t(1362),UnityAtlasFile:t(1363),VideoFile:t(1364),XMLFile:t(241)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(61),r=t(95),a=new e({Extends:s,initialize:function(n,u,h,f,v){s.call(this,n,u,h,f,v),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});l.register("animation",function(o,n,u,h){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new a(this,o[f]));else this.addFile(new a(this,o,n,h,u));return this}),i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(2),r=t(71),a=t(7),o=t(61),n=t(49),u=new e({Extends:n,initialize:function(f,v,m,g,x,y){var T,S;if(a(v)){var E=v;v=s(E,"key"),T=new r(f,{key:v,url:s(E,"textureURL"),extension:s(E,"textureExtension","png"),normalMap:s(E,"normalMap"),xhrSettings:s(E,"textureXhrSettings")}),S=new o(f,{key:v,url:s(E,"atlasURL"),extension:s(E,"atlasExtension","json"),xhrSettings:s(E,"atlasXhrSettings")})}else T=new r(f,v,m,x),S=new o(f,v,g,y);T.linkFile?n.call(this,f,"atlasjson",v,[T,S,T.linkFile]):n.call(this,f,"atlasjson",v,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,f.data,v),f.addToCache(),this.complete=!0}}});l.register("aseprite",function(h,f,v,m,g){var x;if(Array.isArray(h))for(var y=0;y<h.length;y++)x=new u(this,h[y]),this.addFile(x.files);else x=new u(this,h,f,v,m,g),this.addFile(x.files);return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(2),r=t(71),a=t(7),o=t(61),n=t(49),u=new e({Extends:n,initialize:function(f,v,m,g,x,y){var T,S;if(a(v)){var E=v;v=s(E,"key"),T=new r(f,{key:v,url:s(E,"textureURL"),extension:s(E,"textureExtension","png"),normalMap:s(E,"normalMap"),xhrSettings:s(E,"textureXhrSettings")}),S=new o(f,{key:v,url:s(E,"atlasURL"),extension:s(E,"atlasExtension","json"),xhrSettings:s(E,"atlasXhrSettings")})}else T=new r(f,v,m,x),S=new o(f,v,g,y);T.linkFile?n.call(this,f,"atlasjson",v,[T,S,T.linkFile]):n.call(this,f,"atlasjson",v,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,f.data,v),f.pendingDestroy(),this.complete=!0}}});l.register("atlas",function(h,f,v,m,g){var x;if(Array.isArray(h))for(var y=0;y<h.length;y++)x=new u(this,h[y]),this.addFile(x.files);else x=new u(this,h,f,v,m,g),this.addFile(x.files);return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(2),r=t(71),a=t(7),o=t(49),n=t(241),u=new e({Extends:o,initialize:function(f,v,m,g,x,y){var T,S;if(a(v)){var E=v;v=s(E,"key"),T=new r(f,{key:v,url:s(E,"textureURL"),extension:s(E,"textureExtension","png"),normalMap:s(E,"normalMap"),xhrSettings:s(E,"textureXhrSettings")}),S=new n(f,{key:v,url:s(E,"atlasURL"),extension:s(E,"atlasExtension","xml"),xhrSettings:s(E,"atlasXhrSettings")})}else T=new r(f,v,m,x),S=new n(f,v,g,y);T.linkFile?o.call(this,f,"atlasxml",v,[T,S,T.linkFile]):o.call(this,f,"atlasxml",v,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(h.key,h.data,f.data,v),f.pendingDestroy(),this.complete=!0}}});l.register("atlasXML",function(h,f,v,m,g){var x;if(Array.isArray(h))for(var y=0;y<h.length;y++)x=new u(this,h[y]),this.addFile(x.files);else x=new u(this,h,f,v,m,g),this.addFile(x.files);return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(518),l=t(0),s=t(8),r=t(2),a=t(7),o=t(61),n=t(49),u=new l({Extends:n,initialize:function(f,v,m,g,x,y,T){if(a(v)){var S=v;v=r(S,"key"),m=r(S,"jsonURL"),g=r(S,"audioURL"),x=r(S,"audioConfig"),y=r(S,"audioXhrSettings"),T=r(S,"jsonXhrSettings")}var E;if(!g)E=new o(f,v,m,T),n.call(this,f,"audiosprite",v,[E]),this.config.resourceLoad=!0,this.config.audioConfig=x,this.config.audioXhrSettings=y;else{var C=e.create(f,v,g,x,y);C&&(E=new o(f,v,m,T),n.call(this,f,"audiosprite",v,[C,E]),this.config.resourceLoad=!1)}},onFileComplete:function(h){var f=this.files.indexOf(h);if(f!==-1&&(this.pending--,this.config.resourceLoad&&h.type==="json"&&h.data.hasOwnProperty("resources"))){var v=h.data.resources,m=r(this.config,"audioConfig"),g=r(this.config,"audioXhrSettings"),x=e.create(this.loader,h.key,v,m,g);x&&(this.addToMultiFile(x),this.loader.addFile(x))}},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1];h.addToCache(),f.addToCache(),this.complete=!0}}});s.register("audioSprite",function(h,f,v,m,g,x){var y=this.systems.game,T=y.config.audio,S=y.device.audio;if(T&&T.noAudio||!S.webAudio&&!S.audioData)return this;var E;if(Array.isArray(h))for(var C=0;C<h.length;C++)E=new u(this,h[C]),E.files&&this.addFile(E.files);else E=new u(this,h,f,v,m,g,x),E.files&&this.addFile(E.files);return this})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m,g){var x="bin";if(o(f)){var y=f;f=a(y,"key"),v=a(y,"url"),m=a(y,"xhrSettings"),x=a(y,"extension",x),g=a(y,"dataType",g)}var T={type:"binary",cache:h.cacheManager.binary,extension:x,responseType:"arraybuffer",key:f,url:v,xhrSettings:m,config:{dataType:g}};s.call(this,h,T)},onProcess:function(){this.state=l.FILE_PROCESSING;var u=this.config.dataType;this.data=u?new u(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(u,h,f,v){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new n(this,u[m]));else this.addFile(new n(this,u,h,v,f));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(2),r=t(71),a=t(7),o=t(49),n=t(212),u=t(241),h=new e({Extends:o,initialize:function(v,m,g,x,y,T){var S,E;if(a(m)){var C=m;m=s(C,"key"),S=new r(v,{key:m,url:s(C,"textureURL"),extension:s(C,"textureExtension","png"),normalMap:s(C,"normalMap"),xhrSettings:s(C,"textureXhrSettings")}),E=new u(v,{key:m,url:s(C,"fontDataURL"),extension:s(C,"fontDataExtension","xml"),xhrSettings:s(C,"fontDataXhrSettings")})}else S=new r(v,m,g,y),E=new u(v,m,x,T);S.linkFile?o.call(this,v,"bitmapfont",m,[S,E,S.linkFile]):o.call(this,v,"bitmapfont",m,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],v=this.files[1];f.addToCache(),v.pendingDestroy();var m=f.cache.get(f.key),g=n(v.data,f.cache.getFrame(f.key),0,0,m);this.loader.cacheManager.bitmapFont.add(f.key,{data:g,texture:f.key,frame:null}),this.complete=!0}}});l.register("bitmapFont",function(f,v,m,g,x){var y;if(Array.isArray(f))for(var T=0;T<f.length;T++)y=new h(this,f[T]),this.addFile(y.files);else y=new h(this,f,v,m,g,x),this.addFile(y.files);return this}),i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m){var g="css";if(o(f)){var x=f;f=a(x,"key"),v=a(x,"url"),m=a(x,"xhrSettings"),g=a(x,"extension",g)}var y={type:"script",cache:!1,extension:g,responseType:"text",key:f,url:v,xhrSettings:m};s.call(this,h,y)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(u,h,f){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new n(this,u[v]));else this.addFile(new n(this,u,h,f));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=t(396),u=new e({Extends:s,initialize:function(f,v,m,g,x){var y="glsl";if(o(v)){var T=v;v=a(T,"key"),m=a(T,"url"),g=a(T,"shaderType","fragment"),x=a(T,"xhrSettings"),y=a(T,"extension",y)}else g===void 0&&(g="fragment");var S={type:"glsl",cache:f.cacheManager.shader,extension:y,responseType:"text",key:v,url:m,config:{shaderType:g},xhrSettings:x};s.call(this,f,S)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.split(`
`),f=this.extractBlock(h,0);if(f)for(;f;){var v=this.getShaderName(f.header),m=this.getShaderType(f.header),g=this.getShaderUniforms(f.header),x=f.shader;if(this.cache.has(v)){var y=this.cache.get(v);m==="fragment"?y.fragmentSrc=x:y.vertexSrc=x,y.uniforms||(y.uniforms=g)}else m==="fragment"?this.cache.add(v,new n(v,x,"",g)):this.cache.add(v,new n(v,"",x,g));f=this.extractBlock(h,f.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(h){for(var f=0;f<h.length;f++){var v=h[f].trim();if(v.substring(0,5)==="name:")return v.substring(5).trim()}return this.key},getShaderType:function(h){for(var f=0;f<h.length;f++){var v=h[f].trim();if(v.substring(0,5)==="type:")return v.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(h){for(var f={},v=0;v<h.length;v++){var m=h[v].trim();if(m.substring(0,8)==="uniform."){var g=m.indexOf(":");if(g){var x=m.substring(8,g);try{f[x]=JSON.parse(m.substring(g+1))}catch{console.warn("Invalid uniform JSON: "+x)}}}}return f},extractBlock:function(h,f){for(var v=-1,m=-1,g=-1,x=!1,y=!1,T=[],S=[],E=f;E<h.length;E++){var C=h[E].trim();if(C==="---")if(v===-1)v=E,x=!0;else if(x)m=E,x=!1,y=!0;else{y=!1;break}else x?T.push(C):y&&(S.push(C),g=E)}return!x&&m!==-1?{header:T,shader:S.join(`
`),offset:g}:null}});r.register("glsl",function(h,f,v,m){if(Array.isArray(h))for(var g=0;g<h.length;g++)this.addFile(new u(this,h[g]));else this.addFile(new u(this,h,f,v,m));return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m){var g="html";if(o(f)){var x=f;f=a(x,"key"),v=a(x,"url"),m=a(x,"xhrSettings"),g=a(x,"extension",g)}var y={type:"text",cache:h.cacheManager.html,extension:g,responseType:"text",key:f,url:v,xhrSettings:m};s.call(this,h,y)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(u,h,f){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new n(this,u[v]));else this.addFile(new n(this,u,h,f));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m,g,x){m===void 0&&(m=512),g===void 0&&(g=512);var y="html";if(o(f)){var T=f;f=a(T,"key"),v=a(T,"url"),x=a(T,"xhrSettings"),y=a(T,"extension",y),m=a(T,"width",m),g=a(T,"height",g)}var S={type:"html",cache:h.textureManager,extension:y,responseType:"text",key:f,url:v,xhrSettings:x,config:{width:m,height:g}};s.call(this,h,S)},onProcess:function(){this.state=l.FILE_PROCESSING;var u=this.config.width,h=this.config.height,f=[];f.push('<svg width="'+u+'px" height="'+h+'px" viewBox="0 0 '+u+" "+h+'" xmlns="http://www.w3.org/2000/svg">'),f.push('<foreignObject width="100%" height="100%">'),f.push('<body xmlns="http://www.w3.org/1999/xhtml">'),f.push(this.xhrLoader.responseText),f.push("</body>"),f.push("</foreignObject>"),f.push("</svg>");var v=[f.join(`
`)],m=this;try{var g=new window.Blob(v,{type:"image/svg+xml;charset=utf-8"})}catch{m.state=l.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(m.data),m.onProcessError()},s.createObjectURL(this.data,g,"image/svg+xml")},addToCache:function(){var u=this.cache.addImage(this.key,this.data);this.pendingDestroy(u)}});r.register("htmlTexture",function(u,h,f,v,m){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new n(this,u[g]));else this.addFile(new n(this,u,h,f,v,m));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(2),r=t(71),a=t(7),o=t(61),n=t(49),u=new e({Extends:n,initialize:function(f,v,m,g,x,y,T){if(a(v)){var S=v;v=s(S,"key"),s(S,"url",!1)?m=s(S,"url"):m=s(S,"atlasURL"),y=s(S,"xhrSettings"),g=s(S,"path"),x=s(S,"baseURL"),T=s(S,"textureXhrSettings")}var E=new o(f,v,m,y);n.call(this,f,"multiatlas",v,[E]),this.config.path=g,this.config.baseURL=x,this.config.textureXhrSettings=T},onFileComplete:function(h){var f=this.files.indexOf(h);if(f!==-1&&(this.pending--,h.type==="json"&&h.data.hasOwnProperty("textures"))){var v=h.data.textures,m=this.config,g=this.loader,x=g.baseURL,y=g.path,T=g.prefix,S=s(m,"baseURL",this.baseURL),E=s(m,"path",this.path),C=s(m,"prefix",this.prefix),A=s(m,"textureXhrSettings");g.setBaseURL(S),g.setPath(E),g.setPrefix(C);for(var P=0;P<v.length;P++){var R=v[P].image,M="MA"+this.multiKeyIndex+"_"+R,L=new r(g,M,R,A);if(this.addToMultiFile(L),g.addFile(L),v[P].normalMap){var O=new r(g,M,v[P].normalMap,A);O.type="normalMap",L.setLink(O),this.addToMultiFile(O),g.addFile(O)}}g.setBaseURL(x),g.setPath(y),g.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var h=this.files[0],f=[],v=[],m=[],g=1;g<this.files.length;g++){var x=this.files[g];if(x.type!=="normalMap")for(var y=x.key.indexOf("_"),T=x.key.substr(y+1),S=x.data,E=0;E<h.data.textures.length;E++){var C=h.data.textures[E];if(C.image===T){v.push(S),f.push(C),x.linkFile&&m.push(x.linkFile.data);break}}}for(m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,v,f,m),this.complete=!0,g=0;g<this.files.length;g++)this.files[g].pendingDestroy()}}});l.register("multiatlas",function(h,f,v,m,g){var x;if(Array.isArray(h))for(var y=0;y<h.length;y++)x=new u(this,h[y]),this.addFile(x.files);else x=new u(this,h,f,v,m,g),this.addFile(x.files);return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(2),r=t(7),a=t(49),o=t(520),n=new e({Extends:a,initialize:function(h,f,v,m){var g="js",x=[];if(r(f)){var y=f;f=s(y,"key"),v=s(y,"url"),m=s(y,"xhrSettings"),g=s(y,"extension",g)}Array.isArray(v)||(v=[v]);for(var T=0;T<v.length;T++){var S=new o(h,{key:f+"_"+T.toString(),url:v[T],extension:g,xhrSettings:m});S.onProcess=function(){this.onProcessComplete()},x.push(S)}a.call(this,h,"scripts",f,x)},addToCache:function(){if(this.isReadyToProcess()){for(var u=0;u<this.files.length;u++){var h=this.files[u];h.data=document.createElement("script"),h.data.language="javascript",h.data.type="text/javascript",h.data.defer=!1,h.data.text=h.xhrLoader.responseText,document.head.appendChild(h.data)}this.complete=!0}}});l.register("scripts",function(u,h,f){var v;if(Array.isArray(u))for(var m=0;m<u.length;m++)v=new n(this,u[m]),this.addFile(v.files);else v=new n(this,u,h,f),this.addFile(v.files);return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(2),r=t(7),a=t(49),o=t(498),n=t(499),u=t(242),h=new e({Extends:a,initialize:function(v,m,g,x,y,T){var S,E,C=v.cacheManager.obj;if(r(m)){var A=m;m=s(A,"key"),S=new u(v,{key:m,type:"obj",cache:C,url:s(A,"url"),extension:s(A,"extension","obj"),xhrSettings:s(A,"xhrSettings"),config:{flipUV:s(A,"flipUV",y)}}),x=s(A,"matURL"),x&&(E=new u(v,{key:m,type:"mat",cache:C,url:x,extension:s(A,"matExtension","mat"),xhrSettings:s(A,"xhrSettings")}))}else S=new u(v,{key:m,url:g,type:"obj",cache:C,extension:"obj",xhrSettings:T,config:{flipUV:y}}),x&&(E=new u(v,{key:m,url:x,type:"mat",cache:C,extension:"mat",xhrSettings:T}));a.call(this,v,"obj",m,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],v=this.files[1],m=o(f.data,f.config.flipUV);v&&(m.materials=n(v.data)),f.cache.add(f.key,m),this.complete=!0}}});l.register("obj",function(f,v,m,g,x){var y;if(Array.isArray(f))for(var T=0;T<f.length;T++)y=new h(this,f[T]),this.addFile(y.files);else y=new h(this,f,v,m,g,x),this.addFile(y.files);return this}),i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(8),r=t(61),a=new e({Extends:r,initialize:function(n,u,h,f,v){r.call(this,n,u,h,f,v),this.type="packfile"},onProcess:function(){this.state!==l.FILE_POPULATED&&(this.state=l.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(o,n,u,h){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new a(this,o[f]));else this.addFile(new a(this,o,n,h,u));return this}),i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m,g,x){var y="js";if(o(f)){var T=f;f=a(T,"key"),v=a(T,"url"),x=a(T,"xhrSettings"),y=a(T,"extension",y),m=a(T,"start"),g=a(T,"mapping")}var S={type:"plugin",cache:!1,extension:y,responseType:"text",key:f,url:v,xhrSettings:x,config:{start:m,mapping:g}};s.call(this,h,S),typeof v=="function"&&(this.data=v,this.state=l.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,h=this.config,f=a(h,"start",!1),v=a(h,"mapping",null);if(this.state===l.FILE_POPULATED)u.install(this.key,this.data,f,v);else{this.state=l.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=u.install(this.key,window[this.key],f,v);(f||v)&&(this.loader.systems[v]=m,this.loader.scene[v]=m)}this.onProcessComplete()}});r.register("plugin",function(u,h,f,v,m){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new n(this,u[g]));else this.addFile(new n(this,u,h,f,v,m));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m){var g="js";if(o(f)){var x=f;f=a(x,"key"),v=a(x,"url"),m=a(x,"xhrSettings"),g=a(x,"extension",g)}var y={type:"text",extension:g,responseType:"text",key:f,url:v,xhrSettings:m};s.call(this,h,y)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),h=eval;this.loader.sceneManager.add(this.key,h(u)),this.complete=!0}});r.register("sceneFile",function(u,h,f){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new n(this,u[v]));else this.addFile(new n(this,u,h,f));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m,g,x){var y="js";if(o(f)){var T=f;f=a(T,"key"),v=a(T,"url"),x=a(T,"xhrSettings"),y=a(T,"extension",y),m=a(T,"systemKey"),g=a(T,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:y,responseType:"text",key:f,url:v,xhrSettings:x,config:{systemKey:m,sceneKey:g}};s.call(this,h,S),typeof v=="function"&&(this.data=v,this.state=l.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,h=this.config,f=this.key,v=a(h,"systemKey",f),m=a(h,"sceneKey",f);this.state===l.FILE_POPULATED?u.installScenePlugin(v,this.data,m,this.loader.scene,!0):(this.state=l.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),u.installScenePlugin(v,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(u,h,f,v,m){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new n(this,u[g]));else this.addFile(new n(this,u,h,f,v,m));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(71),r=new e({Extends:s,initialize:function(o,n,u,h,f){s.call(this,o,n,u,f,h),this.type="spritesheet"},addToCache:function(){var a=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(a)}});l.register("spritesheet",function(a,o,n,u){if(Array.isArray(a))for(var h=0;h<a.length;h++)this.addFile(new r(this,a[h]));else this.addFile(new r(this,a,o,n,u));return this}),i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=new e({Extends:s,initialize:function(h,f,v,m,g){var x="svg";if(o(f)){var y=f;f=a(y,"key"),v=a(y,"url"),m=a(y,"svgConfig",{}),g=a(y,"xhrSettings"),x=a(y,"extension",x)}var T={type:"svg",cache:h.textureManager,extension:x,responseType:"text",key:f,url:v,xhrSettings:g,config:{width:a(m,"width"),height:a(m,"height"),scale:a(m,"scale")}};s.call(this,h,T)},onProcess:function(){this.state=l.FILE_PROCESSING;var u=this.xhrLoader.responseText,h=[u],f=this.config.width,v=this.config.height,m=this.config.scale;t:if(f&&v||m){var g=null,x=new DOMParser;g=x.parseFromString(u,"text/xml");var y=g.getElementsByTagName("svg")[0],T=y.hasAttribute("viewBox"),S=parseFloat(y.getAttribute("width")),E=parseFloat(y.getAttribute("height"));if(!T&&S&&E)y.setAttribute("viewBox","0  0 "+S+" "+E);else if(T&&!S&&!E){var C=y.getAttribute("viewBox").split(/\s+|,/);S=C[2],E=C[3]}if(m)if(S&&E)f=S*m,v=E*m;else break t;y.setAttribute("width",f.toString()+"px"),y.setAttribute("height",v.toString()+"px"),h=[new XMLSerializer().serializeToString(y)]}try{var A=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var P=this,R=!1;this.data.onload=function(){R||s.revokeObjectURL(P.data),P.onProcessComplete()},this.data.onerror=function(){R?P.onProcessError():(R=!0,s.revokeObjectURL(P.data),P.data.src="data:image/svg+xml,"+encodeURIComponent(h.join("")))},s.createObjectURL(this.data,A,"image/svg+xml")},addToCache:function(){var u=this.cache.addImage(this.key,this.data);this.pendingDestroy(u)}});r.register("svg",function(u,h,f,v){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new n(this,u[m]));else this.addFile(new n(this,u,h,f,v));return this}),i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(2),o=t(7),n=t(40),u=new e({Extends:s,initialize:function(f,v,m,g){var x="csv";if(o(v)){var y=v;v=a(y,"key"),m=a(y,"url"),g=a(y,"xhrSettings"),x=a(y,"extension",x)}var T={type:"tilemapCSV",cache:f.cacheManager.tilemap,extension:x,responseType:"text",key:v,url:m,xhrSettings:g};s.call(this,f,T),this.tilemapFormat=n.CSV},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,h),this.pendingDestroy(h)}});r.register("tilemapCSV",function(h,f,v){if(Array.isArray(h))for(var m=0;m<h.length;m++)this.addFile(new u(this,h[m]));else this.addFile(new u(this,h,f,v));return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(61),r=t(40),a=new e({Extends:s,initialize:function(n,u,h,f){s.call(this,n,u,h,f),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var o={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,o),this.pendingDestroy(o)}});l.register("tilemapImpact",function(o,n,u){if(Array.isArray(o))for(var h=0;h<o.length;h++)this.addFile(new a(this,o[h]));else this.addFile(new a(this,o,n,u));return this}),i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(61),r=t(40),a=new e({Extends:s,initialize:function(n,u,h,f){s.call(this,n,u,h,f),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var o={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,o),this.pendingDestroy(o)}});l.register("tilemapTiledJSON",function(o,n,u){if(Array.isArray(o))for(var h=0;h<o.length;h++)this.addFile(new a(this,o[h]));else this.addFile(new a(this,o,n,u));return this}),i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(8),s=t(2),r=t(71),a=t(7),o=t(49),n=t(242),u=new e({Extends:o,initialize:function(f,v,m,g,x,y){var T,S;if(a(v)){var E=v;v=s(E,"key"),T=new r(f,{key:v,url:s(E,"textureURL"),extension:s(E,"textureExtension","png"),normalMap:s(E,"normalMap"),xhrSettings:s(E,"textureXhrSettings")}),S=new n(f,{key:v,url:s(E,"atlasURL"),extension:s(E,"atlasExtension","txt"),xhrSettings:s(E,"atlasXhrSettings")})}else T=new r(f,v,m,x),S=new n(f,v,g,y);T.linkFile?o.call(this,f,"unityatlas",v,[T,S,T.linkFile]):o.call(this,f,"unityatlas",v,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(h.key,h.data,f.data,v),f.pendingDestroy(),this.complete=!0}}});l.register("unityAtlas",function(h,f,v,m,g){var x;if(Array.isArray(h))for(var y=0;y<h.length;y++)x=new u(this,h[y]),this.addFile(x.files);else x=new u(this,h,f,v,m,g),this.addFile(x.files);return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(23),r=t(8),a=t(155),o=t(2),n=t(7),u=new e({Extends:s,initialize:function(f,v,m,g,x,y,T){g===void 0&&(g="loadeddata"),x===void 0&&(x=!1),y===void 0&&(y=!1),g!=="loadeddata"&&g!=="canplay"&&g!=="canplaythrough"&&(g="loadeddata");var S={type:"video",cache:f.cacheManager.video,extension:m.type,responseType:"blob",key:v,url:m.url,xhrSettings:T,config:{loadEvent:g,asBlob:x,noAudio:y}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),s.call(this,f,S)},onProcess:function(){if(this.state=l.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var h=this.createVideoElement();this.data=h;var f=this;this.data.onloadeddata=function(){f.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(f.data),f.onProcessError()},s.createObjectURL(h,this.xhrLoader.response,""),h.load()},createVideoElement:function(){var h=document.createElement("video");return h.controls=!1,h.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(h.muted=!0,h.defaultMuted=!0,h.setAttribute("autoplay","autoplay")),h.setAttribute("playsinline","playsinline"),h.setAttribute("preload","auto"),h},onVideoLoadHandler:function(h){var f=h.target;f.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),f.removeEventListener("error",this.onErrorCallback,!0),this.data=f,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(h){var f=h.target;f&&(f.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),f.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var h=this.config.loadEvent;if(this.config.asBlob)s.prototype.load.call(this);else{this.percentComplete=0;var f=this.createVideoElement();f.addEventListener(h,this.onLoadCallback,!0),f.addEventListener("error",this.onErrorCallback,!0),f.src=a(this,this.loader.baseURL),f.load()}}});u.create=function(h,f,v,m,g,x,y){var T=h.systems.game;n(f)&&(v=o(f,"url",[]),m=o(f,"loadEvent","loadeddata"),g=o(f,"asBlob",!1),x=o(f,"noAudio",!1),y=o(f,"xhrSettings"),f=o(f,"key"));var S=u.getVideoURL(T,v);if(S)return new u(h,f,S,m,g,x,y)},u.getVideoURL=function(h,f){Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var m=o(f[v],"url",f[v]);if(m.indexOf("blob:")===0)return{url:m,type:""};var g;if(m.indexOf("data:")===0?g=m.split(",")[0].match(/\/(.*?);/):g=m.match(/\.([a-zA-Z0-9]+)($|\?)/),g=o(f[v],"type",g?g[1]:"").toLowerCase(),h.device.video[g])return{url:m,type:g}}return null},r.register("video",function(h,f,v,m,g,x){var y;if(Array.isArray(h))for(var T=0;T<h.length;T++)y=u.create(this,h[T]),y&&this.addFile(y);else y=u.create(this,h,f,v,m,g,x),y&&this.addFile(y);return this}),i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(21),s=t(149),r=t(9),a=t(95),o=t(8),n=t(2),u=t(24),h=t(20),f=t(156),v=new e({Extends:r,initialize:function(g){r.call(this);var x=g.sys.game.config,y=g.sys.settings.loader;this.scene=g,this.systems=g.sys,this.cacheManager=g.sys.cache,this.textureManager=g.sys.textures,this.sceneManager=g.sys.game.scene,o.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(y,"baseURL",x.loaderBaseURL)),this.setPath(n(y,"path",x.loaderPath)),this.setPrefix(n(y,"prefix",x.loaderPrefix)),this.maxParallelDownloads=n(y,"maxParallelDownloads",x.loaderMaxParallelDownloads),this.xhr=f(n(y,"responseType",x.loaderResponseType),n(y,"async",x.loaderAsync),n(y,"user",x.loaderUser),n(y,"password",x.loaderPassword),n(y,"timeout",x.loaderTimeout),n(y,"withCredentials",x.loaderWithCredentials)),this.crossOrigin=n(y,"crossOrigin",x.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=l.LOADER_IDLE,this.multiKeyIndex=0,g.sys.events.once(h.BOOT,this.boot,this),g.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var g=0;g<m.length;g++){var x=m[g];this.keyExists(x)||(this.list.set(x),this.emit(a.ADD,x.key,x.type,this,x),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var g=m.hasCacheConflict();return g||this.list.iterate(function(x){if(x.type===m.type&&x.key===m.key)return g=!0,!1}),!g&&this.isLoading()&&(this.inflight.iterate(function(x){if(x.type===m.type&&x.key===m.key)return g=!0,!1}),this.queue.iterate(function(x){if(x.type===m.type&&x.key===m.key)return g=!0,!1})),g},addPack:function(m,g){g&&m.hasOwnProperty(g)&&(m={packKey:m[g]});var x=0,y=this.baseURL,T=this.path,S=this.prefix;for(var E in m)if(!!Object.prototype.hasOwnProperty.call(m,E)){var C=m[E],A=n(C,"baseURL",y),P=n(C,"path",T),R=n(C,"prefix",S),M=n(C,"files",null),L=n(C,"defaultType","void");if(Array.isArray(M)){this.setBaseURL(A),this.setPath(P),this.setPrefix(R);for(var O=0;O<M.length;O++){var I=M[O],w=I.hasOwnProperty("type")?I.type:L;this[w]&&(this[w](I),x++)}}}return this.setBaseURL(y),this.setPath(T),this.setPrefix(S),x>0},isLoading:function(){return this.state===l.LOADER_LOADING||this.state===l.LOADER_PROCESSING},isReady:function(){return this.state===l.LOADER_IDLE||this.state===l.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),this.list.size===0?this.loadComplete():(this.state=l.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(h.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===l.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===l.FILE_POPULATED||m.state===l.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,g){!this.inflight||(this.inflight.delete(m),this.updateProgress(),g?(this.totalComplete++,this.queue.set(m),this.emit(a.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(a.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===l.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===l.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&m.multiFile.addToCache():m.addToCache()),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=l.LOADER_COMPLETE,this.systems.events.off(h.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,g){return this.save(JSON.stringify(m),g)},save:function(m,g,x){g===void 0&&(g="file.json"),x===void 0&&(x="application/json");var y=new Blob([m],{type:x}),T=URL.createObjectURL(y),S=document.createElement("a");return S.download=g,S.textContent="Download "+g,S.href=T,S.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,g=this.systems.settings.loader;this.setBaseURL(n(g,"baseURL",m.loaderBaseURL)),this.setPath(n(g,"path",m.loaderPath)),this.setPrefix(n(g,"prefix",m.loaderPrefix)),this.state=l.LOADER_IDLE},shutdown:function(){this.reset(),this.state=l.LOADER_SHUTDOWN,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=l.LOADER_DESTROYED,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",v,"load"),i.exports=v},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),l=t(17),s={ArcadePhysics:t(1367),Body:t(527),Collider:t(528),Components:t(243),Events:t(245),Factory:t(521),GetOverlapX:t(246),GetOverlapY:t(247),SeparateX:t(537),SeparateY:t(538),Group:t(524),Image:t(522),Sprite:t(157),StaticBody:t(539),StaticGroup:t(525),Tilemap:t(1391),World:t(526)};s=l(!1,s,e),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(36),s=t(50),r=t(353),a=t(521),o=t(2),n=t(127),u=t(523),h=t(244),f=t(24),v=t(20),m=t(3),g=t(526),x=new e({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,T.sys.events.once(v.BOOT,this.boot,this),T.sys.events.on(v.START,this.start,this)},boot:function(){this.world=new g(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(v.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new g(this.scene,this.config),this.add=new a(this.world));var y=this.systems.events;o(this.config,"customUpdate",!1)||y.on(v.UPDATE,this.world.update,this.world),y.on(v.POST_UPDATE,this.world.postUpdate,this.world),y.once(v.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(v.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(v.UPDATE,this.world.update,this.world)},getConfig:function(){var y=this.systems.game.config.physics,T=this.systems.settings.physics,S=n(o(T,"arcade",{}),o(y,"arcade",{}));return S},overlap:function(y,T,S,E,C){return S===void 0&&(S=null),E===void 0&&(E=null),C===void 0&&(C=S),this.world.collideObjects(y,T,S,E,C,!0)},collide:function(y,T,S,E,C){return S===void 0&&(S=null),E===void 0&&(E=null),C===void 0&&(C=S),this.world.collideObjects(y,T,S,E,C,!1)},collideTiles:function(y,T,S,E,C){return this.world.collideTiles(y,T,S,E,C)},overlapTiles:function(y,T,S,E,C){return this.world.overlapTiles(y,T,S,E,C)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(y,T,S,E,C,A){E===void 0&&(E=60);var P=Math.atan2(S-y.y,T-y.x);return y.body.acceleration.setToPolar(P,E),C!==void 0&&A!==void 0&&y.body.maxVelocity.set(C,A),P},accelerateToObject:function(y,T,S,E,C){return this.accelerateTo(y,T.x,T.y,S,E,C)},closest:function(y,T){T||(T=this.world.bodies.entries);for(var S=Number.MAX_VALUE,E=null,C=y.x,A=y.y,P=T.length,R=0;R<P;R++){var M=T[R],L=M.body||M;if(!(y===M||y===L||y===L.gameObject||y===L.center)){var O=r(C,A,L.center.x,L.center.y);O<S&&(E=M,S=O)}}return E},furthest:function(y,T){T||(T=this.world.bodies.entries);for(var S=-1,E=null,C=y.x,A=y.y,P=T.length,R=0;R<P;R++){var M=T[R],L=M.body||M;if(!(y===M||y===L||y===L.gameObject||y===L.center)){var O=r(C,A,L.center.x,L.center.y);O>S&&(E=M,S=O)}}return E},moveTo:function(y,T,S,E,C){E===void 0&&(E=60),C===void 0&&(C=0);var A=Math.atan2(S-y.y,T-y.x);return C>0&&(E=s(y.x,y.y,T,S)/(C/1e3)),y.body.velocity.setToPolar(A,E),A},moveToObject:function(y,T,S,E){return this.moveTo(y,T.x,T.y,S,E)},velocityFromAngle:function(y,T,S){return T===void 0&&(T=60),S===void 0&&(S=new m),S.setToPolar(l(y),T)},velocityFromRotation:function(y,T,S){return T===void 0&&(T=60),S===void 0&&(S=new m),S.setToPolar(y,T)},overlapRect:function(y,T,S,E,C,A){return h(this.world,y,T,S,E,C,A)},overlapCirc:function(y,T,S,E,C){return u(this.world,y,T,S,E,C)},shutdown:function(){if(!!this.world){var y=this.systems.events;y.off(v.UPDATE,this.world.update,this.world),y.off(v.POST_UPDATE,this.world.postUpdate,this.world),y.off(v.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(v.START,this.start,this),this.scene=null,this.systems=null}});f.register("ArcadePhysics",x,"arcadePhysics"),i.exports=x},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAcceleration:function(e,l){return this.body.acceleration.set(e,l),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e,l){return this.body.bounce.set(e,l),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,l,s){return this.body.setCollideWorldBounds(e,l,s),this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDebug:function(e,l,s){return this.debugShowBody=e,this.debugShowVelocity=l,this.debugBodyColor=s,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDrag:function(e,l){return this.body.drag.set(e,l),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={enableBody:function(e,l,s,r,a){return e&&this.body.reset(l,s),r&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,l){return e===void 0&&(e=!1),l===void 0&&(l=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),l&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,l){return this.body.friction.set(e,l),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setGravity:function(e,l){return this.body.gravity.set(e,l),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setMass:function(e){return this.body.mass=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setOffset:function(e,l){return this.body.setOffset(e,l),this},setSize:function(e,l,s){return this.body.setSize(e,l,s),this},setBodySize:function(e,l,s){return this.body.setSize(e,l,s),this},setCircle:function(e,l,s){return this.body.setCircle(e,l,s),this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setVelocity:function(e,l){return this.body.setVelocity(e,l),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,l){return this.body.maxVelocity.set(e,l),this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="collide"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="overlap"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pause"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resume"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="tilecollide"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="tileoverlap"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="worldbounds"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="worldstep"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,l,s,r,a,o,n,u,h,f,v,m,g,x,y,T,S=function(M,L,O){t=M,e=L;var I=t.velocity.x,w=e.velocity.x;return l=t.pushable,u=t._dx<0,h=t._dx>0,f=t._dx===0,x=Math.abs(t.right-e.x)<=Math.abs(e.right-t.x),o=w-I*t.bounce.x,s=e.pushable,v=e._dx<0,m=e._dx>0,g=e._dx===0,y=!x,n=I-w*e.bounce.x,T=Math.abs(O),E()},E=function(){return h&&x&&e.blocked.right?(t.processX(-T,o,!1,!0),1):u&&y&&e.blocked.left?(t.processX(T,o,!0),1):m&&y&&t.blocked.right?(e.processX(-T,n,!1,!0),2):v&&x&&t.blocked.left?(e.processX(T,n,!0),2):0},C=function(){var M=t.velocity.x,L=e.velocity.x,O=Math.sqrt(L*L*e.mass/t.mass)*(L>0?1:-1),I=Math.sqrt(M*M*t.mass/e.mass)*(M>0?1:-1),w=(O+I)*.5;return O-=w,I-=w,r=w+O*t.bounce.x,a=w+I*e.bounce.x,u&&y?A(0):v&&x?A(1):h&&x?A(2):m&&y?A(3):!1},A=function(M){if(l&&s)T*=.5,M===0||M===3?(t.processX(T,r),e.processX(-T,a)):(t.processX(-T,r),e.processX(T,a));else if(l&&!s)M===0||M===3?t.processX(T,o,!0):t.processX(-T,o,!1,!0);else if(!l&&s)M===0||M===3?e.processX(-T,n,!1,!0):e.processX(T,n,!0);else{var L=T*.5;M===0?g?(t.processX(T,0,!0),e.processX(0,null,!1,!0)):m?(t.processX(L,0,!0),e.processX(-L,0,!1,!0)):(t.processX(L,e.velocity.x,!0),e.processX(-L,null,!1,!0)):M===1?f?(t.processX(0,null,!1,!0),e.processX(T,0,!0)):h?(t.processX(-L,0,!1,!0),e.processX(L,0,!0)):(t.processX(-L,null,!1,!0),e.processX(L,t.velocity.x,!0)):M===2?g?(t.processX(-T,0,!1,!0),e.processX(0,null,!0)):v?(t.processX(-L,0,!1,!0),e.processX(L,0,!0)):(t.processX(-L,e.velocity.x,!1,!0),e.processX(L,null,!0)):M===3&&(f?(t.processX(0,null,!0),e.processX(-T,0,!1,!0)):u?(t.processX(L,0,!0),e.processX(-L,0,!1,!0)):(t.processX(L,e.velocity.y,!0),e.processX(-L,null,!1,!0)))}return!0},P=function(M){M===1?e.velocity.x=0:x?e.processX(T,n,!0):e.processX(-T,n,!1,!0),t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y,e._dy=e.y-e.prev.y)},R=function(M){M===2?t.velocity.x=0:y?t.processX(T,o,!0):t.processX(-T,o,!1,!0),e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y,t._dy=t.y-t.prev.y)};i.exports={BlockCheck:E,Check:C,Set:S,Run:A,RunImmovableBody1:P,RunImmovableBody2:R}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,l,s,r,a,o,n,u,h,f,v,m,g,x,y,T,S=function(M,L,O){t=M,e=L;var I=t.velocity.y,w=e.velocity.y;return l=t.pushable,u=t._dy<0,h=t._dy>0,f=t._dy===0,x=Math.abs(t.bottom-e.y)<=Math.abs(e.bottom-t.y),o=w-I*t.bounce.y,s=e.pushable,v=e._dy<0,m=e._dy>0,g=e._dy===0,y=!x,n=I-w*e.bounce.y,T=Math.abs(O),E()},E=function(){return h&&x&&e.blocked.down?(t.processY(-T,o,!1,!0),1):u&&y&&e.blocked.up?(t.processY(T,o,!0),1):m&&y&&t.blocked.down?(e.processY(-T,n,!1,!0),2):v&&x&&t.blocked.up?(e.processY(T,n,!0),2):0},C=function(){var M=t.velocity.y,L=e.velocity.y,O=Math.sqrt(L*L*e.mass/t.mass)*(L>0?1:-1),I=Math.sqrt(M*M*t.mass/e.mass)*(M>0?1:-1),w=(O+I)*.5;return O-=w,I-=w,r=w+O*t.bounce.y,a=w+I*e.bounce.y,u&&y?A(0):v&&x?A(1):h&&x?A(2):m&&y?A(3):!1},A=function(M){if(l&&s)T*=.5,M===0||M===3?(t.processY(T,r),e.processY(-T,a)):(t.processY(-T,r),e.processY(T,a));else if(l&&!s)M===0||M===3?t.processY(T,o,!0):t.processY(-T,o,!1,!0);else if(!l&&s)M===0||M===3?e.processY(-T,n,!1,!0):e.processY(T,n,!0);else{var L=T*.5;M===0?g?(t.processY(T,0,!0),e.processY(0,null,!1,!0)):m?(t.processY(L,0,!0),e.processY(-L,0,!1,!0)):(t.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)):M===1?f?(t.processY(0,null,!1,!0),e.processY(T,0,!0)):h?(t.processY(-L,0,!1,!0),e.processY(L,0,!0)):(t.processY(-L,null,!1,!0),e.processY(L,t.velocity.y,!0)):M===2?g?(t.processY(-T,0,!1,!0),e.processY(0,null,!0)):v?(t.processY(-L,0,!1,!0),e.processY(L,0,!0)):(t.processY(-L,e.velocity.y,!1,!0),e.processY(L,null,!0)):M===3&&(f?(t.processY(0,null,!0),e.processY(-T,0,!1,!0)):u?(t.processY(L,0,!0),e.processY(-L,0,!1,!0)):(t.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)))}return!0},P=function(M){M===1?e.velocity.y=0:x?e.processY(T,n,!0):e.processY(-T,n,!1,!0),t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x,e._dx=e.x-e.prev.x)},R=function(M){M===2?t.velocity.y=0:y?t.processY(T,o,!0):t.processY(-T,o,!1,!0),e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x,t._dx=t.x-t.prev.x)};i.exports={BlockCheck:E,Check:C,Set:S,Run:A,RunImmovableBody1:P,RunImmovableBody2:R}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ProcessTileCallbacks:t(530),ProcessTileSeparationX:t(534),ProcessTileSeparationY:t(536),SeparateTile:t(532),TileCheckX:t(533),TileCheckY:t(535),TileIntersectsBody:t(248)};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(3),s=new e({initialize:function(){this.boundsCenter=new l,this.centerDiff=new l},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var a=this.boundsCenter,o=this.centerDiff,n=r.bounds.max.x-r.bounds.min.x,u=r.bounds.max.y-r.bounds.min.y,h=n*r.centerOfMass.x,f=u*r.centerOfMass.y;return a.set(n/2,u/2),o.set(h-a.x,f-a.y),!0},getTopLeft:function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),this.parseBody(r)){var n=this.boundsCenter,u=this.centerDiff;return new l(a+n.x+u.x,o+n.y+u.y)}return!1},getTopCenter:function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),this.parseBody(r)){var n=this.boundsCenter,u=this.centerDiff;return new l(a+u.x,o+n.y+u.y)}return!1},getTopRight:function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),this.parseBody(r)){var n=this.boundsCenter,u=this.centerDiff;return new l(a-(n.x-u.x),o+n.y+u.y)}return!1},getLeftCenter:function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),this.parseBody(r)){var n=this.boundsCenter,u=this.centerDiff;return new l(a+n.x+u.x,o+u.y)}return!1},getCenter:function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),this.parseBody(r)){var n=this.centerDiff;return new l(a+n.x,o+n.y)}return!1},getRightCenter:function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),this.parseBody(r)){var n=this.boundsCenter,u=this.centerDiff;return new l(a-(n.x-u.x),o+u.y)}return!1},getBottomLeft:function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),this.parseBody(r)){var n=this.boundsCenter,u=this.centerDiff;return new l(a+n.x+u.x,o-(n.y-u.y))}return!1},getBottomCenter:function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),this.parseBody(r)){var n=this.boundsCenter,u=this.centerDiff;return new l(a+u.x,o-(n.y-u.y))}return!1},getBottomRight:function(r,a,o){if(a===void 0&&(a=0),o===void 0&&(o=0),this.parseBody(r)){var n=this.boundsCenter,u=this.centerDiff;return new l(a-(n.x-u.x),o-(n.y-u.y))}return!1}});i.exports=s},function(i,d){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={decomp:M,quickDecomp:w,isSimple:O,removeCollinearPoints:G,removeDuplicatePoints:V,makeCCW:x};function t(D,F,B){B=B||0;var b=[0,0],z,N,U,Y,K,Z,j;return z=D[1][1]-D[0][1],N=D[0][0]-D[1][0],U=z*D[0][0]+N*D[0][1],Y=F[1][1]-F[0][1],K=F[0][0]-F[1][0],Z=Y*F[0][0]+K*F[0][1],j=z*K-Y*N,X(j,0,B)||(b[0]=(K*U-N*Z)/j,b[1]=(z*Z-Y*U)/j),b}function e(D,F,B,b){var z=F[0]-D[0],N=F[1]-D[1],U=b[0]-B[0],Y=b[1]-B[1];if(U*N-Y*z===0)return!1;var K=(z*(B[1]-D[1])+N*(D[0]-B[0]))/(U*N-Y*z),Z=(U*(D[1]-B[1])+Y*(B[0]-D[0]))/(Y*z-U*N);return K>=0&&K<=1&&Z>=0&&Z<=1}function l(D,F,B){return(F[0]-D[0])*(B[1]-D[1])-(B[0]-D[0])*(F[1]-D[1])}function s(D,F,B){return l(D,F,B)>0}function r(D,F,B){return l(D,F,B)>=0}function a(D,F,B){return l(D,F,B)<0}function o(D,F,B){return l(D,F,B)<=0}var n=[],u=[];function h(D,F,B,b){if(b){var z=n,N=u;z[0]=F[0]-D[0],z[1]=F[1]-D[1],N[0]=B[0]-F[0],N[1]=B[1]-F[1];var U=z[0]*N[0]+z[1]*N[1],Y=Math.sqrt(z[0]*z[0]+z[1]*z[1]),K=Math.sqrt(N[0]*N[0]+N[1]*N[1]),Z=Math.acos(U/(Y*K));return Z<b}else return l(D,F,B)===0}function f(D,F){var B=F[0]-D[0],b=F[1]-D[1];return B*B+b*b}function v(D,F){var B=D.length;return D[F<0?F%B+B:F%B]}function m(D){D.length=0}function g(D,F,B,b){for(var z=B;z<b;z++)D.push(F[z])}function x(D){for(var F=0,B=D,b=1;b<D.length;++b)(B[b][1]<B[F][1]||B[b][1]===B[F][1]&&B[b][0]>B[F][0])&&(F=b);return s(v(D,F-1),v(D,F),v(D,F+1))?!1:(y(D),!0)}function y(D){for(var F=[],B=D.length,b=0;b!==B;b++)F.push(D.pop());for(var b=0;b!==B;b++)D[b]=F[b]}function T(D,F){return a(v(D,F-1),v(D,F),v(D,F+1))}var S=[],E=[];function C(D,F,B){var b,z,N=S,U=E;if(r(v(D,F+1),v(D,F),v(D,B))&&o(v(D,F-1),v(D,F),v(D,B)))return!1;z=f(v(D,F),v(D,B));for(var Y=0;Y!==D.length;++Y)if(!((Y+1)%D.length===F||Y===F)&&r(v(D,F),v(D,B),v(D,Y+1))&&o(v(D,F),v(D,B),v(D,Y))&&(N[0]=v(D,F),N[1]=v(D,B),U[0]=v(D,Y),U[1]=v(D,Y+1),b=t(N,U),f(v(D,F),b)<z))return!1;return!0}function A(D,F,B){for(var b=0;b!==D.length;++b)if(!(b===F||b===B||(b+1)%D.length===F||(b+1)%D.length===B)&&e(v(D,F),v(D,B),v(D,b),v(D,b+1)))return!1;return!0}function P(D,F,B,b){var z=b||[];if(m(z),F<B)for(var N=F;N<=B;N++)z.push(D[N]);else{for(var N=0;N<=B;N++)z.push(D[N]);for(var N=F;N<D.length;N++)z.push(D[N])}return z}function R(D){for(var F=[],B=[],b=[],z=[],N=Number.MAX_VALUE,U=0;U<D.length;++U)if(T(D,U)){for(var Y=0;Y<D.length;++Y)if(C(D,U,Y)){B=R(P(D,U,Y,z)),b=R(P(D,Y,U,z));for(var K=0;K<b.length;K++)B.push(b[K]);B.length<N&&(F=B,N=B.length,F.push([v(D,U),v(D,Y)]))}}return F}function M(D){var F=R(D);return F.length>0?L(D,F):[D]}function L(D,F){if(F.length===0)return[D];if(F instanceof Array&&F.length&&F[0]instanceof Array&&F[0].length===2&&F[0][0]instanceof Array){for(var B=[D],b=0;b<F.length;b++)for(var z=F[b],N=0;N<B.length;N++){var U=B[N],Y=L(U,z);if(Y){B.splice(N,1),B.push(Y[0],Y[1]);break}}return B}else{var z=F,b=D.indexOf(z[0]),N=D.indexOf(z[1]);return b!==-1&&N!==-1?[P(D,b,N),P(D,N,b)]:!1}}function O(D){var F=D,B;for(B=0;B<F.length-1;B++)for(var b=0;b<B-1;b++)if(e(F[B],F[B+1],F[b],F[b+1]))return!1;for(B=1;B<F.length-2;B++)if(e(F[0],F[F.length-1],F[B],F[B+1]))return!1;return!0}function I(D,F,B,b,z){z=z||0;var N=F[1]-D[1],U=D[0]-F[0],Y=N*D[0]+U*D[1],K=b[1]-B[1],Z=B[0]-b[0],j=K*B[0]+Z*B[1],q=N*Z-K*U;return X(q,0,z)?[0,0]:[(Z*Y-U*j)/q,(N*j-K*Y)/q]}function w(D,F,B,b,z,N,U){N=N||100,U=U||0,z=z||25,F=typeof F!="undefined"?F:[],B=B||[],b=b||[];var Y=[0,0],K=[0,0],Z=[0,0],j=0,q=0,k=0,H=0,$=0,J=0,et=0,_=[],it=[],Q=D,st=D;if(st.length<3)return F;if(U++,U>N)return console.warn("quickDecomp: max level ("+N+") reached."),F;for(var nt=0;nt<D.length;++nt)if(T(Q,nt)){B.push(Q[nt]),j=q=Number.MAX_VALUE;for(var tt=0;tt<D.length;++tt)s(v(Q,nt-1),v(Q,nt),v(Q,tt))&&o(v(Q,nt-1),v(Q,nt),v(Q,tt-1))&&(Z=I(v(Q,nt-1),v(Q,nt),v(Q,tt),v(Q,tt-1)),a(v(Q,nt+1),v(Q,nt),Z)&&(k=f(Q[nt],Z),k<q&&(q=k,K=Z,J=tt))),s(v(Q,nt+1),v(Q,nt),v(Q,tt+1))&&o(v(Q,nt+1),v(Q,nt),v(Q,tt))&&(Z=I(v(Q,nt+1),v(Q,nt),v(Q,tt),v(Q,tt+1)),s(v(Q,nt-1),v(Q,nt),Z)&&(k=f(Q[nt],Z),k<j&&(j=k,Y=Z,$=tt)));if(J===($+1)%D.length)Z[0]=(K[0]+Y[0])/2,Z[1]=(K[1]+Y[1])/2,b.push(Z),nt<$?(g(_,Q,nt,$+1),_.push(Z),it.push(Z),J!==0&&g(it,Q,J,Q.length),g(it,Q,0,nt+1)):(nt!==0&&g(_,Q,nt,Q.length),g(_,Q,0,$+1),_.push(Z),it.push(Z),g(it,Q,J,nt+1));else{if(J>$&&($+=D.length),H=Number.MAX_VALUE,$<J)return F;for(var tt=J;tt<=$;++tt)r(v(Q,nt-1),v(Q,nt),v(Q,tt))&&o(v(Q,nt+1),v(Q,nt),v(Q,tt))&&(k=f(v(Q,nt),v(Q,tt)),k<H&&A(Q,nt,tt)&&(H=k,et=tt%D.length));nt<et?(g(_,Q,nt,et+1),et!==0&&g(it,Q,et,st.length),g(it,Q,0,nt+1)):(nt!==0&&g(_,Q,nt,st.length),g(_,Q,0,et+1),g(it,Q,et,nt+1))}return _.length<it.length?(w(_,F,B,b,z,N,U),w(it,F,B,b,z,N,U)):(w(it,F,B,b,z,N,U),w(_,F,B,b,z,N,U)),F}return F.push(D),F}function G(D,F){for(var B=0,b=D.length-1;D.length>3&&b>=0;--b)h(v(D,b-1),v(D,b),v(D,b+1),F)&&(D.splice(b%D.length,1),B++);return B}function V(D,F){for(var B=D.length-1;B>=1;--B)for(var b=D[B],z=B-1;z>=0;--z)if(W(b,D[z],F)){D.splice(B,1);continue}}function X(D,F,B){return B=B||0,Math.abs(D-F)<=B}function W(D,F,B){return X(D[0],F[0],B)&&X(D[1],F[1],B)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),l=t(0),s=t(591),r=t(128),a=t(592),o=t(1395),n=t(1396),u=t(1397),h=t(593),f=t(589),v=t(590),m=t(1398),g=t(64),x=new l({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(y,T,S,E,C){var A=e.rectangle(y,T,S,E,C);return this.world.add(A),A},trapezoid:function(y,T,S,E,C,A){var P=e.trapezoid(y,T,S,E,C,A);return this.world.add(P),P},circle:function(y,T,S,E,C){var A=e.circle(y,T,S,E,C);return this.world.add(A),A},polygon:function(y,T,S,E,C){var A=e.polygon(y,T,S,E,C);return this.world.add(A),A},fromVertices:function(y,T,S,E,C,A,P){typeof S=="string"&&(S=g.fromPath(S));var R=e.fromVertices(y,T,S,E,C,A,P);return this.world.add(R),R},fromPhysicsEditor:function(y,T,S,E,C){C===void 0&&(C=!0);var A=f.parseBody(y,T,S,E);return C&&!this.world.has(A)&&this.world.add(A),A},fromSVG:function(y,T,S,E,C,A){E===void 0&&(E=1),C===void 0&&(C={}),A===void 0&&(A=!0);for(var P=S.getElementsByTagName("path"),R=[],M=0;M<P.length;M++){var L=a.pathToVertices(P[M],30);E!==1&&g.scale(L,E,E),R.push(L)}var O=e.fromVertices(y,T,R,C);return A&&this.world.add(O),O},fromJSON:function(y,T,S,E,C){E===void 0&&(E={}),C===void 0&&(C=!0);var A=v.parseBody(y,T,S,E);return A&&C&&this.world.add(A),A},imageStack:function(y,T,S,E,C,A,P,R,M){P===void 0&&(P=0),R===void 0&&(R=0),M===void 0&&(M={});var L=this.world,O=this.sys.displayList;M.addToWorld=!1;var I=s.stack(S,E,C,A,P,R,function(w,G){var V=new n(L,w,G,y,T,M);return O.add(V),V.body});return L.add(I),I},stack:function(y,T,S,E,C,A,P){var R=s.stack(y,T,S,E,C,A,P);return this.world.add(R),R},pyramid:function(y,T,S,E,C,A,P){var R=s.pyramid(y,T,S,E,C,A,P);return this.world.add(R),R},chain:function(y,T,S,E,C,A){return s.chain(y,T,S,E,C,A)},mesh:function(y,T,S,E,C){return s.mesh(y,T,S,E,C)},newtonsCradle:function(y,T,S,E,C){var A=s.newtonsCradle(y,T,S,E,C);return this.world.add(A),A},car:function(y,T,S,E,C){var A=s.car(y,T,S,E,C);return this.world.add(A),A},softBody:function(y,T,S,E,C,A,P,R,M,L){var O=s.softBody(y,T,S,E,C,A,P,R,M,L);return this.world.add(O),O},joint:function(y,T,S,E,C){return this.constraint(y,T,S,E,C)},spring:function(y,T,S,E,C){return this.constraint(y,T,S,E,C)},constraint:function(y,T,S,E,C){E===void 0&&(E=1),C===void 0&&(C={}),C.bodyA=y.type==="body"?y:y.body,C.bodyB=T.type==="body"?T:T.body,isNaN(S)||(C.length=S),C.stiffness=E;var A=r.create(C);return this.world.add(A),A},worldConstraint:function(y,T,S,E){S===void 0&&(S=1),E===void 0&&(E={}),E.bodyB=y.type==="body"?y:y.body,isNaN(T)||(E.length=T),E.stiffness=S;var C=r.create(E);return this.world.add(C),C},mouseSpring:function(y){return this.pointerConstraint(y)},pointerConstraint:function(y){y===void 0&&(y={}),y.hasOwnProperty("render")||(y.render={visible:!1});var T=new m(this.scene,this.world,y);return this.world.add(T.constraint),T},image:function(y,T,S,E,C){var A=new n(this.world,y,T,S,E,C);return this.sys.displayList.add(A),A},tileBody:function(y,T){return new h(this.world,y,T)},sprite:function(y,T,S,E,C){var A=new u(this.world,y,T,S,E,C);return this.sys.displayList.add(A),this.sys.updateList.add(A),A},gameObject:function(y,T,S){return o(this.world,y,T,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});i.exports=x},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(249),l=t(2),s=t(3);function r(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}var a=function(o,n,u,h){u===void 0&&(u={}),h===void 0&&(h=!0);var f=n.x,v=n.y;n.body={temp:!0,position:{x:f,y:v}};var m=[e.Bounce,e.Collision,e.Force,e.Friction,e.Gravity,e.Mass,e.Sensor,e.SetBody,e.Sleep,e.Static,e.Transform,e.Velocity];if(m.forEach(function(x){for(var y in x)r(x[y])?Object.defineProperty(n,y,{get:x[y].get,set:x[y].set}):Object.defineProperty(n,y,{value:x[y]})}),n.world=o,n._tempVec2=new s(f,v),u.hasOwnProperty("type")&&u.type==="body")n.setExistingBody(u,h);else{var g=l(u,"shape",null);g||(g="rectangle"),u.addToWorld=h,n.setBody(g,u)}return n};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(249),s=t(15),r=t(2),a=t(125),o=t(167),n=t(3),u=new e({Extends:a,Mixins:[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity,o],initialize:function(f,v,m,g,x,y){s.call(this,f.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(g,x),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new n(v,m);var T=r(y,"shape",null);T?this.setBody(T,y):this.setRectangle(this.width,this.height,y),this.setPosition(v,m),this.initPipeline()}});i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),l=t(0),s=t(249),r=t(15),a=t(2),o=t(167),n=t(73),u=t(3),h=new l({Extends:n,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,o],initialize:function(v,m,g,x,y,T){r.call(this,v.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(x,y),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new u(m,g);var S=a(T,"shape",null);S?this.setBody(S,T):this.setRectangle(this.width,this.height,T),this.setPosition(m,g),this.initPipeline()}});i.exports=h},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(84),l=t(0),s=t(118),r=t(128),a=t(273),o=t(272),n=t(51),u=t(127),h=t(165),f=t(3),v=t(64),m=new l({initialize:function(x,y,T){T===void 0&&(T={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=x,this.world=y,this.camera=null,this.pointer=null,this.active=!0,this.position=new f,this.body=null,this.part=null,this.constraint=r.create(u(T,S)),this.world.on(o.BEFORE_UPDATE,this.update,this),x.sys.input.on(n.POINTER_DOWN,this.onDown,this),x.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(g){this.pointer||(this.pointer=g,this.camera=g.camera)},onUp:function(g){g===this.pointer&&(this.pointer=null)},getBody:function(g){var x=this.position,y=this.constraint;this.camera.getWorldPoint(g.x,g.y,x);for(var T=s.allBodies(this.world.localWorld),S=0;S<T.length;S++){var E=T[S];if(!E.ignorePointer&&e.contains(E.bounds,x)&&a.canCollide(E.collisionFilter,y.collisionFilter)&&this.hitTestBody(E,x))return this.world.emit(o.DRAG_START,E,this.part,this),!0}return!1},hitTestBody:function(g,x){for(var y=this.constraint,T=g.parts.length,S=T>1?1:0,E=S;E<T;E++){var C=g.parts[E];if(v.contains(C.vertices,x))return y.pointA=x,y.pointB={x:x.x-g.position.x,y:x.y-g.position.y},y.bodyB=g,y.angleB=g.angle,h.set(g,!1),this.part=C,this.body=g,!0}return!1},update:function(){var g=this.pointer,x=this.body;if(!this.active||!g){x&&this.stopDrag();return}if(!g.isDown&&x){this.stopDrag();return}else if(g.isDown){if(!x&&!this.getBody(g))return;x=this.body;var y=this.position,T=this.constraint;this.camera.getWorldPoint(g.x,g.y,y),T.pointA.x=y.x,T.pointA.y=y.y,h.set(x,!1),this.world.emit(o.DRAG,x,this)}},stopDrag:function(){var g=this.body,x=this.constraint;x.bodyB=null,x.pointB=null,this.pointer=null,this.body=null,this.part=null,g&&this.world.emit(o.DRAG_END,g,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(o.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});i.exports=m},function(i,d,t){var e={};i.exports=e;var l=t(595),s=t(32);(function(){e.name="matter-js",e.version="0.14.2",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(r,a){return r=r.replace(/^Matter./,""),s.chainPathBefore(e,r,a)},e.after=function(r,a){return r=r.replace(/^Matter./,""),s.chainPathAfter(e,r,a)}})()},function(i,d,t){var e={};i.exports=e;var l=t(83),s=t(274),r=t(84),a=t(86),o=t(64);(function(){e.collides=function(n,u){for(var h=[],f=0;f<u.length;f++){var v=u[f];if(n!==v&&r.overlaps(v.bounds,n.bounds))for(var m=v.parts.length===1?0:1;m<v.parts.length;m++){var g=v.parts[m];if(r.overlaps(g.bounds,n.bounds)){var x=s.collides(g,n);if(x.collided){h.push(x);break}}}}return h},e.ray=function(n,u,h,f){f=f||1e-100;for(var v=l.angle(u,h),m=l.magnitude(l.sub(u,h)),g=(h.x+u.x)*.5,x=(h.y+u.y)*.5,y=a.rectangle(g,x,m,f,{angle:v}),T=e.collides(y,n),S=0;S<T.length;S+=1){var E=T[S];E.body=E.bodyB=E.bodyA}return T},e.region=function(n,u,h){for(var f=[],v=0;v<n.length;v++){var m=n[v],g=r.overlaps(m.bounds,u);(g&&!h||!g&&h)&&f.push(m)}return f},e.point=function(n,u){for(var h=[],f=0;f<n.length;f++){var v=n[f];if(r.contains(v.bounds,u))for(var m=v.parts.length===1?0:1;m<v.parts.length;m++){var g=v.parts[m];if(r.contains(g.bounds,u)&&o.contains(g.vertices,u)){h.push(v);break}}}return h}})()},function(i,d,t){var e={};i.exports=e;var l=t(596),s=t(165),r=t(599),a=t(598),o=t(1523),n=t(597),u=t(166),h=t(118),f=t(128),v=t(32),m=t(41);(function(){e.create=function(g,x){x=v.isElement(g)?x:g,g=v.isElement(g)?g:null,x=x||{},(g||x.render)&&v.warn("Engine.create: engine.render is deprecated (see docs)");var y={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:n}},T=v.extend(y,x);return T.world=x.world||l.create(T.world),T.pairs=a.create(),T.broadphase=T.broadphase.controller.create(T.broadphase),T.metrics=T.metrics||{extended:!1},T.metrics=o.create(T.metrics),T},e.update=function(g,x,y){x=x||1e3/60,y=y||1;var T=g.world,S=g.timing,E=g.broadphase,C=[],A;S.timestamp+=x*S.timeScale;var P={timestamp:S.timestamp};u.trigger(g,"beforeUpdate",P);var R=h.allBodies(T),M=h.allConstraints(T);for(o.reset(g.metrics),g.enableSleeping&&s.update(R,S.timeScale),e._bodiesApplyGravity(R,T.gravity),e._bodiesUpdate(R,x,S.timeScale,y,T.bounds),f.preSolveAll(R),A=0;A<g.constraintIterations;A++)f.solveAll(M,S.timeScale);f.postSolveAll(R),E.controller?(T.isModified&&E.controller.clear(E),E.controller.update(E,R,g,T.isModified),C=E.pairsList):C=R,T.isModified&&h.setModified(T,!1,!1,!0);var L=E.detector(C,g),O=g.pairs,I=S.timestamp;for(a.update(O,L,I),a.removeOld(O,I),g.enableSleeping&&s.afterCollisions(O.list,S.timeScale),O.collisionStart.length>0&&u.trigger(g,"collisionStart",{pairs:O.collisionStart}),r.preSolvePosition(O.list),A=0;A<g.positionIterations;A++)r.solvePosition(O.list,R,S.timeScale);for(r.postSolvePosition(R),f.preSolveAll(R),A=0;A<g.constraintIterations;A++)f.solveAll(M,S.timeScale);for(f.postSolveAll(R),r.preSolveVelocity(O.list),A=0;A<g.velocityIterations;A++)r.solveVelocity(O.list,S.timeScale);return O.collisionActive.length>0&&u.trigger(g,"collisionActive",{pairs:O.collisionActive}),O.collisionEnd.length>0&&u.trigger(g,"collisionEnd",{pairs:O.collisionEnd}),o.update(g.metrics,g),e._bodiesClearForces(R),u.trigger(g,"afterUpdate",P),g},e.merge=function(g,x){if(v.extend(g,x),x.world){g.world=x.world,e.clear(g);for(var y=h.allBodies(g.world),T=0;T<y.length;T++){var S=y[T];s.set(S,!1),S.id=v.nextId()}}},e.clear=function(g){var x=g.world;a.clear(g.pairs);var y=g.broadphase;if(y.controller){var T=h.allBodies(x);y.controller.clear(y),y.controller.update(y,T,g,!0)}},e._bodiesClearForces=function(g){for(var x=0;x<g.length;x++){var y=g[x];y.force.x=0,y.force.y=0,y.torque=0}},e._bodiesApplyGravity=function(g,x){var y=typeof x.scale!="undefined"?x.scale:.001;if(!(x.x===0&&x.y===0||y===0))for(var T=0;T<g.length;T++){var S=g[T];S.ignoreGravity||S.isStatic||S.isSleeping||(S.force.x+=S.mass*x.x*y*S.gravityScale.x,S.force.y+=S.mass*x.y*y*S.gravityScale.y)}},e._bodiesUpdate=function(g,x,y,T,S){for(var E=0;E<g.length;E++){var C=g[E];C.isStatic||C.isSleeping||m.update(C,x,y,T)}}})()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),l=t(41),s=t(0),r=t(32),a=t(118),o=t(1401),n=t(9),u=t(272),h=t(2),f=t(6),v=t(41),m=t(166),g=t(593),x=t(596),y=t(83),T=new s({Extends:n,initialize:function(E,C){n.call(this),this.scene=E,this.engine=o.create(C),this.localWorld=this.engine.world;var A=f(C,"gravity",null);A?this.setGravity(A.x,A.y,A.scale):A===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=f(C,"enabled",!0),this.correction=f(C,"correction",1),this.getDelta=f(C,"getDelta",this.update60Hz);var P=h(C,"runner",{}),R=h(P,"fps",!1),M=h(P,"fps",60),L=h(P,"delta",1e3/M),O=h(P,"deltaMin",1e3/M),I=h(P,"deltaMax",1e3/(M*.5));R||(M=1e3/L),this.runner={fps:M,correction:h(P,"correction",1),deltaSampleSize:h(P,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:h(P,"isFixed",!1),delta:L,deltaMin:O,deltaMax:I},this.autoUpdate=f(C,"autoUpdate",!0);var w=f(C,"debug",!1);if(this.drawDebug=typeof w=="object"?!0:w,this.debugGraphic,this.debugConfig={showAxes:h(w,"showAxes",!1),showAngleIndicator:h(w,"showAngleIndicator",!1),angleColor:h(w,"angleColor",15208787),showBroadphase:h(w,"showBroadphase",!1),broadphaseColor:h(w,"broadphaseColor",16757760),showBounds:h(w,"showBounds",!1),boundsColor:h(w,"boundsColor",16777215),showVelocity:h(w,"showVelocity",!1),velocityColor:h(w,"velocityColor",44783),showCollisions:h(w,"showCollisions",!1),collisionColor:h(w,"collisionColor",16094476),showSeparations:h(w,"showSeparations",!1),separationColor:h(w,"separationColor",16753920),showBody:h(w,"showBody",!0),showStaticBody:h(w,"showStaticBody",!0),showInternalEdges:h(w,"showInternalEdges",!1),renderFill:h(w,"renderFill",!1),renderLine:h(w,"renderLine",!0),fillColor:h(w,"fillColor",1075465),fillOpacity:h(w,"fillOpacity",1),lineColor:h(w,"lineColor",2678297),lineOpacity:h(w,"lineOpacity",1),lineThickness:h(w,"lineThickness",1),staticFillColor:h(w,"staticFillColor",857979),staticLineColor:h(w,"staticLineColor",1255396),showSleeping:h(w,"showSleeping",!1),staticBodySleepOpacity:h(w,"staticBodySleepOpacity",.7),sleepFillColor:h(w,"sleepFillColor",4605510),sleepLineColor:h(w,"sleepLineColor",10066585),showSensors:h(w,"showSensors",!0),sensorFillColor:h(w,"sensorFillColor",857979),sensorLineColor:h(w,"sensorLineColor",1255396),showPositions:h(w,"showPositions",!0),positionSize:h(w,"positionSize",4),positionColor:h(w,"positionColor",14697178),showJoint:h(w,"showJoint",!0),jointColor:h(w,"jointColor",14737474),jointLineOpacity:h(w,"jointLineOpacity",1),jointLineThickness:h(w,"jointLineThickness",2),pinSize:h(w,"pinSize",4),pinColor:h(w,"pinColor",4382944),springColor:h(w,"springColor",14697184),anchorColor:h(w,"anchorColor",15724527),anchorSize:h(w,"anchorSize",4),showConvexHulls:h(w,"showConvexHulls",!1),hullColor:h(w,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),h(C,"setBounds",!1)){var G=C.setBounds;if(typeof G=="boolean")this.setBounds();else{var V=h(G,"x",0),X=h(G,"y",0),W=h(G,"width",E.sys.scale.width),D=h(G,"height",E.sys.scale.height),F=h(G,"thickness",64),B=h(G,"left",!0),b=h(G,"right",!0),z=h(G,"top",!0),N=h(G,"bottom",!0);this.setBounds(V,X,W,D,F,B,b,z,N)}}},setCompositeRenderStyle:function(S){var E=S.bodies,C=S.constraints,A=S.composites,P,R,M;for(P=0;P<E.length;P++)R=E[P],M=R.render,this.setBodyRenderStyle(R,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity);for(P=0;P<C.length;P++)R=C[P],M=R.render,this.setConstraintRenderStyle(R,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize);for(P=0;P<A.length;P++)R=A[P],this.setCompositeRenderStyle(R);return this},setBodyRenderStyle:function(S,E,C,A,P,R){var M=S.render,L=this.debugConfig;return M?(E==null&&(E=S.isStatic?L.staticLineColor:L.lineColor),C==null&&(C=L.lineOpacity),A==null&&(A=L.lineThickness),P==null&&(P=S.isStatic?L.staticFillColor:L.fillColor),R==null&&(R=L.fillOpacity),E!==!1&&(M.lineColor=E),C!==!1&&(M.lineOpacity=C),A!==!1&&(M.lineThickness=A),P!==!1&&(M.fillColor=P),R!==!1&&(M.fillOpacity=R),this):this},setConstraintRenderStyle:function(S,E,C,A,P,R,M){var L=S.render,O=this.debugConfig;if(!L)return this;if(E==null){var I=L.type;I==="line"?E=O.jointColor:I==="pin"?E=O.pinColor:I==="spring"&&(E=O.springColor)}return C==null&&(C=O.jointLineOpacity),A==null&&(A=O.jointLineThickness),P==null&&(P=O.pinSize),R==null&&(R=O.anchorColor),M==null&&(M=O.anchorSize),E!==!1&&(L.lineColor=E),C!==!1&&(L.lineOpacity=C),A!==!1&&(L.lineThickness=A),P!==!1&&(L.pinSize=P),R!==!1&&(L.anchorColor=R),M!==!1&&(L.anchorSize=M),this},setEventsProxy:function(){var S=this,E=this.engine,C=this.localWorld;this.drawDebug&&(m.on(C,"compositeModified",function(A){S.setCompositeRenderStyle(A)}),m.on(C,"beforeAdd",function(A){for(var P=[].concat(A.object),R=0;R<P.length;R++){var M=P[R],L=M.render;M.type==="body"?S.setBodyRenderStyle(M,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity):M.type==="composite"?S.setCompositeRenderStyle(M):M.type==="constraint"&&S.setConstraintRenderStyle(M,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize)}})),m.on(C,"beforeAdd",function(A){S.emit(u.BEFORE_ADD,A)}),m.on(C,"afterAdd",function(A){S.emit(u.AFTER_ADD,A)}),m.on(C,"beforeRemove",function(A){S.emit(u.BEFORE_REMOVE,A)}),m.on(C,"afterRemove",function(A){S.emit(u.AFTER_REMOVE,A)}),m.on(E,"beforeUpdate",function(A){S.emit(u.BEFORE_UPDATE,A)}),m.on(E,"afterUpdate",function(A){S.emit(u.AFTER_UPDATE,A)}),m.on(E,"collisionStart",function(A){var P=A.pairs,R,M;P.length>0&&(R=P[0].bodyA,M=P[0].bodyB),S.emit(u.COLLISION_START,A,R,M)}),m.on(E,"collisionActive",function(A){var P=A.pairs,R,M;P.length>0&&(R=P[0].bodyA,M=P[0].bodyB),S.emit(u.COLLISION_ACTIVE,A,R,M)}),m.on(E,"collisionEnd",function(A){var P=A.pairs,R,M;P.length>0&&(R=P[0].bodyA,M=P[0].bodyB),S.emit(u.COLLISION_END,A,R,M)})},setBounds:function(S,E,C,A,P,R,M,L,O){return S===void 0&&(S=0),E===void 0&&(E=0),C===void 0&&(C=this.scene.sys.scale.width),A===void 0&&(A=this.scene.sys.scale.height),P===void 0&&(P=64),R===void 0&&(R=!0),M===void 0&&(M=!0),L===void 0&&(L=!0),O===void 0&&(O=!0),this.updateWall(R,"left",S-P,E-P,P,A+P*2),this.updateWall(M,"right",S+C,E-P,P,A+P*2),this.updateWall(L,"top",S,E-P,C,P),this.updateWall(O,"bottom",S,E+A,C,P),this},updateWall:function(S,E,C,A,P,R){var M=this.walls[E];S?(M&&x.remove(this.localWorld,M),C+=P/2,A+=R/2,this.walls[E]=this.create(C,A,P,R,{isStatic:!0,friction:0,frictionStatic:0})):(M&&x.remove(this.localWorld,M),this.walls[E]=null)},createDebugGraphic:function(){var S=this.scene.sys.add.graphics({x:0,y:0});return S.setDepth(Number.MAX_VALUE),this.debugGraphic=S,this.drawDebug=!0,S},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(S,E,C){return S===void 0&&(S=0),E===void 0&&(E=1),this.localWorld.gravity.x=S,this.localWorld.gravity.y=E,C!==void 0&&(this.localWorld.gravity.scale=C),this},create:function(S,E,C,A,P){var R=e.rectangle(S,E,C,A,P);return x.add(this.localWorld,R),R},add:function(S){return x.add(this.localWorld,S),this},remove:function(S,E){Array.isArray(S)||(S=[S]);for(var C=0;C<S.length;C++){var A=S[C],P=A.body?A.body:A;a.remove(this.localWorld,P,E)}return this},removeConstraint:function(S,E){return a.remove(this.localWorld,S,E),this},convertTilemapLayer:function(S,E){var C=S.layer,A=S.getTilesWithin(0,0,C.width,C.height,{isColliding:!0});return this.convertTiles(A,E),this},convertTiles:function(S,E){if(S.length===0)return this;for(var C=0;C<S.length;C++)new g(this,S[C],E);return this},nextGroup:function(S){return v.nextGroup(S)},nextCategory:function(){return v.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(u.RESUME),this},update:function(S,E){if(!(!this.enabled||!this.autoUpdate)){var C=this.engine,A=this.runner,P=C.timing,R=this.correction;A.isFixed?E=this.getDelta(S,E):(E=S-A.timePrev||A.delta,A.timePrev=S,A.deltaHistory.push(E),A.deltaHistory=A.deltaHistory.slice(-A.deltaSampleSize),E=Math.min.apply(null,A.deltaHistory),E=E<A.deltaMin?A.deltaMin:E,E=E>A.deltaMax?A.deltaMax:E,R=E/A.delta,A.delta=E),A.timeScalePrev!==0&&(R*=P.timeScale/A.timeScalePrev),P.timeScale===0&&(R=0),A.timeScalePrev=P.timeScale,A.correction=R,A.frameCounter+=1,S-A.counterTimestamp>=1e3&&(A.fps=A.frameCounter*((S-A.counterTimestamp)/1e3),A.counterTimestamp=S,A.frameCounter=0),o.update(C,E,R)}},step:function(S,E){o.update(this.engine,S,E)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(S){var E=S.hasOwnProperty("body")?S.body:S;return a.get(this.localWorld,E.id,E.type)!==null},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(!!this.drawDebug){var S=this.debugConfig,E=this.engine,C=this.debugGraphic,A=a.allBodies(this.localWorld);this.debugGraphic.clear(),S.showBroadphase&&E.broadphase.controller&&this.renderGrid(E.broadphase,C,S.broadphaseColor,.5),S.showBounds&&this.renderBodyBounds(A,C,S.boundsColor,.5),(S.showBody||S.showStaticBody)&&this.renderBodies(A),S.showJoint&&this.renderJoints(),(S.showAxes||S.showAngleIndicator)&&this.renderBodyAxes(A,C,S.showAxes,S.angleColor,.5),S.showVelocity&&this.renderBodyVelocity(A,C,S.velocityColor,1,2),S.showSeparations&&this.renderSeparations(E.pairs.list,C,S.separationColor),S.showCollisions&&this.renderCollisions(E.pairs.list,C,S.collisionColor)}},renderGrid:function(S,E,C,A){E.lineStyle(1,C,A);for(var P=r.keys(S.buckets),R=0;R<P.length;R++){var M=P[R];if(!(S.buckets[M].length<2)){var L=M.split(/C|R/);E.strokeRect(parseInt(L[1],10)*S.bucketWidth,parseInt(L[2],10)*S.bucketHeight,S.bucketWidth,S.bucketHeight)}}return this},renderSeparations:function(S,E,C){E.lineStyle(1,C,1);for(var A=0;A<S.length;A++){var P=S[A];if(!!P.isActive){var R=P.collision,M=R.bodyA,L=R.bodyB,O=M.position,I=L.position,w=R.penetration,G=!M.isStatic&&!L.isStatic?4:1;L.isStatic&&(G=0),E.lineBetween(I.x,I.y,I.x-w.x*G,I.y-w.y*G),G=!M.isStatic&&!L.isStatic?4:1,M.isStatic&&(G=0),E.lineBetween(O.x,O.y,O.x-w.x*G,O.y-w.y*G)}}return this},renderCollisions:function(S,E,C){E.lineStyle(1,C,.5),E.fillStyle(C,1);var A,P;for(A=0;A<S.length;A++)if(P=S[A],!!P.isActive)for(var R=0;R<P.activeContacts.length;R++){var M=P.activeContacts[R],L=M.vertex;E.fillRect(L.x-2,L.y-2,5,5)}for(A=0;A<S.length;A++)if(P=S[A],!!P.isActive){var O=P.collision,I=P.activeContacts;if(I.length>0){var w=I[0].vertex.x,G=I[0].vertex.y;I.length===2&&(w=(I[0].vertex.x+I[1].vertex.x)/2,G=(I[0].vertex.y+I[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic?E.lineBetween(w-O.normal.x*8,G-O.normal.y*8,w,G):E.lineBetween(w+O.normal.x*8,G+O.normal.y*8,w,G)}}return this},renderBodyBounds:function(S,E,C,A){E.lineStyle(1,C,A);for(var P=0;P<S.length;P++){var R=S[P];if(!!R.render.visible){var M=R.bounds;if(M)E.strokeRect(M.min.x,M.min.y,M.max.x-M.min.x,M.max.y-M.min.y);else for(var L=R.parts,O=L.length>1?1:0;O<L.length;O++){var I=L[O];E.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(S,E,C,A,P){E.lineStyle(1,A,P);for(var R=0;R<S.length;R++){var M=S[R],L=M.parts;if(!!M.render.visible){var O,I,w;if(C)for(I=L.length>1?1:0;I<L.length;I++)for(O=L[I],w=0;w<O.axes.length;w++){var G=O.axes[w];E.lineBetween(O.position.x,O.position.y,O.position.x+G.x*20,O.position.y+G.y*20)}else for(I=L.length>1?1:0;I<L.length;I++)for(O=L[I],w=0;w<O.axes.length;w++)E.lineBetween(O.position.x,O.position.y,(O.vertices[0].x+O.vertices[O.vertices.length-1].x)/2,(O.vertices[0].y+O.vertices[O.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(S,E,C,A,P){E.lineStyle(P,C,A);for(var R=0;R<S.length;R++){var M=S[R];!M.render.visible||E.lineBetween(M.position.x,M.position.y,M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2)}return this},renderBodies:function(S){for(var E=this.debugGraphic,C=this.debugConfig,A=C.showBody,P=C.showStaticBody,R=C.showSleeping,M=C.showInternalEdges,L=C.showConvexHulls,O=C.renderFill,I=C.renderLine,w=C.staticBodySleepOpacity,G=C.sleepFillColor,V=C.sleepLineColor,X=C.hullColor,W=0;W<S.length;W++){var D=S[W];if(!!D.render.visible&&!(!P&&D.isStatic||!A&&!D.isStatic)){var F=D.render.lineColor,B=D.render.lineOpacity,b=D.render.lineThickness,z=D.render.fillColor,N=D.render.fillOpacity;R&&D.isSleeping&&(D.isStatic?(B*=w,N*=w):(F=V,z=G)),O||(z=null),I||(F=null),this.renderBody(D,E,M,F,B,b,z,N);var U=D.parts.length;L&&U>1&&this.renderConvexHull(D,E,X,b)}}},renderBody:function(S,E,C,A,P,R,M,L){A===void 0&&(A=null),P===void 0&&(P=null),R===void 0&&(R=1),M===void 0&&(M=null),L===void 0&&(L=null);for(var O=this.debugConfig,I=O.sensorFillColor,w=O.sensorLineColor,G=S.parts,V=G.length,X=V>1?1:0;X<V;X++){var W=G[X],D=W.render,F=D.opacity;if(!(!D.visible||F===0||W.isSensor&&!O.showSensors)){var B=W.circleRadius;if(E.beginPath(),W.isSensor?(M!==null&&E.fillStyle(I,L*F),A!==null&&E.lineStyle(R,w,P*F)):(M!==null&&E.fillStyle(M,L*F),A!==null&&E.lineStyle(R,A,P*F)),B)E.arc(W.position.x,W.position.y,B,0,2*Math.PI);else{var b=W.vertices,z=b.length;E.moveTo(b[0].x,b[0].y);for(var N=1;N<z;N++){var U=b[N];if(!b[N-1].isInternal||C?E.lineTo(U.x,U.y):E.moveTo(U.x,U.y),N<z&&U.isInternal&&!C){var Y=(N+1)%z;E.moveTo(b[Y].x,b[Y].y)}}E.closePath()}M!==null&&E.fillPath(),A!==null&&E.strokePath()}}if(O.showPositions&&!S.isStatic){var K=S.position.x,Z=S.position.y,j=Math.ceil(O.positionSize/2);E.fillStyle(O.positionColor,1),E.fillRect(K-j,Z-j,O.positionSize,O.positionSize)}return this},renderConvexHull:function(S,E,C,A){A===void 0&&(A=1);var P=S.parts,R=P.length;if(R>1){var M=S.vertices;E.lineStyle(A,C),E.beginPath(),E.moveTo(M[0].x,M[0].y);for(var L=1;L<M.length;L++)E.lineTo(M[L].x,M[L].y);E.lineTo(M[0].x,M[0].y),E.strokePath()}return this},renderJoints:function(){for(var S=this.debugGraphic,E=a.allConstraints(this.localWorld),C=0;C<E.length;C++){var A=E[C].render,P=A.lineColor,R=A.lineOpacity,M=A.lineThickness,L=A.pinSize,O=A.anchorColor,I=A.anchorSize;this.renderConstraint(E[C],S,P,R,M,L,O,I)}},renderConstraint:function(S,E,C,A,P,R,M,L){var O=S.render;if(!O.visible||!S.pointA||!S.pointB)return this;E.lineStyle(P,C,A);var I=S.bodyA,w=S.bodyB,G,V;if(I?G=y.add(I.position,S.pointA):G=S.pointA,O.type==="pin")E.strokeCircle(G.x,G.y,R);else{if(w?V=y.add(w.position,S.pointB):V=S.pointB,E.beginPath(),E.moveTo(G.x,G.y),O.type==="spring")for(var X=y.sub(V,G),W=y.perp(y.normalise(X)),D=Math.ceil(r.clamp(S.length/5,12,20)),F,B=1;B<D;B+=1)F=B%2===0?1:-1,E.lineTo(G.x+X.x*(B/D)+W.x*F*4,G.y+X.y*(B/D)+W.y*F*4);E.lineTo(V.x,V.y)}return E.strokePath(),O.anchors&&L>0&&(E.fillStyle(M),E.fillCircle(G.x,G.y,L),E.fillCircle(V.x,V.y,L)),this},resetCollisionIDs:function(){return l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,this},shutdown:function(){m.off(this.engine),this.removeAllListeners(),x.clear(this.localWorld,!1),o.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});i.exports=T},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={BasePlugin:t(540),DefaultPlugins:t(197),PluginCache:t(24),PluginManager:t(414),ScenePlugin:t(1404)}},function(i,d,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(540),l=t(0),s=t(20),r=new l({Extends:e,initialize:function(o,n,u){e.call(this,n),this.scene=o,this.systems=o.sys,this.pluginKey=u,o.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Canvas:t(1406),Events:t(91),Snapshot:t(1407),WebGL:t(1408)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={CanvasRenderer:t(368),GetBlendModes:t(370),SetTransform:t(30)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Canvas:t(369),WebGL:t(383)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(107),l=t(17),s={PipelineManager:t(372),Pipelines:t(1409),RenderTarget:t(141),Utils:t(12),WebGLPipeline:t(58),WebGLRenderer:t(371),WebGLShader:t(375)};s=l(!1,s,e),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(92),l=t(17),s={BitmapMaskPipeline:t(373),Events:t(374),GraphicsPipeline:t(376),LightPipeline:t(377),MultiPipeline:t(108),PointLightPipeline:t(378),PostFXPipeline:t(1410),RopePipeline:t(379),SinglePipeline:t(380),UtilityPipeline:t(381)};s=l(!1,s,e),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(198),s=t(2),r=t(1411),a=t(382),o=t(58),n=new e({Extends:o,initialize:function(h){h.renderTarget=s(h,"renderTarget",1),h.fragShader=s(h,"fragShader",r),h.vertShader=s(h,"vertShader",a),h.attributes=s(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),h.batchSize=1,h.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],o.call(this,h),this.isPostFX=!0,this.gameObject,this.colorMatrix=new l,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){o.prototype.boot.call(this);var u=this.manager.UTILITY_PIPELINE;this.fullFrame1=u.fullFrame1,this.fullFrame2=u.fullFrame2,this.halfFrame1=u.halfFrame1,this.halfFrame2=u.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(u){this.bindAndDraw(u)},copyFrame:function(u,h,f,v,m){this.manager.copyFrame(u,h,f,v,m)},copyToGame:function(u){this.manager.copyToGame(u)},drawFrame:function(u,h,f){this.manager.drawFrame(u,h,f,this.colorMatrix)},blendFrames:function(u,h,f,v,m){this.manager.blendFrames(u,h,f,v,m)},blendFramesAdditive:function(u,h,f,v,m){this.manager.blendFramesAdditive(u,h,f,v,m)},clearFrame:function(u,h){this.manager.clearFrame(u,h)},blitFrame:function(u,h,f,v,m,g){this.manager.blitFrame(u,h,f,v,m,g)},copyFrameRect:function(u,h,f,v,m,g,x,y){this.manager.copyFrameRect(u,h,f,v,m,g,x,y)},bindAndDraw:function(u,h,f,v,m){f===void 0&&(f=!0),v===void 0&&(v=!0);var g=this.gl,x=this.renderer;this.bind(m),this.set1i("uMainSampler",0),h?(g.viewport(0,0,h.width,h.height),g.bindFramebuffer(g.FRAMEBUFFER,h.framebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,h.texture,0),f&&(v?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT))):(x.popFramebuffer(!1,!1,!1),x.currentFramebuffer||g.viewport(0,0,x.width,x.height)),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,u.texture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),h?(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,null)):x.resetTextures()}});i.exports=n},function(i,d){i.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join(`
`)},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),l=t(201),s={Center:t(403),Events:t(104),Orientation:t(404),ScaleManager:t(415),ScaleModes:t(405),Zoom:t(406)};s=e(!1,s,l.CENTER),s=e(!1,s,l.ORIENTATION),s=e(!1,s,l.SCALE_MODE),s=e(!1,s,l.ZOOM),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),l=t(17),s={Events:t(20),GetPhysicsPlugins:t(419),GetScenePlugins:t(420),SceneManager:t(417),ScenePlugin:t(1414),Settings:t(421),Systems:t(204)};s=l(!1,s,e),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),l=t(0),s=t(20),r=t(2),a=t(24),o=new l({initialize:function(u){this.scene=u,this.systems=u.sys,this.settings=u.sys.settings,this.key=u.sys.settings.key,this.manager=u.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,u.sys.events.once(s.BOOT,this.boot,this),u.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(n,u){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,u),this},restart:function(n){var u=this.key;return this.manager.queueOp("stop",u),this.manager.queueOp("start",u,n),this},transition:function(n){n===void 0&&(n={});var u=r(n,"target",!1),h=this.manager.getScene(u);if(!u||!this.checkValidTransition(h))return!1;var f=r(n,"duration",1e3);this._elapsed=0,this._target=h,this._duration=f,this._willSleep=r(n,"sleep",!1),this._willRemove=r(n,"remove",!1);var v=r(n,"onUpdate",null);v&&(this._onUpdate=v,this._onUpdateScope=r(n,"onUpdateScope",this.scene));var m=r(n,"allowInput",!1);this.settings.transitionAllowInput=m;var g=h.sys.settings;return g.isTransition=!0,g.transitionFrom=this.scene,g.transitionDuration=f,g.transitionAllowInput=m,r(n,"moveAbove",!1)?this.manager.moveAbove(this.key,u):r(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,u),h.sys.isSleeping()?h.sys.wake(r(n,"data")):this.manager.start(u,r(n,"data")),this.systems.events.emit(s.TRANSITION_OUT,h,f),this.systems.events.on(s.UPDATE,this.step,this),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,u){this._elapsed+=u,this.transitionProgress=e(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,u=this._target.sys.settings;this.systems.events.off(s.UPDATE,this.step,this),n.events.emit(s.TRANSITION_COMPLETE,this.scene),u.isTransition=!1,u.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,u,h,f){return this.manager.add(n,u,h,f)},launch:function(n,u){return n&&n!==this.key&&this.manager.queueOp("start",n,u),this},run:function(n,u){return n&&n!==this.key&&this.manager.queueOp("run",n,u),this},pause:function(n,u){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,u),this},resume:function(n,u){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,u),this},sleep:function(n,u){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,u),this},wake:function(n,u){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,u),this},switch:function(n){return n!==this.key&&this.manager.queueOp("switch",this.key,n),this},stop:function(n,u){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,u),this},setActive:function(n,u,h){u===void 0&&(u=this.key);var f=this.manager.getScene(u);return f&&f.sys.setActive(n,h),this},setVisible:function(n,u){u===void 0&&(u=this.key);var h=this.manager.getScene(u);return h&&h.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,u){return u===void 0&&(u=this.key),n!==u&&this.manager.swapPosition(n,u),this},moveAbove:function(n,u){return u===void 0&&(u=this.key),n!==u&&this.manager.moveAbove(n,u),this},moveBelow:function(n,u){return u===void 0&&(u=this.key),n!==u&&this.manager.moveBelow(n,u),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(s.SHUTDOWN,this.shutdown,this),n.off(s.POST_UPDATE,this.step,this),n.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",o,"scenePlugin"),i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Events:t(438),List:t(110),Map:t(102),ProcessQueue:t(211),RTree:t(531),Set:t(149),Size:t(416)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),l=t(1417),s={CanvasTexture:t(423),Events:t(106),FilterMode:l,Frame:t(109),Parsers:t(425),Texture:t(206),TextureManager:t(422),TextureSource:t(424)};s=e(!1,s,l),i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LINEAR:0,NEAREST:1};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),l=t(1419),s={Components:t(251),Parsers:t(1452),Formats:t(40),ImageCollection:t(576),ParseToTilemap:t(262),Tile:t(85),Tilemap:t(580),TilemapCreator:t(1459),TilemapFactory:t(1460),Tileset:t(122),TilemapLayer:t(581),Orientation:t(29),LayerData:t(120),MapData:t(121),ObjectLayer:t(572)};s=e(!1,s,l.ORIENTATION),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ORIENTATION:t(29)};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=t(63),s=function(r,a,o,n,u,h,f,v){f===void 0&&(f=!0),r<0&&(r=0),a<0&&(a=0);for(var m=e(r,a,o,n,null,v),g=u-r,x=h-a,y=0;y<m.length;y++){var T=m[y].x+g,S=m[y].y+x;T>=0&&T<v.width&&S>=0&&S<v.height&&v.data[S][T]&&v.data[S][T].copy(m[y])}f&&l(u-1,h-1,o+2,n+2,v)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=t(542),s=function(r,a,o,n,u,h){o||(o={}),Array.isArray(r)||(r=[r]);var f=h.tilemapLayer;n||(n=f.scene),u||(u=n.cameras.main);var v=e(0,0,h.width,h.height,null,h),m=[],g;for(g=0;g<v.length;g++){var x=v[g];if(r.indexOf(x.index)!==-1){var y=f.tileToWorldXY(x.x,x.y,void 0,u,h);o.x=y.x,o.y=y.y,m.push(n.make.sprite(o))}}if(typeof a=="number")for(g=0;g<r.length;g++)l(r[g],a,0,0,h.width,h.height,h);else if(Array.isArray(a))for(g=0;g<r.length;g++)l(r[g],a[g],0,0,h.width,h.height,h);return m};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=t(63),s=t(72),r=function(a,o,n,u,h,f,v){for(var m=v.collideIndexes.indexOf(a)!==-1,g=e(o,n,u,h,null,v),x=0;x<g.length;x++)g[x].index=a,s(g[x],m);f&&l(o-1,n-1,u+2,h+2,v)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=function(s,r,a,o,n,u,h,f){var v=e(a,o,n,u,h,f);return v.filter(s,r)};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){l===void 0&&(l=0),s===void 0&&(s=!1);var a=0,o,n,u;if(s){for(n=r.height-1;n>=0;n--)for(o=r.width-1;o>=0;o--)if(u=r.data[n][o],u&&u.index===e){if(a===l)return u;a+=1}}else for(n=0;n<r.height;n++)for(o=0;o<r.width;o++)if(u=r.data[n][o],u&&u.index===e){if(a===l)return u;a+=1}return null};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=function(s,r,a,o,n,u,h,f){var v=e(a,o,n,u,h,f);return v.find(s,r)||null};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=function(s,r,a,o,n,u,h,f){var v=e(a,o,n,u,h,f);v.forEach(s,r)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),l=t(544),s=t(545),r=t(547),a=t(1),o=t(548),n=function(u){return u===e.ORTHOGONAL?l:u===e.HEXAGONAL?s:u===e.STAGGERED?o:u===e.ISOMETRIC?r:a};i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),l=t(3),s=new l,r=function(a,o,n,u,h){return h.tilemapLayer.worldToTileXY(a,o,!0,s,u),e(s.x,s.y,n,h)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(483),l=t(26),s=t(484),r=t(1),a=t(3),o=function(v,m){return s.RectangleToTriangle(m,v)},n=new a,u=new a,h=new a,f=function(v,m,g,x){if(v===void 0)return[];var y=r;v instanceof e.Circle?y=s.CircleToRectangle:v instanceof e.Rectangle?y=s.RectangleToRectangle:v instanceof e.Triangle?y=o:v instanceof e.Line&&(y=s.LineToRectangle),x.tilemapLayer.worldToTileXY(v.left,v.top,!0,u,g);var T=u.x,S=u.y;x.tilemapLayer.worldToTileXY(v.right,v.bottom,!0,h,g);var E=Math.ceil(h.x),C=Math.ceil(h.y),A=Math.max(E-T,1),P=Math.max(C-S,1),R=l(T,S,A,P,m,x),M=x.tileWidth,L=x.tileHeight;x.tilemapLayer&&(M*=x.tilemapLayer.scaleX,L*=x.tilemapLayer.scaleY);for(var O=[],I=new e.Rectangle(0,0,M,L),w=0;w<R.length;w++){var G=R[w];x.tilemapLayer.tileToWorldXY(G.x,G.y,n,g),I.x=n.x,I.y=n.y,y(v,I)&&O.push(G)}return O};i.exports=f},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),l=t(1),s=t(253),r=function(a){return a===e.ORTHOGONAL?s:l};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),l=t(550),s=t(551),r=t(1),a=t(552),o=t(553),n=function(u){return u===e.ORTHOGONAL?o:u===e.ISOMETRIC?s:u===e.HEXAGONAL?l:u===e.STAGGERED?a:r};i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),l=t(554),s=t(1),r=t(555),a=t(254),o=function(n){return n===e.ORTHOGONAL?a:n===e.HEXAGONAL?l:n===e.STAGGERED?r:s};i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),l=t(1),s=t(255),r=function(a){return a===e.ORTHOGONAL?s:l};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),l=t(556),s=t(557),r=t(1),a=t(558),o=t(559),n=function(u){return u===e.ORTHOGONAL?o:u===e.ISOMETRIC?s:u===e.HEXAGONAL?l:u===e.STAGGERED?a:r};i.exports=n},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),l=t(560),s=t(1),r=t(561),a=t(256),o=function(n){return n===e.ORTHOGONAL?a:n===e.HEXAGONAL?l:n===e.STAGGERED?r:s};i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(562),l=t(3),s=new l,r=function(a,o,n,u){u.tilemapLayer.worldToTileXY(a,o,!0,s,n);var h=s.x,f=s.y;return e(h,f,u)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(257),l=t(3),s=new l,r=function(a,o,n,u,h,f){return f.tilemapLayer.worldToTileXY(o,n,!0,s,h,f),e(a,s.x,s.y,u,f)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(63),l=t(257),s=function(r,a,o,n,u){if(n===void 0&&(n=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var h=r.length,f=r[0].length,v=0;v<h;v++)for(var m=0;m<f;m++){var g=r[v][m];l(g,a+m,o+v,!1,u)}n&&e(a-1,o-1,f+2,h+2,u)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=t(210),s=function(r,a,o,n,u,h){var f,v=e(r,a,o,n,{},h);if(!u)for(u=[],f=0;f<v.length;f++)u.indexOf(v[f].index)===-1&&u.push(v[f].index);for(f=0;f<v.length;f++)v[f].index=l(u)};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(563),l=t(3),s=new l,r=function(a,o,n,u,h,f){return f.tilemapLayer.worldToTileXY(a,o,!0,s,h,f),e(s.x,s.y,n,u,f)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=t(397),s=new l(105,210,231,150),r=new l(243,134,48,200),a=new l(40,39,37,150),o=function(n,u,h){u===void 0&&(u={});var f=u.tileColor!==void 0?u.tileColor:s,v=u.collidingTileColor!==void 0?u.collidingTileColor:r,m=u.faceColor!==void 0?u.faceColor:a,g=e(0,0,h.width,h.height,null,h);n.translateCanvas(h.tilemapLayer.x,h.tilemapLayer.y),n.scaleCanvas(h.tilemapLayer.scaleX,h.tilemapLayer.scaleY);for(var x=0;x<g.length;x++){var y=g[x],T=y.width,S=y.height,E=y.pixelX,C=y.pixelY,A=y.collides?v:f;A!==null&&(n.fillStyle(A.color,A.alpha/255),n.fillRect(E,C,T,S)),E+=1,C+=1,T-=2,S-=2,m!==null&&(n.lineStyle(1,m.color,m.alpha/255),y.faceTop&&n.lineBetween(E,C,E+T,C),y.faceRight&&n.lineBetween(E+T,C,E+T,C+S),y.faceBottom&&n.lineBetween(E,C+S,E+T,C+S),y.faceLeft&&n.lineBetween(E,C,E,C+S))}};i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),l=t(63),s=t(160),r=function(a,o,n,u,h){o===void 0&&(o=!0),n===void 0&&(n=!0),h===void 0&&(h=!0),Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++)s(a[f],o,u);if(h)for(var v=0;v<u.height;v++)for(var m=0;m<u.width;m++){var g=u.data[v][m];g&&a.indexOf(g.index)!==-1&&e(g,o)}n&&l(0,0,u.width,u.height,u)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),l=t(63),s=t(160),r=function(a,o,n,u,h,f){if(n===void 0&&(n=!0),u===void 0&&(u=!0),f===void 0&&(f=!0),!(a>o)){for(var v=a;v<=o;v++)s(v,n,h);if(f)for(var m=0;m<h.height;m++)for(var g=0;g<h.width;g++){var x=h.data[m][g];x&&x.index>=a&&x.index<=o&&e(x,n)}u&&l(0,0,h.width,h.height,h)}};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),l=t(63),s=t(160),r=function(a,o,n,u){o===void 0&&(o=!0),n===void 0&&(n=!0),Array.isArray(a)||(a=[a]);for(var h=0;h<u.height;h++)for(var f=0;f<u.width;f++){var v=u.data[h][f];v&&a.indexOf(v.index)===-1&&(e(v,o),s(v.index,o,u))}n&&l(0,0,u.width,u.height,u)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),l=t(63),s=t(126),r=function(a,o,n,u){o===void 0&&(o=!0),n===void 0&&(n=!0);for(var h=0;h<u.height;h++)for(var f=0;f<u.width;f++){var v=u.data[h][f];if(!!v){for(var m in a)if(!!s(v.properties,m)){var g=a[m];Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)v.properties[m]===g[x]&&e(v,o)}}}n&&l(0,0,u.width,u.height,u)};i.exports=r},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),l=t(63),s=function(r,a,o){r===void 0&&(r=!0),a===void 0&&(a=!0);for(var n=0;n<o.height;n++)for(var u=0;u<o.width;u++){var h=o.data[n][u];if(!!h){var f=h.getCollisionGroup();f&&f.objects&&f.objects.length>0&&e(h,r)}}a&&l(0,0,o.width,o.height,o)};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l,s,r){if(typeof e=="number")r.callbacks[e]=l!==null?{callback:l,callbackContext:s}:void 0;else for(var a=0,o=e.length;a<o;a++)r.callbacks[e[a]]=l!==null?{callback:l,callbackContext:s}:void 0};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=function(s,r,a,o,n,u,h){for(var f=e(s,r,a,o,null,h),v=0;v<f.length;v++)f[v].setCollisionCallback(n,u)};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=t(131),s=function(r,a,o,n,u){var h=e(r,a,o,n,null,u),f=h.map(function(m){return m.index});l(f);for(var v=0;v<h.length;v++)h[v].index=f[v]};i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=function(s,r,a,o,n,u,h){for(var f=e(a,o,n,u,null,h),v=0;v<f.length;v++)f[v]&&(f[v].index===s?f[v].index=r:f[v].index===r&&(f[v].index=s))};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),l=function(s,r,a,o,n,u){if(!!n){var h,f=e(s,r,a,o,null,u),v=0;for(h=0;h<n.length;h++)v+=n[h].weight;if(!(v<=0))for(h=0;h<f.length;h++){for(var m=Math.random()*v,g=0,x=-1,y=0;y<n.length;y++)if(g+=n[y].weight,m<=g){var T=n[y].index;x=Array.isArray(T)?T[Math.floor(Math.random()*T.length)]:T;break}f[h].index=x}}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={FromOrientationString:t(258),Parse:t(564),Parse2DArray:t(259),ParseCSV:t(565),Impact:t(1454),Tiled:t(1455)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){for(var s=0;s<e.length;s++){var r=e[s],a=s;if(r.name&&r.name!==""&&(a=r.name),Array.isArray(r.wangtiles)&&r.wangtiles.length>0){var o={},n={},u,h,f;if(Array.isArray(r.edgecolors))for(u=0;u<r.edgecolors.length;u++)f=1+u,h=r.edgecolors[u],h.name!==""&&(o[f]=h.name);if(Array.isArray(r.cornercolors))for(u=0;u<r.cornercolors.length;u++)f=1+u,h=r.cornercolors[u],h.name!==""&&(n[f]=h.name);if(Array.isArray(r.colors))for(u=0;u<r.colors.length;u++)h=r.colors[u],f=1+u,h.name!==""&&(o[f]=n[f]=h.name);for(var v=[o,n,o,n,o,n,o,n],m=0;m<r.wangtiles.length;m++){var g=r.wangtiles[m],x=l[g.tileid]||(l[g.tileid]={});x=x.wangid||(x.wangid={});for(var y=[],T=0;T<Math.min(v.length,g.wangid.length);T++){if(h=g.wangid[T],h===0){y.push(void 0);continue}var S=v[T][h];if(S!==void 0){y.push(S);continue}y.push(h)}x[a]=y}}}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ParseTileLayers:t(578),ParseTilesets:t(579),ParseWeltmeister:t(577)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={AssignTileProperties:t(567),Base64Decode:t(574),BuildTilesetIndex:t(568),CreateGroupLayer:t(161),ParseGID:t(261),ParseImageLayers:t(569),ParseJSONTiled:t(566),ParseObject:t(260),ParseObjectLayers:t(570),ParseTileLayers:t(573),ParseTilesets:t(575)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),l=t(1);e=t(1457),l=t(1458),i.exports={renderWebGL:e,renderCanvas:l}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),l=function(s,r,a){var o=r.cull(a),n=o.length,u=a.alpha*r.alpha;if(!(n===0||u<=0)){var h=r.gidMap,f=s.pipelines.set(r.pipeline,r),v=e.getTintAppendFloatAlpha,m=r.scrollFactorX,g=r.scrollFactorY,x=r.x,y=r.y,T=r.scaleX,S=r.scaleY;s.pipelines.preBatch(r);for(var E=0;E<n;E++){var C=o[E],A=h[C.index];if(!!A){var P=A.getTileTextureCoordinates(C.index);if(P!==null){var R=A.glTexture,M=f.setTexture2D(R,r),L=A.tileWidth,O=A.tileHeight,I=P.x,w=P.y,G=A.tileWidth*.5,V=A.tileHeight*.5,X=v(C.tint,u*C.alpha);f.batchTexture(r,R,R.width,R.height,x+(G+C.pixelX)*T,y+(V+C.pixelY)*S,C.width,C.height,T,S,C.rotation,C.flipX,C.flipY,m,g,G,V,I,w,L,O,X,X,X,X,!1,0,0,a,null,!0,M)}}}s.pipelines.postBatch(r)}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),l=new e,s=new e,r=new e,a=function(o,n,u,h){var f=n.cull(u),v=f.length,m=u.alpha*n.alpha;if(!(v===0||m<=0)){var g=l,x=s,y=r;x.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),g.copyFrom(u.matrix);var T=o.currentContext,S=n.gidMap;T.save(),h?(g.multiplyWithOffset(h,-u.scrollX*n.scrollFactorX,-u.scrollY*n.scrollFactorY),x.e=n.x,x.f=n.y,g.multiply(x,y),y.copyToContext(T)):(x.e-=u.scrollX*n.scrollFactorX,x.f-=u.scrollY*n.scrollFactorY,x.copyToContext(T)),(!o.antialias||n.scaleX>1||n.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var E=0;E<v;E++){var C=f[E],A=S[C.index];if(!!A){var P=A.image.getSourceImage(),R=A.getTileTextureCoordinates(C.index);if(R!==null){var M=A.tileWidth,L=A.tileHeight,O=M*.5,I=L*.5;T.save(),T.translate(C.pixelX+O,C.pixelY+I),C.rotation!==0&&T.rotate(C.rotation),(C.flipX||C.flipY)&&T.scale(C.flipX?-1:1,C.flipY?-1:1),T.globalAlpha=m*C.alpha,T.drawImage(P,R.x,R.y,M,L,-O,-I,M,L),T.restore()}}}T.restore()}};i.exports=a},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),l=t(262);e.register("tilemap",function(s){var r=s!==void 0?s:{};return l(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),l=t(262);e.register("tilemap",function(s,r,a,o,n,u,h){return s===null&&(s=void 0),r===null&&(r=void 0),a===null&&(a=void 0),o===null&&(o=void 0),n===null&&(n=void 0),l(this.scene,s,r,a,o,n,u,h)})},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Clock:t(1462),TimerEvent:t(582)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),l=t(24),s=t(20),r=t(582),a=t(93),o=new e({initialize:function(u){this.scene=u,this.systems=u.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],u.sys.events.once(s.BOOT,this.boot,this),u.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(s.PRE_UPDATE,this.preUpdate,this),n.on(s.UPDATE,this.update,this),n.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var u;return n instanceof r?(u=n,this.removeEvent(u),u.elapsed=u.startAt,u.hasDispatched=!1,u.repeatCount=u.repeat===-1||u.loop?999999999999:u.repeat):u=new r(n),this._pendingInsertion.push(u),u},delayedCall:function(n,u,h,f){return this.addEvent({delay:n,callback:u,args:h,callbackScope:f})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var u=0;u<n.length;u++){var h=n[u];a(this._pendingRemoval,h),a(this._pendingInsertion,h),a(this._active,h)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,u=this._pendingInsertion.length;if(!(n===0&&u===0)){var h,f;for(h=0;h<n;h++){f=this._pendingRemoval[h];var v=this._active.indexOf(f);v>-1&&this._active.splice(v,1),f.destroy()}for(h=0;h<u;h++)f=this._pendingInsertion[h],this._active.push(f);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,u){if(this.now=n,!this.paused){u*=this.timeScale;for(var h=0;h<this._active.length;h++){var f=this._active[h];if(!f.paused&&(f.elapsed+=u*f.timeScale,f.elapsed>=f.delay)){var v=f.elapsed-f.delay;f.elapsed=f.delay,!f.hasDispatched&&f.callback&&(f.hasDispatched=!0,f.callback.apply(f.callbackScope,f.args)),f.repeatCount>0?(f.repeatCount--,f.elapsed=v,f.hasDispatched=!1):this._pendingRemoval.push(f)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var u=this.systems.events;u.off(s.PRE_UPDATE,this.preUpdate,this),u.off(s.UPDATE,this.update,this),u.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});l.register("Clock",o,"time"),i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(100),l=t(17),s={Builders:t(1464),Events:t(267),TweenManager:t(1480),Tween:t(266),TweenData:t(268),Timeline:t(588)};s=l(!1,s,e),i.exports=s},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={GetBoolean:t(99),GetEaseFunction:t(80),GetNewValue:t(162),GetProps:t(583),GetTargets:t(263),GetTweens:t(584),GetValueOp:t(264),NumberTweenBuilder:t(585),StaggerBuilder:t(586),TimelineBuilder:t(587),TweenBuilder:t(163)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="complete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="loop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pause"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resume"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="start"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="update"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="active"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="complete"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="loop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="repeat"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="start"},function(i,d){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="stop"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="update"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="yoyo"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),l=t(0),s=t(585),r=t(24),a=t(20),o=t(586),n=t(587),u=t(100),h=t(163),f=new l({initialize:function(m){this.scene=m,this.systems=m.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,m.sys.events.once(a.BOOT,this.boot,this),m.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var v=this.systems.events;v.on(a.PRE_UPDATE,this.preUpdate,this),v.on(a.UPDATE,this.update,this),v.once(a.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(v){return n(this,v)},timeline:function(v){var m=n(this,v);return m.paused||(this._add.push(m),this._toProcess++),m},create:function(v){return h(this,v)},add:function(v){var m=h(this,v);return this._add.push(m),this._toProcess++,m},existing:function(v){return this._add.push(v),this._toProcess++,this},addCounter:function(v){var m=s(this,v);return this._add.push(m),this._toProcess++,m},stagger:function(v,m){return o(v,m)},preUpdate:function(){if(this._toProcess!==0){var v=this._destroy,m=this._active,g=this._pending,x,y;for(x=0;x<v.length;x++){y=v[x];var T=m.indexOf(y);T===-1?(T=g.indexOf(y),T>-1&&(y.state=u.REMOVED,g.splice(T,1))):(y.state=u.REMOVED,m.splice(T,1))}for(v.length=0,v=this._add,x=0;x<v.length;x++)y=v[x],y.state===u.PENDING_ADD&&(y.init()?(y.play(),this._active.push(y)):this._pending.push(y));v.length=0,this._toProcess=0}},update:function(v,m){var g=this._active,x;m*=this.timeScale;for(var y=0;y<g.length;y++)x=g[y],x.update(v,m)&&(this._destroy.push(x),this._toProcess++)},remove:function(v){return e(this._add,v),e(this._pending,v),e(this._active,v),e(this._destroy,v),v.state=u.REMOVED,this},makeActive:function(v){if(this._add.indexOf(v)!==-1||this._active.indexOf(v)!==-1)return this;var m=this._pending.indexOf(v);return m!==-1&&this._pending.splice(m,1),this._add.push(v),v.state=u.PENDING_ADD,this._toProcess++,this},each:function(v,m){for(var g=[null],x=1;x<arguments.length;x++)g.push(arguments[x]);for(var y in this.list)g[0]=this.list[y],v.apply(m,g)},getAllTweens:function(){for(var v=this._active,m=[],g=0;g<v.length;g++)m.push(v[g]);return m},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(v,m){m===void 0&&(m=!1);var g=this._active,x,y=[],T,S;for(Array.isArray(v)||(v=[v]),T=0;T<g.length;T++)for(x=g[T],S=0;S<v.length;S++)x.hasTarget(v[S])&&y.push(x);if(m)for(g=this._pending,T=0;T<g.length;T++)for(x=g[T],S=0;S<v.length;S++)x.hasTarget(v[S])&&y.push(x);return y},isTweening:function(v){for(var m=this._active,g,x=0;x<m.length;x++)if(g=m[x],g.hasTarget(v)&&g.isPlaying())return!0;return!1},killAll:function(){for(var v=this.getAllTweens(),m=0;m<v.length;m++)v[m].stop();return this},killTweensOf:function(v){for(var m=this.getTweensOf(v),g=0;g<m.length;g++)m[g].stop();return this},pauseAll:function(){for(var v=this._active,m=0;m<v.length;m++)v[m].pause();return this},resumeAll:function(){for(var v=this._active,m=0;m<v.length;m++)v[m].resume();return this},setGlobalTimeScale:function(v){return this.timeScale=v,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var v=this.systems.events;v.off(a.PRE_UPDATE,this.preUpdate,this),v.off(a.UPDATE,this.update,this),v.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});r.register("TweenManager",f,"tweens"),i.exports=f},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Array:t(208),Base64:t(1482),Objects:t(1484),String:t(1488),NOOP:t(1)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={ArrayBufferToBase64:t(1483),Base64ToArrayBuffer:t(433)}},function(i,d){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(l,s){for(var r=new Uint8Array(l),a=r.length,o=s?"data:"+s+";base64,":"",n=0;n<a;n+=3)o+=t[r[n]>>2],o+=t[(r[n]&3)<<4|r[n+1]>>4],o+=t[(r[n+1]&15)<<2|r[n+2]>>6],o+=t[r[n+2]&63];return a%3===2?o=o.substring(0,o.length-1)+"=":a%3===1&&(o=o.substring(0,o.length-2)+"=="),o};i.exports=e},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Clone:t(77),DeepCopy:t(175),Extend:t(17),GetAdvancedValue:t(13),GetFastValue:t(2),GetMinMaxValue:t(1485),GetValue:t(6),HasAll:t(1486),HasAny:t(455),HasValue:t(126),IsPlainObject:t(7),Merge:t(127),MergeRight:t(1487),Pick:t(571),SetValue:t(478)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),l=t(18),s=function(r,a,o,n,u){u===void 0&&(u=o);var h=e(r,a,u);return l(h,o,n)};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){for(var s=0;s<l.length;s++)if(!e.hasOwnProperty(l[s]))return!1;return!0};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),l=function(s,r){var a=e(s);for(var o in r)a.hasOwnProperty(o)&&(a[o]=r[o]);return a};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Format:t(1489),Pad:t(186),RemoveAt:t(1490),Reverse:t(1491),UppercaseFirst:t(205),UUID:t(222)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return e.replace(/%([0-9]+)/g,function(s,r){return l[Number(r)-1]})};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,l){return l===0?e.slice(1):e.slice(0,l-1)+e.slice(l)};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.split("").reverse().join("")};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={SoundManagerCreator:t(426),Events:t(70),BaseSound:t(146),BaseSoundManager:t(145),WebAudioSound:t(434),WebAudioSoundManager:t(432),HTML5AudioSound:t(429),HTML5AudioSoundManager:t(427),NoAudioSound:t(431),NoAudioSoundManager:t(430)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={Arcade:t(1366),Matter:t(1494)}},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports={BodyBounds:t(1392),Components:t(249),Events:t(272),Factory:t(1394),MatterGameObject:t(1395),Image:t(1396),Matter:t(594),MatterPhysics:t(1524),PolyDecomp:t(1393),Sprite:t(1397),TileBody:t(593),PhysicsEditorParser:t(589),PhysicsJSONParser:t(590),PointerConstraint:t(1398),World:t(1402)}},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e){return this.body.restitution=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var l=0;if(!Array.isArray(e))l=e;else for(var s=0;s<e.length;s++)l|=e[s];return this.body.collisionFilter.mask=l,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,l){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var r=e[s].hasOwnProperty("body")?e[s].body:e[s];this.body.setOnCollideWith(r,l)}return this}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),l={applyForce:function(s){return this._tempVec2.set(this.body.position.x,this.body.position.y),e.applyForce(this.body,this._tempVec2,s),this},applyForceFrom:function(s,r){return e.applyForce(this.body,s,r),this},thrust:function(s){var r=this.body.angle;return this._tempVec2.set(s*Math.cos(r),s*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(s){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(s*Math.cos(r),s*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(s){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(s*Math.cos(r),s*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(s){var r=this.body.angle-Math.PI;return this._tempVec2.set(s*Math.cos(r),s*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};i.exports=l},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,l,s){return this.body.friction=e,l!==void 0&&(this.body.frictionAir=l),s!==void 0&&(this.body.frictionStatic=s),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};i.exports=t},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),l=t(3),s={setMass:function(r){return e.setMass(this.body,r),this},setDensity:function(r){return e.setDensity(this.body,r),this},centerOfMass:{get:function(){return new l(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};i.exports=s},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};i.exports=t},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),l=t(41),s=t(124),r=t(2),a=t(589),o=t(590),n=t(64),u={setRectangle:function(h,f,v){return this.setBody({type:"rectangle",width:h,height:f},v)},setCircle:function(h,f){return this.setBody({type:"circle",radius:h},f)},setPolygon:function(h,f,v){return this.setBody({type:"polygon",sides:f,radius:h},v)},setTrapezoid:function(h,f,v,m){return this.setBody({type:"trapezoid",width:h,height:f,slope:v},m)},setExistingBody:function(h,f){f===void 0&&(f=!0),this.body&&this.world.remove(this.body,!0),this.body=h;for(var v=0;v<h.parts.length;v++)h.parts[v].gameObject=this;var m=this;if(h.destroy=function(){m.world.remove(m.body,!0),m.body.gameObject=null},f&&(this.world.has(h)&&this.world.remove(h,!0),this.world.add(h)),this._originComponent){var g=h.render.sprite.xOffset,x=h.render.sprite.yOffset,y=h.centerOfMass.x,T=h.centerOfMass.y;if(s(y,.5)&&s(T,.5))this.setOrigin(g+.5,x+.5);else{var S=h.centerOffset.x,E=h.centerOffset.y;this.setOrigin(g+S/this.displayWidth,x+E/this.displayHeight)}}return this},setBody:function(h,f){if(!h)return this;var v;typeof h=="string"&&(h={type:h});var m=r(h,"type","rectangle"),g=r(h,"x",this._tempVec2.x),x=r(h,"y",this._tempVec2.y),y=r(h,"width",this.width),T=r(h,"height",this.height);switch(m){case"rectangle":v=e.rectangle(g,x,y,T,f);break;case"circle":var S=r(h,"radius",Math.max(y,T)/2),E=r(h,"maxSides",25);v=e.circle(g,x,S,f,E);break;case"trapezoid":var C=r(h,"slope",.5);v=e.trapezoid(g,x,y,T,C,f);break;case"polygon":var A=r(h,"sides",5),P=r(h,"radius",Math.max(y,T)/2);v=e.polygon(g,x,A,P,f);break;case"fromVertices":case"fromVerts":var R=r(h,"verts",null);if(R)if(typeof R=="string"&&(R=n.fromPath(R)),this.body&&!this.body.hasOwnProperty("temp"))l.setVertices(this.body,R),v=this.body;else{var M=r(h,"flagInternal",!1),L=r(h,"removeCollinear",.01),O=r(h,"minimumArea",10);v=e.fromVertices(g,x,R,f,M,L,O)}break;case"fromPhysicsEditor":v=a.parseBody(g,x,h,f);break;case"fromPhysicsTracer":v=o.parseBody(g,x,h,f);break}return v&&this.setExistingBody(v,h.addToWorld),this}};i.exports=u},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(272),l=t(165),s=t(166),r={setToSleep:function(){return l.set(this.body,!0),this},setAwake:function(){return l.set(this.body,!1),this},setSleepThreshold:function(a){return a===void 0&&(a=60),this.body.sleepThreshold=a,this},setSleepEvents:function(a,o){return this.setSleepStartEvent(a),this.setSleepEndEvent(o),this},setSleepStartEvent:function(a){if(a){var o=this.world;s.on(this.body,"sleepStart",function(n){o.emit(e.SLEEP_START,n,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(a){if(a){var o=this.world;s.on(this.body,"sleepEnd",function(n){o.emit(e.SLEEP_END,n,this)})}else s.off(this.body,"sleepEnd");return this}};i.exports=r},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="afteradd"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="afterremove"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="afterupdate"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="beforeadd"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="beforeremove"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="beforeupdate"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="collisionactive"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="collisionend"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="collisionstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragend"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="drag"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="dragstart"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="pause"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="resume"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="sleepend"},function(i,d){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i.exports="sleepstart"},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),l={setStatic:function(s){return e.setStatic(this.body,s),this},isStatic:function(){return this.body.isStatic}};i.exports=l},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),l=t(14),s=t(269),r=t(270),a=4,o={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),e.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),e.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(n){var u=1/this._scaleX,h=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~a:this.renderFlags|=a,e.scale(this.body,u,h),e.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var u=1/this._scaleX,h=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~a:this.renderFlags|=a,e.scale(this.body,u,h),e.scale(this.body,this._scaleX,n)}},angle:{get:function(){return r(this.body.angle*l.RAD_TO_DEG)},set:function(n){this.rotation=r(n)*l.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=s(n),e.setAngle(this.body,this._rotation)}},setPosition:function(n,u){return n===void 0&&(n=0),u===void 0&&(u=n),this._tempVec2.set(n,u),e.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=s(n),e.setAngle(this.body,n),this},setFixedRotation:function(){return e.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,e.setAngle(this.body,this.rotation),this},setScale:function(n,u,h){n===void 0&&(n=1),u===void 0&&(u=n);var f=1/this._scaleX,v=1/this._scaleY;return this._scaleX=n,this._scaleY=u,e.scale(this.body,f,v,h),e.scale(this.body,n,u,h),this}};i.exports=o},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),l={setAngularVelocity:function(s){return e.setAngularVelocity(this.body,s),this},setVelocityX:function(s){return this._tempVec2.set(s,this.body.velocity.y),e.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(s){return this._tempVec2.set(this.body.velocity.x,s),e.setVelocity(this.body,this._tempVec2),this},setVelocity:function(s,r){return this._tempVec2.set(s,r),e.setVelocity(this.body,this._tempVec2),this}};i.exports=l},function(i,d,t){var e={};i.exports=e;var l=t(118),s=t(32);(function(){e.create=function(r){var a={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return s.extend(a,!1,r)},e.reset=function(r){r.extended&&(r.narrowDetections=0,r.narrowphaseTests=0,r.narrowReuse=0,r.narrowReuseCount=0,r.midphaseTests=0,r.broadphaseTests=0,r.narrowEff=0,r.midEff=0,r.broadEff=0,r.collisions=0,r.buckets=0,r.pairs=0,r.bodies=0)},e.update=function(r,a){if(r.extended){var o=a.world,n=l.allBodies(o);r.collisions=r.narrowDetections,r.pairs=a.pairs.list.length,r.bodies=n.length,r.midEff=(r.narrowDetections/(r.midphaseTests||1)).toFixed(2),r.narrowEff=(r.narrowDetections/(r.narrowphaseTests||1)).toFixed(2),r.broadEff=(1-r.broadphaseTests/(n.length||1)).toFixed(2),r.narrowReuse=(r.narrowReuseCount/(r.narrowphaseTests||1)).toFixed(2)}}})()},function(i,d,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),l=t(271),s=t(86),r=t(41),a=t(1392),o=t(84),n=t(0),u=t(118),h=t(591),f=t(128),v=t(273),m=t(50),g=t(1394),x=t(2),y=t(6),T=t(597),S=t(1525),E=t(1526),C=t(1399),A=t(1527),P=t(127),R=t(250),M=t(598),L=t(595),O=t(24),I=t(1400),w=t(599),G=t(274),V=t(20),X=t(592),W=t(83),D=t(64),F=t(1402),B=new n({initialize:function(z){this.scene=z,this.systems=z.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=u,this.detector=v,this.grid=T,this.pair=R,this.pairs=M,this.query=I,this.resolver=w,this.sat=G,this.constraint=f,this.bodies=s,this.composites=h,this.axes=l,this.bounds=o,this.svg=X,this.vector=W,this.vertices=D,this.verts=D,this._tempVec2=W.create(),y(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),y(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),y(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),w._restingThresh=y(this.config,"restingThresh",4),w._restingThreshTangent=y(this.config,"restingThreshTangent",6),w._positionDampen=y(this.config,"positionDampen",.9),w._positionWarming=y(this.config,"positionWarming",.8),w._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),z.sys.events.once(V.BOOT,this.boot,this),z.sys.events.on(V.START,this.start,this)},boot:function(){this.world=new F(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new a,this.systems.events.once(V.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new F(this.scene,this.config),this.add=new g(this.world));var b=this.systems.events;b.on(V.UPDATE,this.world.update,this.world),b.on(V.POST_UPDATE,this.world.postUpdate,this.world),b.once(V.SHUTDOWN,this.shutdown,this)},getConfig:function(){var b=this.systems.game.config.physics,z=this.systems.settings.physics,N=P(x(z,"matter",{}),x(b,"matter",{}));return N},enableAttractorPlugin:function(){return L.register(S),L.use(C,S),this},enableWrapPlugin:function(){return L.register(A),L.use(C,A),this},enableCollisionEventsPlugin:function(){return L.register(E),L.use(C,E),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(b,z){this.world.step(b,z)},containsPoint:function(b,z,N){b=this.getMatterBodies(b);var U=W.create(z,N),Y=I.point(b,U);return Y.length>0},intersectPoint:function(b,z,N){N=this.getMatterBodies(N);var U=W.create(b,z),Y=[],K=I.point(N,U);return K.forEach(function(Z){Y.indexOf(Z)===-1&&Y.push(Z)}),Y},intersectRect:function(b,z,N,U,Y,K){Y===void 0&&(Y=!1),K=this.getMatterBodies(K);var Z={min:{x:b,y:z},max:{x:b+N,y:z+U}},j=[],q=I.region(K,Z,Y);return q.forEach(function(k){j.indexOf(k)===-1&&j.push(k)}),j},intersectRay:function(b,z,N,U,Y,K){Y===void 0&&(Y=1),K=this.getMatterBodies(K);for(var Z=[],j=I.ray(K,W.create(b,z),W.create(N,U),Y),q=0;q<j.length;q++)Z.push(j[q].body);return Z},intersectBody:function(b,z){z=this.getMatterBodies(z);for(var N=[],U=I.collides(b,z),Y=0;Y<U.length;Y++){var K=U[Y];K.bodyA===b?N.push(K.bodyB):N.push(K.bodyA)}return N},overlap:function(b,z,N,U,Y){N===void 0&&(N=null),U===void 0&&(U=null),Y===void 0&&(Y=N),Array.isArray(b)||(b=[b]),b=this.getMatterBodies(b),z=this.getMatterBodies(z);for(var K=!1,Z=0;Z<b.length;Z++)for(var j=b[Z],q=I.collides(j,z),k=0;k<q.length;k++){var H=q[k],$=H.bodyA.id===j.id?H.bodyB:H.bodyA;if(!U||U.call(Y,j,$,H)){if(K=!0,N)N.call(Y,j,$,H);else if(!U)return!0}}return K},setCollisionCategory:function(b,z){return b=this.getMatterBodies(b),b.forEach(function(N){N.collisionFilter.category=z}),this},setCollisionGroup:function(b,z){return b=this.getMatterBodies(b),b.forEach(function(N){N.collisionFilter.group=z}),this},setCollidesWith:function(b,z){b=this.getMatterBodies(b);var N=0;if(!Array.isArray(z))N=z;else for(var U=0;U<z.length;U++)N|=z[U];return b.forEach(function(Y){Y.collisionFilter.mask=N}),this},getMatterBodies:function(b){if(!b)return this.world.getAllBodies();Array.isArray(b)||(b=[b]);for(var z=[],N=0;N<b.length;N++){var U=b[N].hasOwnProperty("body")?b[N].body:b[N];z.push(U)}return z},setVelocity:function(b,z,N){b=this.getMatterBodies(b);var U=this._tempVec2;return U.x=z,U.y=N,b.forEach(function(Y){r.setVelocity(Y,U)}),this},setVelocityX:function(b,z){b=this.getMatterBodies(b);var N=this._tempVec2;return N.x=z,b.forEach(function(U){N.y=U.velocity.y,r.setVelocity(U,N)}),this},setVelocityY:function(b,z){b=this.getMatterBodies(b);var N=this._tempVec2;return N.y=z,b.forEach(function(U){N.x=U.velocity.x,r.setVelocity(U,N)}),this},setAngularVelocity:function(b,z){return b=this.getMatterBodies(b),b.forEach(function(N){r.setAngularVelocity(N,z)}),this},applyForce:function(b,z){b=this.getMatterBodies(b);var N=this._tempVec2;return b.forEach(function(U){N.x=U.position.x,N.y=U.position.y,r.applyForce(U,N,z)}),this},applyForceFromPosition:function(b,z,N,U){b=this.getMatterBodies(b);var Y=this._tempVec2;return b.forEach(function(K){U===void 0&&(U=K.angle),Y.x=N*Math.cos(U),Y.y=N*Math.sin(U),r.applyForce(K,z,Y)}),this},applyForceFromAngle:function(b,z,N){b=this.getMatterBodies(b);var U=this._tempVec2;return b.forEach(function(Y){N===void 0&&(N=Y.angle),U.x=z*Math.cos(N),U.y=z*Math.sin(N),r.applyForce(Y,{x:Y.position.x,y:Y.position.y},U)}),this},getConstraintLength:function(b){var z=b.pointA.x,N=b.pointA.y,U=b.pointB.x,Y=b.pointB.y;return b.bodyA&&(z+=b.bodyA.position.x,N+=b.bodyA.position.y),b.bodyB&&(U+=b.bodyB.position.x,Y+=b.bodyB.position.y),m(z,N,U,Y)},alignBody:function(b,z,N,U){b=b.hasOwnProperty("body")?b.body:b;var Y;switch(U){case e.TOP_LEFT:case e.LEFT_TOP:Y=this.bodyBounds.getTopLeft(b,z,N);break;case e.TOP_CENTER:Y=this.bodyBounds.getTopCenter(b,z,N);break;case e.TOP_RIGHT:case e.RIGHT_TOP:Y=this.bodyBounds.getTopRight(b,z,N);break;case e.LEFT_CENTER:Y=this.bodyBounds.getLeftCenter(b,z,N);break;case e.CENTER:Y=this.bodyBounds.getCenter(b,z,N);break;case e.RIGHT_CENTER:Y=this.bodyBounds.getRightCenter(b,z,N);break;case e.LEFT_BOTTOM:case e.BOTTOM_LEFT:Y=this.bodyBounds.getBottomLeft(b,z,N);break;case e.BOTTOM_CENTER:Y=this.bodyBounds.getBottomCenter(b,z,N);break;case e.BOTTOM_RIGHT:case e.RIGHT_BOTTOM:Y=this.bodyBounds.getBottomRight(b,z,N);break}return Y&&r.setPosition(b,Y),this},shutdown:function(){var b=this.systems.events;this.world&&(b.off(V.UPDATE,this.world.update,this.world),b.off(V.POST_UPDATE,this.world.postUpdate,this.world)),b.off(V.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(V.START,this.start,this),this.scene=null,this.systems=null}});O.register("MatterPhysics",B,"matterPhysics"),i.exports=B},function(i,d,t){var e=t(594),l={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(s){s.after("Body.create",function(){l.Body.init(this)}),s.before("Engine.update",function(r){l.Engine.update(r)})},Body:{init:function(s){s.plugin.attractors=s.plugin.attractors||[]}},Engine:{update:function(s){for(var r=e.Composite.allBodies(s.world),a=0;a<r.length;a++){var o=r[a],n=o.plugin.attractors;if(n&&n.length>0)for(var u=0;u<r.length;u++){var h=r[u];if(a!==u)for(var f=0;f<n.length;f++){var v=n[f],m=v;e.Common.isFunction(v)&&(m=v(o,h)),m&&e.Body.applyForce(h,h.position,m)}}}}},Attractors:{gravityConstant:.001,gravity:function(s,r){var a=e.Vector.sub(r.position,s.position),o=e.Vector.magnitudeSquared(a)||1e-4,n=e.Vector.normalise(a),u=-l.Attractors.gravityConstant*(s.mass*r.mass/o),h=e.Vector.mult(n,u);e.Body.applyForce(s,s.position,e.Vector.neg(h)),e.Body.applyForce(r,r.position,h)}}};i.exports=l},function(i,d){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(l){l.pairs.map(function(s){var r=s.bodyA,a=s.bodyB;r.gameObject&&r.gameObject.emit("collide",r,a,s),a.gameObject&&a.gameObject.emit("collide",a,r,s),e.Events.trigger(r,"onCollide",{pair:s}),e.Events.trigger(a,"onCollide",{pair:s}),r.onCollideCallback&&r.onCollideCallback(s),a.onCollideCallback&&a.onCollideCallback(s),r.onCollideWith[a.id]&&r.onCollideWith[a.id](a,s),a.onCollideWith[r.id]&&a.onCollideWith[r.id](r,s)})}),e.Events.on(this,"collisionActive",function(l){l.pairs.map(function(s){var r=s.bodyA,a=s.bodyB;r.gameObject&&r.gameObject.emit("collideActive",r,a,s),a.gameObject&&a.gameObject.emit("collideActive",a,r,s),e.Events.trigger(r,"onCollideActive",{pair:s}),e.Events.trigger(a,"onCollideActive",{pair:s}),r.onCollideActiveCallback&&r.onCollideActiveCallback(s),a.onCollideActiveCallback&&a.onCollideActiveCallback(s)})}),e.Events.on(this,"collisionEnd",function(l){l.pairs.map(function(s){var r=s.bodyA,a=s.bodyB;r.gameObject&&r.gameObject.emit("collideEnd",r,a,s),a.gameObject&&a.gameObject.emit("collideEnd",a,r,s),e.Events.trigger(r,"onCollideEnd",{pair:s}),e.Events.trigger(a,"onCollideEnd",{pair:s}),r.onCollideEndCallback&&r.onCollideEndCallback(s),a.onCollideEndCallback&&a.onCollideEndCallback(s)})})})}};i.exports=t},function(i,d,t){var e=t(594),l={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(s){s.after("Engine.update",function(){l.Engine.update(this)})},Engine:{update:function(s){for(var r=s.world,a=e.Composite.allBodies(r),o=e.Composite.allComposites(r),n=0;n<a.length;n+=1){var u=a[n];u.plugin.wrap&&l.Body.wrap(u,u.plugin.wrap)}for(n=0;n<o.length;n+=1){var h=o[n];h.plugin.wrap&&l.Composite.wrap(h,h.plugin.wrap)}}},Bounds:{wrap:function(s,r){var a=null,o=null;if(typeof r.min.x!="undefined"&&typeof r.max.x!="undefined"&&(s.min.x>r.max.x?a=r.min.x-s.max.x:s.max.x<r.min.x&&(a=r.max.x-s.min.x)),typeof r.min.y!="undefined"&&typeof r.max.y!="undefined"&&(s.min.y>r.max.y?o=r.min.y-s.max.y:s.max.y<r.min.y&&(o=r.max.y-s.min.y)),a!==null||o!==null)return{x:a||0,y:o||0}}},Body:{wrap:function(s,r){var a=l.Bounds.wrap(s.bounds,r);return a&&e.Body.translate(s,a),a}},Composite:{bounds:function(s){for(var r=e.Composite.allBodies(s),a=[],o=0;o<r.length;o+=1){var n=r[o];a.push(n.bounds.min,n.bounds.max)}return e.Bounds.create(a)},wrap:function(s,r){var a=l.Bounds.wrap(l.Composite.bounds(s),r);return a&&e.Composite.translate(s,a),a}}};i.exports=l},function(i,d,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var l=t(33),s=t(17),r={Actions:t(275),Animations:t(723),BlendModes:t(35),Cache:t(735),Cameras:t(738),Core:t(806),Class:t(0),Create:t(888),Curves:t(894),Data:t(896),Display:t(898),DOM:t(917),Events:t(918),Game:t(920),GameObjects:t(1011),Geom:t(483),Input:t(1308),Loader:t(1338),Math:t(193),Physics:t(1493),Plugins:t(1403),Renderer:t(1405),Scale:t(1412),ScaleModes:t(168),Scene:t(418),Scenes:t(1413),Structs:t(1415),Textures:t(1416),Tilemaps:t(1418),Time:t(1461),Tweens:t(1463),Utils:t(1481)};r.Sound=t(1492),r=s(!1,r,l),i.exports=r,e.Phaser=r}).call(this,t(600))}])})})(Vd);var _s=bx(Vd.exports),v2=xs("/__NUXT_BASE__/CL_Buildings.16eff6a9.png".replace("/__NUXT_BASE__","")),p2=xs("/__NUXT_BASE__/CL_MainLev.38f125ba.png".replace("/__NUXT_BASE__","")),g2=xs("/__NUXT_BASE__/Harbor.17cfcaaa.png".replace("/__NUXT_BASE__",""));const m2="#696a79",x2=0,y2=27,T2=!1,S2=[{data:[3783,3782,3847,3782,3782,3783,3847,3783,3847,3847,3847,3783,3782,3782,3847,3846,3783,3783,3783,3847,3782,3847,3847,3847,3847,3847,3782,3847,3782,3782,3846,3846,3846,3783,3847,3846,3783,3846,3782,3782,3847,3847,3847,3782,3783,3783,3846,3783,3783,3847,3847,3847,3783,3783,3782,3847,3847,3847,3846,3847,3783,3783,3847,3847,3847,3847,3783,3783,3783,3782,3846,3846,3846,3846,3847,3846,3782,3782,3782,3783,3846,3783,3847,3782,3782,3783,3846,3846,3846,3782,3847,3783,3783,3783,3847,3847,3783,3847,3783,3847,3782,3846,3847,3783,3846,3782,3783,3846,3782,3847,3846,3847,3783,3783,3783,3782,3783,3846,3782,3782,3783,3782,3782,3847,3782,3782,3846,3782,3846,3783,3847,3846,3847,3782,3782,3782,3846,3783,3783,3783,3847,3782,3782,3782,3783,3847,3847,3782,3847,3782,3782,3846,3783,3847,3782,3847,3846,3846,3847,3846,3782,3846,3782,3847,3847,3846,3782,3782,3846,3783,3783,3846,3846,3846,3782,3782,3783,3782,3846,3782,3847,3846,3846,3846,3783,3783,3846,3783,3782,3846,3783,3782,3783,3783,3846,3846,3782,3847,3782,3846,3847,3782,3847,3846,3782,3783,3783,3847,3847,3783,3783,3783,3783,3846,3782,3783,3847,3782,3847,3782,3846,3782,3846,3783,3783,3782,3783,3846,3782,3846,3846,3782,3846,3783,3847,3847,3782,3847,3782,3782,3782,3783,3783,3847,3782,3782,3782,3846,3847,3783,3847,3846,3783,3847,3846,3782,3847,3782,3783,3847,3782,3783,3782,3846,3846,3783,3846,3783,3847,3846,3783,3783,3846,3847,3847,3847,3783,3782,3783,3783,3783,3783,3782,3783,3783,3782,3783,3846,3846,3783,3783,3782,3846,3783,3846,3783,3783,3783,3847,3846,3847,3783,3783,3846,3782,3846,3847,3783,3847,3783,3783,3847,3783,3783,3783,3782,3782,3782,3846,3782,3846,3846,3782,3782,3783,3782,3782,3847,3846,3846,3847,3846,3783,3846,3782,3847,3782,3782,3782,3847,3783,3847,3783,3847,3847,3846,3782,3782,3783,3782,3847,3846,3783,3846,3846,3782,3782,3782,3783,3782,3846,3783,3847,3782,3846,3846,3782,3782,3783,3782,3846,3847,3783,3847,3783,3782,3783,3847,3783,3847,3782,3783,3782,3846,3782,3783,3847,3846,3847,3846,3847,3783,3847,3783,3783,3782,3782,3782,3782,3782,3846,3782,3782,3847,3847,3782,3846,3846,3847,3847,3847,3782,3783,3783,3783,3783,3783,3783,3782,3847,3846,3782,3847,3783,3846,3846,3847,3847,3782,3782,3782,3783,3783,3782,3783,3782,3782,3847,3782,3783,3847,3782,3846,3847,3783,3846,3783,3846,3847,3847,3846,3847,3847,3782,3782,3847,3846,3846,3846,3847,3846,3846,3783,3846,3782,3846,3782,3847,3783,3847,3782,3782,3847,3846,3783,3782,3847,3847,3783,3846,3846,3782,3783,3783,3782,3847,3783,3782,3847,3782,3783,3783,3846,3846,3783,3783,3782,3846,3846,3846,3846,3782,3847,3847,3846,3847,3847,3783,3783,3783,3846,3846,3782,3846,3846,3783,3782,3847,3846,3847,3847,3847,3846,3847,3783,3783,3847,3783,3846,3782,3782,3846,3782,3783,3783,3782,3783,3846,3782,3782,3846,3847,3782,3846,3847,3846,3783,3846,3847,3847,3847,3847,3846,3783,3847,3847,3847,3846,3783,3846,3846,3782,3782,3847,3782,3782,3783,3783,3846,3846,3783,3783,3847,3783,3782,3846,3783,3783,3782,3782,3782,3847,3847,3847,3782,3783,3783,3782,3782,3782,3847,3847,3846,3782,3846,3782,3847,3846,3847,3782,3782,3783,3783,3783,3783,3782,3846,3782,3783,3782,3846,3846,3847,3846,3783,3846,3847,3847,3782,3783,3846,3847,3782,3782,3782,3783,3783,3846,3783,3846,3782,3847,3846,3847,3847,3847,3846,3846,3782,3846,3847,3782,3783,3783,3847,3783,3783,3846,3782,3847,3847,3783,3782,3847,3847,3783,3783,3783,3846,3847,3847,3783,3847,3847,3847,3847,3782,3847,3847,3846,3782,3782,3782,3783,3846,3847,3782,3783,3847,3782,3847,3782,3782,3782,3782,3847,3847,3782,3847,3782,3847,3783,3846,3783,3782,3782,3846,3783,3846,3783,3782,3782,3783,3783,3846,3846,3783,3846,3847,3846,3847,3846,3783,3783,3847,3782,3847,3782,3783,3782,3782,3846,3846,3783,3846,3847,3783,3782,3846,3783,3847,3847,3846,3847,3846,3847,3847,3782,3846,3847,3783,3783,3847,3847,3846,3783,3847,3847,3846,3847,3783,3783,3847,3847,3847,3846,3847,3847,3782,3846,3782,3846,3846,3846,3782,3847,3783,3783,3782,3846,3846,3783,3846,3783,3846,3847,3847,3782,3782,3782,3847,3846,3846,3846,3782,3782,3846,3783,3783,3846,3847,3847,3782,3783,3783,3847,3846,3846,3782,3846,3782,3846,3846,3846,3782,3846,3783,3782,3782,3783,3847,3847,3782,3846,3846,3782,3846,3847,3846,3782,3783,3846,3846,3782,3783,3846,3846,3847,3782,3783,3846,3783,3846,3783,3846,3847,3782,3783,3783,3783,3782,3847,3846,3782,3782,3783,3782,3782,3783,3846,3782,3783,3783,3846,3782,3782,3846,3846,3847,3846,3782,3782,3846,3782,3782,3782,3847,3782,3782,3846,3782,3782,3847,3782,3782,3783,3782,3846,3783,3846,3847,3847,3846,3782,3782,3783,3847,3847,3846,3782,3783,3846,3783,3783,3783,3782,3846,3782,3847,3783,3782,3847,3846,3847,3847,3783,3782,3783,3847,3846,3847,3782,3782,3783,3783,3783,3847,3783,3782,3782,3846,3783,3846,3783,3846,3783,3847,3782,3846,3782,3782,3783,3847,3782,3846,3783,3783,3846,3847,3783,3783,3846,3782,3847,3782,3847,3846,3782,3847,3782,3846,3846,3846,3846,3783,3847,3783,3847,3783,3846,3782,3782,3847,3847,3847,3846,3847,3846,3847,3847,3783,3847,3847,3783,3846,3783,3782,3847,3847,3847,3846,3782,3847,3847,3783,3847,3782,3783,3846,3783,3847,3782,3782,3846,3846,3782,3847,3847,3846,3846,3847,3846,3846,3846,3782,3847,3783,3782,3782,3783,3846,3846,3783,3847,3846,3846,3847,3783,3783,3847,3782,3782,3847,3783,3846,3847,3847,3782,3782,3783,3783,3847,3847,3846,3782,3846,3846,3783,3847,3782,3846,3846,3847,3846,3847,3846,3847,3846,3847,3847,3782,3782,3846,3847,3847,3783,3847,3847,3847,3783,3847,3847,3782,3847,3783,3783,3782,3783,3783,3783,3783,3783,3782,3782,3782,3846,3847,3846,3782,3782,3782,3782,3847,3783,3782,3846,3846,3847,3847,3782,3847,3847,3846,3846,3783,3847,3847,3846,3847,3847,3783,3847,3847,3846,3782,3783,3846,3847,3847,3846,3783,3846,3847,3783,3783,3782,3847,3847,3782,3847,3846,3782,3847,3847,3847,3847,3783,3782,3782,3783,3782,3846,3782,3847,3783,3846,3783,3783,3847,3846,3782,3846,3782,3783,3782,3847,3846,3847,3783,3782,3783,3847,3782,3847,3847,3847,3783,3783,3847,3782,3782,3846,3782,3847,3782,3846,3782,3846,3847,3782,3847,3783,3783,3782,3782,3782,3782,3846,3847,3847,3783,3846,3783,3782,3847,3783,3783,3782,3847,3847,3847,3846,3846,3846,3846,3846,3846,3782,3846,3783,3782,3782,3847,3846,3847,3783,3846,3846,3847,3847,3782,3783,3846,3846,3783,3783,3782,3782,3847,3846,3847,3846,3846,3846,3782,3783,3782,3847,3847,3847,3847,3846,3846,3783,3783,3783,3847,3847,3846,3783,3783,3847,3846,3782,3847,3847,3782,3782,3782,3782,3847,3783,3782,3783,3847,3846,3846,3846,3847,3783,3846,3846,3782,3846,3847,3846,3782,3782,3847,3782,3846,3846,3846,3782,3846,3846,3846,3847,3846,3846,3782,3783,3782,3782,3783,3783,3847,3846,3783,3782,3783,3783,3782,3783,3783,3783,3782,3847,3782,3782,3783,3782,3782,3847,3782,3782,3846,3847,3783,3783,3782,3783,3846,3846,3783,3782,3846,3846,3783,3783,3847,3782,3783,3783,3846,3783,3782,3847,3783,3847,3782,3782,3846,3782,3847,3847,3782,3847,3783,3782,3846,3847,3783,3847,3846,3783,3782,3846,3847,3847,3782,3847,3846,3847,3782,3783,3783,3846,3782,3782,3783,3847,3782,3782,3847,3782,3847,3846,3783,3782,3782,3782,3783,3783,3846,3847,3847,3783,3847,3782,3782,3846,3846,3783,3846,3847,3847,3847,3783,3847,3847,3847,3783,3847,3783,3846,3846,3846,3847,3846,3847,3783,3847,3846,3782,3847,3783,3783,3847,3847,3846,3782,3847,3783,3782,3847,3783,3782,3783,3847,3846,3782,3783,3782,3847,3782,3846,3847,3783,3847,3846,3782,3846,3782,3783,3783,3847,3782,3783,3846,3782,3783,3783,3846,3846,3847,3783,3782,3783,3846,3847,3783,3846,3846,3783,3782,3846,3782,3782,3847,3847,3782,3783,3783,3847,3846,3847,3846,3783,3846,3783,3782,3847,3846,3847,3783,3846,3783,3782,3846,3847,3847,3782,3846,3846,3782,3783,3847,3846,3782,3782,3782,3846,3847,3847,3846,3782,3782,3783,3847,3782,3846,3782,3846,3847,3847,3782,3846,3846,3782,3847,3847,3783,3846,3846,3846,3846,3782,3846,3846,3782,3846,3846,3783,3847,3846,3847,3847,3783,3846,3846,3847,3846,3847,3847,3846,3846,3847,3847,3782,3846,3847,3847,3782,3847,3846,3782,3783,3847,3847,3782,3846,3783,3846,3783,3847,3847,3783,3782,3847,3783,3847,3783,3783,3782,3783,3783,3782,3783,3846,3783,3783,3783,3782,3782,3847,3782,3847,3847,3847,3783,3846,3846,3783,3783,3846,3782,3783,3847,3783,3847,3847,3783,3847,3782,3846,3847,3847,3783,3847,3783,3847,3846,3847,3847,3782,3846,3782,3783,3783,3783,3846,3847,3782,3846,3846,3782,3846,3846,3782,3846,3847,3846,3783,3783,3846,3847,3783,3783,3783,3847,3782,3846,3783,3846,3782,3847,3783,3783,3847,3846,3846,3847,3846,3783,3783,3846,3846,3783,3847,3846,3783,3782,3783,3846,3783,3847,3782,3846,3846,3846,3783,3846,3783,3782,3847,3783,3783,3846,3783,3783,3783,3847,3782,3783,3782,3846,3782,3782,3783,3783,3847,3782,3847,3846,3847,3783,3782,3782,3846,3846,3846,3847,3847,3847,3847,3846,3846,3783,3846,3847,3846,3783,3782,3846,3847,3847,3782,3783,3782,3846,3782,3782,3847,3846,3847,3847,3782,3847,3847,3846,3783,3783,3782,3783,3846,3847,3846,3847,3782,3782,3783,3847,3846,3783,3783,3783,3782,3846,3847,3783,3847,3782,3783,3847,3783,3783,3847,3782,3846,3847,3782,3783,3782,3846,3846,3847,3846,3783,3847,3847,3846,3782,3847,3783,3782,3846,3782,3783,3783,3846,3782,3847,3847,3846,3782,3783,3847,3783,3782,3782,3846,3783,3783,3847,3847,3847,3847,3783,3782,3783,3783,3846,3783,3846,3847,3846,3846,3846,3847,3782,3846,3783,3847,3783,3846,3783,3782,3847,3847,3847,3846,3782,3847,3782,3782,3846,3846,3846,3782,3846,3782,3846,3783,3846,3783,3782,3783,3847,3782,3783,3783,3783,3782,3782,3782,3782,3847,3847,3846,3783,3782,3783,3782,3782,3846,3846,3847,3783,3847,3782,3782,3783,3847,3783,3847,3783,3846,3846,3783,3847,3783,3846,3782,3846,3847,3847,3846,3783,3783,3847,3782,3782,3847,3783,3782,3782,3782,3847,3846,3783,3782,3847,3782,3846,3782,3847,3847,3783,3783,3782,3783,3847,3846,3847,3782,3783,3846,3846,3782,3847,3847,3847,3783,3847,3782,3783,3782,3783,3782,3846,3783,3846,3783,3782,3783,3782,3847,3846,3847,3782,3847,3846,3783,3846,3783,3847,3847,3846,3783,3783,3846,3782,3782,3782,3847,3846,3782,3782,3783,3846,3782,3846,3847,3782,3847,3783,3782,3847,3783,3783,3847,3846,3782,3847,3783,3846,3783,3847,3846,3846,3847,3782,3846,3782,3847,3782,3783,3847,3846,3783,3782,3846,3847,3846,3847,3847,3847,3847,3782,3846,3846,3783,3783,3847,3847,3782,3846,3846,3783,3783,3846,3846,3847,3846,3782,3846,3847,3847,3783,3846,3847,3846,3846,3847,3782,3847,3782,3846,3783,3783,3846,3847,3783,3782,3783,3846,3783,3846,3847,3846,3783,3783,3782,3847,3783,3783,3846,3847,3782,3847,3783,3782,3847,3847,3847,3846,3782,3847,3783,3782,3783,3847,3783,3782,3782,3847,3783,3782,3847,3783,3782,3783,3847,3783,3782,3846,3847,3846,3846,3783,3783,3847,3783,3783,3847,3783,3846,3846,3782,3782,3847,3782,3783,3783,3847,3783,3783,3847],height:27,id:2,name:"OCEAN",opacity:1,type:"tilelayer",visible:!0,width:77,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,69,66,132,259,259,260,133,69,258,196,1184,1248,665,795,794,668,669,1248,1121,259,194,67,132,68,195,259,195,194,67,132,195,196,134,0,0,0,2581,2582,0,0,0,2586,2587,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,193,261,195,261,259,69,258,67,68,67,66,1960,66,133,1183,665,794,796,794,797,1248,1185,197,601,602,602,602,604,603,603,602,604,603,605,197,262,0,0,0,2645,0,0,0,0,0,2651,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2652,0,0,0,129,194,2284,196,69,1896,130,130,261,195,69,133,67,2087,1120,665,732,668,668,797,1247,1183,131,665,668,794,666,730,732,730,794,731,730,797,131,642,2,4,3,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,643,132,67,68,2094,195,2025,197,2027,132,130,2218,132,66,1184,793,732,666,796,669,1184,1121,258,729,667,732,731,666,668,667,666,794,731,669,259,2156,66,131,69,644,4,3,4,3,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,66,195,261,66,130,133,132,2159,194,67,196,130,69,131,68,259,68,1184,729,731,795,730,797,1183,1120,130,665,795,732,668,796,667,730,730,732,731,797,196,68,67,1840,130,197,133,261,66,2153,262,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,259,2029,66,132,261,2156,259,261,69,1837,197,68,2220,67,133,260,1185,2282,793,666,666,666,733,1185,1119,194,729,794,731,666,732,794,795,667,731,731,797,67,258,2220,130,69,69,69,1961,260,259,134,2907,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,193,258,66,2160,2281,258,69,1840,195,131,197,197,67,261,261,258,2091,1185,1119,729,795,668,730,733,1248,2032,259,857,858,859,860,860,859,860,860,859,860,861,69,197,196,68,66,2285,131,197,197,1967,134,2971,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,193,258,2216,66,67,132,261,66,67,197,259,68,68,195,196,195,197,133,261,793,667,666,795,669,260,194,131,68,130,261,261,195,66,194,131,132,258,195,66,261,69,2031,194,130,69,133,130,260,262,3035,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,65,261,195,258,69,1895,66,2026,67,132,131,131,66,67,259,261,130,131,1962,729,666,730,666,733,66,67,195,130,67,260,67,258,195,66,68,261,133,195,68,196,133,130,66,195,259,68,69,197,262,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,321,706,259,1834,133,132,261,132,196,68,131,259,68,260,197,133,197,195,195,665,732,732,667,797,133,1966,259,66,2220,68,197,68,259,260,260,259,195,194,259,66,66,261,130,197,1965,131,68,194,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,257,132,69,130,2092,130,258,2093,194,130,194,194,67,197,194,68,259,195,665,730,795,731,733,260,196,132,68,258,132,67,258,133,195,261,196,258,132,194,66,69,69,197,133,130,68,1831,259,642,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,193,260,260,133,259,194,133,196,195,196,68,260,66,67,68,69,196,67,729,668,796,795,797,261,260,67,69,130,261,259,258,130,67,67,261,130,133,195,69,195,67,68,67,260,261,66,196,194,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,65,259,197,67,260,195,66,66,197,196,133,133,66,67,68,69,133,130,793,666,668,731,733,260,260,258,258,258,197,194,261,67,133,133,69,66,130,69,66,131,132,133,259,69,68,258,2219,131,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,197,132,68,66,133,131,67,133,195,130,132,66,66,67,68,69,67,729,732,666,730,733,194,69,2032,259,260,173,174,175,174,175,175,174,176,174,174,175,174,176,177,258,194,69,66,131,130,262,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,65,258,68,67,260,131,131,261,69,67,665,794,731,669,66,67,68,69,793,730,666,795,733,261,196,67,68,67,237,302,240,239,238,302,366,366,240,368,302,239,368,305,67,1965,261,1963,68,131,198,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,601,602,602,602,604,603,602,603,604,542,731,667,541,602,604,604,602,542,796,666,666,541,604,602,604,604,605,301,366,367,239,304,302,303,366,304,238,304,240,240,369,259,130,130,133,259,196,198,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,793,730,667,667,732,732,666,794,794,666,795,668,794,795,732,796,731,731,731,668,732,667,667,666,668,794,733,365,368,302,367,240,240,302,303,368,302,366,368,238,369,133,66,67,259,68,261,262,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,257,729,794,730,794,667,794,796,794,732,730,667,732,667,796,795,795,795,794,730,731,731,730,668,731,666,795,797,365,303,368,368,302,304,240,238,302,368,239,240,366,369,133,2031,259,260,67,707,772,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,579,132,857,858,859,859,858,860,859,859,859,860,858,859,860,858,860,858,858,858,860,860,860,859,860,859,860,859,861,365,239,368,368,302,303,238,366,304,304,304,303,303,369,258,68,132,259,66,262,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,643,67,133,197,261,132,66,67,260,259,259,197,194,258,2287,196,258,194,66,133,258,131,258,2152,672,195,69,197,194,365,367,367,368,303,238,367,366,367,303,304,239,239,369,195,194,130,69,132,198,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,260,67,68,196,2028,130,3419,3354,3292,3357,3485,3421,3356,259,2023,2215,133,2025,130,259,2091,132,130,261,736,196,133,67,67,365,238,366,367,302,368,303,367,302,238,240,302,239,305,260,259,194,195,131,262,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,193,258,66,261,133,130,68,3421,3292,3418,3419,3293,3420,3355,261,197,67,195,133,194,260,196,196,259,194,799,2156,133,196,194,429,430,431,430,432,432,431,431,432,430,430,430,431,433,2288,260,196,196,67,134,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,321,323,706,196,67,131,130,3420,3293,3354,3418,3421,3356,3354,69,2283,1961,1836,258,258,259,261,132,2224,261,671,68,69,196,261,68,68,1899,69,1966,197,66,131,259,196,260,68,66,69,133,130,133,68,707,772,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,131,69,194,258,3418,3291,3357,3354,3484,3485,3484,67,132,260,259,196,258,260,131,194,67,196,735,260,132,66,67,131,66,132,67,194,194,259,2027,69,195,196,197,2151,130,261,69,69,68,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,257,260,261,197,196,3293,3418,3293,3292,3293,3357,3421,259,258,260,68,258,194,1897,1961,1960,131,258,68,196,132,66,196,69,67,132,261,69,132,260,132,195,130,194,195,67,69,1833,132,259,69,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,193,194,133,69,69,132,133,260,197,196,131,130,132,2284,195,133,132,2093,133,260,194,259,2282,131,196,2030,2024,197,68,259,194,259,196,261,1962,260,260,194,66,66,2092,2215,261,261,130,260,262,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,257,259,131,133,133,132,195,261,197,261,196,194,68,131,195,68,68,258,68,259,66,130,130,194,261,67,130,67,132,67,260,67,69,69,130,130,131,196,133,261,195,69,194,259,130,131,134,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:27,id:3,name:"ISLAND_1",opacity:1,type:"tilelayer",visible:!0,width:77,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2067,2068,0,0,0,0,0,0,2067,2068,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2131,2132,0,0,0,0,0,0,2131,2132,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2195,2196,0,0,0,0,0,0,2195,2196,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3225,3227,3226,3226,3228,3228,3229,3227,3230,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3481,0,0,0,0,0,0,0,3486,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3481,0,0,0,0,0,0,0,3358,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3481,0,0,0,0,0,0,0,3486,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3417,0,0,0,0,0,0,0,3422,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3289,0,0,0,0,0,0,0,3422,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3545,3549,3549,3547,3549,3547,3547,3548,3550,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:27,id:5,name:"ISLAND_TOP",opacity:1,type:"tilelayer",visible:!0,width:77,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5923,5924,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5958,5959,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5993,5994,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5919,5920,5921,5922,0,0,0,5930,5931,5932,5933,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4449,0,0,0,0,0,0,0,0,0,5954,5955,5956,5957,0,5938,0,5965,5966,5967,5968,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5989,5990,5991,5992,0,0,0,6e3,6001,6002,6003,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4935,4971,4972,4936,4937,4937,4937,4937,4937,4937,4937,4938,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4935,4971,4971,4972,4972,4972,4971,4971,4971,4972,4972,4973,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4589,4590,4591,4592,4593,4594,0,0,0,0,0,4449,0,0,0,0,0,0,0,0,4970,4971,0,0,4972,4972,4971,4972,0,0,4972,4973,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4624,4625,4626,4627,4628,4629,0,0,0,0,0,4449,4449,4449,4449,4449,4449,0,0,0,5005,5007,4971,4972,4972,4971,4972,4972,5006,5007,5008,5008,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4659,4660,4661,4662,4663,4664,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5040,5041,5041,5041,5042,4968,4969,5041,5042,5041,5042,5043,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4694,4695,4725,4726,4698,4699,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5003,5004,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4449,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5348,5349,0,0,0,0,5346,5347,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5450,5451,0,0,0,0,5450,5451,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:27,id:6,name:"ISLAND_BUILDINGS_1",opacity:1,type:"tilelayer",visible:!0,width:77,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4449,4450,4451,4452,4453,4454,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4484,4485,4486,4487,4488,4489,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4519,4520,4521,4522,4523,4524,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4554,4555,4556,4557,4558,4559,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4620,4621,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5415,5416,0,0,0,0,5415,5416,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4655,4656,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5450,5451,0,0,0,0,5450,5451,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4690,4691,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5278,5279,0,0,0,0,5276,5277,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5313,5314,0,0,0,0,5311,5312,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5415,5416,0,0,0,0,5415,5416,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:27,id:8,name:"ISLAND_BUILDINGS_TOP",opacity:1,type:"tilelayer",visible:!0,width:77,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,0,0,0,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,6059,6059,0,0,0,0,6059,6059,0,6059,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,0,0,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,6059,6059,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,6059,6059,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,6059,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,6059,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:27,id:9,name:"COLLISIONS",opacity:1,type:"tilelayer",visible:!0,width:77,x:0,y:0}],E2=10,C2=1,A2="orthogonal",P2="right-down",M2="1.4.3",R2=32,L2=[{columns:64,firstgid:1,image:"../../../art_source/tilesets/CL_MainLev.png",imageheight:1984,imagewidth:2048,margin:0,name:"CL_MainLev",objectalignment:"topleft",spacing:0,tilecount:3968,tileheight:32,tilewidth:32},{columns:24,firstgid:3969,image:"../../../art_source/tilesets/Harbor.png",imageheight:640,imagewidth:768,margin:0,name:"Harbor",objectalignment:"topleft",spacing:0,tilecount:480,tileheight:32,tilewidth:32},{columns:35,firstgid:4449,image:"../../../art_source/tilesets/CL_Buildings.png",imageheight:1472,imagewidth:1120,margin:0,name:"CL_Buildings",objectalignment:"topleft",spacing:0,tilecount:1610,tileheight:32,tilewidth:32},{columns:1,firstgid:6059,image:"../../../art_source/island/tiled/COLLISIONS.intgrid.png",imageheight:32,imagewidth:32,margin:0,name:"COLLISIONS",objectalignment:"topleft",spacing:0,tilecount:1,tileheight:32,tilewidth:32},{columns:1,firstgid:6060,image:"../../../art_source/island/tiled/OCEAN.intgrid.png",imageheight:32,imagewidth:32,margin:0,name:"OCEAN",objectalignment:"topleft",spacing:0,tilecount:1,tileheight:32,tilewidth:32}],O2=32,F2="map",I2=1.4,D2=77;var w2={backgroundcolor:m2,compressionlevel:x2,height:y2,infinite:T2,layers:S2,nextlayerid:E2,nextobjectid:C2,orientation:A2,renderorder:P2,tiledversion:M2,tileheight:R2,tilesets:L2,tilewidth:O2,type:F2,version:I2,width:D2};const B2="#696a79",b2=0,N2=46,G2=!1,z2=[{data:[3846,3847,3782,3782,3846,3783,3783,3847,3783,3846,3782,3847,3846,3782,3846,3847,3783,3847,3847,3846,3847,3846,3783,3783,3846,3846,3782,3783,3782,3847,3847,3782,3782,3846,3847,3847,3846,3847,3783,3847,3782,3782,3782,3846,3783,3783,3782,3783,3782,3782,3847,3783,3782,3847,3783,3783,3846,3782,3782,3783,3847,3846,3847,3783,3783,3782,3783,3782,3783,3846,3846,3846,3782,3847,3782,3782,3847,3847,3846,3846,3783,3847,3782,3783,3847,3846,3783,3846,3847,3782,3846,3783,3846,3782,3846,3782,3782,3846,3847,3782,3846,3783,3847,3782,3783,3846,3783,3782,3847,3782,3782,3847,3847,3783,3782,3782,3846,3782,3846,3846,3783,3846,3783,3783,3846,3847,3847,3783,3847,3783,3846,3783,3847,3782,3783,3783,3783,3846,3847,3846,3846,3846,3783,3782,3783,3846,3847,3783,3847,3847,3846,3846,3846,3783,3782,3783,3847,3782,3783,3782,3846,3847,3847,3783,3847,3846,3847,3782,3783,3847,3782,3782,3782,3783,3783,3847,3847,3847,3783,3782,3846,3782,3847,3783,3783,3783,3847,3782,3846,3783,3847,3783,3783,3782,3783,3783,3846,3783,3783,3782,3782,3783,3846,3782,3783,3847,3846,3846,3847,3782,3782,3782,3783,3847,3782,3783,3847,3847,3847,3782,3847,3783,3847,3782,3783,3846,3847,3782,3783,3847,3783,3783,3783,3783,3847,3847,3847,3783,3783,3783,3782,3846,3847,3782,3847,3847,3783,3783,3846,3847,3847,3782,3783,3846,3846,3783,3782,3846,3846,3846,3847,3783,3846,3782,3846,3783,3783,3783,3846,3847,3782,3782,3847,3846,3846,3783,3846,3846,3846,3782,3782,3783,3783,3847,3846,3846,3846,3847,3846,3782,3847,3782,3783,3846,3782,3783,3846,3847,3846,3847,3847,3782,3783,3783,3846,3847,3847,3782,3783,3847,3846,3782,3782,3783,3847,3782,3846,3846,3846,3783,3783,3847,3846,3783,3846,3846,3782,3783,3846,3782,3783,3782,3846,3846,3847,3847,3846,3847,3782,3782,3847,3847,3846,3782,3847,3782,3783,3782,3847,3847,3846,3847,3782,3782,3783,3782,3846,3782,3783,3846,3847,3783,3783,3783,3846,3783,3847,3783,3846,3847,3847,3847,3847,3783,3783,3847,3847,3782,3847,3847,3846,3782,3847,3847,3847,3782,3782,3782,3846,3782,3783,3782,3783,3846,3783,3783,3783,3847,3846,3847,3783,3783,3846,3847,3782,3783,3783,3782,3782,3846,3783,3846,3846,3847,3846,3847,3783,3783,3783,3782,3847,3782,3782,3782,3846,3847,3847,3782,3847,3782,3783,3846,3783,3846,3782,3783,3783,3847,3847,3847,3846,3847,3847,3782,3847,3846,3783,3846,3847,3846,3783,3783,3783,3782,3847,3847,3783,3847,3782,3846,3847,3782,3782,3847,3783,3847,3783,3847,3847,3783,3846,3847,3846,3847,3846,3847,3847,3782,3846,3847,3846,3847,3783,3782,3846,3783,3847,3847,3847,3782,3846,3782,3783,3782,3846,3846,3782,3782,3783,3847,3847,3846,3783,3846,3847,3847,3782,3846,3847,3783,3782,3846,3846,3847,3783,3847,3847,3846,3847,3782,3847,3783,3782,3782,3783,3847,3783,3783,3783,3846,3847,3783,3846,3846,3847,3847,3846,3846,3782,3782,3846,3783,3847,3782,3846,3846,3847,3782,3783,3847,3846,3782,3847,3783,3846,3847,3783,3847,3847,3847,3782,3782,3782,3846,3846,3783,3783,3847,3783,3782,3847,3847,3782,3846,3783,3782,3783,3783,3846,3782,3782,3847,3847,3846,3847,3782,3783,3846,3782,3847,3782,3782,3782,3847,3782,3782,3847,3782,3846,3782,3782,3783,3846,3783,3782,3847,3783,3846,3846,3846,3783,3846,3782,3782,3783,3783,3847,3847,3846,3847,3847,3847,3783,3783,3783,3847,3847,3846,3782,3846,3847,3782,3782,3847,3846,3847,3782,3846,3783,3846,3846,3846,3846,3847,3783,3847,3782,3783,3783,3847,3783,3847,3847,3846,3847,3782,3846,3783,3846,3847,3782,3783,3783,3782,3783,3847,3783,3847,3782,3782,3783,3782,3783,3782,3847,3847,3783,3783,3847,3783,3847,3782,3782,3847,3847,3783,3847,3783,3783,3846,3847,3783,3846,3783,3847,3782,3783,3847,3783,3846,3783,3847,3783,3782,3846,3783,3782,3847,3846,3782,3782,3783,3782,3782,3782,3783,3782,3782,3782,3847,3846,3783,3783,3782,3847,3846,3846,3782,3783,3847,3846,3847,3847,3847,3846,3847,3783,3847,3847,3846,3782,3783,3782,3783,3846,3847,3847,3847,3783,3783,3846,3783,3847,3847,3783,3783,3782,3783,3846,3783,3847,3846,3847,3846,3782,3782,3846,3847,3847,3783,3846,3782,3847,3846,3782,3782,3782,3847,3846,3783,3846,3783,3846,3847,3783,3782,3783,3782,3846,3846,3782,3847,3846,3846,3782,3846,3846,3846,3782,3782,3846,3783,3847,3783,3782,3782,3782,3783,3783,3847,3846,3782,3782,3847,3847,3782,3782,3847,3846,3847,3846,3782,3782,3847,3846,3783,3783,3846,3846,3846,3847,3783,3847,3783,3783,3846,3782,3783,3846,3782,3846,3782,3846,3782,3846,3782,3846,3846,3783,3847,3782,3783,3847,3782,3847,3847,3782,3782,3846,3846,3846,3783,3782,3782,3847,3783,3782,3846,3783,3783,3782,3847,3782,3783,3847,3846,3783,3783,3846,3783,3847,3846,3847,3783,3782,3846,3783,3783,3783,3846,3783,3847,3846,3847,3846,3847,3783,3847,3847,3846,3847,3782,3783,3783,3783,3782,3783,3782,3846,3847,3846,3782,3783,3847,3846,3782,3783,3847,3783,3846,3782,3847,3782,3783,3847,3847,3847,3783,3847,3846,3782,3847,3846,3783,3783,3782,3783,3846,3847,3846,3847,3782,3846,3783,3782,3847,3782,3847,3847,3782,3782,3782,3846,3846,3783,3846,3847,3847,3847,3846,3782,3847,3847,3783,3782,3783,3847,3782,3783,3847,3846,3847,3782,3783,3782,3783,3847,3783,3783,3782,3846,3846,3847,3846,3846,3847,3783,3847,3847,3783,3782,3783,3782,3782,3847,3783,3847,3847,3782,3846,3846,3847,3783,3846,3783,3782,3783,3783,3846,3847,3783,3783,3783,3782,3783,3783,3847,3782,3782,3847,3783,3846,3846,3783,3783,3847,3783,3782,3783,3847,3846,3783,3846,3846,3782,3782,3782,3783,3783,3846,3847,3782,3783,3847,3782,3783,3846,3847,3783,3782,3783,3846,3847,3846,3783,3782,3783,3847,3846,3847,3783,3782,3847,3847,3782,3783,3783,3846,3783,3782,3847,3846,3846,3846,3847,3847,3782,3846,3847,3782,3782,3846,3846,3783,3783,3847,3782,3782,3846,3847,3847,3782,3846,3782,3846,3846,3783,3847,3782,3782,3846,3847,3847,3782,3847,3846,3846,3783,3846,3846,3846,3783,3846,3783,3846,3847,3783,3847,3782,3782,3782,3782,3782,3782,3782,3782,3782,3782,3783,3846,3783,3782,3782,3847,3783,3783,3783,3846,3782,3846,3783,3782,3783,3783,3783,3782,3847,3846,3782,3846,3782,3846,3847,3782,3847,3783,3782,3783,3783,3783,3783,3783,3846,3846,3783,3782,3846,3782,3783,3846,3782,3846,3847,3847,3846,3783,3847,3846,3783,3783,3846,3782,3846,3783,3846,3782,3846,3847,3847,3847,3846,3847,3783,3782,3847,3847,3847,3782,3782,3783,3846,3782,3783,3846,3782,3846,3847,3783,3782,3847,3846,3846,3783,3782,3782,3782,3782,3782,3782,3782,3847,3783,3846,3782,3847,3847,3846,3783,3782,3783,3846,3782,3846,3782,3783,3847,3783,3782,3783,3783,3846,3847,3782,3847,3847,3847,3782,3847,3783,3782,3847,3782,3846,3783,3782,3847,3782,3846,3847,3846,3783,3782,3847,3846,3783,3847,3846,3846,3783,3782,3847,3783,3782,3782,3847,3782,3846,3782,3847,3783,3846,3782,3783,3846,3846,3847,3846,3783,3782,3783,3847,3783,3846,3782,3783,3783,3782,3783,3846,3846,3847,3783,3782,3783,3847,3847,3783,3846,3783,3782,3782,3783,3782,3847,3846,3783,3783,3782,3847,3846,3782,3782,3847,3782,3846,3782,3847,3782,3846,3782,3783,3782,3847,3782,3846,3783,3782,3783,3782,3783,3847,3846,3846,3783,3782,3782,3783,3783,3783,3846,3846,3847,3847,3782,3782,3846,3783,3847,3783,3783,3846,3846,3782,3782,3783,3782,3782,3782,3846,3846,3783,3782,3846,3846,3782,3847,3846,3846,3847,3847,3846,3783,3847,3846,3782,3846,3783,3847,3846,3782,3782,3846,3847,3782,3846,3782,3783,3782,3783,3846,3847,3847,3783,3783,3847,3782,3783,3782,3847,3846,3846,3783,3846,3783,3847,3783,3782,3846,3846,3783,3782,3846,3783,3783,3847,3846,3846,3782,3847,3846,3783,3846,3847,3847,3782,3847,3782,3847,3846,3783,3783,3782,3782,3783,3783,3782,3782,3847,3846,3782,3783,3783,3782,3782,3783,3782,3847,3846,3846,3782,3782,3783,3846,3846,3782,3783,3783,3783,3783,3846,3783,3846,3782,3847,3846,3846,3846,3783,3846,3847,3846,3847,3846,3847,3846,3847,3783,3783,3846,3847,3782,3846,3846,3847,3847,3846,3847,3847,3846,3782,3846,3847,3847,3846,3846,3782,3782,3783,3847,3782,3783,3847,3783,3847,3782,3847,3782,3783,3782,3846,3782,3783,3847,3782,3782,3846,3782,3846,3782,3782,3847,3782,3783,3846,3846,3782,3782,3783,3846,3782,3847,3783,3847,3783,3847,3846,3847,3846,3782,3846,3846,3846,3782,3846,3847,3846,3782,3847,3783,3847,3846,3783,3782,3783,3783,3782,3846,3846,3846,3846,3783,3783,3847,3846,3847,3782,3782,3847,3782,3847,3846,3783,3847,3783,3783,3846,3846,3847,3783,3847,3847,3846,3846,3782,3847,3782,3783,3782,3847,3847,3783,3782,3783,3782,3783,3846,3846,3783,3782,3783,3782,3846,3783,3847,3783,3846,3782,3783,3847,3846,3783,3783,3783,3847,3782,3782,3847,3782,3846,3847,3847,3847,3847,3847,3846,3847,3782,3846,3782,3783,3847,3847,3783,3847,3847,3847,3847,3783,3782,3783,3846,3846,3782,3846,3847,3782,3846,3782,3846,3847,3782,3847,3846,3847,3782,3782,3847,3782,3846,3846,3783,3782,3783,3846,3846,3846,3783,3846,3783,3783,3847,3847,3846,3783,3846,3782,3846,3846,3847,3782,3783,3783,3782,3847,3782,3783,3782,3846,3846,3847,3782,3846,3847,3783,3782,3782,3783,3782,3783,3846,3783,3782,3783,3782,3847,3783,3846,3782,3847,3847,3782,3782,3846,3783,3846,3847,3783,3846,3846,3783,3846,3782,3847,3782,3783,3846,3782,3847,3847,3782,3783,3847,3846,3846,3783,3783,3846,3782,3782,3783,3847,3846,3847,3846,3847,3783,3846,3847,3847,3846,3846,3847,3782,3782,3846,3782,3783,3782,3782,3783,3783,3782,3782,3782,3847,3846,3782,3846,3783,3846,3846,3782,3783,3783,3782,3782,3782,3847,3846,3847,3782,3847,3782,3783,3783,3782,3846,3847,3847,3782,3847,3782,3847,3782,3847,3782,3783,3846,3847,3847,3782,3847,3846,3782,3846,3782,3846,3847,3846,3783,3847,3847,3846,3846,3783,3846,3783,3846,3782,3783,3783,3782,3847,3782,3846,3847,3783,3782,3846,3847,3783,3782,3782,3783,3846,3782,3782,3846,3782,3783,3782,3847,3783,3846,3846,3783,3783,3846,3782,3783,3782,3782,3846,3783,3783,3783,3846,3846,3782,3782,3846,3783,3782,3782,3782,3782,3846,3782,3782,3846,3782,3847,3782,3846,3846,3846,3847,3783,3783,3846,3782,3782,3782,3783,3846,3847,3783,3782,3847,3847,3847,3846,3847,3846,3847,3783,3846,3783,3846,3847,3847,3846,3846,3847,3847,3783,3847,3847,3782,3846,3846,3782,3847,3783,3783,3783,3783,3783,3846,3847,3847,3782,3846,3782,3783,3783,3782,3847,3847,3846,3782,3846,3847,3847,3846,3783,3782,3782,3783,3783,3847,3847,3782,3847,3846,3782,3847,3783,3782,3846,3847,3846,3783,3782,3783,3782,3847,3846,3847,3846,3783,3846,3846,3782,3847,3783,3783,3847,3846,3847,3846,3782,3847,3846,3846,3783,3782,3782,3846,3783,3782,3782,3782,3847,3846,3783,3782,3847,3847,3783,3847,3847,3846,3846,3846,3782,3847,3846,3847,3847,3783,3846,3783,3847,3782,3782,3846,3783,3783,3783,3846,3783,3847,3782,3846,3846,3846,3847,3847,3846,3783,3846,3846,3847,3847,3782,3846,3783,3847,3783,3782,3847,3847,3846,3847,3783,3782,3847,3847,3846,3782,3847,3783,3783,3847,3783,3782,3846,3847,3847,3847,3783,3846,3783,3846,3846,3783,3847,3783,3782,3783,3847,3847,3846,3846,3783,3783,3783,3782,3847,3782,3846,3782,3846,3782,3783,3782,3847,3782,3783,3783,3846,3783,3847,3783,3846,3846,3783,3847,3783,3782,3782,3783,3846,3783,3782,3782,3783,3782,3847,3783,3783,3846,3783,3846,3847],height:46,id:2,name:"OCEAN",opacity:1,type:"tilelayer",visible:!0,width:46,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,2,3,4,5,3,3,4,5,2,4,2,3,4,5,5,5,5,5,2,2,5,3,3,4,2,3,4,5,5,5,5,5,5,5,3,2,2,5,4,5,5,5,4,5,3,132,260,195,68,130,197,194,258,69,194,194,197,258,130,196,196,67,69,68,601,604,603,602,604,605,196,69,197,259,260,131,68,2224,67,194,130,261,131,67,130,130,69,2280,196,2152,69,132,1965,197,133,132,131,259,259,66,2285,261,261,195,66,194,69,2284,258,2159,793,732,731,731,794,797,131,133,133,131,132,260,195,133,130,69,197,196,260,261,197,131,261,67,261,259,133,196,259,130,66,1836,68,196,68,196,131,195,69,69,196,133,66,66,66,66,665,795,732,668,795,733,2032,67,260,2222,2153,131,2220,68,130,68,196,258,1895,261,195,66,1836,69,2026,260,67,69,130,260,261,66,2155,133,197,261,69,196,130,194,2025,195,2217,130,2087,195,665,795,668,794,667,797,2285,1839,131,133,66,261,2284,261,131,2093,69,68,259,133,131,68,131,66,66,68,197,261,195,258,196,66,133,2089,197,130,131,130,68,260,130,1967,1903,66,196,259,665,668,668,730,732,669,194,1899,69,260,130,258,260,194,194,69,260,261,69,131,2025,131,66,69,68,130,2094,69,1895,195,68,130,259,260,66,130,259,194,133,1900,2028,2089,195,258,1834,133,729,796,796,794,666,733,258,259,2160,261,66,259,261,195,197,195,1833,195,261,196,68,68,261,67,66,260,261,131,67,130,197,1836,66,194,69,196,67,197,130,133,2025,258,259,260,261,197,665,732,666,667,732,669,260,261,66,66,67,261,194,131,196,68,133,197,130,132,259,259,1968,260,130,261,196,66,1904,67,195,66,69,259,132,133,133,66,261,1836,2156,1834,260,261,261,261,793,731,668,794,794,733,196,259,197,66,260,1837,261,260,69,130,261,258,130,132,130,194,197,196,69,261,131,258,133,133,260,69,261,261,133,195,194,66,69,260,67,2091,2215,66,130,196,729,732,796,796,667,797,67,259,1897,132,67,260,67,194,133,133,67,195,132,132,197,194,196,133,130,259,66],height:46,id:3,name:"ISLAND",opacity:1,type:"tilelayer",visible:!0,width:46,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4009,4010,4011,4012,4013,4014,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4034,4035,4036,4037,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4058,4059,4060,4061,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4009,4082,4083,4084,4085,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4010,4011,4012,4013,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4034,4035,4036,4037,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4058,4059,4060,4061,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4082,4083,4084,4085,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4010,4011,4012,4013,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4034,4035,4036,4037,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4058,4059,4060,4061,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4082,4083,4084,4085,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4058,4059,4060,4061,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4082,4083,4084,4085,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4010,4060,4058,4037,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4060,4010,4059,4012,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4035,4013,4013,4059,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4060,4010,4012,4083,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4083,4035,4059,4012,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4037,4010,4061,4085,4062,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4034,4082,4013,4060,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4084,4059,4061,4013,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4149,3988,3988,3988,3987,3987,3987,3987,3987,3988,3987,3988,3987,3987,3988,3987,3987,3983,4058,4037,4037,4035,3984,3988,3987,3987,3987,3987,3988,3987,3988,3987,3988,3987,3988,3988,3987,3987,3987,3988,3987,4150,0,0,0,0,4033,4010,4011,4012,4013,4010,4011,4012,4013,4010,4011,4012,4013,4010,4011,4012,4013,4012,4037,4036,4034,4013,4058,4010,4011,4012,4013,4010,4011,4012,4013,4010,4011,4012,4013,4010,4011,4012,4013,4010,4011,4062,0,0,0,0,4033,4034,4035,4036,4037,4034,4035,4036,4037,4034,4035,4036,4037,4034,4035,4036,4037,4058,4061,4012,4036,4013,4034,4034,4035,4036,4037,4034,4035,4036,4037,4034,4035,4036,4037,4034,4035,4036,4037,4034,4035,4038,0,0,0,0,4033,4058,4059,4060,4061,4058,4059,4060,4061,4058,4059,4060,4061,4058,4059,4060,4061,4036,4085,4059,4085,4010,4010,4058,4059,4060,4061,4058,4059,4060,4061,4058,4059,4060,4061,4058,4059,4060,4061,4058,4059,4062,0,0,0,0,4031,4107,4107,4108,4108,4108,4107,4107,4107,4107,4108,4108,4107,4107,4108,4108,4107,4007,4036,4035,4010,4034,4008,4108,4107,4107,4108,4108,4108,4107,4108,4108,4107,4108,4108,4108,4107,4108,4108,4108,4108,4032,0,0,0,0,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4132,4033,4011,4011,4013,4010,4062,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4131,4132,4131,0,0,0,0,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4156,4057,4035,4085,4083,4085,4062,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4155,4156,4155,0,0,0,0,0,0,0,3980,3982,3979,3979,3982,3979,3981,3981,4006,0,0,0,0,0,4033,4036,4058,4037,4082,4062,0,0,0,3981,3980,3981,3980,3979,3980,3980,3980,3980,3981,3981,3980,3980,3982,0,0,0,0,0,0,0,0,0,4003,4003,4003,4003,4003,4003,4003,4003,4006,0,0,0,0,0,4057,4034,4060,4082,4061,4062,0,0,0,4003,4003,4003,4003,4006,4003,4006,4004,4006,4004,4003,4003,4006,4006,0,0,0,0,0,0,0,0,0,4028,4028,4027,4028,4027,4028,4027,4027,4027,0,0,0,0,0,4057,4082,4034,4035,4082,4062,0,0,0,4027,4028,4027,4030,4027,4027,4027,4027,4028,4030,4028,4027,4028,4030,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4061,4013,4060,4084,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4057,4011,4060,4083,4034,4038,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4158,0,0,0,0,0,0,0,0,0,4180,4181,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4058,4082,4061,4059,4038,0,0,0,0,0,0,0,0,0,0,4180,4181,0,0,0,4182,4183,0,0,0,0,0,0,0,0,4204,4205,0,0,0,0,0,0,0,0,0,0,0,0,0,4033,4012,4061,4058,4083,4038,0,0,0,0,0,0,0,0,0,0,4204,4205,4184,0,4256,4206,4207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4031,4107,4107,4107,4108,4032,0,0,4171,4172,4173,0,0,0,0,0,0,0,4208,0,4280,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4401,4402,4403,4404,4405,4406,4407,0,0,0,0,0,0,0,0,4195,4196,4197,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4425,4426,4427,4428,4429,4430,4431,0,0,0,0,0,0,0,0,4219,4220,4221,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4336,4337,4338,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4360,4361,4362,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:46,id:4,name:"HARBOR",opacity:1,type:"tilelayer",visible:!0,width:46,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4211,4212,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4211,4212,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4211,4212,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4211,4212,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:46,id:5,name:"HARBOR_STAIRS",opacity:1,type:"tilelayer",visible:!0,width:46,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4178,4179,0,0,0,0,0,4171,4172,4173,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4272,4273,0,0,0,0,0,0,0,4198,4199,0,0,0,0,0,0,0,4202,4203,0,0,0,0,0,4195,4196,4197,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4296,4297,0,0,0,0,0,0,0,4222,4223,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4219,4220,4221,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4246,4247,0,0,0,0,0,0,0,4171,4172,4173,0,0,0,0,0,4173,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4195,4196,4197,0,0,0,0,0,0,0,0,0,4198,4199,0,0,0,0,0,0,0,0,0,0,0,0,0,4276,4277,0,0,0,0,0,4200,4201,0,0,0,0,0,0,0,0,0,0,4219,4220,4221,0,0,0,0,0,0,0,0,0,4222,4223,0,0,0,0,0,0,0,0,0,0,0,0,0,4300,4301,0,0,0,0,0,4224,4225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4246,4247,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4248,4249,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4228,4229,0,0,0,0,0,4184,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4184,0,0,0,0,0,0,0,0,0,0,0,4178,4179,0,0,0,0,0,0,0,0,0,4252,4253,0,0,0,0,0,4208,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4208,0,0,0,0,0,0,0,0,0,0,0,4202,4203,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4180,4181,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4180,4181,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4204,4205,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4204,4205,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4306,4307,4308,4309,4310,4311,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4330,4331,4332,4333,4334,4335,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4353,4354,4355,4356,4357,4358,4359,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4377,4378,4379,4380,4381,4382,4383,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4312,4313,4314,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:46,id:6,name:"HARBOR_TOP",opacity:1,type:"tilelayer",visible:!0,width:46,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,6059,0,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,0,6059,6059,0,0,6059,0,0,6059,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,6059,0,6059,6059,6059,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,0,0,0,0,0,6059,6059,0,0,0,0,0,6059,0,0,6059,6059,6059,6059,6059,6059,6059,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,6059,6059,6059,6059,0,0,6059,6059,6059,6059,6059,0,0,0,6059,0,0,0,0,0,0,6059,0,6059,6059,6059,6059,6059,6059,6059,0,0,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,6059,0,0,0,6059,0,0,0,0,0,0,6059,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,0,6059,0,6059,0,0,0,6059,0,0,0,0,0,0,6059,0,6059,6059,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,6059,0,0,0,0,0,0,6059,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,0,0,0,0,0,0,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,6059,6059,0,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6059,6059,6059,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:46,id:7,name:"COLLISIONS",opacity:1,type:"tilelayer",visible:!0,width:46,x:0,y:0}],U2=8,V2=1,Y2="orthogonal",X2="right-down",W2="1.4.3",H2=32,$2=[{columns:64,firstgid:1,image:"../../../art_source/tilesets/CL_MainLev.png",imageheight:1984,imagewidth:2048,margin:0,name:"CL_MainLev",objectalignment:"topleft",spacing:0,tilecount:3968,tileheight:32,tilewidth:32},{columns:24,firstgid:3969,image:"../../../art_source/tilesets/Harbor.png",imageheight:640,imagewidth:768,margin:0,name:"Harbor",objectalignment:"topleft",spacing:0,tilecount:480,tileheight:32,tilewidth:32},{columns:35,firstgid:4449,image:"../../../art_source/tilesets/CL_Buildings.png",imageheight:1472,imagewidth:1120,margin:0,name:"CL_Buildings",objectalignment:"topleft",spacing:0,tilecount:1610,tileheight:32,tilewidth:32},{columns:1,firstgid:6059,image:"../../../art_source/island/tiled/COLLISIONS.intgrid.png",imageheight:32,imagewidth:32,margin:0,name:"COLLISIONS",objectalignment:"topleft",spacing:0,tilecount:1,tileheight:32,tilewidth:32},{columns:1,firstgid:6060,image:"../../../art_source/island/tiled/OCEAN.intgrid.png",imageheight:32,imagewidth:32,margin:0,name:"OCEAN",objectalignment:"topleft",spacing:0,tilecount:1,tileheight:32,tilewidth:32}],K2=32,Z2="map",J2=1.4,j2=46;var Q2={backgroundcolor:B2,compressionlevel:b2,height:N2,infinite:G2,layers:z2,nextlayerid:U2,nextobjectid:V2,orientation:Y2,renderorder:X2,tiledversion:W2,tileheight:H2,tilesets:$2,tilewidth:K2,type:Z2,version:J2,width:j2};class k2 extends Phaser.Scene{preload(){this.load.image("buildingsTiles",v2),this.load.image("islandTiles",p2),this.load.image("harborTiles",g2),this.load.image("ship_med","/sprites/ship_med.png"),this.load.image("ship_small","/sprites/ship_small.png"),this.load.image("port","/sprites/port.png"),this.load.tilemapTiledJSON("hubMap",w2),this.load.tilemapTiledJSON("docksMap",Q2),this.load.spritesheet("male_1","/sprites/Male1.png",{frameWidth:32,frameHeight:48}),this.load.spritesheet("female_1","/sprites/Female1.png",{frameWidth:32,frameHeight:48}),this.load.spritesheet("builder","/sprites/builder.png",{frameWidth:32,frameHeight:48})}create(){}}class Or extends Phaser.GameObjects.Sprite{constructor(c,i,d){super(c,i,d,"male_1"),this.keys={},this.gender="male",this.spriteKey="A",this.speed=2.25,this.create(),c.cameras.main.startFollow(this,!1,.3),c.matter.add.gameObject(this,c.matter.bodies.rectangle(i,d,16,32,{inertia:1/0,mass:100,label:"Player"})),this.originY=.6,c.add.existing(this)}create(){this.keys=this.scene.input.keyboard.addKeys("W,A,S,D,E,space",!1),this.buildAllAnimations(this.scene),this.setScale(1.5),this.setDepth(3),this.keys.W.on("up",()=>this.anims.play(`${this.gender}_${this.spriteKey}_up_idle`)),this.keys.A.on("up",()=>this.anims.play(`${this.gender}_${this.spriteKey}_side_idle`)),this.keys.D.on("up",()=>this.anims.play(`${this.gender}_${this.spriteKey}_side_idle`)),this.keys.S.on("up",()=>this.anims.play(`${this.gender}_${this.spriteKey}_down_idle`)),this.anims.play(`${this.gender}_${this.spriteKey}_down_idle`),this.scene.time.addEvent({callback:()=>{Rx(),Lf()},delay:5*1e3,loop:!0})}update(c,i){const d=jt();ys().value||(this.keys.W.isDown?(this.setVelocityY(-this.speed),this.anims.play(`${this.gender}_${this.spriteKey}_up_walk`,!0)):this.keys.A.isDown?(this.setVelocityX(-this.speed),this.anims.play(`${this.gender}_${this.spriteKey}_side_walk`,!0),this.setFlipX(!1)):this.keys.S.isDown?(this.setVelocityY(this.speed),this.anims.play(`${this.gender}_${this.spriteKey}_down_walk`,!0)):this.keys.D.isDown&&(this.setVelocityX(this.speed),this.anims.play(`${this.gender}_${this.spriteKey}_side_walk`,!0),this.setFlipX(!0)),!this.keys.A.isDown&&!this.keys.D.isDown&&this.setVelocityX(0),!this.keys.W.isDown&&!this.keys.S.isDown&&this.setVelocityY(0),d.value.x=this.x,d.value.y=this.y)}buildAllAnimations(c){this.createHumanAnimation(c,"male","A",0),this.createHumanAnimation(c,"male","B",24),this.createHumanAnimation(c,"male","C",48),this.createHumanAnimation(c,"male","D",72),this.createHumanAnimation(c,"female","A",0),this.createHumanAnimation(c,"female","B",24),this.createHumanAnimation(c,"female","C",48),this.createHumanAnimation(c,"female","D",72)}createHumanAnimation(c,i,d,t){let e=t;c.anims.create({key:`${i}_${d}_side_idle`,frames:this.anims.generateFrameNumbers(`${i}_1`,{start:e,end:e+3}),repeat:-1,frameRate:10}),e+=4,c.anims.create({key:`${i}_${d}_side_walk`,frames:this.anims.generateFrameNumbers(`${i}_1`,{start:e,end:e+3}),repeat:-1,frameRate:10}),e+=4,c.anims.create({key:`${i}_${d}_down_idle`,frames:this.anims.generateFrameNumbers(`${i}_1`,{start:e,end:e+3}),repeat:-1,frameRate:10}),e+=4,c.anims.create({key:`${i}_${d}_down_walk`,frames:this.anims.generateFrameNumbers(`${i}_1`,{start:e,end:e+3}),repeat:-1,frameRate:10}),e+=4,c.anims.create({key:`${i}_${d}_up_idle`,frames:this.anims.generateFrameNumbers(`${i}_1`,{start:e,end:e+3}),repeat:-1,frameRate:10}),e+=4,c.anims.create({key:`${i}_${d}_up_walk`,frames:this.anims.generateFrameNumbers(`${i}_1`,{start:e,end:e+3}),repeat:-1,frameRate:10})}}class Yd extends Phaser.GameObjects.Sprite{constructor({scene:c,x:i,y:d,sprite:t,spriteKey:e,gender:l}){var s=(...r)=>{super(...r),this.keys={},this.speed=1.5,this.shopItems=[],this.isNearPlayer=!1,this.allowRoam=!0,this.velocity={x:0,y:0}};if(t&&e&&l)s(c,i,d,t),this.spriteKey=e,this.gender=l;else{const{gender:r,spriteKey:a}=Ix();s(c,i,d,`${r}_1`),this.gender=r,this.spriteKey=a}this.create(),c.matter.add.gameObject(this,c.matter.bodies.rectangle(i,d,16,32,{inertia:1/0,mass:100,label:"npc"})),this.originY=.6,c.add.existing(this)}create(){this.keys=this.scene.input.keyboard.addKeys("W,A,S,D,E,space",!1),this.setScale(1.5),this.setDepth(3),this.generateShop(),this.anims.play(`${this.gender}_${this.spriteKey}_down_idle`),this.randomWalk(),this.interactBody=this.scene.matter.add.circle(this.x,this.y,50,{isSensor:!0,label:"npc"}),this.interactBody.onCollideCallback=c=>{const i=Ft("hint");(c.bodyA.label==="Player"||c.bodyB.label==="Player")&&(this.isNearPlayer=!0,i.value="Press T to talk")},this.interactBody.onCollideEndCallback=c=>{const i=Ft("hint");(c.bodyA.label==="Player"||c.bodyB.label==="Player")&&(this.isNearPlayer=!1,i.value=null)},this.scene.input.keyboard.on("keydown-T",()=>{const c=Ft("hint");!this.isNearPlayer||(c.value=null,this.facePlayer(),this.updateShopPrices(),Bx(this))})}randomWalk(){if(Of().value.isShowing)return;const i=Math.random()>.5?"x":"y";this.velocity[i]=Math.random()>.5?this.speed:-this.speed;const d=Math.floor(Math.random()*(2e3-1e3+1)+1e3),t=d+Math.floor(Math.random()*(2500-2e3+1)+2e3),e=t+Math.floor(Math.random()*(5e3-2e3+1)+2e3);this.scene.time.addEvent({delay:d,callback:()=>{const l=Math.sign(this.velocity[i]);this.velocity[i]=0,i==="x"?this.anims.play(`${this.gender}_${this.spriteKey}_side_idle`):l===-1?this.anims.play(`${this.gender}_${this.spriteKey}_up_idle`):this.anims.play(`${this.gender}_${this.spriteKey}_down_idle`)}}),this.scene.time.addEvent({delay:t,callback:()=>{this.isNearPlayer||this.anims.play(Vt([`${this.gender}_${this.spriteKey}_side_idle`,`${this.gender}_${this.spriteKey}_up_idle`,`${this.gender}_${this.spriteKey}_down_idle`]))}}),this.scene.time.addEvent({delay:e,callback:()=>{this.randomWalk()}})}facePlayer(){const c=jt().value,d=Math.atan2(c.y-this.y,c.x-this.x)*(180/Math.PI);d<-115?(this.anims.play(`${this.gender}_${this.spriteKey}_side_idle`,!0),this.setFlipX(!1)):d<5?this.anims.play(`${this.gender}_${this.spriteKey}_up_idle`,!0):d<95?(this.anims.play(`${this.gender}_${this.spriteKey}_side_idle`,!0),this.setFlipX(!0)):d<180&&this.anims.play(`${this.gender}_${this.spriteKey}_down_idle`,!0)}update(c,i){if(!(!this||!this.interactBody)){if(this.interactBody.position.x=this.x,this.interactBody.position.y=this.y,this.isNearPlayer){if(this.setVelocityX(0),this.setVelocityY(0),this.velocity.x===0&&this.velocity.y===0)return;const d=this.velocity.x>0?"x":"y",t=Math.sign(this.velocity[d]);d==="x"?this.anims.play(`${this.gender}_${this.spriteKey}_side_idle`):t===-1?this.anims.play(`${this.gender}_${this.spriteKey}_up_idle`):this.anims.play(`${this.gender}_${this.spriteKey}_down_idle`);return}this.setVelocityY(this.velocity.y),this.setVelocityX(this.velocity.x),this.velocity.y<0?this.anims.play(`${this.gender}_${this.spriteKey}_up_walk`,!0):this.velocity.x<0?(this.anims.play(`${this.gender}_${this.spriteKey}_side_walk`,!0),this.setFlipX(!1)):this.velocity.y>0?this.anims.play(`${this.gender}_${this.spriteKey}_down_walk`,!0):this.velocity.x>0&&(this.anims.play(`${this.gender}_${this.spriteKey}_side_walk`,!0),this.setFlipX(!0))}}generateShop(){const c=Ht(),i=c.value.prices.map(t=>t.name),d={};i.forEach(t=>{d[t]=rt(10,100)}),this.shopItems=Object.entries(d).map(([t,e])=>{const l=c.value.prices.find(s=>s.name===t).price;return{name:t,price:l,stock:e,description:lt.spiceDescriptions[t]}})}updateShopPrices(){this.shopItems.forEach(c=>{const i=Ht().value.prices.find(d=>d.name===c.name).price;c.price=i+rt(10,20)})}}class Xd extends Phaser.GameObjects.Rectangle{constructor({scene:c,x:i,y:d,width:t,height:e,to:l}){super(c,i,d,t,e,16777215,0),this.scene.add.existing(this),this.scene.matter.add.gameObject(this,c.matter.bodies.rectangle(i,d,t,e,{isSensor:!0}));const s=this.body;s.onCollideCallback=r=>{r.bodyA.label==="Player"&&(c.pause&&c.pause(),this.scene.scene.switch(l))}}}class q2 extends Phaser.GameObjects.Rectangle{constructor(c){super(c,810,439,50,16,16777215,0),this.isNearPlayer=!1,this.scene.add.existing(this),this.scene.matter.add.gameObject(this,{isSensor:!0});const i=Ft("hint"),d=this.body;d.onCollideCallback=t=>{(t.bodyA.label==="Player"||t.bodyB.label==="Player")&&(this.isNearPlayer=!0,i.value="Press T to sleep until tomorrow")},d.onCollideEndCallback=t=>{(t.bodyA.label==="Player"||t.bodyB.label==="Player")&&(this.isNearPlayer=!1,i.value=null)},this.scene.input.keyboard.on("keydown-T",()=>{!this.isNearPlayer||(i.value=null,this.scene.scene.start("NextDay"))})}}class _2 extends Phaser.Scene{constructor(){super(...arguments),this.npcs=[]}create(){this.buildLayers(),this.cameras.main.roundPixels=!0,this.cameras.main.setBounds(0,0,2464,864),this.matter.world.setBounds(0,0,2464,864),new q2(this),this.spawnNpcs(),jt().value.isTutorial?(this.startTutorial(),this.player=new Or(this,1071,82)):this.player=new Or(this,803,439),new Xd({scene:this,x:34*32,y:0,width:7*32,height:2*32,to:"Docks"})}async startTutorial(){const c=jt(),i=ys(),d=jo();i.value=!0,await ne(lt.tutorialName,[`Welcome to your island's hub! 
            This is where you can trade with 
            merchants and rest after a spicy day's work.`,"This is also where we have built your home. When you have finished everything for the day, you can take a rest at home until tomorrow.",`Before I send you off to explore, let's go over the
            ever-competitive global spice economy that ${lt.country}
            needs ${lt.island}'s help to dominate.
            `]),d.value.moneyBox={isShowing:!0,isPulsing:!0},await ne(lt.tutorialName,[`In the top left, is the balance in ${lt.island}'s official colony bank account.
            As the generous minister I am, I've given you $${c.value.money.toLocaleString()} to start off.`]),d.value.inventoryBox={isShowing:!0,isPulsing:!0},await ne(lt.tutorialName,[`Right under your account balance, is your island's spice rack.
            This displays how much of each spice you have available to sell.`,`Right now, you have 2 peppers, provided complimentary by the spiciest minister alive.
            You have two sources to increase the spices in your rack: by importing from foreign trade ships, 
            or trading with merchants on the island.`,`As the days go by, ${lt.country}'s top economists will find you more spices, 
            increasing the diversity of your sales and creating more revenue sources.`]),d.value.newsOpenBox={isShowing:!0,isPulsing:!0},await ne(lt.tutorialName,["You see that? In the top right? That's your goto source for updates on the state of the island and the world!","Keep an eye on your newspaper, as spice prices tend to change based on the state of the world."]),d.value.marketPriceBox={isShowing:!0,isPulsing:!0},await ne(lt.tutorialName,[`Lastly but most importantly, are your market prices. 
            These show the current prices of individual spices in the market.`,`As more spices are discovered, they'll add to the market. 
            You'll buy and sell all your spices at their market price, 
            so rule of thumb: buy low & sell high.`,"We have just begun the process of transforming this island into a globally dominant trade center!",`Your MISSION: Build FOUR more ports & make $1,000,000 to cement ${lt.country}'s stance as a economic powerhouse!`,`We're rooting for you and ${lt.island}.
            Make your nation proud!`]);const t=Ht();t.value.isEnabled=!0,i.value=!1,c.value.isTutorial=!1}spawnNpcs(){const c=jt().value.ports,i=[{x:1151,y:270},{x:1251,y:370},{x:1526,y:555}],t=c.filter(e=>e.direction==="import").length*2/2;for(let e=0;e<t;e++){const l=i[e];this.npcs.push(new Yd({scene:this,x:l.x,y:l.y}))}}buildLayers(){const c=this.make.tilemap({key:"hubMap"}),i=c.addTilesetImage("CL_Buildings","buildingsTiles",void 0,void 0),d=c.addTilesetImage("CL_MainLev","islandTiles",void 0,void 0);c.createLayer("OCEAN",d,0,0),c.createLayer("ISLAND_1",d,0,0),c.createLayer("ISLAND_TOP",d,0,0).setDepth(5),c.createLayer("ISLAND_BUILDINGS_1",i,0,0),c.createLayer("ISLAND_BUILDINGS_TOP",i,0,0).setDepth(5);const t=c.createLayer("COLLISIONS",null,0,0);t.setCollisionByExclusion([-1]),this.matter.world.convertTilemapLayer(t)}update(c,i){this.player.update(c,i),this.npcs.forEach(d=>{d.update(c,i)})}}class t8 extends Phaser.GameObjects.Sprite{constructor({type:c,scene:i,x:d,y:t}){super(i,d,t,`ship_${c}`),this.ready=!0,this.scene.add.existing(this),this.setDepth(5)}sail(c){this.ready=!1,this.scene.tweens.add({targets:this,x:c==="export"?-500:2e3,duration:1e4,ease:"Sine.easeInQuad"})}}class W0 extends Phaser.GameObjects.Sprite{constructor({x:c,y:i,direction:d,scene:t,ship:e,index:l}){super(t,c,i,"port"),this.isNearPlayer=!1;const s=Ft("hint");this.scene.matter.add.gameObject(this,{isSensor:!0,label:"port"}),this.x=this.width/2+c,this.y=this.height/2+i,d==="export"&&this.setFlipX(!0),this.scene.add.existing(this);const r=this.body;r.onCollideCallback=a=>{if(a.bodyA.label!="Player"&&a.bodyA.label!="port"&&a.bodyA.label!="npc")this.scene.matter.world.remove(a.bodyA);else if(a.bodyA.label==="Player"){if(this.isNearPlayer=!0,!this.shipObject)return;this.shipObject.ready?s.value=`Press T to ${d==="import"?"buy":"sell"} spices`:s.value="This ship has sailed! It will be back tomorrow."}},r.onCollideEndCallback=a=>{(a.bodyA.label==="Player"||a.bodyB.label==="Player")&&(this.isNearPlayer=!1,s.value=null)},this.scene.input.keyboard.on("keydown-T",()=>{const a=jt(),o=Ft("hint");if(Ht(),!!this.isNearPlayer&&(o.value=null,!!this.shipObject.ready))if(e.direction==="import"){if(a.value.isTutorial){ne("The Trader's Union",["Hey! I'm sorry, but this ship is closed right now.","I mean literally closed... the captain accidently dropped the key somewhere in our pepper pile.","So until we find it, we can't leave the ship to trade.","It probably won't take long... I hope."]);return}If({title:`Ship Of ${e.name}`,items:e.shopItems},(n,u)=>{const h=n.price*u;if(h<=a.value.money){a.value.money-=h,a.value.inventory[n.name]||(a.value.inventory[n.name]=0),a.value.inventory[n.name]+=u;const f=e.shopItems.findIndex(v=>v.name===n.name);return e.shopItems[f].stock-=u,"Thanks for that."}else return"Aw shucks, you're broke bozo!"})}else{if(a.value.isTutorial){ne(e.name,["We will be ready for you when you want to sell spices!"]);return}zx(this,e)}}),d==="import"?(this.scene.matter.add.rectangle(this.x+55,this.y-38,this.width,6,{isStatic:!0}),this.scene.matter.add.rectangle(this.x-this.width/2+50/2,this.y-50,40,10,{angle:23,isStatic:!0}),this.scene.matter.add.rectangle(this.x-this.width/2+30/2,this.y+20,40,10,{angle:23,isStatic:!0}),this.scene.matter.add.rectangle(this.x,this.y+this.height-64,this.width,16,{isStatic:!0}),this.scene.matter.add.rectangle(this.x+this.width/1.9,this.y,16,this.height,{isStatic:!0})):(this.scene.matter.add.rectangle(this.x-50,this.y-38,this.width,6,{isStatic:!0}),this.scene.matter.add.rectangle(this.x+this.width/2-50/2,this.y-50,40,10,{angle:-23,isStatic:!0}),this.scene.matter.add.rectangle(this.x+this.width/2-30/2,this.y+20,40,10,{angle:-23,isStatic:!0}),this.scene.matter.add.rectangle(this.x,this.y+this.height-64,this.width,16,{isStatic:!0}),this.scene.matter.add.rectangle(this.x-this.width/1.9,this.y,16,this.height,{isStatic:!0})),e&&(this.shipObject=new t8({scene:this.scene,x:d==="export"?this.x+-30:this.x+30,y:this.y-10,...e}),this.shipObject.setDepth(5-l),e.ready||this.shipObject.sail(d))}}class e8 extends Phaser.GameObjects.Sprite{constructor(c){super(c,497,1255,"builder"),this.isNearPlayer=!1,this.create(),c.matter.add.gameObject(this,c.matter.bodies.circle(this.x,this.y,30,{isSensor:!0})),this.scene.add.existing(this)}create(){this.scene.anims.create({key:"builder_idle",frames:this.anims.generateFrameNumbers("builder",{start:0,end:3}),repeat:-1,frameRate:10}),this.anims.play("builder_idle"),this.setScale(1.5),this.setDepth(1),this.interactBody=this.scene.matter.add.circle(this.x,this.y+20,50,{isSensor:!0,label:"builder"}),this.interactBody.onCollideCallback=c=>{const i=Ft("hint");(c.bodyA.label==="Player"||c.bodyB.label==="Player")&&(this.isNearPlayer=!0,i.value="Press T to upgrade your ports")},this.interactBody.onCollideEndCallback=c=>{const i=Ft("hint");(c.bodyA.label==="Player"||c.bodyB.label==="Player")&&(this.isNearPlayer=!1,i.value=null)},this.scene.input.keyboard.on("keydown-T",()=>{const c=Ft("hint"),i=Nx();!this.isNearPlayer||(c.value=null,i.value.isShowing=!0)})}}class i8 extends Phaser.Scene{constructor(){super(...arguments),this.npcs=[]}pause(){tn.waves.stop()}create(){tn.waves.play(),tn.waves.fade(0,.2,1e3),this.buildLayers(),this.cameras.main.roundPixels=!0,this.cameras.main.setBounds(0,0,1472,1456),this.matter.world.setBounds(0,0,1472,1456),jt().value.isTutorial?(this.player=new Or(this,709,48),this.startTutorial()):this.player=new Or(this,22.5*32,43*32),this.player.speed=1.5;const i=jt();this.spawnNpcs();const d=i.value.ports.filter(e=>e.direction==="import"),t=i.value.ports.filter(e=>e.direction==="export");d.forEach((e,l)=>{new W0({scene:this,x:800,y:500-200*l,direction:"import",ship:e.ship,index:l})}),t.forEach((e,l)=>{new W0({scene:this,x:256,y:500-200*l,direction:"export",ship:e.ship,index:l})}),new Xd({scene:this,to:"Hub",x:23*32,y:45*32,width:9*32,height:32})}spawnNpcs(){const c=jt().value.ports,i=[{x:709,y:1e3},{x:1088,y:960},{x:192,y:768}],t=c.filter(e=>e.direction==="import").length*2/2;for(let e=0;e<t;e++){const l=i[e];this.npcs.push(new Yd({scene:this,x:l.x,y:l.y}))}new e8(this)}buildLayers(){const c=this.make.tilemap({key:"docksMap"}),i=c.addTilesetImage("Harbor","harborTiles",void 0,void 0),d=c.addTilesetImage("CL_MainLev","islandTiles",void 0,void 0);c.createLayer("OCEAN",d,0,0),c.createLayer("ISLAND",d,0,0),c.createLayer("HARBOR_TOP",i,0,0).setDepth(6),c.createLayer("HARBOR_STAIRS",i,0,0).setDepth(2),c.createLayer("HARBOR",i,0,0);const t=c.createLayer("COLLISIONS",null,0,0);t.setCollisionByExclusion([-1]),this.matter.world.convertTilemapLayer(t)}update(c,i){this.player.update(c,i),this.npcs.forEach(d=>{d.update(c,i)})}async startTutorial(){const c=ys(),i=Ht(),d=jo();for(const t in d.value)d.value[t].isShowing=!1;for(i.value.isEnabled=!1,c.value=!0,await ne(lt.tutorialName,["Welcome to Isla Chipotle! This island is located in the center of the spice trade, and you will turn it into a prosperous trading hub!","You can use the W,A,S,D keys to move around."]),c.value=!1;this.player.y<400;)await Ta(100);for(c.value=!0,await ne(lt.tutorialName,["How does one turn an island into a trading hub?","It's simple! Buy and sell spices to make money!","For example, to buy spices you can talk with traders roaming around the island.","You can also check out ports on the RIGHT which will sell spices in BULK quantities.","When the time is right, you can use ports on the LEFT to sell spices!","We have provided two ports for you to use, but you are free to upgrade your docks to add more ports!"]),c.value=!1;this.player.y<900||this.player.x>778||this.player.x<628;)await Ta(100);for(c.value=!0,await ne(lt.tutorialName,[`We anticipate that Isla Chipotle will be a popular destination for spice traders, 
            as it's dead center in the ${lt.ocean}.`,"You can talk to other traders to hear the latest news and conduct business!","As you expand and build your port, more people will stop by to trade with you!"]),c.value=!1;this.player.y<1091;)await Ta(100);c.value=!0,await ne(lt.tutorialName,["To your left, you can find our trusty construction company!","If you ever want to expand your operation, you can purchase a new dock here.","If you continue walking, you will reach this island's hub!","This is an area where traders mingle. We have also built a house there for you to live in!","Ships arrive daily, so if you finish everything you can, take a rest and come back tomorrow!","Let's checkout the hub now!"]),this.scene.switch("Hub",!0)}}class n8 extends Phaser.Scene{create(){const c=jt();c.value.days+=1,tn.bg.fade(.1,0,4e3),Dx(),this.scene.stop("Hub"),this.scene.stop("Docks"),this.add.rectangle(0,0,1e4,1e4,0);const i=this.add.text(400,300,"The Next Day...",{fontSize:"64",color:"#ffffff"});this.tweens.add({targets:i,duration:5e3,alpha:0}),[this.scene.get("Hub").scene,this.scene.get("Docks").scene].forEach(t=>{t.scene.npcs=[],t.scene.player=null,t.stop()}),this.time.delayedCall(5e3,()=>{tn.bg.seek(0),tn.bg.fade(0,.1,2e3),Lx(),Lf(),this.scene.start("Hub")})}}class s8 extends Phaser.Scene{create(){const c=jt();this.scene.stop("Hub"),this.scene.stop("Docks"),this.time.delayedCall(100,()=>{c.value.isTutorial?this.scene.start("Docks",!0):this.scene.start("Hub")})}}const r8=()=>Ft("game",()=>null),a8=()=>{const p=r8();p.value=new _s.Game({type:_s.CANVAS,pixelArt:!0,width:640,height:360,backgroundColor:"#0F6463",scale:{mode:_s.Scale.ENVELOP,autoCenter:_s.Scale.CENTER_BOTH},physics:{default:"matter",matter:{gravity:{y:0},autoUpdate:!0,enableSleeping:!1}},canvas:document.querySelector("#canvas")}),p.value.scene.add("Boot",k2),p.value.scene.add("Hub",_2),p.value.scene.add("Docks",i8),p.value.scene.add("NextDay",n8),p.value.scene.add("Start",s8),p.value.scene.start("Boot")};const tr=void 0;var dS=xs("/__NUXT_BASE__/ocean.2249cc40.png".replace("/__NUXT_BASE__",""));const er=void 0;var o8=[{name:"game",path:"/game",file:"D:/Projects/spice-race/pages/game.vue",children:[],meta:tr,alias:(tr==null?void 0:tr.alias)||[],component:()=>Lh(()=>import("./game-a83f71e5.mjs"),[])},{name:"index",path:"/",file:"D:/Projects/spice-race/pages/index.vue",children:[],meta:er,alias:(er==null?void 0:er.alias)||[],component:()=>Lh(()=>import("./index-4c6c7354.mjs"),[])}];const l8={};var h8={...l8};const u8=[],Ba={};function f8(p,c){const{pathname:i,search:d,hash:t}=c,e=p.indexOf("#");if(e>-1){const s=t.includes(p.slice(e))?p.slice(e).length:1;let r=t.slice(s);return r[0]!=="/"&&(r="/"+r),ql(r,"")}return ql(i,p)+d+t}var d8=Zr(async p=>{p.vueApp.component("NuxtPage",ya),p.vueApp.component("NuxtNestedPage",ya),p.vueApp.component("NuxtChild",ya);const c=uf().app.baseURL,i=$g(c),d=f8(c,window.location),t=Lm({...h8,history:i,routes:o8});p.vueApp.use(t);const e=Ya(t.currentRoute.value);t.afterEach((n,u)=>{e.value=u}),Object.defineProperty(p.vueApp.config.globalProperties,"previousRoute",{get:()=>e.value});const l={};for(const n in t.currentRoute.value)l[n]=Kt(()=>t.currentRoute.value[n]);const s=Ya(t.resolve(d)),r=()=>{s.value=t.currentRoute.value};p.hook("page:finish",r),t.afterEach((n,u)=>{var h,f,v,m;((f=(h=n.matched[0])==null?void 0:h.components)==null?void 0:f.default)===((m=(v=u.matched[0])==null?void 0:v.components)==null?void 0:m.default)&&r()});const a={};for(const n in s.value)a[n]=Kt(()=>s.value[n]);p._route=Ne(l),p._activeRoute=Ne(a),p._middleware=p._middleware||{global:[],named:{}};const o=as();try{await t.isReady()}catch(n){Fi(p,sr,[n])}return t.beforeEach(async(n,u)=>{var f;n.meta=Ne(n.meta),p._processingMiddleware=!0;const h=new Set([...u8,...p._middleware.global]);for(const v of n.matched){const m=v.meta.middleware;if(!!m)if(Array.isArray(m))for(const g of m)h.add(g);else h.add(m)}for(const v of h){const m=typeof v=="string"?p._middleware.named[v]||await((f=Ba[v])==null?void 0:f.call(Ba).then(x=>x.default||x)):v;if(!m)throw new Error(`Unknown route middleware: '${v}'.`);const g=await Fi(p,m,[n,u]);if(g||g===!1)return g}}),t.afterEach(async n=>{delete p._processingMiddleware,!p.isHydrating&&o.value&&await Fi(p,Fm),n.matched.length===0&&Fi(p,sr,[Im({statusCode:404,statusMessage:`Page not found: ${n.fullPath}`})])}),p.hooks.hookOnce("app:created",async()=>{try{await t.replace({...t.resolve(d),name:void 0,force:!0})}catch(n){Fi(p,sr,[n])}}),{provide:{router:t}}});const{Chart:c8,registerables:v8}=c2;var p8=Zr(()=>{c8.register(...v8)}),g8=[Gm,qm,fx,d8,p8];const m8={__name:"error-404",props:{appName:{type:String,default:"Nuxt"},version:{type:String,default:""},statusCode:{type:String,default:"404"},statusMessage:{type:String,default:"Not Found"},description:{type:String,default:"Sorry, the page you are looking for could not be found."},backHome:{type:String,default:"Go back home"}},setup(p,{expose:c}){c();const i=p;je({title:`${i.statusCode} - ${i.statusMessage} | ${i.appName}`,script:[],style:[{children:'*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(14, 165, 233, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}a{color:inherit;text-decoration:inherit}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,p{margin:0}h1{font-size:inherit;font-weight:inherit}'}]});const d={props:i,useHead:je};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},x8=p=>(bo("data-v-011aae6d"),p=p(),No(),p),y8={class:"font-sans antialiased bg-white dark:bg-black text-black dark:text-white grid min-h-screen place-content-center overflow-hidden"},T8=x8(()=>Zt("div",{class:"fixed left-0 right-0 spotlight z-10"},null,-1)),S8={class:"max-w-520px text-center z-20"},E8=["textContent"],C8=["textContent"],A8={class:"w-full flex items-center justify-center"};function P8(p,c,i,d,t,e){const l=Nm;return Ge(),Hr("div",y8,[T8,Zt("div",S8,[Zt("h1",{class:"text-8xl sm:text-10xl font-medium mb-8",textContent:Di(i.statusCode)},null,8,E8),Zt("p",{class:"text-xl px-8 sm:px-0 sm:text-4xl font-light mb-16 leading-tight",textContent:Di(i.description)},null,8,C8),Zt("div",A8,[Xt(l,{to:"/",class:"gradient-border text-md sm:text-xl py-2 px-4 sm:py-3 sm:px-6 cursor-pointer"},{default:Go(()=>[Wo(Di(i.backHome),1)]),_:1})])])])}var H0=vn(m8,[["render",P8],["__scopeId","data-v-011aae6d"]]);const M8={__name:"error-500",props:{appName:{type:String,default:"Nuxt"},version:{type:String,default:""},statusCode:{type:String,default:"500"},statusMessage:{type:String,default:"Server error"},description:{type:String,default:"This page is temporarily unavailable."}},setup(p,{expose:c}){c();const i=p;je({title:`${i.statusCode} - ${i.statusMessage} | ${i.appName}`,script:[],style:[{children:'*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(14, 165, 233, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,p{margin:0}h1{font-size:inherit;font-weight:inherit}'}]});const d={props:i,useHead:je};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},R8=p=>(bo("data-v-6aee6495"),p=p(),No(),p),L8={class:"font-sans antialiased bg-white dark:bg-black text-black dark:text-white grid min-h-screen place-content-center overflow-hidden"},O8=R8(()=>Zt("div",{class:"fixed -bottom-1/2 left-0 right-0 h-1/2 spotlight"},null,-1)),F8={class:"max-w-520px text-center"},I8=["textContent"],D8=["textContent"];function w8(p,c,i,d,t,e){return Ge(),Hr("div",L8,[O8,Zt("div",F8,[Zt("h1",{class:"text-8xl sm:text-10xl font-medium mb-8",textContent:Di(i.statusCode)},null,8,I8),Zt("p",{class:"text-xl px-8 sm:px-0 sm:text-4xl font-light mb-16 leading-tight",textContent:Di(i.description)},null,8,D8)])])}var $0=vn(M8,[["render",w8],["__scopeId","data-v-6aee6495"]]);const B8={__name:"error-dev",props:{appName:{type:String,default:"Nuxt"},version:{type:String,default:""},statusCode:{type:String,default:"500"},statusMessage:{type:String,default:"Server error"},description:{type:String,default:"An error occurred in the application and the page could not be served. If you are the application owner, check your server logs for details."},stack:{type:String,default:""}},setup(p,{expose:c}){c();const i=p;je({title:`${i.statusCode} - ${i.statusMessage} | ${i.appName}`,script:[],style:[{children:'*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(14, 165, 233, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,p,pre{margin:0}h1{font-size:inherit;font-weight:inherit}pre{font-size:1em;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}'}]});const d={props:i,useHead:je};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},b8=p=>(bo("data-v-693cabb2"),p=p(),No(),p),N8={class:"font-sans antialiased bg-white px-10 pt-14 dark:bg-black text-black dark:text-white min-h-screen flex flex-col"},G8=b8(()=>Zt("div",{class:"fixed left-0 right-0 spotlight"},null,-1)),z8=["textContent"],U8=["textContent"],V8={class:"bg-white rounded-t-md bg-black/5 dark:bg-white/10 flex-1 overflow-y-auto h-auto"},Y8=["innerHTML"];function X8(p,c,i,d,t,e){return Ge(),Hr("div",N8,[G8,Zt("h1",{class:"text-6xl sm:text-8xl font-medium mb-6",textContent:Di(i.statusCode)},null,8,z8),Zt("p",{class:"text-xl sm:text-2xl font-light mb-8 leading-tight",textContent:Di(i.description)},null,8,U8),Zt("div",V8,[Zt("pre",{class:"text-xl font-light leading-tight z-10 p-8",innerHTML:i.stack},null,8,Y8)])])}var W8=vn(B8,[["render",X8],["__scopeId","data-v-693cabb2"]]);const H8={__name:"nuxt-error-page",props:{error:Object},setup(p,{expose:c}){var u;c();const i=p,d=i.error,t=(d.stack||"").split(`
`).splice(1).map(h=>({text:h.replace("webpack:/","").replace(".vue",".js").trim(),internal:h.includes("node_modules")&&!h.includes(".cache")||h.includes("internal")||h.includes("new Promise")})).map(h=>`<span class="stack${h.internal?" internal":""}">${h.text}</span>`).join(`
`),e=String(d.statusCode||500),l=e==="404",s=(u=d.statusMessage)!=null?u:l?"Page Not Found":"Internal Server Error",r=d.message||d.toString(),n={props:i,error:d,stacktrace:t,statusCode:e,is404:l,statusMessage:s,description:r,stack:void 0,ErrorTemplate:l?H0:$0,Error404:H0,Error500:$0,ErrorDev:W8};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}};function $8(p,c,i,d,t,e){return Ge(),Yn(d.ErrorTemplate,Jd(Ku({statusCode:d.statusCode,statusMessage:d.statusMessage,description:d.description,stack:d.stack})),null,16)}var K8=vn(H8,[["render",$8]]);const Z8={__name:"nuxt-root",setup(p,{expose:c}){c();const i=Ce(),d=()=>i.callHook("app:suspense:resolve"),t=i.hooks.callHookWith(s=>s.map(r=>r()),"vue:setup"),e=as();$a((s,r,a)=>{i.hooks.callHook("vue:error",s,r,a).catch(o=>console.error("[nuxt] Error in `vue:error` hook",o))});const l={nuxtApp:i,onResolve:d,results:t,error:e,onErrorCaptured:$a,callWithNuxt:Fi,throwError:sr,useError:as,useNuxtApp:Ce,ErrorComponent:K8};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}};function J8(p,c,i,d,t,e){const l=Yo("App");return Ge(),Yn(Cu,{onResolve:d.onResolve},{default:Go(()=>[d.error?(Ge(),Yn(d.ErrorComponent,{key:0,error:d.error},null,8,["error"])):(Ge(),Yn(l,{key:1}))]),_:1})}var K0=vn(Z8,[["render",J8]]);const j8={__name:"app",setup(p,{expose:c}){c(),Xr(()=>{a8()});try{window.localStorage.length}catch{alert("Hi, please open this page in a NEW tab or window. This game requires the use of localStorage to function. Unfortunately, embedded windows do not support localStorage.")}const i={};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},Q8=Zt("canvas",{id:"canvas"},null,-1);function k8(p,c,i,d,t,e){const l=Yo("NuxtPage");return Ge(),Hr(oe,null,[Xt(l),Q8],64)}var q8=vn(j8,[["render",k8]]);globalThis.$fetch||(globalThis.$fetch=ng.create({baseURL:rg()}));let Z0;const _8=Pg(g8);Z0=async function(){var t;const i=Boolean((t=window.__NUXT__)==null?void 0:t.serverRendered)?pp(K0):vp(K0);i.component("App",q8);const d=Eg({vueApp:i});d.hooks.hookOnce("app:suspense:resolve",()=>{d.isHydrating=!1});try{await Ag(d,_8)}catch(e){await d.callHook("app:error",e),d.payload.error=d.payload.error||e}try{await d.hooks.callHook("app:created",i),await d.hooks.callHook("app:beforeMount",i),i.mount("#__nuxt"),await d.hooks.callHook("app:mounted",i),await Bo()}catch(e){await d.callHook("app:error",e),d.payload.error=d.payload.error||e}},Z0().catch(p=>{console.error("Error while mounting app:",p)});export{lS as A,yx as B,lt as C,Wo as D,Nx as E,oe as F,Gx as G,nS as H,ne as I,jr as J,hS as K,Bo as L,fl as M,rS as N,jo as O,Ir as P,oS as Q,r8 as R,Af as S,Go as T,$o as U,dS as V,fS as W,aS as X,uS as Y,vn as _,ys as a,jt as b,tn as c,ue as d,Ta as e,Kt as f,Ge as g,Hr as h,Zt as i,iS as j,eS as k,No as l,Ft as m,Fr as n,Xr as o,bo as p,Ht as q,Va as r,wx as s,Di as t,Of as u,Un as v,Ml as w,Xt as x,tS as y,sS as z};
